import{$ as bw,$a as xe,$b as Pw,A as vc,Aa as Di,Ab as Dw,Ac as qw,B as Ai,Ba as Do,Bb as X,Bc as Gw,C as Zr,Ca as lh,Cb as Y,Cc as Jr,D as Ii,Da as ch,Db as Qe,Dc as es,E as rg,Ea as ot,Eb as Fe,Ec as Kw,F as Vt,Fa as xw,Fb as Rw,Fc as Yw,G as mw,Ga as lg,Gb as Et,Gc as Qw,H as To,Ha as uh,Hb as Pe,Hc as kc,I as mr,Ia as Yt,Ib as ke,Ic as zs,J as Eo,Ja as pr,Jb as Me,Jc as Fo,K as ln,Ka as wc,Kb as Lw,Kc as yr,L as sg,La as Sw,Lb as Ow,Lc as Zw,M as fw,Ma as kw,Mb as jt,Mc as Xw,N as ag,Na as $,Nb as B,Nc as Jw,O as pw,Oa as Mn,Ob as He,Oc as ex,P as gw,Pa as Mw,Pb as je,Pc as Hs,Q as Ps,Qa as Ri,Qb as Lo,Qc as tx,R as Ao,Ra as Rt,Rb as Us,Rc as ix,S as Bt,Sa as Ae,Sb as $s,Sc as nx,T as Mt,Ta as dh,Tb as Vs,U as Ye,Ua as ui,Ub as Nw,Uc as rx,V as _w,Va as Tw,Vb as rt,W as kt,Wa as cg,Wb as dg,X as Be,Xa as Ew,Xb as Oo,Y as Ci,Ya as hh,Yb as Fw,Z as ee,Za as le,Zb as En,_ as de,_a as he,_b as Kn,a as St,aa as J,ab as mh,ac as Ma,b as cw,ba as og,bb as Tt,bc as hg,c as dr,ca as Re,cb as oe,cc as Uw,d as tg,da as R,db as Aw,dc as $w,e as ig,ea as Io,eb as fh,ec as Ge,f as ue,fa as yc,fb as ug,fc as _e,g as ci,ga as Sa,gb as Iw,gc as Ft,h as ah,ha as cn,hb as Gn,hc as Yn,i as on,ia as fr,ib as Se,ic as br,j as si,ja as mt,jb as j,jc as gh,k as ge,ka as re,kb as Jt,kc as _h,l as qn,la as se,lb as ye,lc as Vw,m as Ns,ma as Ht,mb as ft,mc as Ze,n as uw,na as Xr,nb as ph,nc as mg,o as dw,oa as Dt,ob as Je,oc as Bw,p as Ne,pa as vw,pb as xc,pc as Sc,q as hr,qa as ut,qb as gr,qc as zw,r as yi,ra as un,rb as _r,rc as Hw,s as ng,sa as yw,sb as P,sc as Bs,t as xa,ta as Cw,tb as U,tc as jw,u as Fs,ua as ce,ub as te,uc as An,v as Mo,va as De,vb as qi,vc as vr,w as oh,wa as Cc,wb as Gi,wc as di,x as Kt,xa as ww,xb as Ro,xc as Ww,y as it,ya as Te,yb as ze,yc as bh,z as hw,za as ka,zb as Tn,zc as No}from"./chunk-JL4BMBRH.js";import{a as H,b as Le,c as ow,d as lw,e as Q,f as Os,g as Lt}from"./chunk-TSRGIXR5.js";var oS=Q((VK,aS)=>{"use strict";aS.exports=n=>encodeURIComponent(n).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var hS=Q((BK,dS)=>{"use strict";var uS="%[a-f0-9]{2}",lS=new RegExp("("+uS+")|([^%]+?)","gi"),cS=new RegExp("("+uS+")+","gi");function Xg(n,t){try{return[decodeURIComponent(n.join(""))]}catch{}if(n.length===1)return n;t=t||1;var e=n.slice(0,t),i=n.slice(t);return Array.prototype.concat.call([],Xg(e),Xg(i))}function ZF(n){try{return decodeURIComponent(n)}catch{for(var t=n.match(lS)||[],e=1;e<t.length;e++)n=Xg(t,e).join(""),t=n.match(lS)||[];return n}}function XF(n){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},e=cS.exec(n);e;){try{t[e[0]]=decodeURIComponent(e[0])}catch{var i=ZF(e[0]);i!==e[0]&&(t[e[0]]=i)}e=cS.exec(n)}t["%C2"]="\uFFFD";for(var r=Object.keys(t),s=0;s<r.length;s++){var a=r[s];n=n.replace(new RegExp(a,"g"),t[a])}return n}dS.exports=function(n){if(typeof n!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof n+"`");try{return n=n.replace(/\+/g," "),decodeURIComponent(n)}catch{return XF(n)}}});var fS=Q((zK,mS)=>{"use strict";mS.exports=(n,t)=>{if(!(typeof n=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[n];let e=n.indexOf(t);return e===-1?[n]:[n.slice(0,e),n.slice(e+t.length)]}});var gS=Q((HK,pS)=>{"use strict";pS.exports=function(n,t){for(var e={},i=Object.keys(n),r=Array.isArray(t),s=0;s<i.length;s++){var a=i[s],o=n[a];(r?t.indexOf(a)!==-1:t(a,o,n))&&(e[a]=o)}return e}});var e_=Q(Yi=>{"use strict";var JF=oS(),eP=hS(),bS=fS(),tP=gS(),iP=n=>n==null,Jg=Symbol("encodeFragmentIdentifier");function nP(n){switch(n.arrayFormat){case"index":return t=>(e,i)=>{let r=e.length;return i===void 0||n.skipNull&&i===null||n.skipEmptyString&&i===""?e:i===null?[...e,[Wt(t,n),"[",r,"]"].join("")]:[...e,[Wt(t,n),"[",Wt(r,n),"]=",Wt(i,n)].join("")]};case"bracket":return t=>(e,i)=>i===void 0||n.skipNull&&i===null||n.skipEmptyString&&i===""?e:i===null?[...e,[Wt(t,n),"[]"].join("")]:[...e,[Wt(t,n),"[]=",Wt(i,n)].join("")];case"colon-list-separator":return t=>(e,i)=>i===void 0||n.skipNull&&i===null||n.skipEmptyString&&i===""?e:i===null?[...e,[Wt(t,n),":list="].join("")]:[...e,[Wt(t,n),":list=",Wt(i,n)].join("")];case"comma":case"separator":case"bracket-separator":{let t=n.arrayFormat==="bracket-separator"?"[]=":"=";return e=>(i,r)=>r===void 0||n.skipNull&&r===null||n.skipEmptyString&&r===""?i:(r=r===null?"":r,i.length===0?[[Wt(e,n),t,Wt(r,n)].join("")]:[[i,Wt(r,n)].join(n.arrayFormatSeparator)])}default:return t=>(e,i)=>i===void 0||n.skipNull&&i===null||n.skipEmptyString&&i===""?e:i===null?[...e,Wt(t,n)]:[...e,[Wt(t,n),"=",Wt(i,n)].join("")]}}function rP(n){let t;switch(n.arrayFormat){case"index":return(e,i,r)=>{if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t){r[e]=i;return}r[e]===void 0&&(r[e]={}),r[e][t[1]]=i};case"bracket":return(e,i,r)=>{if(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),!t){r[e]=i;return}if(r[e]===void 0){r[e]=[i];return}r[e]=[].concat(r[e],i)};case"colon-list-separator":return(e,i,r)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){r[e]=i;return}if(r[e]===void 0){r[e]=[i];return}r[e]=[].concat(r[e],i)};case"comma":case"separator":return(e,i,r)=>{let s=typeof i=="string"&&i.includes(n.arrayFormatSeparator),a=typeof i=="string"&&!s&&rs(i,n).includes(n.arrayFormatSeparator);i=a?rs(i,n):i;let o=s||a?i.split(n.arrayFormatSeparator).map(l=>rs(l,n)):i===null?i:rs(i,n);r[e]=o};case"bracket-separator":return(e,i,r)=>{let s=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!s){r[e]=i&&rs(i,n);return}let a=i===null?[]:i.split(n.arrayFormatSeparator).map(o=>rs(o,n));if(r[e]===void 0){r[e]=a;return}r[e]=[].concat(r[e],a)};default:return(e,i,r)=>{if(r[e]===void 0){r[e]=i;return}r[e]=[].concat(r[e],i)}}}function vS(n){if(typeof n!="string"||n.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Wt(n,t){return t.encode?t.strict?JF(n):encodeURIComponent(n):n}function rs(n,t){return t.decode?eP(n):n}function yS(n){return Array.isArray(n)?n.sort():typeof n=="object"?yS(Object.keys(n)).sort((t,e)=>Number(t)-Number(e)).map(t=>n[t]):n}function CS(n){let t=n.indexOf("#");return t!==-1&&(n=n.slice(0,t)),n}function sP(n){let t="",e=n.indexOf("#");return e!==-1&&(t=n.slice(e)),t}function wS(n){n=CS(n);let t=n.indexOf("?");return t===-1?"":n.slice(t+1)}function _S(n,t){return t.parseNumbers&&!Number.isNaN(Number(n))&&typeof n=="string"&&n.trim()!==""?n=Number(n):t.parseBooleans&&n!==null&&(n.toLowerCase()==="true"||n.toLowerCase()==="false")&&(n=n.toLowerCase()==="true"),n}function xS(n,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),vS(t.arrayFormatSeparator);let e=rP(t),i=Object.create(null);if(typeof n!="string"||(n=n.trim().replace(/^[?#&]/,""),!n))return i;for(let r of n.split("&")){if(r==="")continue;let[s,a]=bS(t.decode?r.replace(/\+/g," "):r,"=");a=a===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:rs(a,t),e(rs(s,t),a,i)}for(let r of Object.keys(i)){let s=i[r];if(typeof s=="object"&&s!==null)for(let a of Object.keys(s))s[a]=_S(s[a],t);else i[r]=_S(s,t)}return t.sort===!1?i:(t.sort===!0?Object.keys(i).sort():Object.keys(i).sort(t.sort)).reduce((r,s)=>{let a=i[s];return a&&typeof a=="object"&&!Array.isArray(a)?r[s]=yS(a):r[s]=a,r},Object.create(null))}Yi.extract=wS;Yi.parse=xS;Yi.stringify=(n,t)=>{if(!n)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),vS(t.arrayFormatSeparator);let e=a=>t.skipNull&&iP(n[a])||t.skipEmptyString&&n[a]==="",i=nP(t),r={};for(let a of Object.keys(n))e(a)||(r[a]=n[a]);let s=Object.keys(r);return t.sort!==!1&&s.sort(t.sort),s.map(a=>{let o=n[a];return o===void 0?"":o===null?Wt(a,t):Array.isArray(o)?o.length===0&&t.arrayFormat==="bracket-separator"?Wt(a,t)+"[]":o.reduce(i(a),[]).join("&"):Wt(a,t)+"="+Wt(o,t)}).filter(a=>a.length>0).join("&")};Yi.parseUrl=(n,t)=>{t=Object.assign({decode:!0},t);let[e,i]=bS(n,"#");return Object.assign({url:e.split("?")[0]||"",query:xS(wS(n),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:rs(i,t)}:{})};Yi.stringifyUrl=(n,t)=>{t=Object.assign({encode:!0,strict:!0,[Jg]:!0},t);let e=CS(n.url).split("?")[0]||"",i=Yi.extract(n.url),r=Yi.parse(i,{sort:!1}),s=Object.assign(r,n.query),a=Yi.stringify(s,t);a&&(a=`?${a}`);let o=sP(n.url);return n.fragmentIdentifier&&(o=`#${t[Jg]?Wt(n.fragmentIdentifier,t):n.fragmentIdentifier}`),`${e}${a}${o}`};Yi.pick=(n,t,e)=>{e=Object.assign({parseFragmentIdentifier:!0,[Jg]:!1},e);let{url:i,query:r,fragmentIdentifier:s}=Yi.parseUrl(n,e);return Yi.stringifyUrl({url:i,query:tP(r,t),fragmentIdentifier:s},e)};Yi.exclude=(n,t,e)=>{let i=Array.isArray(t)?r=>!t.includes(r):(r,s)=>!t(r,s);return Yi.pick(n,i,e)}});var MS=Q((t_,kS)=>{t_=kS.exports=aP;t_.getSerialize=SS;function aP(n,t,e,i){return JSON.stringify(n,SS(t,i),e)}function SS(n,t){var e=[],i=[];return t==null&&(t=function(r,s){return e[0]===s?"[Circular ~]":"[Circular ~."+i.slice(0,e.indexOf(s)).join(".")+"]"}),function(r,s){if(e.length>0){var a=e.indexOf(this);~a?e.splice(a+1):e.push(this),~a?i.splice(a,1/0,r):i.push(r),~e.indexOf(s)&&(s=t.call(this,r,s))}else e.push(s);return n==null?s:n.call(this,r,s)}}});var ES=Q((WK,TS)=>{var Xo=1e3,Jo=Xo*60,el=Jo*60,Pa=el*24,oP=Pa*7,lP=Pa*365.25;TS.exports=function(n,t){t=t||{};var e=typeof n;if(e==="string"&&n.length>0)return cP(n);if(e==="number"&&isFinite(n))return t.long?dP(n):uP(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function cP(n){if(n=String(n),!(n.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(t){var e=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return e*lP;case"weeks":case"week":case"w":return e*oP;case"days":case"day":case"d":return e*Pa;case"hours":case"hour":case"hrs":case"hr":case"h":return e*el;case"minutes":case"minute":case"mins":case"min":case"m":return e*Jo;case"seconds":case"second":case"secs":case"sec":case"s":return e*Xo;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:return}}}}function uP(n){var t=Math.abs(n);return t>=Pa?Math.round(n/Pa)+"d":t>=el?Math.round(n/el)+"h":t>=Jo?Math.round(n/Jo)+"m":t>=Xo?Math.round(n/Xo)+"s":n+"ms"}function dP(n){var t=Math.abs(n);return t>=Pa?em(n,t,Pa,"day"):t>=el?em(n,t,el,"hour"):t>=Jo?em(n,t,Jo,"minute"):t>=Xo?em(n,t,Xo,"second"):n+" ms"}function em(n,t,e,i){var r=t>=e*1.5;return Math.round(n/e)+" "+i+(r?"s":"")}});var IS=Q((qK,AS)=>{function hP(n){e.debug=e,e.default=e,e.coerce=l,e.disable=a,e.enable=r,e.enabled=o,e.humanize=ES(),e.destroy=c,Object.keys(n).forEach(u=>{e[u]=n[u]}),e.names=[],e.skips=[],e.formatters={};function t(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return e.colors[Math.abs(d)%e.colors.length]}e.selectColor=t;function e(u){let d,h=null,m,f;function p(...g){if(!p.enabled)return;let y=p,w=Number(new Date),k=w-(d||w);y.diff=k,y.prev=d,y.curr=w,d=w,g[0]=e.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let x=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(A,T)=>{if(A==="%%")return"%";x++;let E=e.formatters[T];if(typeof E=="function"){let L=g[x];A=E.call(y,L),g.splice(x,1),x--}return A}),e.formatArgs.call(y,g),(y.log||e.log).apply(y,g)}return p.namespace=u,p.useColors=e.useColors(),p.color=e.selectColor(u),p.extend=i,p.destroy=e.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(m!==e.namespaces&&(m=e.namespaces,f=e.enabled(u)),f),set:g=>{h=g}}),typeof e.init=="function"&&e.init(p),p}function i(u,d){let h=e(this.namespace+(typeof d>"u"?":":d)+u);return h.log=this.log,h}function r(u){e.save(u),e.namespaces=u,e.names=[],e.skips=[];let d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let h of d)h[0]==="-"?e.skips.push(h.slice(1)):e.names.push(h)}function s(u,d){let h=0,m=0,f=-1,p=0;for(;h<u.length;)if(m<d.length&&(d[m]===u[h]||d[m]==="*"))d[m]==="*"?(f=m,p=h,m++):(h++,m++);else if(f!==-1)m=f+1,p++,h=p;else return!1;for(;m<d.length&&d[m]==="*";)m++;return m===d.length}function a(){let u=[...e.names,...e.skips.map(d=>"-"+d)].join(",");return e.enable(""),u}function o(u){for(let d of e.skips)if(s(u,d))return!1;for(let d of e.names)if(s(u,d))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}AS.exports=hP});var im=Q((Qi,tm)=>{Qi.formatArgs=fP;Qi.save=pP;Qi.load=gP;Qi.useColors=mP;Qi.storage=_P();Qi.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Qi.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function mP(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function fP(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+tm.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;n.splice(1,0,t,"color: inherit");let e=0,i=0;n[0].replace(/%[a-zA-Z%]/g,r=>{r!=="%%"&&(e++,r==="%c"&&(i=e))}),n.splice(i,0,t)}Qi.log=console.debug||console.log||(()=>{});function pP(n){try{n?Qi.storage.setItem("debug",n):Qi.storage.removeItem("debug")}catch{}}function gP(){let n;try{n=Qi.storage.getItem("debug")||Qi.storage.getItem("DEBUG")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=process.env.DEBUG),n}function _P(){try{return localStorage}catch{}}tm.exports=IS()(Qi);var{formatters:bP}=tm.exports;bP.j=function(n){try{return JSON.stringify(n)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var i_=Q((GK,RS)=>{var vP=MS(),ss=im()("fhir-kit-client:error"),tl=im()("fhir-kit-client:info");function nm(n){return vP(n)}function DS(n){return n.raw&&typeof n.raw=="function"?nm(n.raw()):nm(n)}function yP(n){ss.enabled&&(ss("!!! Error"),n.response&&ss(`    Status: ${n.response.status}`),n.config&&(ss(`    ${n.config.method.toUpperCase()}: ${n.config.url}`),ss(`    Headers: ${DS(n.config.headers)}`)),n.response&&n.response.data&&ss(nm(n.response.data)),ss("!!! Request Error"))}function CP(n,t,e){tl.enabled&&(t&&tl(`Request: ${n.toUpperCase()} ${t.toString()}`),tl(`Request Headers: ${DS(e)}`))}function wP(n){tl.enabled&&(tl(`Response: ${n.status}`),n.data&&tl(nm(n.data)))}function xP(n){ss.enabled&&ss(n)}RS.exports={logRequestError:yP,logRequestInfo:CP,logResponseInfo:wP,logError:xP}});var OS=Q((KK,LS)=>{var SP="http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris",{logError:kP}=i_();function MP(n){let t={};try{return n.rest.forEach(e=>{e.security.extension.find(r=>r.url===SP).extension.forEach(r=>{switch(r.url){case"authorize":t.authorizeUrl=new URL(r.valueUri);break;case"token":t.tokenUrl=new URL(r.valueUri);break;case"register":t.registerUrl=new URL(r.valueUri);break;case"manage":t.manageUrl=new URL(r.valueUri);break;default:}})}),t}catch(e){return kP(e),t}}function TP(n){let{authorization_endpoint:t,token_endpoint:e,registration_endpoint:i}=n;return{authorizeUrl:t&&new URL(t),tokenUrl:e&&new URL(e),registerUrl:i&&new URL(i)}}LS.exports={authFromCapability:MP,authFromWellKnown:TP}});var NS=Q((n_,r_)=>{(function(n,t){typeof n_=="object"&&typeof r_<"u"?r_.exports=t():typeof define=="function"&&define.amd?define(t):n.ES6Promise=t()})(n_,function(){"use strict";function n(Z){var me=typeof Z;return Z!==null&&(me==="object"||me==="function")}function t(Z){return typeof Z=="function"}var e=void 0;Array.isArray?e=Array.isArray:e=function(Z){return Object.prototype.toString.call(Z)==="[object Array]"};var i=e,r=0,s=void 0,a=void 0,o=function(me,ve){x[r]=me,x[r+1]=ve,r+=2,r===2&&(a?a(C):T())};function l(Z){a=Z}function c(Z){o=Z}var u=typeof window<"u"?window:void 0,d=u||{},h=d.MutationObserver||d.WebKitMutationObserver,m=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",f=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function p(){return function(){return process.nextTick(C)}}function g(){return typeof s<"u"?function(){s(C)}:k()}function y(){var Z=0,me=new h(C),ve=document.createTextNode("");return me.observe(ve,{characterData:!0}),function(){ve.data=Z=++Z%2}}function w(){var Z=new MessageChannel;return Z.port1.onmessage=C,function(){return Z.port2.postMessage(0)}}function k(){var Z=setTimeout;return function(){return Z(C,1)}}var x=new Array(1e3);function C(){for(var Z=0;Z<r;Z+=2){var me=x[Z],ve=x[Z+1];me(ve),x[Z]=void 0,x[Z+1]=void 0}r=0}function A(){try{var Z=Function("return this")().require("vertx");return s=Z.runOnLoop||Z.runOnContext,g()}catch{return k()}}var T=void 0;m?T=p():h?T=y():f?T=w():u===void 0&&typeof ow=="function"?T=A():T=k();function E(Z,me){var ve=this,$e=new this.constructor(v);$e[S]===void 0&&qe($e);var tt=ve._state;if(tt){var nt=arguments[tt-1];o(function(){return ie(tt,$e,nt,ve._result)})}else ae(ve,$e,Z,me);return $e}function L(Z){var me=this;if(Z&&typeof Z=="object"&&Z.constructor===me)return Z;var ve=new me(v);return V(ve,Z),ve}var S=Math.random().toString(36).substring(2);function v(){}var _=void 0,b=1,M=2;function I(){return new TypeError("You cannot resolve a promise with itself")}function D(){return new TypeError("A promises callback cannot return that same promise.")}function O(Z,me,ve,$e){try{Z.call(me,ve,$e)}catch(tt){return tt}}function N(Z,me,ve){o(function($e){var tt=!1,nt=O(ve,me,function(ri){tt||(tt=!0,me!==ri?V($e,ri):W($e,ri))},function(ri){tt||(tt=!0,q($e,ri))},"Settle: "+($e._label||" unknown promise"));!tt&&nt&&(tt=!0,q($e,nt))},Z)}function F(Z,me){me._state===b?W(Z,me._result):me._state===M?q(Z,me._result):ae(me,void 0,function(ve){return V(Z,ve)},function(ve){return q(Z,ve)})}function z(Z,me,ve){me.constructor===Z.constructor&&ve===E&&me.constructor.resolve===L?F(Z,me):ve===void 0?W(Z,me):t(ve)?N(Z,me,ve):W(Z,me)}function V(Z,me){if(Z===me)q(Z,I());else if(n(me)){var ve=void 0;try{ve=me.then}catch($e){q(Z,$e);return}z(Z,me,ve)}else W(Z,me)}function K(Z){Z._onerror&&Z._onerror(Z._result),pe(Z)}function W(Z,me){Z._state===_&&(Z._result=me,Z._state=b,Z._subscribers.length!==0&&o(pe,Z))}function q(Z,me){Z._state===_&&(Z._state=M,Z._result=me,o(K,Z))}function ae(Z,me,ve,$e){var tt=Z._subscribers,nt=tt.length;Z._onerror=null,tt[nt]=me,tt[nt+b]=ve,tt[nt+M]=$e,nt===0&&Z._state&&o(pe,Z)}function pe(Z){var me=Z._subscribers,ve=Z._state;if(me.length!==0){for(var $e=void 0,tt=void 0,nt=Z._result,ri=0;ri<me.length;ri+=3)$e=me[ri],tt=me[ri+ve],$e?ie(ve,$e,tt,nt):tt(nt);Z._subscribers.length=0}}function ie(Z,me,ve,$e){var tt=t(ve),nt=void 0,ri=void 0,ko=!0;if(tt){try{nt=ve($e)}catch(sh){ko=!1,ri=sh}if(me===nt){q(me,D());return}}else nt=$e;me._state!==_||(tt&&ko?V(me,nt):ko===!1?q(me,ri):Z===b?W(me,nt):Z===M&&q(me,nt))}function ne(Z,me){try{me(function($e){V(Z,$e)},function($e){q(Z,$e)})}catch(ve){q(Z,ve)}}var Ee=0;function we(){return Ee++}function qe(Z){Z[S]=Ee++,Z._state=void 0,Z._result=void 0,Z._subscribers=[]}function _t(){return new Error("Array Methods must be provided an Array")}var Ct=function(){function Z(me,ve){this._instanceConstructor=me,this.promise=new me(v),this.promise[S]||qe(this.promise),i(ve)?(this.length=ve.length,this._remaining=ve.length,this._result=new Array(this.length),this.length===0?W(this.promise,this._result):(this.length=this.length||0,this._enumerate(ve),this._remaining===0&&W(this.promise,this._result))):q(this.promise,_t())}return Z.prototype._enumerate=function(ve){for(var $e=0;this._state===_&&$e<ve.length;$e++)this._eachEntry(ve[$e],$e)},Z.prototype._eachEntry=function(ve,$e){var tt=this._instanceConstructor,nt=tt.resolve;if(nt===L){var ri=void 0,ko=void 0,sh=!1;try{ri=ve.then}catch(eg){sh=!0,ko=eg}if(ri===E&&ve._state!==_)this._settledAt(ve._state,$e,ve._result);else if(typeof ri!="function")this._remaining--,this._result[$e]=ve;else if(tt===ct){var J0=new tt(v);sh?q(J0,ko):z(J0,ve,ri),this._willSettleAt(J0,$e)}else this._willSettleAt(new tt(function(eg){return eg(ve)}),$e)}else this._willSettleAt(nt(ve),$e)},Z.prototype._settledAt=function(ve,$e,tt){var nt=this.promise;nt._state===_&&(this._remaining--,ve===M?q(nt,tt):this._result[$e]=tt),this._remaining===0&&W(nt,this._result)},Z.prototype._willSettleAt=function(ve,$e){var tt=this;ae(ve,void 0,function(nt){return tt._settledAt(b,$e,nt)},function(nt){return tt._settledAt(M,$e,nt)})},Z}();function We(Z){return new Ct(this,Z).promise}function Nt(Z){var me=this;return i(Z)?new me(function(ve,$e){for(var tt=Z.length,nt=0;nt<tt;nt++)me.resolve(Z[nt]).then(ve,$e)}):new me(function(ve,$e){return $e(new TypeError("You must pass an array to race."))})}function Qr(Z){var me=this,ve=new me(v);return q(ve,Z),ve}function So(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ur(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ct=function(){function Z(me){this[S]=we(),this._result=this._state=void 0,this._subscribers=[],v!==me&&(typeof me!="function"&&So(),this instanceof Z?ne(this,me):ur())}return Z.prototype.catch=function(ve){return this.then(null,ve)},Z.prototype.finally=function(ve){var $e=this,tt=$e.constructor;return t(ve)?$e.then(function(nt){return tt.resolve(ve()).then(function(){return nt})},function(nt){return tt.resolve(ve()).then(function(){throw nt})}):$e.then(ve,ve)},Z}();ct.prototype.then=E,ct.all=We,ct.race=Nt,ct.resolve=L,ct.reject=Qr,ct._setScheduler=l,ct._setAsap=c,ct._asap=o;function an(){var Z=void 0;if(typeof global<"u")Z=global;else if(typeof self<"u")Z=self;else try{Z=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var me=Z.Promise;if(me){var ve=null;try{ve=Object.prototype.toString.call(me.resolve())}catch{}if(ve==="[object Promise]"&&!me.cast)return}Z.Promise=ct}return ct.polyfill=an,ct.Promise=ct,ct})});var PS=Q(FS=>{(function(n){var t=function(e){var i=typeof globalThis<"u"&&globalThis||typeof n<"u"&&n||typeof global<"u"&&global||{},r={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function s(v){return v&&DataView.prototype.isPrototypeOf(v)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(v){return v&&a.indexOf(Object.prototype.toString.call(v))>-1};function l(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(v)||v==="")throw new TypeError('Invalid character in header field name: "'+v+'"');return v.toLowerCase()}function c(v){return typeof v!="string"&&(v=String(v)),v}function u(v){var _={next:function(){var b=v.shift();return{done:b===void 0,value:b}}};return r.iterable&&(_[Symbol.iterator]=function(){return _}),_}function d(v){this.map={},v instanceof d?v.forEach(function(_,b){this.append(b,_)},this):Array.isArray(v)?v.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(_){this.append(_,v[_])},this)}d.prototype.append=function(v,_){v=l(v),_=c(_);var b=this.map[v];this.map[v]=b?b+", "+_:_},d.prototype.delete=function(v){delete this.map[l(v)]},d.prototype.get=function(v){return v=l(v),this.has(v)?this.map[v]:null},d.prototype.has=function(v){return this.map.hasOwnProperty(l(v))},d.prototype.set=function(v,_){this.map[l(v)]=c(_)},d.prototype.forEach=function(v,_){for(var b in this.map)this.map.hasOwnProperty(b)&&v.call(_,this.map[b],b,this)},d.prototype.keys=function(){var v=[];return this.forEach(function(_,b){v.push(b)}),u(v)},d.prototype.values=function(){var v=[];return this.forEach(function(_){v.push(_)}),u(v)},d.prototype.entries=function(){var v=[];return this.forEach(function(_,b){v.push([b,_])}),u(v)},r.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function h(v){if(!v._noBody){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}}function m(v){return new Promise(function(_,b){v.onload=function(){_(v.result)},v.onerror=function(){b(v.error)}})}function f(v){var _=new FileReader,b=m(_);return _.readAsArrayBuffer(v),b}function p(v){var _=new FileReader,b=m(_),M=/charset=([A-Za-z0-9_-]+)/.exec(v.type),I=M?M[1]:"utf-8";return _.readAsText(v,I),b}function g(v){for(var _=new Uint8Array(v),b=new Array(_.length),M=0;M<_.length;M++)b[M]=String.fromCharCode(_[M]);return b.join("")}function y(v){if(v.slice)return v.slice(0);var _=new Uint8Array(v.byteLength);return _.set(new Uint8Array(v)),_.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(v){this.bodyUsed=this.bodyUsed,this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:r.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:r.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():r.arrayBuffer&&r.blob&&s(v)?(this._bodyArrayBuffer=y(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||o(v))?this._bodyArrayBuffer=y(v):this._bodyText=v=Object.prototype.toString.call(v):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var v=h(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var v=h(this);return v||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(r.blob)return this.blob().then(f);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var v=h(this);if(v)return v;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function x(v){var _=v.toUpperCase();return k.indexOf(_)>-1?_:v}function C(v,_){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var b=_.body;if(v instanceof C){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,_.headers||(this.headers=new d(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!b&&v._bodyInit!=null&&(b=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new d(_.headers)),this.method=x(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||function(){if("AbortController"in i){var D=new AbortController;return D.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&b)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(b),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var M=/([?&])_=[^&]*/;if(M.test(this.url))this.url=this.url.replace(M,"$1_="+new Date().getTime());else{var I=/\?/;this.url+=(I.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function A(v){var _=new FormData;return v.trim().split("&").forEach(function(b){if(b){var M=b.split("="),I=M.shift().replace(/\+/g," "),D=M.join("=").replace(/\+/g," ");_.append(decodeURIComponent(I),decodeURIComponent(D))}}),_}function T(v){var _=new d,b=v.replace(/\r?\n[\t ]+/g," ");return b.split("\r").map(function(M){return M.indexOf(`
`)===0?M.substr(1,M.length):M}).forEach(function(M){var I=M.split(":"),D=I.shift().trim();if(D){var O=I.join(":").trim();try{_.append(D,O)}catch(N){console.warn("Response "+N.message)}}}),_}w.call(C.prototype);function E(v,_){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new d(_.headers),this.url=_.url||"",this._initBody(v)}w.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},E.error=function(){var v=new E(null,{status:200,statusText:""});return v.ok=!1,v.status=0,v.type="error",v};var L=[301,302,303,307,308];E.redirect=function(v,_){if(L.indexOf(_)===-1)throw new RangeError("Invalid status code");return new E(null,{status:_,headers:{location:v}})},e.DOMException=i.DOMException;try{new e.DOMException}catch{e.DOMException=function(_,b){this.message=_,this.name=b;var M=Error(_);this.stack=M.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(v,_){return new Promise(function(b,M){var I=new C(v,_);if(I.signal&&I.signal.aborted)return M(new e.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function O(){D.abort()}D.onload=function(){var z={statusText:D.statusText,headers:T(D.getAllResponseHeaders()||"")};I.url.indexOf("file://")===0&&(D.status<200||D.status>599)?z.status=200:z.status=D.status,z.url="responseURL"in D?D.responseURL:z.headers.get("X-Request-URL");var V="response"in D?D.response:D.responseText;setTimeout(function(){b(new E(V,z))},0)},D.onerror=function(){setTimeout(function(){M(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){M(new TypeError("Network request timed out"))},0)},D.onabort=function(){setTimeout(function(){M(new e.DOMException("Aborted","AbortError"))},0)};function N(z){try{return z===""&&i.location.href?i.location.href:z}catch{return z}}if(D.open(I.method,N(I.url),!0),I.credentials==="include"?D.withCredentials=!0:I.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(r.blob?D.responseType="blob":r.arrayBuffer&&(D.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof d||i.Headers&&_.headers instanceof i.Headers)){var F=[];Object.getOwnPropertyNames(_.headers).forEach(function(z){F.push(l(z)),D.setRequestHeader(z,c(_.headers[z]))}),I.headers.forEach(function(z,V){F.indexOf(V)===-1&&D.setRequestHeader(V,z)})}else I.headers.forEach(function(z,V){D.setRequestHeader(V,z)});I.signal&&(I.signal.addEventListener("abort",O),D.onreadystatechange=function(){D.readyState===4&&I.signal.removeEventListener("abort",O)}),D.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}return S.polyfill=!0,i.fetch||(i.fetch=S,i.Headers=d,i.Request=C,i.Response=E),e.Headers=d,e.Request=C,e.Response=E,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0}),e}({})})(typeof self<"u"?self:FS)});var a_=Q((ZK,s_)=>{s_.exports=US;s_.exports.HttpsAgent=US;function US(){}});var qS=Q((XK,WS)=>{NS().polyfill();PS();var{logRequestError:EP,logRequestInfo:zS,logResponseInfo:AP}=i_(),IP={accept:"application/fhir+json"},$S="__response",VS="__request",o_=!1,HS,jS;try{HS=a_(),jS=a_().HttpsAgent,o_=!0}catch{zS("HTTP Agent is not available")}var Kc=new WeakMap;function DP(n,t={}){let e={baseUrl:n,agentOptions:t};return o_?(Kc.get(e)||(n.startsWith("https")?Kc.set(e,{agent:new jS(t)}):Kc.set(e,{agent:new HS(t)})),Kc.get(e)):{}}function BS({status:n,data:t,method:e,headers:i,url:r}){let s={response:{status:n,data:t},config:{method:e,url:r,headers:i}};return EP(s),s}function RP(n){return typeof n=="string"?n:JSON.stringify(n)}WS.exports=class rm{static lcKeys(t){return t&&Object.keys(t).reduce((e,i)=>(e[i.toLowerCase()]=t[i],e),{})}constructor({baseUrl:t,customHeaders:e={},requestOptions:i={},requestSigner:r=void 0}){this.baseUrl=t,this.customHeaders=e,this.baseRequestOptions=i,this.requestSigner=r}set baseUrl(t){if(!t)throw new Error("baseUrl cannot be blank");if(typeof t!="string")throw new Error("baseUrl must be a string");this.baseUrlValue=t}get baseUrl(){return this.baseUrlValue}static responseFor(t){return t[$S]}static requestFor(t){return t[VS]}set bearerToken(t){let e=`Bearer ${t}`;this.authHeader={authorization:e}}requestBuilder(t,e,i,r){let s=Le(H(H({},this.baseRequestOptions),i),{method:t,body:RP(r)}),a={};return o_||(a={keepalive:Object.prototype.hasOwnProperty.call(s,"keepalive")?s.keepalive:!0}),Object.assign(s,a,{headers:new Headers(this.mergeHeaders(i.headers))},DP(this.baseUrl,s)),this.requestSigner&&this.requestSigner(e,s),new Request(e,s)}request(s,a){return Lt(this,arguments,function*(t,e,i={},r){let o=this.expandUrl(e),l=this.requestBuilder(t,o,i,r);zS(t,o,l.headers);let c=yield fetch(l),{status:u,headers:d}=c;AP({status:u,response:c});let h=yield c.text(),m={};if(h)try{m=JSON.parse(h)}catch{throw m=h,BS({status:u,data:m,method:t,headers:d,url:o})}if(!c.ok)throw BS({status:u,data:m,method:t,headers:d,url:o});return Object.defineProperty(m,$S,{writable:!1,enumerable:!1,value:c}),Object.defineProperty(m,VS,{writable:!1,enumerable:!1,value:l}),m})}get(t,e){return Lt(this,null,function*(){return this.request("GET",t,e)})}delete(t,e){return Lt(this,null,function*(){return this.request("DELETE",t,e)})}put(r,s){return Lt(this,arguments,function*(t,e,i={}){let a=H({"content-type":"application/fhir+json"},rm.lcKeys(i.headers)),o=Le(H({},i),{headers:a});return this.request("PUT",t,o,e)})}post(r,s){return Lt(this,arguments,function*(t,e,i={}){let a=H({"content-type":"application/fhir+json"},rm.lcKeys(i.headers)),o=Le(H({},i),{headers:a});return this.request("POST",t,o,e)})}patch(t,e,i){return Lt(this,null,function*(){return this.request("PATCH",t,i,e)})}expandUrl(t=""){return t.toLowerCase().startsWith("http")?t:this.baseUrl.endsWith("/")&&t.startsWith("/")?this.baseUrl+t.slice(1):this.baseUrl.endsWith("/")||t.startsWith("/")?this.baseUrl+t:`${this.baseUrl}/${t}`}mergeHeaders(t){let{lcKeys:e}=rm;return H(H(H(H({},e(IP)),e(this.authHeader)),e(this.customHeaders)),e(t))}}});var KS=Q((eY,GS)=>{GS.exports={fhirReferenceRegEx:/^((http|https):\/\/([A-Za-z0-9\\.:%$]*\/)*)?(Account|ActivityDefinition|AdverseEvent|AllergyIntolerance|Appointment|AppointmentResponse|AuditEvent|Basic|Binary|BiologicallyDerivedProduct|BodySite|BodyStructure|Bundle|CapabilityStatement|CarePlan|CareTeam|CatalogEntry|ChargeItem|ChargeItemDefinition|Claim|ClaimResponse|ClinicalImpression|CodeSystem|Communication|CommunicationRequest|CompartmentDefinition|Composition|ConceptMap|Condition|Conformance|Consent|Contract|Coverage|CoverageEligibilityRequest|CoverageEligibilityResponse|DataElement|DecisionSupportRule|DecisionSupportServiceModule|DetectedIssue|Device|DeviceComponent|DeviceDefinition|DeviceMetric|DeviceRequest|DeviceUseRequest|DeviceUseStatement|DiagnosticOrder|DiagnosticReport|DiagnosticRequest|DocumentManifest|DocumentReference|EffectEvidenceSynthesis|EligibilityRequest|EligibilityResponse|Encounter|Endpoint|EnrollmentRequest|EnrollmentResponse|EntryDefinition|EpisodeOfCare|EventDefinition|Evidence|EvidenceVariable|ExampleScenario|ExpansionProfile|ExplanationOfBenefit|FamilyMemberHistory|Flag|Goal|GraphDefinition|Group|GuidanceRequest|GuidanceResponse|HealthcareService|ImagingExcerpt|ImagingManifest|ImagingObjectSelection|ImagingStudy|Immunization|ImmunizationEvaluation|ImmunizationRecommendation|ImplementationGuide|ImplementationGuideInput|ImplementationGuideOutput|InsurancePlan|Invoice|ItemInstance|Library|Linkage|List|Location|Measure|MeasureReport|Media|Medication|MedicationAdministration|MedicationDispense|MedicationKnowledge|MedicationOrder|MedicationRequest|MedicationStatement|MedicinalProduct|MedicinalProductAuthorization|MedicinalProductClinicals|MedicinalProductContraindication|MedicinalProductDeviceSpec|MedicinalProductIndication|MedicinalProductIngredient|MedicinalProductInteraction|MedicinalProductManufactured|MedicinalProductPackaged|MedicinalProductPharmaceutical|MedicinalProductUndesirableEffect|MessageDefinition|MessageHeader|ModuleDefinition|ModuleMetadata|MolecularSequence|NamingSystem|NutritionOrder|NutritionRequest|Observation|ObservationDefinition|OccupationalData|OperationDefinition|OperationOutcome|Order|OrderResponse|OrderSet|Organization|OrganizationAffiliation|OrganizationRole|Patient|PaymentNotice|PaymentReconciliation|Person|PlanDefinition|Practitioner|PractitionerRole|Procedure|ProcedureRequest|ProcessRequest|ProcessResponse|ProductPlan|Protocol|Provenance|Questionnaire|QuestionnaireResponse|ReferralRequest|RelatedPerson|RequestGroup|ResearchDefinition|ResearchElementDefinition|ResearchStudy|ResearchSubject|RiskAssessment|RiskEvidenceSynthesis|Schedule|SearchParameter|Sequence|ServiceDefinition|ServiceRequest|Slot|Specimen|SpecimenDefinition|StructureDefinition|StructureMap|Subscription|Substance|SubstanceNucleicAcid|SubstancePolymer|SubstanceProtein|SubstanceReferenceInformation|SubstanceSourceMaterial|SubstanceSpecification|SupplyDelivery|SupplyRequest|Task|TerminologyCapabilities|TestReport|TestScript|UserSession|ValueSet|VerificationResult|VisionPrescription)\/[A-Za-z0-9\-.]{1,256}(\/_history\/[A-Za-z0-9\-.]{1,256})?$/}});var l_=Q((tY,QS)=>{var LP=e_(),{fhirReferenceRegEx:YS}=KS();function OP(n){if(!n.match(YS))throw new Error(`${n} is not a recognized FHIR reference`);let t,e=n;n.startsWith("http")&&([,t]=YS.exec(n),e=n.slice(t.length),t.endsWith("/")&&(t=t.slice(0,-1)));let[i,r]=e.split("/");return{baseUrl:t,resourceType:i,id:r}}function NP(n){return!n.startsWith("/")&&!n.includes(":")&&/\S/.test(n)}function FP(n){if(n instanceof Object&&Object.keys(n).length>0)return LP.stringify(n)}QS.exports={createQueryString:FP,splitReference:OP,validResourceType:NP}});var c_=Q((iY,ZS)=>{var PP=(n,t)=>{if(Object.prototype.hasOwnProperty.call(n,"resourceType")){console.warn("WARNING: positional parameters for pagination methods are deprecated and will be removed in the next major version. Call with ({ bundle, options }) rather than (bundle, headers)");let e={bundle:n};return t&&(e.options={headers:t}),e}return n},UP=(n,t)=>t?(console.warn("WARNING: headers is deprecated and will be removed in the next major version. Use options.headers instead."),console.warn(JSON.stringify(t,null,"  ")),H({headers:t},n)):n;ZS.exports={deprecateHeaders:UP,deprecatePaginationArgs:PP}});var JS=Q((rY,XS)=>{var{splitReference:$P}=l_(),{deprecateHeaders:u_}=c_();XS.exports=class{constructor(n){this.client=n}resolve(){return Lt(this,arguments,function*({reference:n,context:t,headers:e,options:i={}}={}){return t===void 0?n.startsWith("http")?this.resolveAbsoluteReference(n,u_(i,e)):this.client.httpClient.get(n,u_(i,e)):n.startsWith("#")?this.resolveContainedReference(n,t):this.resolveBundleReference(n,t,u_(i,e))})}resolveAbsoluteReference(n,t){return Lt(this,null,function*(){if(n.startsWith(this.client.baseUrl))return this.client.httpClient.get(n,t);let{baseUrl:e,resourceType:i,id:r}=$P(n),s=d_();return new s({baseUrl:e}).read({resourceType:i,id:r,options:t})})}resolveContainedReference(n,t){if(t.contained){let e=n.slice(1),i=t.contained.find(r=>r.id===e);if(i)return i}throw new Error(`Unable to resolve contained reference: ${n}`)}resolveBundleReference(n,t,e){return Lt(this,null,function*(){let i=new RegExp(`(^|/)${n}$`),r=t.entry.find(s=>i.test(s.fullUrl));return r?r.resource:this.resolve({reference:n,options:e})})}}});var tk=Q((oY,ek)=>{var h_=class{constructor(t){this.httpClient=t}nextPage(t,{headers:e}={}){let i=t.link.find(r=>r.relation==="next");return i?this.httpClient.get(i.url,{headers:e}):void 0}prevPage(t,{headers:e}={}){let i=t.link.find(r=>r.relation.match(/^prev(ious)?$/));return i?this.httpClient.get(i.url,{headers:e}):void 0}};ek.exports=h_});var nk=Q((lY,ik)=>{"use strict";var m_=typeof self<"u"?self:typeof window<"u"?window:void 0;if(!m_)throw new Error("Unable to find global scope. Are you sure this is running in the browser?");if(!m_.AbortController)throw new Error('Could not find "AbortController" in the global scope. You need to polyfill it first');ik.exports.AbortController=m_.AbortController});var sk=Q((cY,rk)=>{var{AbortController:VP}=nk(),sm=class{constructor(){this.controller=new VP,this.resolving=!1}addSignalOption(t){return H({signal:this.controller.signal},t)}safeAbort(){this.resolving||this.controller.abort()}},f_=class{constructor(){this.jobs=[],this.numJobs=0}buildJob(){let t=new sm;return this.numJobs=this.jobs.push(t),t}safeAbortOthers(t){t.resolving=!0;for(let e=0,i=this.numJobs;e<i;e+=1)t!==this.jobs[e]&&this.jobs[e].safeAbort()}};rk.exports={FetchQueue:f_,FetchJob:sm}});var ok=Q((dY,ak)=>{var p_=class{constructor(t){this.capabilityStatement=t}serverCan(t){return this.supportFor({capabilityType:"interaction",where:{code:t}})}resourceCan(t,e){return this.supportFor({resourceType:t,capabilityType:"interaction",where:{code:e}})}serverSearch(t){return this.supportFor({capabilityType:"searchParam",where:{name:t}})}resourceSearch(t,e){return this.supportFor({resourceType:t,capabilityType:"searchParam",where:{name:e}})}supportFor({resourceType:t,capabilityType:e,where:i}={}){let r;if(t?r=this.resourceCapabilities({resourceType:t}):r=this.serverCapabilities(),!r)return!1;let s=r[e];if(i&&s){let a=Object.keys(i)[0];return s.find(l=>l[a]===i[a])!==void 0}return s!==void 0}interactionsFor({resourceType:t}={}){let e=this.resourceCapabilities({resourceType:t});return e===void 0?[]:e.interaction.map(i=>i.code)}searchParamsFor({resourceType:t}={}){let e=this.resourceCapabilities({resourceType:t});return e===void 0?[]:e.searchParam===void 0?[]:e.searchParam.map(i=>i.name)}resourceCapabilities({resourceType:t}={}){return this.serverCapabilities().resource.find(r=>r.type===t)}capabilityContents({resourceType:t,capabilityType:e}={}){let i=this.resourceCapabilities({resourceType:t});if(i!==void 0)return i[e]}serverCapabilities(){return this.capabilityStatement.rest.find(t=>t.mode==="server")}};ak.exports=p_});var d_=Q((hY,b_)=>{var BP=e_(),{authFromCapability:zP,authFromWellKnown:lk}=OS(),g_=qS(),HP=JS(),jP=tk(),{createQueryString:ck,validResourceType:Zi}=l_(),{FetchQueue:WP}=sk(),{deprecatePaginationArgs:uk,deprecateHeaders:zt}=c_(),qP=ok(),__=class{constructor({baseUrl:t,customHeaders:e,requestOptions:i,requestSigner:r,bearerToken:s}={}){this.httpClient=new g_({baseUrl:t,customHeaders:e,requestOptions:i,requestSigner:r}),s&&(this.httpClient.bearerToken=s),this.resolver=new HP(this),this.pagination=new jP(this.httpClient)}static httpFor(t){return{request:g_.requestFor(t),response:g_.responseFor(t)}}get baseUrl(){return this.httpClient&&this.httpClient.baseUrl}set baseUrl(t){this.httpClient&&(this.httpClient.baseUrl=t)}get customHeaders(){return this.httpClient.customHeaders}set customHeaders(t){this.httpClient.customHeaders=t}set bearerToken(t){this.httpClient.bearerToken=t}resolve({reference:t,context:e,headers:i,options:r={}}={}){return this.resolver.resolve({reference:t,context:e,options:zt(r,i)})}smartAuthMetadata(){return Lt(this,arguments,function*({headers:t,options:e={}}={}){let i={options:zt(e,t)};i.options.headers||(i.options.headers={}),i.options.headers.accept="application/fhir+json,application/json";let r=this.baseUrl.replace(/\/*$/,"/"),s=new WP,a=s.buildJob(),o=s.buildJob(),l=s.buildJob(),c=[];return new Promise((u,d)=>{function h(m){c.push(m)===s.numJobs&&d(new Error(c.map(f=>f.message).join("; ")))}this.httpClient.request("GET",`${r}.well-known/smart-configuration`,o.addSignalOption(i)).then(m=>(s.safeAbortOthers(o),u(lk(m)))).catch(m=>h(m)),this.capabilityStatement(a.addSignalOption(i)).then(m=>(s.safeAbortOthers(a),u(zP(m)))).catch(m=>h(m)),this.httpClient.request("GET",`${r}.well-known/openid-configuration`,l.addSignalOption(i)).then(m=>(s.safeAbortOthers(l),u(lk(m)))).catch(m=>h(m))})})}capabilityStatement({headers:t,options:e={}}={}){return this.metadata||(this.metadata=this.httpClient.get("metadata",zt(e,t))),this.metadata}request(t,{method:e="GET",options:i={},body:r}={}){return i.method&&i.method!==e&&console.warn(`WARNING: 'options.method' has been specified: ${i.method} but will be ignored. Use 'method' instead.`),this.httpClient.request(e,t,i,r)}read({resourceType:t,id:e,headers:i,options:r={}}={}){if(!Zi(t))throw new Error("Invalid resourceType",t);return this.httpClient.get(`${t}/${e}`,zt(r,i))}vread({resourceType:t,id:e,version:i,headers:r,options:s={}}={}){if(!Zi(t))throw new Error("Invalid resourceType",t);return this.httpClient.get(`${t}/${e}/_history/${i}`,zt(s,r))}create({resourceType:t,body:e,headers:i,options:r={}}={}){if(!Zi(t))throw new Error("Invalid resourceType",t);return this.httpClient.post(t,e,zt(r,i))}delete({resourceType:t,id:e,headers:i,options:r={}}={}){if(!Zi(t))throw new Error("Invalid resourceType",t);return this.httpClient.delete(`${t}/${e}`,zt(r,i))}update({resourceType:t,id:e,searchParams:i,body:r,headers:s,options:a={}}={}){if(!Zi(t))throw new Error("Invalid resourceType",t);if(e&&i)throw new Error("Conditional update with search params cannot be with id",t);if(i){let o=ck(i);return this.httpClient.put(`${t}?${o}`,r,zt(a,s))}return this.httpClient.put(`${t}/${e}`,r,zt(a,s))}patch({resourceType:t,id:e,JSONPatch:i,headers:r,options:s={}}={}){if(!Zi(t))throw new Error("Invalid resourceType",t);let a=zt(s,r).headers||{},o=Le(H({},a),{"Content-Type":"application/json-patch+json"});return this.httpClient.patch(`${t}/${e}`,i,Le(H({},s),{headers:o}))}batch({body:t,headers:e,options:i={}}={}){return this.httpClient.post("/",t,zt(i,e))}transaction({body:t,headers:e,options:i={}}={}){return this.httpClient.post("/",t,zt(i,e))}operation({name:t,resourceType:e,id:i,method:r="POST",input:s,options:a={}}={}){let o=["/"];if(e){if(!Zi(e))throw new Error("Invalid resourceType",e);o.push(`${e}/`)}if(i&&o.push(`${i}/`),o.push(`${t.startsWith("$")?t:`$${t}`}`),r.toUpperCase()==="POST")return this.httpClient.post(o.join(""),s,a);if(r.toUpperCase()==="GET")return s&&o.push(`?${BP.stringify(s)}`),this.httpClient.get(o.join(""),a)}nextPage(t,e){let{bundle:i,options:r={}}=uk(t,e);return this.pagination.nextPage(i,r)}prevPage(t,e){let{bundle:i,options:r={}}=uk(t,e);return this.pagination.prevPage(i,r)}search({resourceType:t,compartment:e,searchParams:i,headers:r,options:s={}}={}){if(t&&!Zi(t))throw new Error("Invalid resourceType",t);if(e&&t)return this.compartmentSearch({resourceType:t,compartment:e,searchParams:i,options:zt(s,r)});if(t)return this.resourceSearch({resourceType:t,searchParams:i,options:zt(s,r)});if(i instanceof Object&&Object.keys(i).length>0)return this.systemSearch({searchParams:i,options:zt(s,r)});throw new Error("search requires either searchParams or a resourceType")}resourceSearch({resourceType:t,searchParams:e,headers:i,options:r={}}={}){if(!Zi(t))throw new Error("Invalid resourceType",t);let s=t;return r.postSearch&&(s+="/_search"),this.baseSearch({searchPath:s,searchParams:e,headers:i,options:r})}systemSearch({searchParams:t,headers:e,options:i={}}={}){return this.baseSearch({searchPath:"/_search",searchParams:t,headers:e,options:i})}compartmentSearch({resourceType:t,compartment:e,searchParams:i,headers:r,options:s={}}={}){if(!Zi(t))throw new Error("Invalid resourceType",t);let{resourceType:a,id:o}=e;if(!Zi(a))throw new Error("Invalid compartmentType",a);let l=`/${a}/${o}/${t}`;return s.postSearch&&(l+="/_search"),this.baseSearch({searchPath:l,searchParams:i,headers:r,options:s})}baseSearch({searchPath:t,searchParams:e,headers:i,options:r}){let s=ck(e),a=zt(r,i),o=r.postSearch?"postSearch":"getSearch";return this[o](t,s,a)}postSearch(t,e,i){let s=H(H({},{"Content-Type":"application/x-www-form-urlencoded"}),i.headers),a=Le(H({},i),{headers:s});return this.httpClient.post(t,e,a)}getSearch(t,e,i){let r=t;return e&&(r+=`?${e}`),this.httpClient.get(r,i)}history({resourceType:t,id:e,headers:i,options:r={}}={}){if(t&&!Zi(t))throw new Error("Invalid resourceType",t);return e&&t?this.resourceHistory({resourceType:t,id:e,options:zt(r,i)}):t?this.typeHistory({resourceType:t,options:zt(r,i)}):this.systemHistory({options:zt(r,i)})}resourceHistory({resourceType:t,id:e,headers:i,options:r={}}={}){if(!Zi(t))throw new Error("Invalid resourceType",t);return this.httpClient.get(`${t}/${e}/_history`,zt(r,i))}typeHistory({resourceType:t,headers:e,options:i={}}={}){if(!Zi(t))throw new Error("Invalid resourceType",t);return this.httpClient.get(`${t}/_history`,zt(i,e))}systemHistory({headers:t,options:e={}}={}){return this.httpClient.get("_history",zt(e,t))}};b_.exports=__;b_.exports.CapabilityTool=qP});var D_=Q((Gk,Cm)=>{(function(){var n="ace",t=function(){return this}();if(!t&&typeof window<"u"&&(t=window),!n&&typeof requirejs<"u")return;var e=function(l,c,u){if(typeof l!="string"){e.original?e.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(u=c),e.modules[l]||(e.payloads[l]=u,e.modules[l]=null)};e.modules={},e.payloads={};var i=function(l,c,u){if(typeof c=="string"){var d=a(l,c);if(d!=null)return u&&u(),d}else if(Object.prototype.toString.call(c)==="[object Array]"){for(var h=[],m=0,f=c.length;m<f;++m){var p=a(l,c[m]);if(p==null&&r.original)return;h.push(p)}return u&&u.apply(null,h)||!0}},r=function(l,c){var u=i("",l,c);return u==null&&r.original?r.original.apply(this,arguments):u},s=function(l,c){if(c.indexOf("!")!==-1){var u=c.split("!");return s(l,u[0])+"!"+s(l,u[1])}if(c.charAt(0)=="."){var d=l.split("/").slice(0,-1).join("/");for(c=d+"/"+c;c.indexOf(".")!==-1&&h!=c;){var h=c;c=c.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return c},a=function(l,c){c=s(l,c);var u=e.modules[c];if(!u){if(u=e.payloads[c],typeof u=="function"){var d={},h={id:c,uri:"",exports:d,packaged:!0},m=function(p,g){return i(c,p,g)},f=u(m,d,h);d=f||h.exports,e.modules[c]=d,delete e.payloads[c]}u=e.modules[c]=d||u}return u};function o(l){var c=t;l&&(t[l]||(t[l]={}),c=t[l]),(!c.define||!c.define.packaged)&&(e.original=c.define,c.define=e,c.define.packaged=!0),(!c.require||!c.require.packaged)&&(r.original=c.require,c.require=r,c.require.packaged=!0)}o(n)})();ace.define("ace/lib/es6-shim",["require","exports","module"],function(n,t,e){function i(r,s,a){Object.defineProperty(r,s,{value:a,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||i(String.prototype,"startsWith",function(r,s){return s=s||0,this.lastIndexOf(r,s)===s}),String.prototype.endsWith||i(String.prototype,"endsWith",function(r,s){var a=this;(s===void 0||s>a.length)&&(s=a.length),s-=r.length;var o=a.indexOf(r,s);return o!==-1&&o===s}),String.prototype.repeat||i(String.prototype,"repeat",function(r){for(var s="",a=this;r>0;)r&1&&(s+=a),(r>>=1)&&(a+=a);return s}),String.prototype.includes||i(String.prototype,"includes",function(r,s){return this.indexOf(r,s)!=-1}),Object.assign||(Object.assign=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(r),a=1;a<arguments.length;a++){var o=arguments[a];o!=null&&Object.keys(o).forEach(function(l){s[l]=o[l]})}return s}),Object.values||(Object.values=function(r){return Object.keys(r).map(function(s){return r[s]})}),Array.prototype.find||i(Array.prototype,"find",function(r){for(var s=this.length,a=arguments[1],o=0;o<s;o++){var l=this[o];if(r.call(a,l,o,this))return l}}),Array.prototype.findIndex||i(Array.prototype,"findIndex",function(r){for(var s=this.length,a=arguments[1],o=0;o<s;o++){var l=this[o];if(r.call(a,l,o,this))return o}}),Array.prototype.includes||i(Array.prototype,"includes",function(r,s){return this.indexOf(r,s)!=-1}),Array.prototype.fill||i(Array.prototype,"fill",function(r){for(var s=this,a=s.length>>>0,o=arguments[1],l=o>>0,c=l<0?Math.max(a+l,0):Math.min(l,a),u=arguments[2],d=u===void 0?a:u>>0,h=d<0?Math.max(a+d,0):Math.min(d,a);c<h;)s[c]=r,c++;return s}),Array.of||i(Array,"of",function(){return Array.prototype.slice.call(arguments)})});ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(n,t,e){"use strict";n("./es6-shim")});ace.define("ace/lib/deep_copy",["require","exports","module"],function(n,t,e){t.deepCopy=function i(r){if(typeof r!="object"||!r)return r;var s;if(Array.isArray(r)){s=[];for(var a=0;a<r.length;a++)s[a]=i(r[a]);return s}if(Object.prototype.toString.call(r)!=="[object Object]")return r;s={};for(var a in r)s[a]=i(r[a]);return s}});ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(n,t,e){"use strict";t.last=function(s){return s[s.length-1]},t.stringReverse=function(s){return s.split("").reverse().join("")},t.stringRepeat=function(s,a){for(var o="";a>0;)a&1&&(o+=s),(a>>=1)&&(s+=s);return o};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(s){return s.replace(i,"")},t.stringTrimRight=function(s){return s.replace(r,"")},t.copyObject=function(s){var a={};for(var o in s)a[o]=s[o];return a},t.copyArray=function(s){for(var a=[],o=0,l=s.length;o<l;o++)s[o]&&typeof s[o]=="object"?a[o]=this.copyObject(s[o]):a[o]=s[o];return a},t.deepCopy=n("./deep_copy").deepCopy,t.arrayToMap=function(s){for(var a={},o=0;o<s.length;o++)a[s[o]]=1;return a},t.createMap=function(s){var a=Object.create(null);for(var o in s)a[o]=s[o];return a},t.arrayRemove=function(s,a){for(var o=0;o<=s.length;o++)a===s[o]&&s.splice(o,1)},t.escapeRegExp=function(s){return s.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(s){return(""+s).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(s,a){var o=[];return s.replace(a,function(l){o.push({offset:arguments[arguments.length-2],length:l.length})}),o},t.deferredCall=function(s){var a=null,o=function(){a=null,s()},l=function(c){return l.cancel(),a=setTimeout(o,c||0),l};return l.schedule=l,l.call=function(){return this.cancel(),s(),l},l.cancel=function(){return clearTimeout(a),a=null,l},l.isPending=function(){return a},l},t.delayedCall=function(s,a){var o=null,l=function(){o=null,s()},c=function(u){o==null&&(o=setTimeout(l,u||a))};return c.delay=function(u){o&&clearTimeout(o),o=setTimeout(l,u||a)},c.schedule=c,c.call=function(){this.cancel(),s()},c.cancel=function(){o&&clearTimeout(o),o=null},c.isPending=function(){return o},c},t.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},t.skipEmptyMatch=function(s,a,o){return o&&s.codePointAt(a)>65535?2:1}});ace.define("ace/lib/useragent",["require","exports","module"],function(n,t,e){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var i=typeof navigator=="object"?navigator:{},r=(/mac|win|linux/i.exec(i.platform)||["other"])[0].toLowerCase(),s=i.userAgent||"",a=i.appName||"";t.isWin=r=="win",t.isMac=r=="mac",t.isLinux=r=="linux",t.isIE=a=="Microsoft Internet Explorer"||a.indexOf("MSAppHost")>=0?parseFloat((s.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((s.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=s.match(/ Gecko\/\d+/),t.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",t.isWebKit=parseFloat(s.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(s.split(" Chrome/")[1])||void 0,t.isSafari=parseFloat(s.split(" Safari/")[1])&&!t.isChrome||void 0,t.isEdge=parseFloat(s.split(" Edge/")[1])||void 0,t.isAIR=s.indexOf("AdobeAIR")>=0,t.isAndroid=s.indexOf("Android")>=0,t.isChromeOS=s.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(s)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid});ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(n,t,e){"use strict";var i=n("./useragent"),r="http://www.w3.org/1999/xhtml";t.buildDom=function u(d,h,m){if(typeof d=="string"&&d){var f=document.createTextNode(d);return h&&h.appendChild(f),f}if(!Array.isArray(d))return d&&d.appendChild&&h&&h.appendChild(d),d;if(typeof d[0]!="string"||!d[0]){for(var p=[],g=0;g<d.length;g++){var y=u(d[g],h,m);y&&p.push(y)}return p}var w=document.createElement(d[0]),k=d[1],x=1;k&&typeof k=="object"&&!Array.isArray(k)&&(x=2);for(var g=x;g<d.length;g++)u(d[g],w,m);return x==2&&Object.keys(k).forEach(function(C){var A=k[C];C==="class"?w.className=Array.isArray(A)?A.join(" "):A:typeof A=="function"||C=="value"||C[0]=="$"?w[C]=A:C==="ref"?m&&(m[A]=w):C==="style"?typeof A=="string"&&(w.style.cssText=A):A!=null&&w.setAttribute(C,A)}),h&&h.appendChild(w),w},t.getDocumentHead=function(u){return u||(u=document),u.head||u.getElementsByTagName("head")[0]||u.documentElement},t.createElement=function(u,d){return document.createElementNS?document.createElementNS(d||r,u):document.createElement(u)},t.removeChildren=function(u){u.innerHTML=""},t.createTextNode=function(u,d){var h=d?d.ownerDocument:document;return h.createTextNode(u)},t.createFragment=function(u){var d=u?u.ownerDocument:document;return d.createDocumentFragment()},t.hasCssClass=function(u,d){var h=(u.className+"").split(/\s+/g);return h.indexOf(d)!==-1},t.addCssClass=function(u,d){t.hasCssClass(u,d)||(u.className+=" "+d)},t.removeCssClass=function(u,d){for(var h=u.className.split(/\s+/g);;){var m=h.indexOf(d);if(m==-1)break;h.splice(m,1)}u.className=h.join(" ")},t.toggleCssClass=function(u,d){for(var h=u.className.split(/\s+/g),m=!0;;){var f=h.indexOf(d);if(f==-1)break;m=!1,h.splice(f,1)}return m&&h.push(d),u.className=h.join(" "),m},t.setCssClass=function(u,d,h){h?t.addCssClass(u,d):t.removeCssClass(u,d)},t.hasCssString=function(u,d){var h=0,m;if(d=d||document,m=d.querySelectorAll("style")){for(;h<m.length;)if(m[h++].id===u)return!0}},t.removeElementById=function(u,d){d=d||document,d.getElementById(u)&&d.getElementById(u).remove()};var s,a=[];t.useStrictCSP=function(u){s=u,u==!1?o():a||(a=[])};function o(){var u=a;a=null,u&&u.forEach(function(d){l(d[0],d[1])})}function l(u,d,h){if(!(typeof document>"u")){if(a){if(h)o();else if(h===!1)return a.push([u,d])}if(!s){var m=h;!h||!h.getRootNode?m=document:(m=h.getRootNode(),(!m||m==h)&&(m=document));var f=m.ownerDocument||m;if(d&&t.hasCssString(d,m))return null;d&&(u+=`
/*# sourceURL=ace/css/`+d+" */");var p=t.createElement("style");p.appendChild(f.createTextNode(u)),d&&(p.id=d),m==f&&(m=t.getDocumentHead(f)),m.insertBefore(p,m.firstChild)}}}if(t.importCssString=l,t.importCssStylsheet=function(u,d){t.buildDom(["link",{rel:"stylesheet",href:u}],t.getDocumentHead(d))},t.$fixPositionBug=function(u){var d=u.getBoundingClientRect();if(u.style.left){var h=parseFloat(u.style.left),m=+d.left;Math.abs(h-m)>1&&(u.style.left=2*h-m+"px")}if(u.style.right){var h=parseFloat(u.style.right),m=window.innerWidth-d.right;Math.abs(h-m)>1&&(u.style.right=2*h-m+"px")}if(u.style.top){var h=parseFloat(u.style.top),m=+d.top;Math.abs(h-m)>1&&(u.style.top=2*h-m+"px")}if(u.style.bottom){var h=parseFloat(u.style.bottom),m=window.innerHeight-d.bottom;Math.abs(h-m)>1&&(u.style.bottom=2*h-m+"px")}},t.scrollbarWidth=function(u){var d=t.createElement("ace_inner");d.style.width="100%",d.style.minWidth="0px",d.style.height="200px",d.style.display="block";var h=t.createElement("ace_outer"),m=h.style;m.position="absolute",m.left="-10000px",m.overflow="hidden",m.width="200px",m.minWidth="0px",m.height="150px",m.display="block",h.appendChild(d);var f=u&&u.documentElement||document&&document.documentElement;if(!f)return 0;f.appendChild(h);var p=d.offsetWidth;m.overflow="scroll";var g=d.offsetWidth;return p===g&&(g=h.clientWidth),f.removeChild(h),p-g},t.computedStyle=function(u,d){return window.getComputedStyle(u,"")||{}},t.setStyle=function(u,d,h){u[d]!==h&&(u[d]=h)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=i.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,i.isChromeOS&&(t.HI_DPI=!1),typeof document<"u"){var c=document.createElement("div");t.HI_DPI&&c.style.transform!==void 0&&(t.HAS_CSS_TRANSFORMS=!0),!i.isEdge&&typeof c.style.animationName<"u"&&(t.HAS_CSS_ANIMATION=!0),c=null}t.HAS_CSS_TRANSFORMS?t.translate=function(u,d,h){u.style.transform="translate("+Math.round(d)+"px, "+Math.round(h)+"px)"}:t.translate=function(u,d,h){u.style.top=Math.round(h)+"px",u.style.left=Math.round(d)+"px"}});ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,t,e){"use strict";var i=n("./dom");t.get=function(r,s){var a=new XMLHttpRequest;a.open("GET",r,!0),a.onreadystatechange=function(){a.readyState===4&&s(a.responseText)},a.send(null)},t.loadScript=function(r,s){var a=i.getDocumentHead(),o=document.createElement("script");o.src=r,a.appendChild(o),o.onload=o.onreadystatechange=function(l,c){(c||!o.readyState||o.readyState=="loaded"||o.readyState=="complete")&&(o=o.onload=o.onreadystatechange=null,c||s())}},t.qualifyURL=function(r){var s=document.createElement("a");return s.href=r,s.href}});ace.define("ace/lib/oop",["require","exports","module"],function(n,t,e){"use strict";t.inherits=function(i,r){i.super_=r,i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(i,r){for(var s in r)i[s]=r[s];return i},t.implement=function(i,r){t.mixin(i,r)}});ace.define("ace/lib/event_emitter",["require","exports","module"],function(n,t,e){"use strict";var i={},r=function(){this.propagationStopped=!0},s=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(a,o){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var l=this._eventRegistry[a]||[],c=this._defaultHandlers[a];if(!(!l.length&&!c)){(typeof o!="object"||!o)&&(o={}),o.type||(o.type=a),o.stopPropagation||(o.stopPropagation=r),o.preventDefault||(o.preventDefault=s),l=l.slice();for(var u=0;u<l.length&&(l[u](o,this),!o.propagationStopped);u++);if(c&&!o.defaultPrevented)return c(o,this)}},i._signal=function(a,o){var l=(this._eventRegistry||{})[a];if(l){l=l.slice();for(var c=0;c<l.length;c++)l[c](o,this)}},i.once=function(a,o){var l=this;if(this.on(a,function c(){l.off(a,c),o.apply(null,arguments)}),!o)return new Promise(function(c){o=c})},i.setDefaultHandler=function(a,o){var l=this._defaultHandlers;if(l||(l=this._defaultHandlers={_disabled_:{}}),l[a]){var c=l[a],u=l._disabled_[a];u||(l._disabled_[a]=u=[]),u.push(c);var d=u.indexOf(o);d!=-1&&u.splice(d,1)}l[a]=o},i.removeDefaultHandler=function(a,o){var l=this._defaultHandlers;if(l){var c=l._disabled_[a];if(l[a]==o)c&&this.setDefaultHandler(a,c.pop());else if(c){var u=c.indexOf(o);u!=-1&&c.splice(u,1)}}},i.on=i.addEventListener=function(a,o,l){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[a];return c||(c=this._eventRegistry[a]=[]),c.indexOf(o)==-1&&c[l?"unshift":"push"](o),o},i.off=i.removeListener=i.removeEventListener=function(a,o){this._eventRegistry=this._eventRegistry||{};var l=this._eventRegistry[a];if(l){var c=l.indexOf(o);c!==-1&&l.splice(c,1)}},i.removeAllListeners=function(a){a||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[a]=void 0),this._defaultHandlers&&(this._defaultHandlers[a]=void 0)},t.EventEmitter=i});ace.define("ace/lib/report_error",["require","exports","module"],function(n,t,e){t.reportError=function(r,s){var a=new Error(r);a.data=s,typeof console=="object"&&console.error&&console.error(a),setTimeout(function(){throw a})}});ace.define("ace/lib/default_english_messages",["require","exports","module"],function(n,t,e){var i={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};t.defaultEnglishMessages=i});ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(n,t,e){"no use strict";var i=n("./oop"),r=n("./event_emitter").EventEmitter,s=n("./report_error").reportError,a=n("./default_english_messages").defaultEnglishMessages,o={setOptions:function(h){Object.keys(h).forEach(function(m){this.setOption(m,h[m])},this)},getOptions:function(h){var m={};if(h)Array.isArray(h)||(h=Object.keys(h));else{var f=this.$options;h=Object.keys(f).filter(function(p){return!f[p].hidden})}return h.forEach(function(p){m[p]=this.getOption(p)},this),m},setOption:function(h,m){if(this["$"+h]!==m){var f=this.$options[h];if(!f)return l('misspelled option "'+h+'"');if(f.forwardTo)return this[f.forwardTo]&&this[f.forwardTo].setOption(h,m);f.handlesSet||(this["$"+h]=m),f&&f.set&&f.set.call(this,m)}},getOption:function(h){var m=this.$options[h];return m?m.forwardTo?this[m.forwardTo]&&this[m.forwardTo].getOption(h):m&&m.get?m.get.call(this):this["$"+h]:l('misspelled option "'+h+'"')}};function l(h){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var c,u,d=function(){function h(){this.$defaultOptions={},c=a,u="dollarSigns"}return h.prototype.defineOptions=function(m,f,p){return m.$options||(this.$defaultOptions[f]=m.$options={}),Object.keys(p).forEach(function(g){var y=p[g];typeof y=="string"&&(y={forwardTo:y}),y.name||(y.name=g),m.$options[y.name]=y,"initialValue"in y&&(m["$"+y.name]=y.initialValue)}),i.implement(m,o),this},h.prototype.resetOptions=function(m){Object.keys(m.$options).forEach(function(f){var p=m.$options[f];"value"in p&&m.setOption(f,p.value)})},h.prototype.setDefaultValue=function(m,f,p){if(!m){for(m in this.$defaultOptions)if(this.$defaultOptions[m][f])break;if(!this.$defaultOptions[m][f])return!1}var g=this.$defaultOptions[m]||(this.$defaultOptions[m]={});g[f]&&(g.forwardTo?this.setDefaultValue(g.forwardTo,f,p):g[f].value=p)},h.prototype.setDefaultValues=function(m,f){Object.keys(f).forEach(function(p){this.setDefaultValue(m,p,f[p])},this)},h.prototype.setMessages=function(m,f){c=m,f&&f.placeholders&&(u=f.placeholders)},h.prototype.nls=function(m,f,p){c[m]||(l("No message found for the key '"+m+"' in messages with id "+c.$id+", trying to find a translation for the default string '"+f+"'."),c[f]||l("No message found for the default string '"+f+"' in the provided messages. Falling back to the default English message."));var g=c[m]||c[f]||f;return p&&(u==="dollarSigns"&&(g=g.replace(/\$(\$|[\d]+)/g,function(y,w){return w=="$"?"$":p[w]})),u==="curlyBrackets"&&(g=g.replace(/\{([^\}]+)\}/g,function(y,w){return p[w]}))),g},h}();d.prototype.warn=l,d.prototype.reportError=s,i.implement(d.prototype,r),t.AppConfig=d});ace.define("ace/theme/textmate-css",["require","exports","module"],function(n,t,e){e.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`});ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(n,t,e){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=n("./textmate-css"),t.$id="ace/theme/textmate";var i=n("../lib/dom");i.importCssString(t.cssText,t.cssClass,!1)});ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(n,t,e){"no use strict";var i=n("./lib/lang"),r=n("./lib/net"),s=n("./lib/dom"),a=n("./lib/app_config").AppConfig;e.exports=t=new a;var o={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(d){if(!o.hasOwnProperty(d))throw new Error("Unknown config key: "+d);return o[d]},t.set=function(d,h){if(o.hasOwnProperty(d))o[d]=h;else if(this.setDefaultValue("",d,h)==!1)throw new Error("Unknown config key: "+d);d=="useStrictCSP"&&s.useStrictCSP(h)},t.all=function(){return i.copyObject(o)},t.$modes={},t.moduleUrl=function(d,h){if(o.$moduleUrls[d])return o.$moduleUrls[d];var m=d.split("/");h=h||m[m.length-2]||"";var f=h=="snippets"?"/":"-",p=m[m.length-1];if(h=="worker"&&f=="-"){var g=new RegExp("^"+h+"[\\-_]|[\\-_]"+h+"$","g");p=p.replace(g,"")}(!p||p==h)&&m.length>1&&(p=m[m.length-2]);var y=o[h+"Path"];return y==null?y=o.basePath:f=="/"&&(h=f=""),y&&y.slice(-1)!="/"&&(y+="/"),y+h+f+p+this.get("suffix")},t.setModuleUrl=function(d,h){return o.$moduleUrls[d]=h};var l=function(d,h){if(d==="ace/theme/textmate"||d==="./theme/textmate")return h(null,n("./theme/textmate"));if(c)return c(d,h);console.error("loader is not configured")},c;t.setLoader=function(d){c=d},t.dynamicModules=Object.create(null),t.$loading={},t.$loaded={},t.loadModule=function(d,h){var m;if(Array.isArray(d))var f=d[0],p=d[1];else if(typeof d=="string")var p=d;var g=function(y){if(y&&!t.$loading[p])return h&&h(y);if(t.$loading[p]||(t.$loading[p]=[]),t.$loading[p].push(h),!(t.$loading[p].length>1)){var w=function(){l(p,function(k,x){x&&(t.$loaded[p]=x),t._emit("load.module",{name:p,module:x});var C=t.$loading[p];t.$loading[p]=null,C.forEach(function(A){A&&A(x)})})};if(!t.get("packaged"))return w();r.loadScript(t.moduleUrl(p,f),w),u()}};if(t.dynamicModules[p])t.dynamicModules[p]().then(function(y){y.default?g(y.default):g(y)});else{try{m=this.$require(p)}catch{}g(m||t.$loaded[p])}},t.$require=function(d){if(typeof e.require=="function"){var h="require";return e[h](d)}},t.setModuleLoader=function(d,h){t.dynamicModules[d]=h};var u=function(){!o.basePath&&!o.workerPath&&!o.modePath&&!o.themePath&&!Object.keys(o.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),u=function(){})};t.version="1.43.5"});ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(n,t,e){"use strict";n("./lib/fixoldbrowsers");var i=n("./config");i.setLoader(function(o,l){n([o],function(c){l(null,c)})});var r=function(){return this||typeof window<"u"&&window}();e.exports=function(o){i.init=s,i.$require=n,o.require=n,typeof define=="function"&&(o.define=define)},s(!0);function s(o){if(!(!r||!r.document)){i.set("packaged",o||n.packaged||e.packaged||r.define&&define.packaged);var l={},c="",u=document.currentScript||document._currentScript,d=u&&u.ownerDocument||document;u&&u.src&&(c=u.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var h=d.getElementsByTagName("script"),m=0;m<h.length;m++){var f=h[m],p=f.src||f.getAttribute("src");if(p){for(var g=f.attributes,y=0,w=g.length;y<w;y++){var k=g[y];k.name.indexOf("data-ace-")===0&&(l[a(k.name.replace(/^data-ace-/,""))]=k.value)}var x=p.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);x&&(c=x[1])}}c&&(l.base=l.base||c,l.packaged=!0),l.basePath=l.base,l.workerPath=l.workerPath||l.base,l.modePath=l.modePath||l.base,l.themePath=l.themePath||l.base,delete l.base;for(var C in l)typeof l[C]<"u"&&i.set(C,l[C])}}function a(o){return o.replace(/-(.)/g,function(l,c){return c.toUpperCase()})}});ace.define("ace/range",["require","exports","module"],function(n,t,e){"use strict";var i=function(){function r(s,a,o,l){this.start={row:s,column:a},this.end={row:o,column:l}}return r.prototype.isEqual=function(s){return this.start.row===s.start.row&&this.end.row===s.end.row&&this.start.column===s.start.column&&this.end.column===s.end.column},r.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},r.prototype.contains=function(s,a){return this.compare(s,a)==0},r.prototype.compareRange=function(s){var a,o=s.end,l=s.start;return a=this.compare(o.row,o.column),a==1?(a=this.compare(l.row,l.column),a==1?2:a==0?1:0):a==-1?-2:(a=this.compare(l.row,l.column),a==-1?-1:a==1?42:0)},r.prototype.comparePoint=function(s){return this.compare(s.row,s.column)},r.prototype.containsRange=function(s){return this.comparePoint(s.start)==0&&this.comparePoint(s.end)==0},r.prototype.intersects=function(s){var a=this.compareRange(s);return a==-1||a==0||a==1},r.prototype.isEnd=function(s,a){return this.end.row==s&&this.end.column==a},r.prototype.isStart=function(s,a){return this.start.row==s&&this.start.column==a},r.prototype.setStart=function(s,a){typeof s=="object"?(this.start.column=s.column,this.start.row=s.row):(this.start.row=s,this.start.column=a)},r.prototype.setEnd=function(s,a){typeof s=="object"?(this.end.column=s.column,this.end.row=s.row):(this.end.row=s,this.end.column=a)},r.prototype.inside=function(s,a){return this.compare(s,a)==0?!(this.isEnd(s,a)||this.isStart(s,a)):!1},r.prototype.insideStart=function(s,a){return this.compare(s,a)==0?!this.isEnd(s,a):!1},r.prototype.insideEnd=function(s,a){return this.compare(s,a)==0?!this.isStart(s,a):!1},r.prototype.compare=function(s,a){return!this.isMultiLine()&&s===this.start.row?a<this.start.column?-1:a>this.end.column?1:0:s<this.start.row?-1:s>this.end.row?1:this.start.row===s?a>=this.start.column?0:-1:this.end.row===s?a<=this.end.column?0:1:0},r.prototype.compareStart=function(s,a){return this.start.row==s&&this.start.column==a?-1:this.compare(s,a)},r.prototype.compareEnd=function(s,a){return this.end.row==s&&this.end.column==a?1:this.compare(s,a)},r.prototype.compareInside=function(s,a){return this.end.row==s&&this.end.column==a?1:this.start.row==s&&this.start.column==a?-1:this.compare(s,a)},r.prototype.clipRows=function(s,a){if(this.end.row>a)var o={row:a+1,column:0};else if(this.end.row<s)var o={row:s,column:0};if(this.start.row>a)var l={row:a+1,column:0};else if(this.start.row<s)var l={row:s,column:0};return r.fromPoints(l||this.start,o||this.end)},r.prototype.extend=function(s,a){var o=this.compare(s,a);if(o==0)return this;if(o==-1)var l={row:s,column:a};else var c={row:s,column:a};return r.fromPoints(l||this.start,c||this.end)},r.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},r.prototype.isMultiLine=function(){return this.start.row!==this.end.row},r.prototype.clone=function(){return r.fromPoints(this.start,this.end)},r.prototype.collapseRows=function(){return this.end.column==0?new r(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new r(this.start.row,0,this.end.row,0)},r.prototype.toScreenRange=function(s){var a=s.documentToScreenPosition(this.start),o=s.documentToScreenPosition(this.end);return new r(a.row,a.column,o.row,o.column)},r.prototype.moveBy=function(s,a){this.start.row+=s,this.start.column+=a,this.end.row+=s,this.end.column+=a},r}();i.fromPoints=function(r,s){return new i(r.row,r.column,s.row,s.column)},i.comparePoints=function(r,s){return r.row-s.row||r.column-s.column},t.Range=i});ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(n,t,e){"use strict";for(var i=n("./oop"),r={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},s={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},a=0;a<10;a++)s["Digit"+a]=48+a,s["Numpad"+a]=96+a,r.PRINTABLE_KEYS[48+a]=""+a,r.FUNCTION_KEYS[96+a]="Numpad"+a;for(var a=65;a<91;a++){var o=String.fromCharCode(a+32);s["Key"+o.toUpperCase()]=a,r.PRINTABLE_KEYS[a]=o}for(var a=1;a<13;a++)s["F"+a]=111+a,r.FUNCTION_KEYS[111+a]="F"+a;var l={Shift:16,Control:17,Alt:18,Meta:224};for(var c in l)s[c]=s[c+"Left"]=s[c+"Right"]=l[c];t.$codeToKeyCode=s,r.PRINTABLE_KEYS[173]="-";for(var u in r.FUNCTION_KEYS){var d=r.FUNCTION_KEYS[u].toLowerCase();r[d]=parseInt(u,10)}for(var u in r.PRINTABLE_KEYS){var d=r.PRINTABLE_KEYS[u].toLowerCase();r[d]=parseInt(u,10)}i.mixin(r,r.MODIFIER_KEYS),i.mixin(r,r.PRINTABLE_KEYS),i.mixin(r,r.FUNCTION_KEYS),r.enter=r.return,r.escape=r.esc,r.del=r.delete,function(){for(var h=["cmd","ctrl","alt","shift"],m=Math.pow(2,h.length);m--;)r.KEY_MODS[m]=h.filter(function(f){return m&r.KEY_MODS[f]}).join("-")+"-"}(),r.KEY_MODS[0]="",r.KEY_MODS[-1]="input-",i.mixin(t,r),t.default=t,t.keyCodeToString=function(h){var m=r[h];return typeof m!="string"&&(m=String.fromCharCode(h)),m.toLowerCase()}});ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,t,e){"use strict";var i=n("./keys"),r=n("./useragent"),s=null,a=0,o;function l(){o=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return o={passive:!1},!0}})}catch{}}function c(){return o==null&&l(),o}function u(y,w,k){this.elem=y,this.type=w,this.callback=k}u.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var d=t.addListener=function(y,w,k,x){y.addEventListener(w,k,c()),x&&x.$toDestroy.push(new u(y,w,k))},h=t.removeListener=function(y,w,k){y.removeEventListener(w,k,c())};t.stopEvent=function(y){return t.stopPropagation(y),t.preventDefault(y),!1},t.stopPropagation=function(y){y.stopPropagation&&y.stopPropagation()},t.preventDefault=function(y){y.preventDefault&&y.preventDefault()},t.getButton=function(y){return y.type=="dblclick"?0:y.type=="contextmenu"||r.isMac&&y.ctrlKey&&!y.altKey&&!y.shiftKey?2:y.button},t.capture=function(y,w,k){var x=y&&y.ownerDocument||document;function C(A){w&&w(A),k&&k(A),h(x,"mousemove",w),h(x,"mouseup",C),h(x,"dragstart",C)}return d(x,"mousemove",w),d(x,"mouseup",C),d(x,"dragstart",C),C},t.addMouseWheelListener=function(y,w,k){d(y,"wheel",function(x){var C=.15,A=x.deltaX||0,T=x.deltaY||0;switch(x.deltaMode){case x.DOM_DELTA_PIXEL:x.wheelX=A*C,x.wheelY=T*C;break;case x.DOM_DELTA_LINE:var E=15;x.wheelX=A*E,x.wheelY=T*E;break;case x.DOM_DELTA_PAGE:var L=150;x.wheelX=A*L,x.wheelY=T*L;break}w(x)},k)},t.addMultiMouseDownListener=function(y,w,k,x,C){var A=0,T,E,L,S={2:"dblclick",3:"tripleclick",4:"quadclick"};function v(_){if(t.getButton(_)!==0?A=0:_.detail>1?(A++,A>4&&(A=1)):A=1,r.isIE){var b=Math.abs(_.clientX-T)>5||Math.abs(_.clientY-E)>5;(!L||b)&&(A=1),L&&clearTimeout(L),L=setTimeout(function(){L=null},w[A-1]||600),A==1&&(T=_.clientX,E=_.clientY)}if(_._clicks=A,k[x]("mousedown",_),A>4)A=0;else if(A>1)return k[x](S[A],_)}Array.isArray(y)||(y=[y]),y.forEach(function(_){d(_,"mousedown",v,C)})};function m(y){return 0|(y.ctrlKey?1:0)|(y.altKey?2:0)|(y.shiftKey?4:0)|(y.metaKey?8:0)}t.getModifierString=function(y){return i.KEY_MODS[m(y)]};function f(y,w,k){var x=m(w);if(!k&&w.code&&(k=i.$codeToKeyCode[w.code]||k),!r.isMac&&s){if(w.getModifierState&&(w.getModifierState("OS")||w.getModifierState("Win"))&&(x|=8),s.altGr)if((3&x)!=3)s.altGr=0;else return;if(k===18||k===17){var C=w.location;if(k===17&&C===1)s[k]==1&&(a=w.timeStamp);else if(k===18&&x===3&&C===2){var A=w.timeStamp-a;A<50&&(s.altGr=!0)}}}if(k in i.MODIFIER_KEYS&&(k=-1),!(!x&&k===13&&w.location===3&&(y(w,x,-k),w.defaultPrevented))){if(r.isChromeOS&&x&8){if(y(w,x,k),w.defaultPrevented)return;x&=-9}return!x&&!(k in i.FUNCTION_KEYS)&&!(k in i.PRINTABLE_KEYS)?!1:y(w,x,k)}}t.addCommandKeyListener=function(y,w,k){var x=null;d(y,"keydown",function(C){s[C.keyCode]=(s[C.keyCode]||0)+1;var A=f(w,C,C.keyCode);return x=C.defaultPrevented,A},k),d(y,"keypress",function(C){x&&(C.ctrlKey||C.altKey||C.shiftKey||C.metaKey)&&(t.stopEvent(C),x=null)},k),d(y,"keyup",function(C){s[C.keyCode]=null},k),s||(p(),d(window,"focus",p))};function p(){s=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!r.isOldIE){var g=1;t.nextTick=function(y,w){w=w||window;var k="zero-timeout-message-"+g++,x=function(C){C.data==k&&(t.stopPropagation(C),h(w,"message",x),y())};d(w,"message",x),w.postMessage(k,"*")}}t.$idleBlocked=!1,t.onIdle=function(y,w){return setTimeout(function k(){t.$idleBlocked?setTimeout(k,100):y()},w)},t.$idleBlockId=null,t.blockIdle=function(y){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout(function(){t.$idleBlocked=!1},y||100)},t.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(y){setTimeout(y,17)}});ace.define("ace/clipboard",["require","exports","module"],function(n,t,e){"use strict";var i;e.exports={lineMode:!1,pasteCancelled:function(){return i&&i>Date.now()-50?!0:i=!1},cancel:function(){i=Date.now()}}});ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(n,t,e){"use strict";var i=n("../lib/event"),r=n("../config").nls,s=n("../lib/useragent"),a=n("../lib/dom"),o=n("../lib/lang"),l=n("../clipboard"),c=s.isChrome<18,u=s.isIE,d=s.isChrome>63,h=400,m=n("../lib/keys"),f=m.KEY_MODS,p=s.isIOS,g=p?/\s/:/\n/,y=s.isMobile,w=function(){function k(x,C){var A=this;this.host=C,this.text=a.createElement("textarea"),this.text.className="ace_text-input",this.text.setAttribute("wrap","off"),this.text.setAttribute("autocomplete","off"),this.text.setAttribute("autocorrect","off"),this.text.setAttribute("autocapitalize","off"),this.text.setAttribute("spellcheck","false"),this.text.style.opacity="0",x.insertBefore(this.text,x.firstChild),this.copied=!1,this.pasted=!1,this.inComposition=!1,this.sendingText=!1,this.tempStyle="",y||(this.text.style.fontSize="1px"),this.commandMode=!1,this.ignoreFocusEvents=!1,this.lastValue="",this.lastSelectionStart=0,this.lastSelectionEnd=0,this.lastRestoreEnd=0,this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,this.numberOfExtraLines=0;try{this.$isFocused=document.activeElement===this.text}catch{}this.cancelComposition=this.cancelComposition.bind(this),this.setAriaOptions({role:"textbox"}),i.addListener(this.text,"blur",function(T){A.ignoreFocusEvents||(C.onBlur(T),A.$isFocused=!1)},C),i.addListener(this.text,"focus",function(T){if(!A.ignoreFocusEvents){if(A.$isFocused=!0,s.isEdge)try{if(!document.hasFocus())return}catch{}C.onFocus(T),s.isEdge?setTimeout(A.resetSelection.bind(A)):A.resetSelection()}},C),this.$focusScroll=!1,C.on("beforeEndOperation",function(){var T=C.curOp,E=T&&T.command&&T.command.name;if(E!="insertstring"){var L=E&&(T.docChanged||T.selectionChanged);A.inComposition&&L&&(A.lastValue=A.text.value="",A.onCompositionEnd()),A.resetSelection()}}),C.on("changeSelection",this.setAriaLabel.bind(this)),this.resetSelection=p?this.$resetSelectionIOS:this.$resetSelection,this.$isFocused&&C.onFocus(),this.inputHandler=null,this.afterContextMenu=!1,i.addCommandKeyListener(this.text,function(T,E,L){if(!A.inComposition)return C.onCommandKey(T,E,L)},C),i.addListener(this.text,"select",this.onSelect.bind(this),C),i.addListener(this.text,"input",this.onInput.bind(this),C),i.addListener(this.text,"cut",this.onCut.bind(this),C),i.addListener(this.text,"copy",this.onCopy.bind(this),C),i.addListener(this.text,"paste",this.onPaste.bind(this),C),(!("oncut"in this.text)||!("oncopy"in this.text)||!("onpaste"in this.text))&&i.addListener(x,"keydown",function(T){if(!(s.isMac&&!T.metaKey||!T.ctrlKey))switch(T.keyCode){case 67:A.onCopy(T);break;case 86:A.onPaste(T);break;case 88:A.onCut(T);break}},C),this.syncComposition=o.delayedCall(this.onCompositionUpdate.bind(this),50).schedule.bind(null,null),i.addListener(this.text,"compositionstart",this.onCompositionStart.bind(this),C),i.addListener(this.text,"compositionupdate",this.onCompositionUpdate.bind(this),C),i.addListener(this.text,"keyup",this.onKeyup.bind(this),C),i.addListener(this.text,"keydown",this.syncComposition.bind(this),C),i.addListener(this.text,"compositionend",this.onCompositionEnd.bind(this),C),this.closeTimeout,i.addListener(this.text,"mouseup",this.$onContextMenu.bind(this),C),i.addListener(this.text,"mousedown",function(T){T.preventDefault(),A.onContextMenuClose()},C),i.addListener(C.renderer.scroller,"contextmenu",this.$onContextMenu.bind(this),C),i.addListener(this.text,"contextmenu",this.$onContextMenu.bind(this),C),p&&this.addIosSelectionHandler(x,C,this.text)}return k.prototype.addIosSelectionHandler=function(x,C,A){var T=this,E=null,L=!1;A.addEventListener("keydown",function(v){E&&clearTimeout(E),L=!0},!0),A.addEventListener("keyup",function(v){E=setTimeout(function(){L=!1},100)},!0);var S=function(v){if(document.activeElement===A&&!(L||T.inComposition||C.$mouseHandler.isMousePressed)&&!T.copied){var _=A.selectionStart,b=A.selectionEnd,M=null,I=0;if(_==0?M=m.up:_==1?M=m.home:b>T.lastSelectionEnd&&T.lastValue[b]==`
`?M=m.end:_<T.lastSelectionStart&&T.lastValue[_-1]==" "?(M=m.left,I=f.option):_<T.lastSelectionStart||_==T.lastSelectionStart&&T.lastSelectionEnd!=T.lastSelectionStart&&_==b?M=m.left:b>T.lastSelectionEnd&&T.lastValue.slice(0,b).split(`
`).length>2?M=m.down:b>T.lastSelectionEnd&&T.lastValue[b-1]==" "?(M=m.right,I=f.option):(b>T.lastSelectionEnd||b==T.lastSelectionEnd&&T.lastSelectionEnd!=T.lastSelectionStart&&_==b)&&(M=m.right),_!==b&&(I|=f.shift),M){var D=C.onCommandKey({},I,M);if(!D&&C.commands){M=m.keyCodeToString(M);var O=C.commands.findKeyCommand(I,M);O&&C.execCommand(O)}T.lastSelectionStart=_,T.lastSelectionEnd=b,T.resetSelection("")}}};document.addEventListener("selectionchange",S),C.on("destroy",function(){document.removeEventListener("selectionchange",S)})},k.prototype.onContextMenuClose=function(){var x=this;clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout(function(){x.tempStyle&&(x.text.style.cssText=x.tempStyle,x.tempStyle=""),x.host.renderer.$isMousePressed=!1,x.host.renderer.$keepTextAreaAtCursor&&x.host.renderer.$moveTextAreaToCursor()},0)},k.prototype.$onContextMenu=function(x){this.host.textInput.onContextMenu(x),this.onContextMenuClose()},k.prototype.onKeyup=function(x){x.keyCode==27&&this.text.value.length<this.text.selectionStart&&(this.inComposition||(this.lastValue=this.text.value),this.lastSelectionStart=this.lastSelectionEnd=-1,this.resetSelection()),this.syncComposition()},k.prototype.cancelComposition=function(){this.ignoreFocusEvents=!0,this.text.blur(),this.text.focus(),this.ignoreFocusEvents=!1},k.prototype.onCompositionStart=function(x){if(!(this.inComposition||!this.host.onCompositionStart||this.host.$readOnly)&&(this.inComposition={},!this.commandMode)){x.data&&(this.inComposition.useTextareaForIME=!1),setTimeout(this.onCompositionUpdate.bind(this),0),this.host._signal("compositionStart"),this.host.on("mousedown",this.cancelComposition);var C=this.host.getSelectionRange();C.end.row=C.start.row,C.end.column=C.start.column,this.inComposition.markerRange=C,this.inComposition.selectionStart=this.lastSelectionStart,this.host.onCompositionStart(this.inComposition),this.inComposition.useTextareaForIME?(this.lastValue=this.text.value="",this.lastSelectionStart=0,this.lastSelectionEnd=0):(this.text.msGetInputContext&&(this.inComposition.context=this.text.msGetInputContext()),this.text.getInputContext&&(this.inComposition.context=this.text.getInputContext()))}},k.prototype.onCompositionUpdate=function(){if(!(!this.inComposition||!this.host.onCompositionUpdate||this.host.$readOnly)){if(this.commandMode)return this.cancelComposition();if(this.inComposition.useTextareaForIME)this.host.onCompositionUpdate(this.text.value);else{var x=this.text.value;this.sendText(x),this.inComposition.markerRange&&(this.inComposition.context&&(this.inComposition.markerRange.start.column=this.inComposition.selectionStart=this.inComposition.context.compositionStartOffset),this.inComposition.markerRange.end.column=this.inComposition.markerRange.start.column+this.lastSelectionEnd-this.inComposition.selectionStart+this.lastRestoreEnd)}}},k.prototype.onCompositionEnd=function(x){!this.host.onCompositionEnd||this.host.$readOnly||(this.inComposition=!1,this.host.onCompositionEnd(),this.host.off("mousedown",this.cancelComposition),x&&this.onInput())},k.prototype.onCut=function(x){this.doCopy(x,!0)},k.prototype.onCopy=function(x){this.doCopy(x,!1)},k.prototype.onPaste=function(x){var C=this.handleClipboardData(x);l.pasteCancelled()||(typeof C=="string"?(C&&this.host.onPaste(C,x),s.isIE&&setTimeout(this.resetSelection),i.preventDefault(x)):(this.text.value="",this.pasted=!0))},k.prototype.doCopy=function(x,C){var A=this,T=this.host.getCopyText();if(!T)return i.preventDefault(x);this.handleClipboardData(x,T)?(p&&(this.resetSelection(T),this.copied=T,setTimeout(function(){A.copied=!1},10)),C?this.host.onCut():this.host.onCopy(),i.preventDefault(x)):(this.copied=!0,this.text.value=T,this.text.select(),setTimeout(function(){A.copied=!1,A.resetSelection(),C?A.host.onCut():A.host.onCopy()}))},k.prototype.handleClipboardData=function(x,C,A){var T=x.clipboardData||window.clipboardData;if(!(!T||c)){var E=u||A?"Text":"text/plain";try{return C?T.setData(E,C)!==!1:T.getData(E)}catch(L){if(!A)return this.handleClipboardData(L,C,!0)}}},k.prototype.onInput=function(x){if(this.inComposition)return this.onCompositionUpdate();if(x&&x.inputType){if(x.inputType=="historyUndo")return this.host.execCommand("undo");if(x.inputType=="historyRedo")return this.host.execCommand("redo")}var C=this.text.value,A=this.sendText(C,!0);(C.length>h+100||g.test(A)||y&&this.lastSelectionStart<1&&this.lastSelectionStart==this.lastSelectionEnd)&&this.resetSelection()},k.prototype.sendText=function(x,C){if(this.afterContextMenu&&(this.afterContextMenu=!1),this.pasted)return this.resetSelection(),x&&this.host.onPaste(x),this.pasted=!1,"";for(var A=this.text.selectionStart,T=this.text.selectionEnd,E=this.lastSelectionStart,L=this.lastValue.length-this.lastSelectionEnd,S=x,v=x.length-A,_=x.length-T,b=0;E>0&&this.lastValue[b]==x[b];)b++,E--;for(S=S.slice(b),b=1;L>0&&this.lastValue.length-b>this.lastSelectionStart-1&&this.lastValue[this.lastValue.length-b]==x[x.length-b];)b++,L--;v-=b-1,_-=b-1;var M=S.length-b+1;if(M<0&&(E=-M,M=0),S=S.slice(0,M),!C&&!S&&!v&&!E&&!L&&!_)return"";this.sendingText=!0;var I=!1;return s.isAndroid&&S==". "&&(S="  ",I=!0),S&&!E&&!L&&!v&&!_||this.commandMode?this.host.onTextInput(S):this.host.onTextInput(S,{extendLeft:E,extendRight:L,restoreStart:v,restoreEnd:_}),this.sendingText=!1,this.lastValue=x,this.lastSelectionStart=A,this.lastSelectionEnd=T,this.lastRestoreEnd=_,I?`
`:S},k.prototype.onSelect=function(x){var C=this;if(!this.inComposition){var A=function(T){return T.selectionStart===0&&T.selectionEnd>=C.lastValue.length&&T.value===C.lastValue&&C.lastValue&&T.selectionEnd!==C.lastSelectionEnd};this.copied?this.copied=!1:A(this.text)?(this.host.selectAll(),this.resetSelection()):y&&this.text.selectionStart!=this.lastSelectionStart&&this.resetSelection()}},k.prototype.$resetSelectionIOS=function(x){if(!(!this.$isFocused||this.copied&&!x||this.sendingText)){x||(x="");var C=`
 ab`+x+`cde fg
`;C!=this.text.value&&(this.text.value=this.lastValue=C);var A=4,T=4+(x.length||(this.host.selection.isEmpty()?0:1));(this.lastSelectionStart!=A||this.lastSelectionEnd!=T)&&this.text.setSelectionRange(A,T),this.lastSelectionStart=A,this.lastSelectionEnd=T}},k.prototype.$resetSelection=function(){var x=this;if(!(this.inComposition||this.sendingText)&&!(!this.$isFocused&&!this.afterContextMenu)){this.inComposition=!0;var C=0,A=0,T="",E=function(O,N){for(var F=N,z=1;z<=O-x.rowStart&&z<2*x.numberOfExtraLines+1;z++)F+=x.host.session.getLine(O-z).length+1;return F};if(this.host.session){var L=this.host.selection,S=L.getRange(),v=L.cursor.row;v===this.rowEnd+1?(this.rowStart=this.rowEnd+1,this.rowEnd=this.rowStart+2*this.numberOfExtraLines):v===this.rowStart-1?(this.rowEnd=this.rowStart-1,this.rowStart=this.rowEnd-2*this.numberOfExtraLines):(v<this.rowStart-1||v>this.rowEnd+1)&&(this.rowStart=v>this.numberOfExtraLines?v-this.numberOfExtraLines:0,this.rowEnd=v>this.numberOfExtraLines?v+this.numberOfExtraLines:2*this.numberOfExtraLines);for(var _=[],b=this.rowStart;b<=this.rowEnd;b++)_.push(this.host.session.getLine(b));if(T=_.join(`
`),C=E(S.start.row,S.start.column),A=E(S.end.row,S.end.column),S.start.row<this.rowStart){var M=this.host.session.getLine(this.rowStart-1);C=S.start.row<this.rowStart-1?0:C,A+=M.length+1,T=M+`
`+T}else if(S.end.row>this.rowEnd){var I=this.host.session.getLine(this.rowEnd+1);A=S.end.row>this.rowEnd+1?I.length:S.end.column,A+=T.length+1,T=T+`
`+I}else y&&v>0&&(T=`
`+T,A+=1,C+=1);T.length>h&&(C<h&&A<h?T=T.slice(0,h):(T=`
`,C==A?C=A=0:(C=0,A=1)));var D=T+`

`;D!=this.lastValue&&(this.text.value=this.lastValue=D,this.lastSelectionStart=this.lastSelectionEnd=D.length)}if(this.afterContextMenu&&(this.lastSelectionStart=this.text.selectionStart,this.lastSelectionEnd=this.text.selectionEnd),this.lastSelectionEnd!=A||this.lastSelectionStart!=C||this.text.selectionEnd!=this.lastSelectionEnd)try{this.text.setSelectionRange(C,A),this.lastSelectionStart=C,this.lastSelectionEnd=A}catch{}this.inComposition=!1}},k.prototype.setHost=function(x){this.host=x},k.prototype.setNumberOfExtraLines=function(x){if(this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,x<0){this.numberOfExtraLines=0;return}this.numberOfExtraLines=x},k.prototype.setAriaLabel=function(){var x="";if(this.host.$textInputAriaLabel&&(x+="".concat(this.host.$textInputAriaLabel,", ")),this.host.session){var C=this.host.session.selection.cursor.row;x+=r("text-input.aria-label","Cursor at row $0",[C+1])}this.text.setAttribute("aria-label",x)},k.prototype.setAriaOptions=function(x){x.activeDescendant?(this.text.setAttribute("aria-haspopup","true"),this.text.setAttribute("aria-autocomplete",x.inline?"both":"list"),this.text.setAttribute("aria-activedescendant",x.activeDescendant)):(this.text.setAttribute("aria-haspopup","false"),this.text.setAttribute("aria-autocomplete","both"),this.text.removeAttribute("aria-activedescendant")),x.role&&this.text.setAttribute("role",x.role),x.setLabel&&(this.text.setAttribute("aria-roledescription",r("text-input.aria-roledescription","editor")),this.setAriaLabel())},k.prototype.focus=function(){var x=this;if(this.setAriaOptions({setLabel:this.host.renderer.enableKeyboardAccessibility}),this.tempStyle||d||this.$focusScroll=="browser")return this.text.focus({preventScroll:!0});var C=this.text.style.top;this.text.style.position="fixed",this.text.style.top="0px";try{var A=this.text.getBoundingClientRect().top!=0}catch{return}var T=[];if(A)for(var E=this.text.parentElement;E&&E.nodeType==1;)T.push(E),E.setAttribute("ace_nocontext","true"),!E.parentElement&&E.getRootNode?E=E.getRootNode().host:E=E.parentElement;this.text.focus({preventScroll:!0}),A&&T.forEach(function(L){L.removeAttribute("ace_nocontext")}),setTimeout(function(){x.text.style.position="",x.text.style.top=="0px"&&(x.text.style.top=C)},0)},k.prototype.blur=function(){this.text.blur()},k.prototype.isFocused=function(){return this.$isFocused},k.prototype.setInputHandler=function(x){this.inputHandler=x},k.prototype.getInputHandler=function(){return this.inputHandler},k.prototype.getElement=function(){return this.text},k.prototype.setCommandMode=function(x){this.commandMode=x,this.text.readOnly=!1},k.prototype.setReadOnly=function(x){this.commandMode||(this.text.readOnly=x)},k.prototype.setCopyWithEmptySelection=function(x){},k.prototype.onContextMenu=function(x){this.afterContextMenu=!0,this.resetSelection(),this.host._emit("nativecontextmenu",{target:this.host,domEvent:x}),this.moveToMouse(x,!0)},k.prototype.moveToMouse=function(x,C){var A=this;this.tempStyle||(this.tempStyle=this.text.style.cssText),this.text.style.cssText=(C?"z-index:100000;":"")+(s.isIE?"opacity:0.1;":"")+"text-indent: -"+(this.lastSelectionStart+this.lastSelectionEnd)*this.host.renderer.characterWidth*.5+"px;";var T=this.host.container.getBoundingClientRect(),E=a.computedStyle(this.host.container),L=T.top+(parseInt(E.borderTopWidth)||0),S=T.left+(parseInt(E.borderLeftWidth)||0),v=T.bottom-L-this.text.clientHeight-2,_=function(b){a.translate(A.text,b.clientX-S-2,Math.min(b.clientY-L-2,v))};_(x),x.type=="mousedown"&&(this.host.renderer.$isMousePressed=!0,clearTimeout(this.closeTimeout),s.isWin&&i.capture(this.host.container,_,this.onContextMenuClose.bind(this)))},k.prototype.destroy=function(){this.text.parentElement&&this.text.parentElement.removeChild(this.text)},k}();t.TextInput=w,t.$setUserAgentForTests=function(k,x){y=k,p=x}});ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(n,t,e){"use strict";var i=n("../lib/useragent"),r=0,s=550,a=function(){function c(u){u.$clickSelection=null;var d=u.editor;d.setDefaultHandler("mousedown",this.onMouseDown.bind(u)),d.setDefaultHandler("dblclick",this.onDoubleClick.bind(u)),d.setDefaultHandler("tripleclick",this.onTripleClick.bind(u)),d.setDefaultHandler("quadclick",this.onQuadClick.bind(u)),d.setDefaultHandler("mousewheel",this.onMouseWheel.bind(u));var h=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];h.forEach(function(m){u[m]=this[m]},this),u.selectByLines=this.extendSelectionBy.bind(u,"getLineRange"),u.selectByWords=this.extendSelectionBy.bind(u,"getWordRange")}return c.prototype.onMouseDown=function(u){var d=u.inSelection(),h=u.getDocumentPosition();this.mousedownEvent=u;var m=this.editor,f=u.getButton();if(f!==0){var p=m.getSelectionRange(),g=p.isEmpty();(g||f==1)&&m.selection.moveToPosition(h),f==2&&(m.textInput.onContextMenu(u.domEvent),i.isMozilla||u.preventDefault());return}if(this.mousedownEvent.time=Date.now(),d&&!m.isFocused()&&(m.focus(),this.$focusTimeout&&!this.$clickSelection&&!m.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(u);return}return this.captureMouse(u),this.startSelect(h,u.domEvent._clicks>1),u.preventDefault()},c.prototype.startSelect=function(u,d){u=u||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var h=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?h.selection.selectToPosition(u):d||h.selection.moveToPosition(u),d||this.select(),h.setStyle("ace_selecting"),this.setState("select"))},c.prototype.select=function(){var u,d=this.editor,h=d.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var m=this.$clickSelection.comparePoint(h);if(m==-1)u=this.$clickSelection.end;else if(m==1)u=this.$clickSelection.start;else{var f=l(this.$clickSelection,h,d.session);h=f.cursor,u=f.anchor}d.selection.setSelectionAnchor(u.row,u.column)}d.selection.selectToPosition(h),d.renderer.scrollCursorIntoView()},c.prototype.extendSelectionBy=function(u){var d,h=this.editor,m=h.renderer.screenToTextCoordinates(this.x,this.y),f=h.selection[u](m.row,m.column);if(this.$clickSelection){var p=this.$clickSelection.comparePoint(f.start),g=this.$clickSelection.comparePoint(f.end);if(p==-1&&g<=0)d=this.$clickSelection.end,(f.end.row!=m.row||f.end.column!=m.column)&&(m=f.start);else if(g==1&&p>=0)d=this.$clickSelection.start,(f.start.row!=m.row||f.start.column!=m.column)&&(m=f.end);else if(p==-1&&g==1)m=f.end,d=f.start;else{var y=l(this.$clickSelection,m,h.session);m=y.cursor,d=y.anchor}h.selection.setSelectionAnchor(d.row,d.column)}h.selection.selectToPosition(m),h.renderer.scrollCursorIntoView()},c.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},c.prototype.focusWait=function(){var u=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),d=Date.now();(u>r||d-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},c.prototype.onDoubleClick=function(u){var d=u.getDocumentPosition(),h=this.editor,m=h.session,f=m.getBracketRange(d);f?(f.isEmpty()&&(f.start.column--,f.end.column++),this.setState("select")):(f=h.selection.getWordRange(d.row,d.column),this.setState("selectByWords")),this.$clickSelection=f,this.select()},c.prototype.onTripleClick=function(u){var d=u.getDocumentPosition(),h=this.editor;this.setState("selectByLines");var m=h.getSelectionRange();m.isMultiLine()&&m.contains(d.row,d.column)?(this.$clickSelection=h.selection.getLineRange(m.start.row),this.$clickSelection.end=h.selection.getLineRange(m.end.row).end):this.$clickSelection=h.selection.getLineRange(d.row),this.select()},c.prototype.onQuadClick=function(u){var d=this.editor;d.selectAll(),this.$clickSelection=d.getSelectionRange(),this.setState("selectAll")},c.prototype.onMouseWheel=function(u){if(!u.getAccelKey()){u.getShiftKey()&&u.wheelY&&!u.wheelX&&(u.wheelX=u.wheelY,u.wheelY=0);var d=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var h=this.$lastScroll,m=u.domEvent.timeStamp,f=m-h.t,p=f?u.wheelX/f:h.vx,g=f?u.wheelY/f:h.vy;f<s&&(p=(p+h.vx)/2,g=(g+h.vy)/2);var y=Math.abs(p/g),w=!1;if(y>=1&&d.renderer.isScrollableBy(u.wheelX*u.speed,0)&&(w=!0),y<=1&&d.renderer.isScrollableBy(0,u.wheelY*u.speed)&&(w=!0),w)h.allowed=m;else if(m-h.allowed<s){var k=Math.abs(p)<=1.5*Math.abs(h.vx)&&Math.abs(g)<=1.5*Math.abs(h.vy);k?(w=!0,h.allowed=m):h.allowed=0}if(h.t=m,h.vx=p,h.vy=g,w)return d.renderer.scrollBy(u.wheelX*u.speed,u.wheelY*u.speed),u.stop()}},c}();a.prototype.selectEnd=a.prototype.selectByLinesEnd,a.prototype.selectAllEnd=a.prototype.selectByLinesEnd,a.prototype.selectByWordsEnd=a.prototype.selectByLinesEnd,t.DefaultHandlers=a;function o(c,u,d,h){return Math.sqrt(Math.pow(d-c,2)+Math.pow(h-u,2))}function l(c,u,d){if(c.start.row==c.end.row)var h=2*u.column-c.start.column-c.end.column;else if(c.start.row==c.end.row-1&&!c.start.column&&!c.end.column)var h=3*u.column-2*d.getLine(c.start.row).length;else var h=2*u.row-c.start.row-c.end.row;return h<0?{cursor:c.start,anchor:c.end}:{cursor:c.end,anchor:c.start}}});ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,t,e){"use strict";var i=n("../lib/event"),r=n("../lib/useragent"),s=function(){function a(o,l){this.speed,this.wheelX,this.wheelY,this.domEvent=o,this.editor=l,this.x=this.clientX=o.clientX,this.y=this.clientY=o.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return a.prototype.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},a.prototype.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},a.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},a.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},a.prototype.getGutterRow=function(){var o=this.getDocumentPosition().row,l=this.editor.session.documentToScreenRow(o,0),c=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return l-c},a.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var o=this.editor,l=o.getSelectionRange();if(l.isEmpty())this.$inSelection=!1;else{var c=this.getDocumentPosition();this.$inSelection=l.contains(c.row,c.column)}return this.$inSelection},a.prototype.getButton=function(){return i.getButton(this.domEvent)},a.prototype.getShiftKey=function(){return this.domEvent.shiftKey},a.prototype.getAccelKey=function(){return r.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},a}();t.MouseEvent=s});ace.define("ace/lib/scroll",["require","exports","module"],function(n,t,e){t.preventParentScroll=function(r){r.stopPropagation();var s=r.currentTarget,a=s.scrollHeight>s.clientHeight;a||r.preventDefault()}});ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(n,t,e){"use strict";var i=this&&this.__extends||function(){var f=function(p,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(y[k]=w[k])},f(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(p,g);function y(){this.constructor=p}p.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}}(),r=this&&this.__values||function(f){var p=typeof Symbol=="function"&&Symbol.iterator,g=p&&f[p],y=0;if(g)return g.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&y>=f.length&&(f=void 0),{value:f&&f[y++],done:!f}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},s=n("./lib/dom"),a=n("./lib/event"),o=n("./range").Range,l=n("./lib/scroll").preventParentScroll,c="ace_tooltip",u=function(){function f(p){this.isOpen=!1,this.$element=null,this.$parentNode=p}return f.prototype.$init=function(){return this.$element=s.createElement("div"),this.$element.className=c,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},f.prototype.getElement=function(){return this.$element||this.$init()},f.prototype.setText=function(p){this.getElement().textContent=p},f.prototype.setHtml=function(p){this.getElement().innerHTML=p},f.prototype.setPosition=function(p,g){this.getElement().style.left=p+"px",this.getElement().style.top=g+"px"},f.prototype.setClassName=function(p){s.addCssClass(this.getElement(),p)},f.prototype.setTheme=function(p){this.theme&&(this.theme.isDark&&s.removeCssClass(this.getElement(),"ace_dark"),this.theme.cssClass&&s.removeCssClass(this.getElement(),this.theme.cssClass)),p.isDark&&s.addCssClass(this.getElement(),"ace_dark"),p.cssClass&&s.addCssClass(this.getElement(),p.cssClass),this.theme={isDark:p.isDark,cssClass:p.cssClass}},f.prototype.show=function(p,g,y){p!=null&&this.setText(p),g!=null&&y!=null&&this.setPosition(g,y),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},f.prototype.hide=function(p){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=c,this.isOpen=!1)},f.prototype.getHeight=function(){return this.getElement().offsetHeight},f.prototype.getWidth=function(){return this.getElement().offsetWidth},f.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},f}(),d=function(){function f(){this.popups=[]}return f.prototype.addPopup=function(p){this.popups.push(p),this.updatePopups()},f.prototype.removePopup=function(p){var g=this.popups.indexOf(p);g!==-1&&(this.popups.splice(g,1),this.updatePopups())},f.prototype.updatePopups=function(){var p,g,y,w;this.popups.sort(function(v,_){return _.priority-v.priority});var k=[];try{for(var x=r(this.popups),C=x.next();!C.done;C=x.next()){var A=C.value,T=!0;try{for(var E=(y=void 0,r(k)),L=E.next();!L.done;L=E.next()){var S=L.value;if(this.doPopupsOverlap(S,A)){T=!1;break}}}catch(v){y={error:v}}finally{try{L&&!L.done&&(w=E.return)&&w.call(E)}finally{if(y)throw y.error}}T?k.push(A):A.hide()}}catch(v){p={error:v}}finally{try{C&&!C.done&&(g=x.return)&&g.call(x)}finally{if(p)throw p.error}}},f.prototype.doPopupsOverlap=function(p,g){var y=p.getElement().getBoundingClientRect(),w=g.getElement().getBoundingClientRect();return y.left<w.right&&y.right>w.left&&y.top<w.bottom&&y.bottom>w.top},f}(),h=new d;t.popupManager=h,t.Tooltip=u;var m=function(f){i(p,f);function p(g){g===void 0&&(g=document.body);var y=f.call(this,g)||this;y.timeout=void 0,y.lastT=0,y.idleTime=350,y.lastEvent=void 0,y.onMouseOut=y.onMouseOut.bind(y),y.onMouseMove=y.onMouseMove.bind(y),y.waitForHover=y.waitForHover.bind(y),y.hide=y.hide.bind(y);var w=y.getElement();return w.style.whiteSpace="pre-wrap",w.style.pointerEvents="auto",w.addEventListener("mouseout",y.onMouseOut),w.tabIndex=-1,w.addEventListener("blur",function(){w.contains(document.activeElement)||this.hide()}.bind(y)),w.addEventListener("wheel",l),y}return p.prototype.addToEditor=function(g){g.on("mousemove",this.onMouseMove),g.on("mousedown",this.hide);var y=g.renderer.getMouseEventTarget();y&&typeof y.removeEventListener=="function"&&y.addEventListener("mouseout",this.onMouseOut,!0)},p.prototype.removeFromEditor=function(g){g.off("mousemove",this.onMouseMove),g.off("mousedown",this.hide);var y=g.renderer.getMouseEventTarget();y&&typeof y.removeEventListener=="function"&&y.removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},p.prototype.onMouseMove=function(g,y){this.lastEvent=g,this.lastT=Date.now();var w=y.$mouseHandler.isMousePressed;if(this.isOpen){var k=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(k.row,k.column)||w||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||w||(this.lastEvent=g,this.timeout=setTimeout(this.waitForHover,this.idleTime))},p.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var g=Date.now()-this.lastT;if(this.idleTime-g>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-g);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},p.prototype.isOutsideOfText=function(g){var y=g.editor,w=g.getDocumentPosition(),k=y.session.getLine(w.row);if(w.column==k.length){var x=y.renderer.pixelToScreenCoordinates(g.clientX,g.clientY),C=y.session.documentToScreenPosition(w.row,w.column);if(C.column!=x.column||C.row!=x.row)return!0}return!1},p.prototype.setDataProvider=function(g){this.$gatherData=g},p.prototype.showForRange=function(g,y,w,k){if(!(k&&k!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var x=g.renderer;this.isOpen||(h.addPopup(this),this.$registerCloseEvents(),this.setTheme(x.theme)),this.isOpen=!0,this.range=o.fromPoints(y.start,y.end);var C=x.textToScreenCoordinates(y.start.row,y.start.column),A=x.scroller.getBoundingClientRect();C.pageX<A.left&&(C.pageX=A.left);var T=this.getElement();T.innerHTML="",T.appendChild(w),T.style.maxHeight="",T.style.display="block",this.$setPosition(g,C,!0,y),s.$fixPositionBug(T)}},p.prototype.$setPosition=function(g,y,w,k){var x=10;w&&this.addMarker(k,g.session);var C=g.renderer,A=this.getElement(),T=A.offsetHeight,E=A.offsetWidth,L=y.pageY,S=y.pageX,v=window.innerHeight-L-C.lineHeight,_=this.$shouldPlaceAbove(T,L,v-x);A.style.maxHeight=(_?L:v)-x+"px",A.style.top=_?"":L+C.lineHeight+"px",A.style.bottom=_?window.innerHeight-L+"px":"",A.style.left=Math.min(S,window.innerWidth-E-x)+"px"},p.prototype.$shouldPlaceAbove=function(g,y,w){return!(y-g<0&&y<w)},p.prototype.addMarker=function(g,y){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=y,this.marker=y&&y.addMarker(g,"ace_highlight-marker","text")},p.prototype.hide=function(g){g&&this.$fromKeyboard&&g.type=="keydown"&&g.code=="Escape"||!g&&document.activeElement==this.getElement()||g&&g.target&&(g.type!="keydown"||g.ctrlKey||g.metaKey)&&this.$element.contains(g.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$fromKeyboard=!1,this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,h.removePopup(this)))},p.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},p.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},p.prototype.onMouseOut=function(g){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!g.relatedTarget||this.getElement().contains(g.relatedTarget)||g&&g.currentTarget.contains(g.relatedTarget)||g.relatedTarget.classList.contains("ace_content")||this.hide())},p}(u);t.HoverTooltip=m});ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/mouse/mouse_event","ace/tooltip","ace/config","ace/range"],function(n,t,e){"use strict";var i=this&&this.__extends||function(){var h=function(m,f){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(p[y]=g[y])},h(m,f)};return function(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(m,f);function p(){this.constructor=m}m.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}(),r=this&&this.__values||function(h){var m=typeof Symbol=="function"&&Symbol.iterator,f=m&&h[m],p=0;if(f)return f.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&p>=h.length&&(h=void 0),{value:h&&h[p++],done:!h}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},s=n("../lib/dom"),a=n("./mouse_event").MouseEvent,o=n("../tooltip").HoverTooltip,l=n("../config").nls,c=n("../range").Range;function u(h){var m=h.editor,f=m.renderer.$gutterLayer;h.$tooltip=new d(m),h.$tooltip.addToEditor(m),h.$tooltip.setDataProvider(function(p,g){var y=p.getDocumentPosition().row;h.$tooltip.showTooltip(y)}),h.editor.setDefaultHandler("guttermousedown",function(p){if(!(!m.isFocused()||p.getButton()!=0)){var g=f.getRegion(p);if(g!="foldWidgets"){var y=p.getDocumentPosition().row,w=m.session.selection;if(p.getShiftKey())w.selectTo(y,0);else{if(p.domEvent.detail==2)return m.selectAll(),p.preventDefault();h.$clickSelection=m.selection.getLineRange(y)}return h.setState("selectByLines"),h.captureMouse(p),p.preventDefault()}}})}t.GutterHandler=u;var d=function(h){i(m,h);function m(f){var p=h.call(this,f.container)||this;p.id="gt"+ ++m.$uid,p.editor=f,p.visibleTooltipRow;var g=p.getElement();return g.setAttribute("role","tooltip"),g.setAttribute("id",p.id),g.style.pointerEvents="auto",p.idleTime=50,p.onDomMouseMove=p.onDomMouseMove.bind(p),p.onDomMouseOut=p.onDomMouseOut.bind(p),p.setClassName("ace_gutter-tooltip"),p}return m.prototype.onDomMouseMove=function(f){var p=new a(f,this.editor);this.onMouseMove(p,this.editor)},m.prototype.onDomMouseOut=function(f){var p=new a(f,this.editor);this.onMouseOut(p)},m.prototype.addToEditor=function(f){var p=f.renderer.$gutter;p.addEventListener("mousemove",this.onDomMouseMove),p.addEventListener("mouseout",this.onDomMouseOut),h.prototype.addToEditor.call(this,f)},m.prototype.removeFromEditor=function(f){var p=f.renderer.$gutter;p.removeEventListener("mousemove",this.onDomMouseMove),p.removeEventListener("mouseout",this.onDomMouseOut),h.prototype.removeFromEditor.call(this,f)},m.prototype.destroy=function(){this.editor&&this.removeFromEditor(this.editor),h.prototype.destroy.call(this)},Object.defineProperty(m,"annotationLabels",{get:function(){return{error:{singular:l("gutter-tooltip.aria-label.error.singular","error"),plural:l("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:l("gutter-tooltip.aria-label.security.singular","security finding"),plural:l("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:l("gutter-tooltip.aria-label.warning.singular","warning"),plural:l("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:l("gutter-tooltip.aria-label.info.singular","information message"),plural:l("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:l("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:l("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),m.prototype.showTooltip=function(f){var p,g=this.editor.renderer.$gutterLayer,y=g.$annotations[f],w;y?w={displayText:Array.from(y.displayText),type:Array.from(y.type)}:w={displayText:[],type:[]};var k=g.session.getFoldLine(f);if(k&&g.$showFoldedAnnotations){for(var x={error:[],security:[],warning:[],info:[],hint:[]},C={error:1,security:2,warning:3,info:4,hint:5},A,T=f+1;T<=k.end.row;T++)if(g.$annotations[T])for(var E=0;E<g.$annotations[T].text.length;E++){var L=g.$annotations[T].type[E];x[L].push(g.$annotations[T].text[E]),(!A||C[L]<C[A])&&(A=L)}if(["error","security","warning"].includes(A)){var S="".concat(m.annotationsToSummaryString(x)," in folded code.");w.displayText.push(S),w.type.push(A+"_fold")}}if(w.displayText.length===0)return this.hide();for(var v={error:[],security:[],warning:[],info:[],hint:[]},_=g.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",T=0;T<w.displayText.length;T++){var b=s.createElement("span"),M=s.createElement("span");(p=M.classList).add.apply(p,["ace_".concat(w.type[T]),_]),M.setAttribute("aria-label","".concat(m.annotationLabels[w.type[T].replace("_fold","")].singular)),M.setAttribute("role","img"),M.appendChild(s.createTextNode(" ")),b.appendChild(M),b.appendChild(s.createTextNode(w.displayText[T])),b.appendChild(s.createElement("br")),v[w.type[T].replace("_fold","")].push(b)}var I=s.createElement("span");v.error.forEach(function(N){return I.appendChild(N)}),v.security.forEach(function(N){return I.appendChild(N)}),v.warning.forEach(function(N){return I.appendChild(N)}),v.info.forEach(function(N){return I.appendChild(N)}),v.hint.forEach(function(N){return I.appendChild(N)}),I.setAttribute("aria-live","polite");var D=this.$findLinkedAnnotationNode(f);D&&D.setAttribute("aria-describedby",this.id);var O=c.fromPoints({row:f,column:0},{row:f,column:0});this.showForRange(this.editor,O,I),this.visibleTooltipRow=f,this.editor._signal("showGutterTooltip",this)},m.prototype.$setPosition=function(f,p,g,y){var w=this.$findCellByRow(y.start.row);if(w){var k=w&&w.element,x=k&&k.querySelector(".ace_gutter_annotation");if(x){var C=x.getBoundingClientRect();if(C){var A={pageX:C.right,pageY:C.top};return h.prototype.$setPosition.call(this,f,A,!1,y)}}}},m.prototype.$shouldPlaceAbove=function(f,p,g){return g<f},m.prototype.$findLinkedAnnotationNode=function(f){var p=this.$findCellByRow(f);if(p){var g=p.element;if(g.childNodes.length>2)return g.childNodes[2]}},m.prototype.$findCellByRow=function(f){return this.editor.renderer.$gutterLayer.$lines.cells.find(function(p){return p.row===f})},m.prototype.hide=function(f){if(this.isOpen){if(this.$element.removeAttribute("aria-live"),this.visibleTooltipRow!=null){var p=this.$findLinkedAnnotationNode(this.visibleTooltipRow);p&&p.removeAttribute("aria-describedby")}this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this),h.prototype.hide.call(this,f)}},m.annotationsToSummaryString=function(f){var p,g,y=[],w=["error","security","warning","info","hint"];try{for(var k=r(w),x=k.next();!x.done;x=k.next()){var C=x.value;if(f[C].length){var A=f[C].length===1?m.annotationLabels[C].singular:m.annotationLabels[C].plural;y.push("".concat(f[C].length," ").concat(A))}}}catch(T){p={error:T}}finally{try{x&&!x.done&&(g=k.return)&&g.call(k)}finally{if(p)throw p.error}}return y.join(", ")},m.prototype.isOutsideOfText=function(f){var p=f.editor,g=p.renderer.$gutter.getBoundingClientRect();return!(f.clientX>=g.left&&f.clientX<=g.right&&f.clientY>=g.top&&f.clientY<=g.bottom)},m}(o);d.$uid=0,t.GutterTooltip=d});ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,t,e){"use strict";var i=n("../lib/dom"),r=n("../lib/event"),s=n("../lib/useragent"),a=200,o=200,l=5;function c(d){var h=d.editor,m=i.createElement("div");m.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",m.textContent="\xA0";var f=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];f.forEach(function(V){d[V]=this[V]},this),h.on("mousedown",this.onMouseDown.bind(d));var p=h.container,g,y,w,k,x,C,A=0,T,E,L,S,v;this.onDragStart=function(V){if(this.cancelDrag||!p.draggable){var K=this;return setTimeout(function(){K.startSelect(),K.captureMouse(V)},0),V.preventDefault()}x=h.getSelectionRange();var W=V.dataTransfer;W.effectAllowed=h.getReadOnly()?"copy":"copyMove",h.container.appendChild(m),W.setDragImage&&W.setDragImage(m,0,0),setTimeout(function(){h.container.removeChild(m)}),W.clearData(),W.setData("Text",h.session.getTextRange()),E=!0,this.setState("drag")},this.onDragEnd=function(V){if(p.draggable=!1,E=!1,this.setState(null),!h.getReadOnly()){var K=V.dataTransfer.dropEffect;!T&&K=="move"&&h.session.remove(h.getSelectionRange()),h.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(V){if(!(h.getReadOnly()||!F(V.dataTransfer)))return y=V.clientX,w=V.clientY,g||I(),A++,V.dataTransfer.dropEffect=T=z(V),r.preventDefault(V)},this.onDragOver=function(V){if(!(h.getReadOnly()||!F(V.dataTransfer)))return y=V.clientX,w=V.clientY,g||(I(),A++),O!==null&&(O=null),V.dataTransfer.dropEffect=T=z(V),r.preventDefault(V)},this.onDragLeave=function(V){if(A--,A<=0&&g)return D(),T=null,r.preventDefault(V)},this.onDrop=function(V){if(C){var K=V.dataTransfer;if(E)switch(T){case"move":x.contains(C.row,C.column)?x={start:C,end:C}:x=h.moveText(x,C);break;case"copy":x=h.moveText(x,C,!0);break}else{var W=K.getData("Text");x={start:C,end:h.session.insert(C,W)},h.focus(),T=null}return D(),r.preventDefault(V)}},r.addListener(p,"dragstart",this.onDragStart.bind(d),h),r.addListener(p,"dragend",this.onDragEnd.bind(d),h),r.addListener(p,"dragenter",this.onDragEnter.bind(d),h),r.addListener(p,"dragover",this.onDragOver.bind(d),h),r.addListener(p,"dragleave",this.onDragLeave.bind(d),h),r.addListener(p,"drop",this.onDrop.bind(d),h);function _(V,K){var W=Date.now(),q=!K||V.row!=K.row,ae=!K||V.column!=K.column;if(!S||q||ae)h.moveCursorToPosition(V),S=W,v={x:y,y:w};else{var pe=u(v.x,v.y,y,w);pe>l?S=null:W-S>=o&&(h.renderer.scrollCursorIntoView(),S=null)}}function b(V,K){var W=Date.now(),q=h.renderer.layerConfig.lineHeight,ae=h.renderer.layerConfig.characterWidth,pe=h.renderer.scroller.getBoundingClientRect(),ie={x:{left:y-pe.left,right:pe.right-y},y:{top:w-pe.top,bottom:pe.bottom-w}},ne=Math.min(ie.x.left,ie.x.right),Ee=Math.min(ie.y.top,ie.y.bottom),we={row:V.row,column:V.column};ne/ae<=2&&(we.column+=ie.x.left<ie.x.right?-3:2),Ee/q<=1&&(we.row+=ie.y.top<ie.y.bottom?-1:1);var qe=V.row!=we.row,_t=V.column!=we.column,Ct=!K||V.row!=K.row;qe||_t&&!Ct?L?W-L>=a&&h.renderer.scrollCursorIntoView(we):L=W:L=null}function M(){var V=C;C=h.renderer.screenToTextCoordinates(y,w),_(C,V),b(C,V)}function I(){x=h.selection.toOrientedRange(),g=h.session.addMarker(x,"ace_selection",h.getSelectionStyle()),h.clearSelection(),h.isFocused()&&h.renderer.$cursorLayer.setBlinking(!1),clearInterval(k),M(),k=setInterval(M,20),A=0,r.addListener(document,"mousemove",N)}function D(){clearInterval(k),h.session.removeMarker(g),g=null,h.selection.fromOrientedRange(x),h.isFocused()&&!E&&h.$resetCursorStyle(),x=null,C=null,A=0,L=null,S=null,r.removeListener(document,"mousemove",N)}var O=null;function N(){O==null&&(O=setTimeout(function(){O!=null&&g&&D()},20))}function F(V){var K=V.types;return!K||Array.prototype.some.call(K,function(W){return W=="text/plain"||W=="Text"})}function z(V){var K=["copy","copymove","all","uninitialized"],W=["move","copymove","linkmove","all","uninitialized"],q=s.isMac?V.altKey:V.ctrlKey,ae="uninitialized";try{ae=V.dataTransfer.effectAllowed.toLowerCase()}catch{}var pe="none";return q&&K.indexOf(ae)>=0?pe="copy":W.indexOf(ae)>=0?pe="move":K.indexOf(ae)>=0&&(pe="copy"),pe}}(function(){this.dragWait=function(){var d=Date.now()-this.mousedownEvent.time;d>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var d=this.editor.container;d.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(d){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var d=this.editor,h=d.container;h.draggable=!0,d.renderer.$cursorLayer.setBlinking(!1),d.setStyle("ace_dragging");var m=s.isWin?"default":"move";d.renderer.setCursorStyle(m),this.setState("dragReady")},this.onMouseDrag=function(d){var h=this.editor.container;if(s.isIE&&this.state=="dragReady"){var m=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>3&&h.dragDrop()}if(this.state==="dragWait"){var m=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>0&&(h.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(d){if(this.$dragEnabled){this.mousedownEvent=d;var h=this.editor,m=d.inSelection(),f=d.getButton(),p=d.domEvent.detail||1;if(p===1&&f===0&&m){if(d.editor.inMultiSelectMode&&(d.getAccelKey()||d.getShiftKey()))return;this.mousedownEvent.time=Date.now();var g=d.domEvent.target||d.domEvent.srcElement;if("unselectable"in g&&(g.unselectable="on"),h.getDragDelay()){if(s.isWebKit){this.cancelDrag=!0;var y=h.container;y.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(d,this.onMouseDrag.bind(this)),d.defaultPrevented=!0}}}}).call(c.prototype);function u(d,h,m,f){return Math.sqrt(Math.pow(m-d,2)+Math.pow(f-h,2))}t.DragdropHandler=c});ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(n,t,e){"use strict";var i=n("./mouse_event").MouseEvent,r=n("../lib/event"),s=n("../lib/dom");t.addTouchListeners=function(a,o){var l="scroll",c,u,d,h,m,f,p=0,g,y=0,w=0,k=0,x,C;function A(){var _=window.navigator&&window.navigator.clipboard,b=!1,M=function(){var O=o.getCopyText(),N=o.session.getUndoManager().hasUndo();C.replaceChild(s.buildDom(b?["span",!O&&I("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],O&&I("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],O&&I("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],_&&I("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],N&&I("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],I("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],I("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),C.firstChild)},I=function(O){return o.commands.canExecute(O,o)},D=function(O){var N=O.target.getAttribute("action");if(N=="more"||!b)return b=!b,M();N=="paste"?_.readText().then(function(F){o.execCommand(N,F)}):N&&((N=="cut"||N=="copy")&&(_?_.writeText(o.getCopyText()):document.execCommand("copy")),o.execCommand(N)),C.firstChild.style.display="none",b=!1,N!="openCommandPalette"&&o.focus()};C=s.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(O){l="menu",O.stopPropagation(),O.preventDefault(),o.textInput.focus()},ontouchend:function(O){O.stopPropagation(),O.preventDefault(),D(O)},onclick:D},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],o.container)}function T(){if(!o.getOption("enableMobileMenu")){C&&E();return}C||A();var _=o.selection.cursor,b=o.renderer.textToScreenCoordinates(_.row,_.column),M=o.renderer.textToScreenCoordinates(0,0).pageX,I=o.renderer.scrollLeft,D=o.container.getBoundingClientRect();C.style.top=b.pageY-D.top-3+"px",b.pageX-D.left<D.width-70?(C.style.left="",C.style.right="10px"):(C.style.right="",C.style.left=M+I-D.left+"px"),C.style.display="",C.firstChild.style.display="none",o.on("input",E)}function E(_){C&&(C.style.display="none"),o.off("input",E)}function L(){m=null,clearTimeout(m);var _=o.selection.getRange(),b=_.contains(g.row,g.column);(_.isEmpty()||!b)&&(o.selection.moveToPosition(g),o.selection.selectWord()),l="wait",T()}function S(){m=null,clearTimeout(m),o.selection.moveToPosition(g);var _=y>=2?o.selection.getLineRange(g.row):o.session.getBracketRange(g);_&&!_.isEmpty()?o.selection.setRange(_):o.selection.selectWord(),l="wait"}r.addListener(a,"contextmenu",function(_){if(x){var b=o.textInput.getElement();b.focus()}},o),r.addListener(a,"touchstart",function(_){var b=_.touches;if(m||b.length>1){clearTimeout(m),m=null,d=-1,l="zoom";return}x=o.$mouseHandler.isMousePressed=!0;var M=o.renderer.layerConfig.lineHeight,I=o.renderer.layerConfig.lineHeight,D=_.timeStamp;h=D;var O=b[0],N=O.clientX,F=O.clientY;Math.abs(c-N)+Math.abs(u-F)>M&&(d=-1),c=_.clientX=N,u=_.clientY=F,w=k=0;var z=new i(_,o);if(g=z.getDocumentPosition(),D-d<500&&b.length==1&&!p)y++,_.preventDefault(),_.button=0,S();else{y=0;var V=o.selection.cursor,K=o.selection.isEmpty()?V:o.selection.anchor,W=o.renderer.$cursorLayer.getPixelPosition(V,!0),q=o.renderer.$cursorLayer.getPixelPosition(K,!0),ae=o.renderer.scroller.getBoundingClientRect(),pe=o.renderer.layerConfig.offset,ie=o.renderer.scrollLeft,ne=function(qe,_t){return qe=qe/I,_t=_t/M-.75,qe*qe+_t*_t};if(_.clientX<ae.left){l="zoom";return}var Ee=ne(_.clientX-ae.left-W.left+ie,_.clientY-ae.top-W.top+pe),we=ne(_.clientX-ae.left-q.left+ie,_.clientY-ae.top-q.top+pe);Ee<3.5&&we<3.5&&(l=Ee>we?"cursor":"anchor"),we<3.5?l="anchor":Ee<3.5?l="cursor":l="scroll",m=setTimeout(L,450)}d=D},o),r.addListener(a,"touchend",function(_){x=o.$mouseHandler.isMousePressed=!1,f&&clearInterval(f),l=="zoom"?(l="",p=0):m?(o.selection.moveToPosition(g),p=0,T()):l=="scroll"?(v(),E()):T(),clearTimeout(m),m=null},o),r.addListener(a,"touchmove",function(_){m&&(clearTimeout(m),m=null);var b=_.touches;if(!(b.length>1||l=="zoom")){var M=b[0],I=c-M.clientX,D=u-M.clientY;if(l=="wait")if(I*I+D*D>4)l="cursor";else return _.preventDefault();c=M.clientX,u=M.clientY,_.clientX=M.clientX,_.clientY=M.clientY;var O=_.timeStamp,N=O-h;if(h=O,l=="scroll"){var F=new i(_,o);F.speed=1,F.wheelX=I,F.wheelY=D,10*Math.abs(I)<Math.abs(D)&&(I=0),10*Math.abs(D)<Math.abs(I)&&(D=0),N!=0&&(w=I/N,k=D/N),o._emit("mousewheel",F),F.propagationStopped||(w=k=0)}else{var z=new i(_,o),V=z.getDocumentPosition();l=="cursor"?o.selection.moveCursorToPosition(V):l=="anchor"&&o.selection.setSelectionAnchor(V.row,V.column),o.renderer.scrollCursorIntoView(V),_.preventDefault()}}},o);function v(){p+=60,f=setInterval(function(){p--<=0&&(clearInterval(f),f=null),Math.abs(w)<.01&&(w=0),Math.abs(k)<.01&&(k=0),p<20&&(w=.9*w),p<20&&(k=.9*k);var _=o.session.getScrollTop();o.renderer.scrollBy(10*w,10*k),_==o.session.getScrollTop()&&(p=0)},10)}}});ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(n,t,e){"use strict";var i=n("../lib/event"),r=n("../lib/useragent"),s=n("./default_handlers").DefaultHandlers,a=n("./default_gutter_handler").GutterHandler,o=n("./mouse_event").MouseEvent,l=n("./dragdrop_handler").DragdropHandler,c=n("./touch_handler").addTouchListeners,u=n("../config"),d=function(){function h(m){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var f=this;this.editor=m,new s(this),new a(this),new l(this);var p=function(w){var k=!document.hasFocus||!document.hasFocus()||!m.isFocused()&&document.activeElement==(m.textInput&&m.textInput.getElement());k&&window.focus(),m.focus(),setTimeout(function(){m.isFocused()||m.focus()})},g=m.renderer.getMouseEventTarget();i.addListener(g,"click",this.onMouseEvent.bind(this,"click"),m),i.addListener(g,"mousemove",this.onMouseMove.bind(this,"mousemove"),m),i.addMultiMouseDownListener([g,m.renderer.scrollBarV&&m.renderer.scrollBarV.inner,m.renderer.scrollBarH&&m.renderer.scrollBarH.inner,m.textInput&&m.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",m),i.addMouseWheelListener(m.container,this.onMouseWheel.bind(this,"mousewheel"),m),c(m.container,m);var y=m.renderer.$gutter;i.addListener(y,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),m),i.addListener(y,"click",this.onMouseEvent.bind(this,"gutterclick"),m),i.addListener(y,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),m),i.addListener(y,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),m),i.addListener(g,"mousedown",p,m),i.addListener(y,"mousedown",p,m),r.isIE&&m.renderer.scrollBarV&&(i.addListener(m.renderer.scrollBarV.element,"mousedown",p,m),i.addListener(m.renderer.scrollBarH.element,"mousedown",p,m)),m.on("mousemove",function(w){if(!(f.state||f.$dragDelay||!f.$dragEnabled)){var k=m.renderer.screenToTextCoordinates(w.x,w.y),x=m.session.selection.getRange(),C=m.renderer;!x.isEmpty()&&x.insideStart(k.row,k.column)?C.setCursorStyle("default"):C.setCursorStyle("")}},m)}return h.prototype.onMouseEvent=function(m,f){this.editor.session&&this.editor._emit(m,new o(f,this.editor))},h.prototype.onMouseMove=function(m,f){var p=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!p||!p.length||this.editor._emit(m,new o(f,this.editor))},h.prototype.onMouseWheel=function(m,f){var p=new o(f,this.editor);p.speed=this.$scrollSpeed*2,p.wheelX=f.wheelX,p.wheelY=f.wheelY,this.editor._emit(m,p)},h.prototype.setState=function(m){this.state=m},h.prototype.captureMouse=function(m,f){this.x=m.x,this.y=m.y,this.isMousePressed=!0;var p=this.editor,g=this.editor.renderer;g.$isMousePressed=!0;var y=this,w=!0,k=function(E){if(E){if(r.isWebKit&&!E.which&&y.releaseMouse)return y.releaseMouse();y.x=E.clientX,y.y=E.clientY,f&&f(E),y.mouseEvent=new o(E,y.editor),y.$mouseMoved=!0}},x=function(E){p.off("beforeEndOperation",T),w=!1,p.session&&C(),y[y.state+"End"]&&y[y.state+"End"](E),y.state="",y.isMousePressed=g.$isMousePressed=!1,g.$keepTextAreaAtCursor&&g.$moveTextAreaToCursor(),y.$onCaptureMouseMove=y.releaseMouse=null,E&&y.onMouseEvent("mouseup",E),p.endOperation()},C=function(){y[y.state]&&y[y.state](),y.$mouseMoved=!1},A=function(){w&&(C(),i.nextFrame(A))};if(r.isOldIE&&m.domEvent.type=="dblclick")return setTimeout(function(){x(m)});var T=function(E){y.releaseMouse&&p.curOp.command.name&&p.curOp.selectionChanged&&(y[y.state+"End"]&&y[y.state+"End"](),y.state="",y.releaseMouse())};p.on("beforeEndOperation",T),p.startOperation({command:{name:"mouse"}}),y.$onCaptureMouseMove=k,y.releaseMouse=i.capture(this.editor.container,k,x),A()},h.prototype.cancelContextMenu=function(){var m=function(f){f&&f.domEvent&&f.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",m),f&&f.domEvent&&i.stopEvent(f.domEvent))}.bind(this);setTimeout(m,10),this.editor.on("nativecontextmenu",m)},h.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse(),this.$tooltip&&this.$tooltip.destroy()},h}();d.prototype.releaseMouse=null,u.defineOptions(d.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0}}),t.MouseHandler=d});ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(n,t,e){"use strict";var i=n("../lib/dom"),r=function(){function s(a){a.on("click",function(o){var l=o.getDocumentPosition(),c=a.session,u=c.getFoldAt(l.row,l.column,1);u&&(o.getAccelKey()?c.removeFold(u):c.expandFold(u),o.stop());var d=o.domEvent&&o.domEvent.target;d&&i.hasCssClass(d,"ace_inline_button")&&i.hasCssClass(d,"ace_toggle_wrap")&&(c.setOption("wrap",!c.getUseWrapMode()),a.renderer.scrollCursorIntoView())}),a.on("gutterclick",function(o){var l=a.renderer.$gutterLayer.getRegion(o);if(l=="foldWidgets"){var c=o.getDocumentPosition().row,u=a.session;u.foldWidgets&&u.foldWidgets[c]&&a.session.onFoldWidgetClick(c,o),a.isFocused()||a.focus(),o.stop()}}),a.on("gutterdblclick",function(o){var l=a.renderer.$gutterLayer.getRegion(o);if(l=="foldWidgets"){var c=o.getDocumentPosition().row,u=a.session,d=u.getParentFoldRangeData(c,!0),h=d.range||d.firstRange;if(h){c=h.start.row;var m=u.getFoldAt(c,u.getLine(c).length,1);m?u.removeFold(m):(u.addFold("...",h),a.renderer.scrollCursorIntoView({row:h.start.row,column:0}))}o.stop()}})}return s}();t.FoldHandler=r});ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,t,e){"use strict";var i=n("../lib/keys"),r=n("../lib/event"),s=function(){function a(o){this.$editor=o,this.$data={editor:o},this.$handlers=[],this.setDefaultHandler(o.commands)}return a.prototype.setDefaultHandler=function(o){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=o,this.addKeyboardHandler(o,0)},a.prototype.setKeyboardHandler=function(o){var l=this.$handlers;if(l[l.length-1]!=o){for(;l[l.length-1]&&l[l.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(l[l.length-1]);this.addKeyboardHandler(o,1)}},a.prototype.addKeyboardHandler=function(o,l){if(o){typeof o=="function"&&!o.handleKeyboard&&(o.handleKeyboard=o);var c=this.$handlers.indexOf(o);c!=-1&&this.$handlers.splice(c,1),l==null?this.$handlers.push(o):this.$handlers.splice(l,0,o),c==-1&&o.attach&&o.attach(this.$editor)}},a.prototype.removeKeyboardHandler=function(o){var l=this.$handlers.indexOf(o);return l==-1?!1:(this.$handlers.splice(l,1),o.detach&&o.detach(this.$editor),!0)},a.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},a.prototype.getStatusText=function(){var o=this.$data,l=o.editor;return this.$handlers.map(function(c){return c.getStatusText&&c.getStatusText(l,o)||""}).filter(Boolean).join(" ")},a.prototype.$callKeyboardHandlers=function(o,l,c,u){for(var d,h=!1,m=this.$editor.commands,f=this.$handlers.length;f--&&(d=this.$handlers[f].handleKeyboard(this.$data,o,l,c,u),!(!(!d||!d.command)&&(d.command=="null"?h=!0:h=m.exec(d.command,this.$editor,d.args,u),h&&u&&o!=-1&&d.passEvent!=!0&&d.command.passEvent!=!0&&r.stopEvent(u),h))););return!h&&o==-1&&(d={command:"insertstring"},h=m.exec("insertstring",this.$editor,l)),h&&this.$editor._signal&&this.$editor._signal("keyboardActivity",d),h},a.prototype.onCommandKey=function(o,l,c){var u=i.keyCodeToString(c);return this.$callKeyboardHandlers(l,u,c,o)},a.prototype.onTextInput=function(o){return this.$callKeyboardHandlers(-1,o)},a}();t.KeyBinding=s});ace.define("ace/lib/bidiutil",["require","exports","module"],function(n,t,e){"use strict";var i=["\u0621","\u0641"],r=["\u063A","\u064A"],s=0,a=0,o=!1,l=!1,c=!1,u=!1,d=!1,h=!1,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p=0,g=1,y=0,w=1,k=2,x=3,C=4,A=5,T=6,E=7,L=8,S=9,v=10,_=11,b=12,M=13,I=14,D=15,O=16,N=17,F=18,z=[F,F,F,F,F,F,F,F,F,T,A,T,L,A,F,F,F,F,F,F,F,F,F,F,F,F,F,F,A,A,A,T,L,C,C,_,_,_,C,C,C,C,C,v,S,v,S,S,k,k,k,k,k,k,k,k,k,k,S,C,C,C,C,C,C,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,C,C,C,C,C,C,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,C,C,C,C,F,F,F,F,F,F,A,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,S,C,_,_,_,_,C,C,C,C,y,C,C,F,C,C,_,_,k,k,C,y,C,C,C,k,y,C,C,C,C,C],V=[L,L,L,L,L,L,L,L,L,L,L,F,F,F,y,w,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,L,A,M,I,D,O,N,S,_,_,_,_,_,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,S,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,L];function K(ie,ne,Ee,we){var qe=s?f:m,_t=null,Ct=null,We=null,Nt=0,Qr=null,So=null,ur=-1,ct=null,an=null,Z=[];if(!we)for(ct=0,we=[];ct<Ee;ct++)we[ct]=ae(ie[ct]);for(a=s,o=!1,l=!1,c=!1,u=!1,an=0;an<Ee;an++){if(_t=Nt,Z[an]=Ct=q(ie,we,Z,an),Nt=qe[_t][Ct],Qr=Nt&240,Nt&=15,ne[an]=We=qe[Nt][5],Qr>0)if(Qr==16){for(ct=ur;ct<an;ct++)ne[ct]=1;ur=-1}else ur=-1;if(So=qe[Nt][6],So)ur==-1&&(ur=an);else if(ur>-1){for(ct=ur;ct<an;ct++)ne[ct]=We;ur=-1}we[an]==A&&(ne[an]=0),a|=We}if(u){for(ct=0;ct<Ee;ct++)if(we[ct]==T){ne[ct]=s;for(var me=ct-1;me>=0&&we[me]==L;me--)ne[me]=s}}}function W(ie,ne,Ee){if(!(a<ie)){if(ie==1&&s==g&&!c){Ee.reverse();return}for(var we=Ee.length,qe=0,_t,Ct,We,Nt;qe<we;){if(ne[qe]>=ie){for(_t=qe+1;_t<we&&ne[_t]>=ie;)_t++;for(Ct=qe,We=_t-1;Ct<We;Ct++,We--)Nt=Ee[Ct],Ee[Ct]=Ee[We],Ee[We]=Nt;qe=_t}qe++}}}function q(ie,ne,Ee,we){var qe=ne[we],_t,Ct,We,Nt;switch(qe){case y:case w:o=!1;case C:case x:return qe;case k:return o?x:k;case E:return o=!0,l=!0,w;case L:return C;case S:return we<1||we+1>=ne.length||(_t=Ee[we-1])!=k&&_t!=x||(Ct=ne[we+1])!=k&&Ct!=x?C:(o&&(Ct=x),Ct==_t?Ct:C);case v:return _t=we>0?Ee[we-1]:A,_t==k&&we+1<ne.length&&ne[we+1]==k?k:C;case _:if(we>0&&Ee[we-1]==k)return k;if(o)return C;for(Nt=we+1,We=ne.length;Nt<We&&ne[Nt]==_;)Nt++;return Nt<We&&ne[Nt]==k?k:C;case b:for(We=ne.length,Nt=we+1;Nt<We&&ne[Nt]==b;)Nt++;if(Nt<We){var Qr=ie[we],So=Qr>=1425&&Qr<=2303||Qr==64286;if(_t=ne[Nt],So&&(_t==w||_t==E))return w}return we<1||(_t=ne[we-1])==A?C:Ee[we-1];case A:return o=!1,c=!0,s;case T:return u=!0,C;case M:case I:case O:case N:case D:o=!1;case F:return C}}function ae(ie){var ne=ie.charCodeAt(0),Ee=ne>>8;return Ee==0?ne>191?y:z[ne]:Ee==5?/[\u0591-\u05f4]/.test(ie)?w:y:Ee==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ie)?b:/[\u0660-\u0669\u066b-\u066c]/.test(ie)?x:ne==1642?_:/[\u06f0-\u06f9]/.test(ie)?k:E:Ee==32&&ne<=8287?V[ne&255]:Ee==254&&ne>=65136?E:C}function pe(ie){return ie>="\u064B"&&ie<="\u0655"}t.L=y,t.R=w,t.EN=k,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="\xB7",t.doBidiReorder=function(ie,ne,Ee){if(ie.length<2)return{};var we=ie.split(""),qe=new Array(we.length),_t=new Array(we.length),Ct=[];s=Ee?g:p,K(we,Ct,we.length,ne);for(var We=0;We<qe.length;qe[We]=We,We++);W(2,Ct,qe),W(1,Ct,qe);for(var We=0;We<qe.length-1;We++)ne[We]===x?Ct[We]=t.AN:Ct[We]===w&&(ne[We]>E&&ne[We]<M||ne[We]===C||ne[We]===F)?Ct[We]=t.ON_R:We>0&&we[We-1]==="\u0644"&&/\u0622|\u0623|\u0625|\u0627/.test(we[We])&&(Ct[We-1]=Ct[We]=t.R_H,We++);we[we.length-1]===t.DOT&&(Ct[we.length-1]=t.B),we[0]==="\u202B"&&(Ct[0]=t.RLE);for(var We=0;We<qe.length;We++)_t[We]=Ct[qe[We]];return{logicalFromVisual:qe,bidiLevels:_t}},t.hasBidiCharacters=function(ie,ne){for(var Ee=!1,we=0;we<ie.length;we++)ne[we]=ae(ie.charAt(we)),!Ee&&(ne[we]==w||ne[we]==E||ne[we]==x)&&(Ee=!0);return Ee},t.getVisualFromLogicalIdx=function(ie,ne){for(var Ee=0;Ee<ne.logicalFromVisual.length;Ee++)if(ne.logicalFromVisual[Ee]==ie)return Ee;return 0}});ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(n,t,e){"use strict";var i=n("./lib/bidiutil"),r=n("./lib/lang"),s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,a=function(){function o(l){this.session=l,this.bidiMap={},this.currentRow=null,this.bidiUtil=i,this.charWidths=[],this.EOL="\xAC",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xB6",this.RLE="\u202B",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=s.test(l.getValue())}return o.prototype.isBidiRow=function(l,c,u){return this.seenBidi?(l!==this.currentRow&&(this.currentRow=l,this.updateRowLine(c,u),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},o.prototype.onChange=function(l){this.seenBidi?this.currentRow=null:l.action=="insert"&&s.test(l.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},o.prototype.getDocumentRow=function(){var l=0,c=this.session.$screenRowCache;if(c.length){var u=this.session.$getRowCacheIndex(c,this.currentRow);u>=0&&(l=this.session.$docRowCache[u])}return l},o.prototype.getSplitIndex=function(){var l=0,c=this.session.$screenRowCache;if(c.length)for(var u,d=this.session.$getRowCacheIndex(c,this.currentRow);this.currentRow-l>0&&(u=this.session.$getRowCacheIndex(c,this.currentRow-l-1),u===d);)d=u,l++;else l=this.currentRow;return l},o.prototype.updateRowLine=function(l,c){l===void 0&&(l=this.getDocumentRow());var u=l===this.session.getLength()-1,d=u?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(l),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var h=this.session.$wrapData[l];h&&(c===void 0&&(c=this.getSplitIndex()),c>0&&h.length?(this.wrapIndent=h.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=c<h.length?this.line.substring(h[c-1],h[c]):this.line.substring(h[h.length-1])):this.line=this.line.substring(0,h[c]),c==h.length&&(this.line+=this.showInvisibles?d:i.DOT))}else this.line+=this.showInvisibles?d:i.DOT;var m=this.session,f=0,p;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(g,y){return g==="	"||m.isFullWidth(g.charCodeAt(0))?(p=g==="	"?m.getScreenTabSize(y+f):2,f+=p-1,r.stringRepeat(i.DOT,p)):g}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},o.prototype.updateBidiMap=function(){var l=[];i.hasBidiCharacters(this.line,l)||this.isRtlDir?this.bidiMap=i.doBidiReorder(this.line,l,this.isRtlDir):this.bidiMap={}},o.prototype.markAsDirty=function(){this.currentRow=null},o.prototype.updateCharacterWidths=function(l){if(this.characterWidth!==l.$characterSize.width){this.fontMetrics=l;var c=this.characterWidth=l.$characterSize.width,u=l.$measureCharWidth("\u05D4");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=c,this.charWidths[i.R]=this.charWidths[i.AN]=u,this.charWidths[i.R_H]=u*.45,this.charWidths[i.B]=this.charWidths[i.RLE]=0,this.currentRow=null}},o.prototype.setShowInvisibles=function(l){this.showInvisibles=l,this.currentRow=null},o.prototype.setEolChar=function(l){this.EOL=l},o.prototype.setContentWidth=function(l){this.contentWidth=l},o.prototype.isRtlLine=function(l){return this.$isRtl?!0:l!=null?this.session.getLine(l).charAt(0)==this.RLE:this.isRtlDir},o.prototype.setRtlDirection=function(l,c){for(var u=l.getCursorPosition(),d=l.selection.getSelectionAnchor().row;d<=u.row;d++)!c&&l.session.getLine(d).charAt(0)===l.session.$bidiHandler.RLE?l.session.doc.removeInLine(d,0,1):c&&l.session.getLine(d).charAt(0)!==l.session.$bidiHandler.RLE&&l.session.doc.insert({column:0,row:d},l.session.$bidiHandler.RLE)},o.prototype.getPosLeft=function(l){l-=this.wrapIndent;var c=this.line.charAt(0)===this.RLE?1:0,u=l>c?this.session.getOverwrite()?l:l-1:c,d=i.getVisualFromLogicalIdx(u,this.bidiMap),h=this.bidiMap.bidiLevels,m=0;!this.session.getOverwrite()&&l<=c&&h[d]%2!==0&&d++;for(var f=0;f<d;f++)m+=this.charWidths[h[f]];return!this.session.getOverwrite()&&l>c&&h[d]%2===0&&(m+=this.charWidths[h[d]]),this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(m+=this.rtlLineOffset),m},o.prototype.getSelections=function(l,c){var u=this.bidiMap,d=u.bidiLevels,h,m=[],f=0,p=Math.min(l,c)-this.wrapIndent,g=Math.max(l,c)-this.wrapIndent,y=!1,w=!1,k=0;this.wrapIndent&&(f+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var x,C=0;C<d.length;C++)x=u.logicalFromVisual[C],h=d[C],y=x>=p&&x<g,y&&!w?k=f:!y&&w&&m.push({left:k,width:f-k}),f+=this.charWidths[h],w=y;if(y&&C===d.length&&m.push({left:k,width:f-k}),this.isRtlDir)for(var A=0;A<m.length;A++)m[A].left+=this.rtlLineOffset;return m},o.prototype.offsetToCol=function(u){this.isRtlDir&&(u-=this.rtlLineOffset);var c=0,u=Math.max(u,0),d=0,h=0,m=this.bidiMap.bidiLevels,f=this.charWidths[m[h]];for(this.wrapIndent&&(u-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);u>d+f/2;){if(d+=f,h===m.length-1){f=0;break}f=this.charWidths[m[++h]]}return h>0&&m[h-1]%2!==0&&m[h]%2===0?(u<d&&h--,c=this.bidiMap.logicalFromVisual[h]):h>0&&m[h-1]%2===0&&m[h]%2!==0?c=1+(u>d?this.bidiMap.logicalFromVisual[h]:this.bidiMap.logicalFromVisual[h-1]):this.isRtlDir&&h===m.length-1&&f===0&&m[h-1]%2===0||!this.isRtlDir&&h===0&&m[h]%2!==0?c=1+this.bidiMap.logicalFromVisual[h]:(h>0&&m[h-1]%2!==0&&f!==0&&h--,c=this.bidiMap.logicalFromVisual[h]),c===0&&this.isRtlDir&&c++,c+this.wrapIndent},o}();t.BidiHandler=a});ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,t,e){"use strict";var i=n("./lib/oop"),r=n("./lib/lang"),s=n("./lib/event_emitter").EventEmitter,a=n("./range").Range,o=function(){function l(c){this.session=c,this.doc=c.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var u=this;this.cursor.on("change",function(d){u.$cursorChanged=!0,u.$silent||u._emit("changeCursor"),!u.$isEmpty&&!u.$silent&&u._emit("changeSelection"),!u.$keepDesiredColumnOnChange&&d.old.column!=d.value.column&&(u.$desiredColumn=null)}),this.anchor.on("change",function(){u.$anchorChanged=!0,!u.$isEmpty&&!u.$silent&&u._emit("changeSelection")})}return l.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},l.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},l.prototype.getCursor=function(){return this.lead.getPosition()},l.prototype.setAnchor=function(c,u){this.$isEmpty=!1,this.anchor.setPosition(c,u)},l.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},l.prototype.getSelectionLead=function(){return this.lead.getPosition()},l.prototype.isBackwards=function(){var c=this.anchor,u=this.lead;return c.row>u.row||c.row==u.row&&c.column>u.column},l.prototype.getRange=function(){var c=this.anchor,u=this.lead;return this.$isEmpty?a.fromPoints(u,u):this.isBackwards()?a.fromPoints(u,c):a.fromPoints(c,u)},l.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},l.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},l.prototype.setRange=function(c,u){var d=u?c.end:c.start,h=u?c.start:c.end;this.$setSelection(d.row,d.column,h.row,h.column)},l.prototype.$setSelection=function(c,u,d,h){if(!this.$silent){var m=this.$isEmpty,f=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(c,u),this.cursor.setPosition(d,h),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||m!=this.$isEmpty||f)&&this._emit("changeSelection")}},l.prototype.$moveSelection=function(c){var u=this.lead;this.$isEmpty&&this.setSelectionAnchor(u.row,u.column),c.call(this)},l.prototype.selectTo=function(c,u){this.$moveSelection(function(){this.moveCursorTo(c,u)})},l.prototype.selectToPosition=function(c){this.$moveSelection(function(){this.moveCursorToPosition(c)})},l.prototype.moveTo=function(c,u){this.clearSelection(),this.moveCursorTo(c,u)},l.prototype.moveToPosition=function(c){this.clearSelection(),this.moveCursorToPosition(c)},l.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},l.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},l.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},l.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},l.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},l.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},l.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},l.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},l.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},l.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},l.prototype.getWordRange=function(c,u){if(typeof u>"u"){var d=c||this.lead;c=d.row,u=d.column}return this.session.getWordRange(c,u)},l.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},l.prototype.selectAWord=function(){var c=this.getCursor(),u=this.session.getAWordRange(c.row,c.column);this.setSelectionRange(u)},l.prototype.getLineRange=function(c,u){var d=typeof c=="number"?c:this.lead.row,h,m=this.session.getFoldLine(d);return m?(d=m.start.row,h=m.end.row):h=d,u===!0?new a(d,0,h,this.session.getLine(h).length):new a(d,0,h+1,0)},l.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},l.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},l.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},l.prototype.wouldMoveIntoSoftTab=function(c,u,d){var h=c.column,m=c.column+u;return d<0&&(h=c.column-u,m=c.column),this.session.isTabStop(c)&&this.doc.getLine(c.row).slice(h,m).split(" ").length-1==u},l.prototype.moveCursorLeft=function(){var c=this.lead.getPosition(),u;if(u=this.session.getFoldAt(c.row,c.column,-1))this.moveCursorTo(u.start.row,u.start.column);else if(c.column===0)c.row>0&&this.moveCursorTo(c.row-1,this.doc.getLine(c.row-1).length);else{var d=this.session.getTabSize();this.wouldMoveIntoSoftTab(c,d,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-d):this.moveCursorBy(0,-1)}},l.prototype.moveCursorRight=function(){var c=this.lead.getPosition(),u;if(u=this.session.getFoldAt(c.row,c.column,1))this.moveCursorTo(u.end.row,u.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var d=this.session.getTabSize(),c=this.lead;this.wouldMoveIntoSoftTab(c,d,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,d):this.moveCursorBy(0,1)}},l.prototype.moveCursorLineStart=function(){var c=this.lead.row,u=this.lead.column,d=this.session.documentToScreenRow(c,u),h=this.session.screenToDocumentPosition(d,0),m=this.session.getDisplayLine(c,null,h.row,h.column),f=m.match(/^\s*/);f[0].length!=u&&!this.session.$useEmacsStyleLineStart&&(h.column+=f[0].length),this.moveCursorToPosition(h)},l.prototype.moveCursorLineEnd=function(){var c=this.lead,u=this.session.getDocumentLastRowColumnPosition(c.row,c.column);if(this.lead.column==u.column){var d=this.session.getLine(u.row);if(u.column==d.length){var h=d.search(/\s+$/);h>0&&(u.column=h)}}this.moveCursorTo(u.row,u.column)},l.prototype.moveCursorFileEnd=function(){var c=this.doc.getLength()-1,u=this.doc.getLine(c).length;this.moveCursorTo(c,u)},l.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},l.prototype.moveCursorLongWordRight=function(){var c=this.lead.row,u=this.lead.column,d=this.doc.getLine(c),h=d.substring(u);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var m=this.session.getFoldAt(c,u,1);if(m){this.moveCursorTo(m.end.row,m.end.column);return}if(this.session.nonTokenRe.exec(h)&&(u+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,h=d.substring(u)),u>=d.length){this.moveCursorTo(c,d.length),this.moveCursorRight(),c<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(h)&&(u+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(c,u)},l.prototype.moveCursorLongWordLeft=function(){var c=this.lead.row,u=this.lead.column,d;if(d=this.session.getFoldAt(c,u,-1)){this.moveCursorTo(d.start.row,d.start.column);return}var h=this.session.getFoldStringAt(c,u,-1);h==null&&(h=this.doc.getLine(c).substring(0,u));var m=r.stringReverse(h);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(m)&&(u-=this.session.nonTokenRe.lastIndex,m=m.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),u<=0){this.moveCursorTo(c,0),this.moveCursorLeft(),c>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(m)&&(u-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(c,u)},l.prototype.$shortWordEndIndex=function(c){var u=0,d,h=/\s/,m=this.session.tokenRe;if(m.lastIndex=0,this.session.tokenRe.exec(c))u=this.session.tokenRe.lastIndex;else{for(;(d=c[u])&&h.test(d);)u++;if(u<1){for(m.lastIndex=0;(d=c[u])&&!m.test(d);)if(m.lastIndex=0,u++,h.test(d))if(u>2){u--;break}else{for(;(d=c[u])&&h.test(d);)u++;if(u>2)break}}}return m.lastIndex=0,u},l.prototype.moveCursorShortWordRight=function(){var c=this.lead.row,u=this.lead.column,d=this.doc.getLine(c),h=d.substring(u),m=this.session.getFoldAt(c,u,1);if(m)return this.moveCursorTo(m.end.row,m.end.column);if(u==d.length){var f=this.doc.getLength();do c++,h=this.doc.getLine(c);while(c<f&&/^\s*$/.test(h));/^\s+/.test(h)||(h=""),u=0}var p=this.$shortWordEndIndex(h);this.moveCursorTo(c,u+p)},l.prototype.moveCursorShortWordLeft=function(){var c=this.lead.row,u=this.lead.column,d;if(d=this.session.getFoldAt(c,u,-1))return this.moveCursorTo(d.start.row,d.start.column);var h=this.session.getLine(c).substring(0,u);if(u===0){do c--,h=this.doc.getLine(c);while(c>0&&/^\s*$/.test(h));u=h.length,/\s+$/.test(h)||(h="")}var m=r.stringReverse(h),f=this.$shortWordEndIndex(m);return this.moveCursorTo(c,u-f)},l.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},l.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},l.prototype.moveCursorBy=function(c,u){var d=this.session.documentToScreenPosition(this.lead.row,this.lead.column),h;if(u===0&&(c!==0&&(this.session.$bidiHandler.isBidiRow(d.row,this.lead.row)?(h=this.session.$bidiHandler.getPosLeft(d.column),d.column=Math.round(h/this.session.$bidiHandler.charWidths[0])):h=d.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?d.column=this.$desiredColumn:this.$desiredColumn=d.column),c!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var m=this.session.lineWidgets[this.lead.row];c<0?c-=m.rowsAbove||0:c>0&&(c+=m.rowCount-(m.rowsAbove||0))}var f=this.session.screenToDocumentPosition(d.row+c,d.column,h);c!==0&&u===0&&f.row===this.lead.row&&(f.column,this.lead.column),this.moveCursorTo(f.row,f.column+u,u===0)},l.prototype.moveCursorToPosition=function(c){this.moveCursorTo(c.row,c.column)},l.prototype.moveCursorTo=function(c,u,d){var h=this.session.getFoldAt(c,u,1);h&&(c=h.start.row,u=h.start.column),this.$keepDesiredColumnOnChange=!0;var m=this.session.getLine(c);/[\uDC00-\uDFFF]/.test(m.charAt(u))&&m.charAt(u-1)&&(this.lead.row==c&&this.lead.column==u+1?u=u-1:u=u+1),this.lead.setPosition(c,u),this.$keepDesiredColumnOnChange=!1,d||(this.$desiredColumn=null)},l.prototype.moveCursorToScreen=function(c,u,d){var h=this.session.screenToDocumentPosition(c,u);this.moveCursorTo(h.row,h.column,d)},l.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},l.prototype.fromOrientedRange=function(c){this.setSelectionRange(c,c.cursor==c.start),this.$desiredColumn=c.desiredColumn||this.$desiredColumn},l.prototype.toOrientedRange=function(c){var u=this.getRange();return c?(c.start.column=u.start.column,c.start.row=u.start.row,c.end.column=u.end.column,c.end.row=u.end.row):c=u,c.cursor=this.isBackwards()?c.start:c.end,c.desiredColumn=this.$desiredColumn,c},l.prototype.getRangeOfMovements=function(c){var u=this.getCursor();try{c(this);var d=this.getCursor();return a.fromPoints(u,d)}catch{return a.fromPoints(u,u)}finally{this.moveCursorToPosition(u)}},l.prototype.toJSON=function(){if(this.rangeCount)var c=this.ranges.map(function(u){var d=u.clone();return d.isBackwards=u.cursor==u.start,d});else{var c=this.getRange();c.isBackwards=this.isBackwards()}return c},l.prototype.fromJSON=function(c){if(c.start==null)if(this.rangeList&&c.length>1){this.toSingleRange(c[0]);for(var u=c.length;u--;){var d=a.fromPoints(c[u].start,c[u].end);c[u].isBackwards&&(d.cursor=d.start),this.addRange(d,!0)}return}else c=c[0];this.rangeList&&this.toSingleRange(c),this.setSelectionRange(c,c.isBackwards)},l.prototype.isEqual=function(c){if((c.length||this.rangeCount)&&c.length!=this.rangeCount)return!1;if(!c.length||!this.ranges)return this.getRange().isEqual(c);for(var u=this.ranges.length;u--;)if(!this.ranges[u].isEqual(c[u]))return!1;return!0},l}();o.prototype.setSelectionAnchor=o.prototype.setAnchor,o.prototype.getSelectionAnchor=o.prototype.getAnchor,o.prototype.setSelectionRange=o.prototype.setRange,i.implement(o.prototype,s),t.Selection=o});ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(n,t,e){"use strict";var i=n("./lib/report_error").reportError,r=2e3,s=function(){function a(o){this.splitRegex,this.states=o,this.regExps={},this.matchMappings={};for(var l in this.states){for(var c=this.states[l],u=[],d=0,h=this.matchMappings[l]={defaultToken:"text"},m="g",f=[],p=0;p<c.length;p++){var g=c[p];if(g.defaultToken&&(h.defaultToken=g.defaultToken),g.caseInsensitive&&m.indexOf("i")===-1&&(m+="i"),g.unicode&&m.indexOf("u")===-1&&(m+="u"),g.regex!=null){g.regex instanceof RegExp&&(g.regex=g.regex.toString().slice(1,-1));var y=g.regex,w=new RegExp("(?:("+y+")|(.))").exec("a").length-2;Array.isArray(g.token)?g.token.length==1||w==1?g.token=g.token[0]:w-1!=g.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:g,groupCount:w-1}),g.token=g.token[0]):(g.tokenArray=g.token,g.token=null,g.onMatch=this.$arrayTokens):typeof g.token=="function"&&!g.onMatch&&(w>1?g.onMatch=this.$applyToken:g.onMatch=g.token),w>1&&(/\\\d/.test(g.regex)?y=g.regex.replace(/\\([0-9]+)/g,function(k,x){return"\\"+(parseInt(x,10)+d+1)}):(w=1,y=this.removeCapturingGroups(g.regex)),!g.splitRegex&&typeof g.token!="string"&&f.push(g)),h[d]=p,d+=w,u.push(y),g.onMatch||(g.onMatch=null)}}u.length||(h[0]=0,u.push("$")),f.forEach(function(k){k.splitRegex=this.createSplitterRegexp(k.regex,m)},this),this.regExps[l]=new RegExp("("+u.join(")|(")+")|($)",m)}}return a.prototype.$setMaxTokenCount=function(o){r=o|0},a.prototype.$applyToken=function(o){var l=this.splitRegex.exec(o).slice(1),c=this.token.apply(this,l);if(typeof c=="string")return[{type:c,value:o}];for(var u=[],d=0,h=c.length;d<h;d++)l[d]&&(u[u.length]={type:c[d],value:l[d]});return u},a.prototype.$arrayTokens=function(o){if(!o)return[];var l=this.splitRegex.exec(o);if(!l)return"text";for(var c=[],u=this.tokenArray,d=0,h=u.length;d<h;d++)l[d+1]&&(c[c.length]={type:u[d],value:l[d+1]});return c},a.prototype.removeCapturingGroups=function(o){var l=o.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(c,u){return u?"(?:":c});return l},a.prototype.createSplitterRegexp=function(o,l){if(o.indexOf("(?=")!=-1){var c=0,u=!1,d={};o.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(h,m,f,p,g,y){return u?u=g!="]":g?u=!0:p?(c==d.stack&&(d.end=y+1,d.stack=-1),c--):f&&(c++,f.length!=1&&(d.stack=c,d.start=y)),h}),d.end!=null&&/^\)*$/.test(o.substr(d.end))&&(o=o.substring(0,d.start)+o.substr(d.end))}return o.charAt(0)!="^"&&(o="^"+o),o.charAt(o.length-1)!="$"&&(o+="$"),new RegExp(o,(l||"").replace("g",""))},a.prototype.getLineTokens=function(o,l){if(l&&typeof l!="string"){var c=l.slice(0);l=c[0],l==="#tmp"&&(c.shift(),l=c.shift())}else var c=[];var u=l||"start",d=this.states[u];d||(u="start",d=this.states[u]);var h=this.matchMappings[u],m=this.regExps[u];m.lastIndex=0;for(var f,p=[],g=0,y=0,w={type:null,value:""};f=m.exec(o);){var k=h.defaultToken,x=null,C=f[0],A=m.lastIndex;if(A-C.length>g){var T=o.substring(g,A-C.length);w.type==k?w.value+=T:(w.type&&p.push(w),w={type:k,value:T})}for(var E=0;E<f.length-2;E++)if(f[E+1]!==void 0){x=d[h[E]],x.onMatch?k=x.onMatch(C,u,c,o):k=x.token,x.next&&(typeof x.next=="string"?u=x.next:u=x.next(u,c),d=this.states[u],d||(this.reportError("state doesn't exist",u),u="start",d=this.states[u]),h=this.matchMappings[u],g=A,m=this.regExps[u],m.lastIndex=A),x.consumeLineEnd&&(g=A);break}if(C){if(typeof k=="string")(!x||x.merge!==!1)&&w.type===k?w.value+=C:(w.type&&p.push(w),w={type:k,value:C});else if(k){w.type&&p.push(w),w={type:null,value:""};for(var E=0;E<k.length;E++)p.push(k[E])}}if(g==o.length)break;if(g=A,y++>r){for(y>2*o.length&&this.reportError("infinite loop with in ace tokenizer",{startState:l,line:o});g<o.length;)w.type&&p.push(w),w={value:o.substring(g,g+=500),type:"overflow"};u="start",c=[];break}}return w.type&&p.push(w),c.length>1&&c[0]!==u&&c.unshift("#tmp",u),{tokens:p,state:c.length?c:u}},a}();s.prototype.reportError=i,t.Tokenizer=s});ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(n,t,e){"use strict";var i=n("../lib/deep_copy").deepCopy,r;r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},function(){this.addRules=function(o,l){if(!l){for(var c in o)this.$rules[c]=o[c];return}for(var c in o){for(var u=o[c],d=0;d<u.length;d++){var h=u[d];(h.next||h.onMatch)&&(typeof h.next=="string"&&h.next.indexOf(l)!==0&&(h.next=l+h.next),h.nextState&&h.nextState.indexOf(l)!==0&&(h.nextState=l+h.nextState))}this.$rules[l+c]=u}},this.getRules=function(){return this.$rules},this.embedRules=function(o,l,c,u,d){var h=typeof o=="function"?new o().getRules():o;if(u)for(var m=0;m<u.length;m++)u[m]=l+u[m];else{u=[];for(var f in h)u.push(l+f)}if(this.addRules(h,l),c)for(var p=Array.prototype[d?"push":"unshift"],m=0;m<u.length;m++)p.apply(this.$rules[u[m]],i(c));this.$embeds||(this.$embeds=[]),this.$embeds.push(l)},this.getEmbeds=function(){return this.$embeds};var s=function(o,l){return(o!="start"||l.length)&&l.unshift(this.nextState,o),this.nextState},a=function(o,l){return l.shift(),l.shift()||"start"};this.normalizeRules=function(){var o=0,l=this.$rules;function c(u){var d=l[u];d.processed=!0;for(var h=0;h<d.length;h++){var m=d[h],f=null;Array.isArray(m)&&(f=m,m={}),!m.regex&&m.start&&(m.regex=m.start,m.next||(m.next=[]),m.next.push({defaultToken:m.token},{token:m.token+".end",regex:m.end||m.start,next:"pop"}),m.token=m.token+".start",m.push=!0);var p=m.next||m.push;if(p&&Array.isArray(p)){var g=m.stateName;g||(g=m.token,typeof g!="string"&&(g=g[0]||""),l[g]&&(g+=o++)),l[g]=p,m.next=g,c(g)}else p=="pop"&&(m.next=a);if(m.push&&(m.nextState=m.next||m.push,m.next=s,delete m.push),m.rules)for(var y in m.rules)l[y]?l[y].push&&l[y].push.apply(l[y],m.rules[y]):l[y]=m.rules[y];var w=typeof m=="string"?m:m.include;if(w&&(w==="$self"&&(w="start"),Array.isArray(w)?f=w.map(function(x){return l[x]}):f=l[w]),f){var k=[h,1].concat(f);m.noEscape&&(k=k.filter(function(x){return!x.next})),d.splice.apply(d,k),h--}m.keywordMap&&(m.token=this.createKeywordMapper(m.keywordMap,m.defaultToken||"text",m.caseInsensitive),delete m.defaultToken)}}Object.keys(l).forEach(c,this)},this.createKeywordMapper=function(o,l,c,u){var d=Object.create(null);return this.$keywordList=[],Object.keys(o).forEach(function(h){for(var m=o[h],f=m.split(u||"|"),p=f.length;p--;){var g=f[p];this.$keywordList.push(g),c&&(g=g.toLowerCase()),d[g]=h}},this),o=null,c?function(h){return d[h.toLowerCase()]||l}:function(h){return d[h]||l}},this.getKeywords=function(){return this.$keywords}}.call(r.prototype),t.TextHighlightRules=r});ace.define("ace/mode/behaviour",["require","exports","module"],function(n,t,e){"use strict";var i;i=function(){this.$behaviours={}},function(){this.add=function(r,s,a){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[r]:this.$behaviours[r]={}}this.$behaviours[r][s]=a},this.addBehaviours=function(r){for(var s in r)for(var a in r[s])this.add(s,a,r[s][a])},this.remove=function(r){this.$behaviours&&this.$behaviours[r]&&delete this.$behaviours[r]},this.inherit=function(r,s){if(typeof r=="function")var a=new r().getBehaviours(s);else var a=r.getBehaviours(s);this.addBehaviours(a)},this.getBehaviours=function(r){if(r){for(var s={},a=0;a<r.length;a++)this.$behaviours[r[a]]&&(s[r[a]]=this.$behaviours[r[a]]);return s}else return this.$behaviours}}.call(i.prototype),t.Behaviour=i});ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(n,t,e){"use strict";var i=n("./range").Range,r=function(){function s(a,o,l){this.$session=a,this.$row=o,this.$rowTokens=a.getTokens(o);var c=a.getTokenAt(o,l);this.$tokenIndex=c?c.index:-1}return s.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},s.prototype.stepForward=function(){this.$tokenIndex+=1;for(var a;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,a||(a=this.$session.getLength()),this.$row>=a)return this.$row=a-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},s.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},s.prototype.getCurrentTokenRow=function(){return this.$row},s.prototype.getCurrentTokenColumn=function(){var a=this.$rowTokens,o=this.$tokenIndex,l=a[o].start;if(l!==void 0)return l;for(l=0;o>0;)o-=1,l+=a[o].value.length;return l},s.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},s.prototype.getCurrentTokenRange=function(){var a=this.$rowTokens[this.$tokenIndex],o=this.getCurrentTokenColumn();return new i(this.$row,o,this.$row,o+a.value.length)},s}();t.TokenIterator=r});ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,t,e){"use strict";var i=n("../../lib/oop"),r=n("../behaviour").Behaviour,s=n("../../token_iterator").TokenIterator,a=n("../../lib/lang"),o=["text","paren.rparen","rparen","paren","punctuation.operator"],l=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],c,u={},d={'"':'"',"'":"'"},h=function(p){var g=-1;if(p.multiSelect&&(g=p.selection.index,u.rangeCount!=p.multiSelect.rangeCount&&(u={rangeCount:p.multiSelect.rangeCount})),u[g])return c=u[g];c=u[g]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},m=function(p,g,y,w){var k=p.end.row-p.start.row;return{text:y+g+w,selection:[0,p.start.column+1,k,p.end.column+(k?0:1)]}},f;f=function(p){p=p||{},this.add("braces","insertion",function(g,y,w,k,x){var C=w.getCursorPosition(),A=k.doc.getLine(C.row);if(x=="{"){h(w);var T=w.getSelectionRange(),E=k.doc.getTextRange(T),L=k.getTokenAt(C.row,C.column);if(E!==""&&E!=="{"&&w.getWrapBehavioursEnabled())return m(T,E,"{","}");if(L&&/(?:string)\.quasi|\.xml/.test(L.type)){var S=[/tag\-(?:open|name)/,/attribute\-name/];return S.some(function(O){return O.test(L.type)})||/(string)\.quasi/.test(L.type)&&L.value[C.column-L.start-1]!=="$"?void 0:(f.recordAutoInsert(w,k,"}"),{text:"{}",selection:[1,1]})}else if(f.isSaneInsertion(w,k))return/[\]\}\)]/.test(A[C.column])||w.inMultiSelectMode||p.braces?(f.recordAutoInsert(w,k,"}"),{text:"{}",selection:[1,1]}):(f.recordMaybeInsert(w,k,"{"),{text:"{",selection:[1,1]})}else if(x=="}"){h(w);var v=A.substring(C.column,C.column+1);if(v=="}"){var _=k.$findOpeningBracket("}",{column:C.column+1,row:C.row});if(_!==null&&f.isAutoInsertedClosing(C,A,x))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(x==`
`||x==`\r
`){h(w);var b="";f.isMaybeInsertedClosing(C,A)&&(b=a.stringRepeat("}",c.maybeInsertedBrackets),f.clearMaybeInsertedClosing());var v=A.substring(C.column,C.column+1);if(v==="}"){var M=k.findMatchingBracket({row:C.row,column:C.column+1},"}");if(!M)return null;var I=this.$getIndent(k.getLine(M.row))}else if(b)var I=this.$getIndent(A);else{f.clearMaybeInsertedClosing();return}var D=I+k.getTabString();return{text:`
`+D+`
`+I+b,selection:[1,D.length,1,D.length]}}else f.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(g,y,w,k,x){var C=k.doc.getTextRange(x);if(!x.isMultiLine()&&C=="{"){h(w);var A=k.doc.getLine(x.start.row),T=A.substring(x.end.column,x.end.column+1);if(T=="}")return x.end.column++,x;c.maybeInsertedBrackets--}}),this.add("parens","insertion",function(g,y,w,k,x){if(x=="("){h(w);var C=w.getSelectionRange(),A=k.doc.getTextRange(C);if(A!==""&&w.getWrapBehavioursEnabled())return m(C,A,"(",")");if(f.isSaneInsertion(w,k))return f.recordAutoInsert(w,k,")"),{text:"()",selection:[1,1]}}else if(x==")"){h(w);var T=w.getCursorPosition(),E=k.doc.getLine(T.row),L=E.substring(T.column,T.column+1);if(L==")"){var S=k.$findOpeningBracket(")",{column:T.column+1,row:T.row});if(S!==null&&f.isAutoInsertedClosing(T,E,x))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(g,y,w,k,x){var C=k.doc.getTextRange(x);if(!x.isMultiLine()&&C=="("){h(w);var A=k.doc.getLine(x.start.row),T=A.substring(x.start.column+1,x.start.column+2);if(T==")")return x.end.column++,x}}),this.add("brackets","insertion",function(g,y,w,k,x){if(x=="["){h(w);var C=w.getSelectionRange(),A=k.doc.getTextRange(C);if(A!==""&&w.getWrapBehavioursEnabled())return m(C,A,"[","]");if(f.isSaneInsertion(w,k))return f.recordAutoInsert(w,k,"]"),{text:"[]",selection:[1,1]}}else if(x=="]"){h(w);var T=w.getCursorPosition(),E=k.doc.getLine(T.row),L=E.substring(T.column,T.column+1);if(L=="]"){var S=k.$findOpeningBracket("]",{column:T.column+1,row:T.row});if(S!==null&&f.isAutoInsertedClosing(T,E,x))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(g,y,w,k,x){var C=k.doc.getTextRange(x);if(!x.isMultiLine()&&C=="["){h(w);var A=k.doc.getLine(x.start.row),T=A.substring(x.start.column+1,x.start.column+2);if(T=="]")return x.end.column++,x}}),this.add("string_dquotes","insertion",function(g,y,w,k,x){var C=k.$mode.$quotes||d;if(x.length==1&&C[x]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(x)!=-1)return;h(w);var A=x,T=w.getSelectionRange(),E=k.doc.getTextRange(T);if(E!==""&&(E.length!=1||!C[E])&&w.getWrapBehavioursEnabled())return m(T,E,A,A);if(!E){var L=w.getCursorPosition(),S=k.doc.getLine(L.row),v=S.substring(L.column-1,L.column),_=S.substring(L.column,L.column+1),b=k.getTokenAt(L.row,L.column),M=k.getTokenAt(L.row,L.column+1);if(v=="\\"&&b&&/escape/.test(b.type))return null;var I=b&&/string|escape/.test(b.type),D=!M||/string|escape/.test(M.type),O;if(_==A)O=I!==D,O&&/string\.end/.test(M.type)&&(O=!1);else{if(I&&!D||I&&D)return null;var N=k.$mode.tokenRe;N.lastIndex=0;var F=N.test(v);N.lastIndex=0;var z=N.test(_),V=k.$mode.$pairQuotesAfter,K=V&&V[A]&&V[A].test(v);if(!K&&F||z||_&&!/[\s;,.})\]\\]/.test(_))return null;var W=S[L.column-2];if(v==A&&(W==A||N.test(W)))return null;O=!0}return{text:O?A+A:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(g,y,w,k,x){var C=k.$mode.$quotes||d,A=k.doc.getTextRange(x);if(!x.isMultiLine()&&C.hasOwnProperty(A)){h(w);var T=k.doc.getLine(x.start.row),E=T.substring(x.start.column+1,x.start.column+2);if(E==A)return x.end.column++,x}}),p.closeDocComment!==!1&&this.add("doc comment end","insertion",function(g,y,w,k,x){if(g==="doc-start"&&(x===`
`||x===`\r
`)&&w.selection.isEmpty()){var C=w.getCursorPosition();if(C.column===0)return;for(var A=k.doc.getLine(C.row),T=k.doc.getLine(C.row+1),E=k.getTokens(C.row),L=0,S=0;S<E.length;S++){L+=E[S].value.length;var v=E[S];if(L>=C.column){if(L===C.column){if(!/\.doc/.test(v.type))return;if(/\*\//.test(v.value)){var _=E[S+1];if(!_||!/\.doc/.test(_.type))return}}var b=C.column-(L-v.value.length),M=v.value.indexOf("*/"),I=v.value.indexOf("/**",M>-1?M+2:0);if(I!==-1&&b>I&&b<I+3||M!==-1&&I!==-1&&b>=M&&b<=I||!/\.doc/.test(v.type))return;break}}var D=this.$getIndent(A);if(/\s*\*/.test(T))return/^\s*\*/.test(A)?{text:x+D+"* ",selection:[1,2+D.length,1,2+D.length]}:{text:x+D+" * ",selection:[1,3+D.length,1,3+D.length]};if(/\/\*\*/.test(A.substring(0,C.column)))return{text:x+D+" * "+x+" "+D+"*/",selection:[1,4+D.length,1,4+D.length]}}})},f.isSaneInsertion=function(p,g){var y=p.getCursorPosition(),w=new s(g,y.row,y.column);if(!this.$matchTokenType(w.getCurrentToken()||"text",o)){if(/[)}\]]/.test(p.session.getLine(y.row)[y.column]))return!0;var k=new s(g,y.row,y.column+1);if(!this.$matchTokenType(k.getCurrentToken()||"text",o))return!1}return w.stepForward(),w.getCurrentTokenRow()!==y.row||this.$matchTokenType(w.getCurrentToken()||"text",l)},f.$matchTokenType=function(p,g){return g.indexOf(p.type||p)>-1},f.recordAutoInsert=function(p,g,y){var w=p.getCursorPosition(),k=g.doc.getLine(w.row);this.isAutoInsertedClosing(w,k,c.autoInsertedLineEnd[0])||(c.autoInsertedBrackets=0),c.autoInsertedRow=w.row,c.autoInsertedLineEnd=y+k.substr(w.column),c.autoInsertedBrackets++},f.recordMaybeInsert=function(p,g,y){var w=p.getCursorPosition(),k=g.doc.getLine(w.row);this.isMaybeInsertedClosing(w,k)||(c.maybeInsertedBrackets=0),c.maybeInsertedRow=w.row,c.maybeInsertedLineStart=k.substr(0,w.column)+y,c.maybeInsertedLineEnd=k.substr(w.column),c.maybeInsertedBrackets++},f.isAutoInsertedClosing=function(p,g,y){return c.autoInsertedBrackets>0&&p.row===c.autoInsertedRow&&y===c.autoInsertedLineEnd[0]&&g.substr(p.column)===c.autoInsertedLineEnd},f.isMaybeInsertedClosing=function(p,g){return c.maybeInsertedBrackets>0&&p.row===c.maybeInsertedRow&&g.substr(p.column)===c.maybeInsertedLineEnd&&g.substr(0,p.column)==c.maybeInsertedLineStart},f.popAutoInsertedClosing=function(){c.autoInsertedLineEnd=c.autoInsertedLineEnd.substr(1),c.autoInsertedBrackets--},f.clearMaybeInsertedClosing=function(){c&&(c.maybeInsertedBrackets=0,c.maybeInsertedRow=-1)},i.inherits(f,r),t.CstyleBehaviour=f});ace.define("ace/unicode",["require","exports","module"],function(n,t,e){"use strict";for(var i=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,s=[],a=0;a<i.length;a+=2)s.push(r+=i[a]),i[a+1]&&s.push(45,r+=i[a+1]);t.wordChars=String.fromCharCode.apply(null,s)});ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,t,e){"use strict";var i=n("../config"),r=n("../tokenizer").Tokenizer,s=n("./text_highlight_rules").TextHighlightRules,a=n("./behaviour/cstyle").CstyleBehaviour,o=n("../unicode"),l=n("../lib/lang"),c=n("../token_iterator").TokenIterator,u=n("../range").Range,d;d=function(){this.HighlightRules=s},function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+o.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+o.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(h,m,f,p){var g=m.doc,y=!0,w=!0,k=1/0,x=m.getTabSize(),C=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var E=this.lineCommentStart.map(l.escapeRegExp).join("|"),A=this.lineCommentStart[0];else var E=l.escapeRegExp(this.lineCommentStart),A=this.lineCommentStart;E=new RegExp("^(\\s*)(?:"+E+") ?"),C=m.getUseSoftTabs();var v=function(z,V){var K=z.match(E);if(K){var W=K[1].length,q=K[0].length;!M(z,W,q)&&K[0][q-1]==" "&&q--,g.removeInLine(V,W,q)}},b=A+" ",S=function(z,V){(!y||/\S/.test(z))&&(M(z,k,k)?g.insertInLine({row:V,column:k},b):g.insertInLine({row:V,column:k},A))},_=function(z,V){return E.test(z)},M=function(z,V,K){for(var W=0;V--&&z.charAt(V)==" ";)W++;if(W%x!=0)return!1;for(var W=0;z.charAt(K++)==" ";)W++;return x>2?W%x!=x-1:W%x==0}}else{if(!this.blockComment)return!1;var A=this.blockComment.start,T=this.blockComment.end,E=new RegExp("^(\\s*)(?:"+l.escapeRegExp(A)+")"),L=new RegExp("(?:"+l.escapeRegExp(T)+")\\s*$"),S=function(O,N){_(O,N)||(!y||/\S/.test(O))&&(g.insertInLine({row:N,column:O.length},T),g.insertInLine({row:N,column:k},A))},v=function(O,N){var F;(F=O.match(L))&&g.removeInLine(N,O.length-F[0].length,O.length),(F=O.match(E))&&g.removeInLine(N,F[1].length,F[0].length)},_=function(O,N){if(E.test(O))return!0;for(var F=m.getTokens(N),z=0;z<F.length;z++)if(F[z].type==="comment")return!0}}function I(O){for(var N=f;N<=p;N++)O(g.getLine(N),N)}var D=1/0;I(function(O,N){var F=O.search(/\S/);F!==-1?(F<k&&(k=F),w&&!_(O,N)&&(w=!1)):D>O.length&&(D=O.length)}),k==1/0&&(k=D,y=!1,w=!1),C&&k%x!=0&&(k=Math.floor(k/x)*x),I(w?v:S)},this.toggleBlockComment=function(h,m,f,p){var g=this.blockComment;if(g){!g.start&&g[0]&&(g=g[0]);var y=new c(m,p.row,p.column),w=y.getCurrentToken(),k=m.selection,x=m.selection.toOrientedRange(),C,A;if(w&&/comment/.test(w.type)){for(var T,E;w&&/comment/.test(w.type);){var L=w.value.indexOf(g.start);if(L!=-1){var S=y.getCurrentTokenRow(),v=y.getCurrentTokenColumn()+L;T=new u(S,v,S,v+g.start.length);break}w=y.stepBackward()}for(var y=new c(m,p.row,p.column),w=y.getCurrentToken();w&&/comment/.test(w.type);){var L=w.value.indexOf(g.end);if(L!=-1){var S=y.getCurrentTokenRow(),v=y.getCurrentTokenColumn()+L;E=new u(S,v,S,v+g.end.length);break}w=y.stepForward()}E&&m.remove(E),T&&(m.remove(T),C=T.start.row,A=-g.start.length)}else A=g.start.length,C=f.start.row,m.insert(f.end,g.end),m.insert(f.start,g.start);x.start.row==C&&(x.start.column+=A),x.end.row==C&&(x.end.column+=A),m.selection.fromOrientedRange(x)}},this.getNextLineIndent=function(h,m,f){return this.$getIndent(m)},this.checkOutdent=function(h,m,f){return!1},this.autoOutdent=function(h,m,f){},this.$getIndent=function(h){return h.match(/^\s*/)[0]},this.createWorker=function(h){return null},this.createModeDelegates=function(h){this.$embeds=[],this.$modes={};for(var m in h)if(h[m]){var f=h[m],p=f.prototype.$id,g=i.$modes[p];g||(i.$modes[p]=g=new f),i.$modes[m]||(i.$modes[m]=g),this.$embeds.push(m),this.$modes[m]=g}for(var y=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],w=function(x){(function(C){var A=y[x],T=C[A];C[y[x]]=function(){return this.$delegator(A,arguments,T)}})(k)},k=this,m=0;m<y.length;m++)w(m)},this.$delegator=function(h,m,f){var p=m[0]||"start";if(typeof p!="string"){if(Array.isArray(p[2])){var g=p[2][p[2].length-1],y=this.$modes[g];if(y)return y[h].apply(y,[p[1]].concat([].slice.call(m,1)))}p=p[0]||"start"}for(var w=0;w<this.$embeds.length;w++)if(this.$modes[this.$embeds[w]]){var k=p.split(this.$embeds[w]);if(!k[0]&&k[1]){m[0]=k[1];var y=this.$modes[this.$embeds[w]];return y[h].apply(y,m)}}var x=f.apply(this,m);return f?x:void 0},this.transformAction=function(h,m,f,p,g){if(this.$behaviour){var y=this.$behaviour.getBehaviours();for(var w in y)if(y[w][m]){var k=y[w][m].apply(this,arguments);if(k)return k}}},this.getKeywords=function(h){if(!this.completionKeywords){var m=this.$tokenizer.rules,f=[];for(var p in m)for(var g=m[p],y=0,w=g.length;y<w;y++)if(typeof g[y].token=="string")/keyword|support|storage/.test(g[y].token)&&f.push(g[y].regex);else if(typeof g[y].token=="object"){for(var k=0,x=g[y].token.length;k<x;k++)if(/keyword|support|storage/.test(g[y].token[k])){var p=g[y].regex.match(/\(.+?\)/g)[k];f.push(p.substr(1,p.length-2))}}this.completionKeywords=f}return h?f.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(h,m,f,p){var g=this.$keywordList||this.$createKeywordList();return g.map(function(y){return{name:y,value:y,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}.call(d.prototype),t.Mode=d});ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(n,t,e){"use strict";var i=n("./lib/dom"),r=function(){function s(a){this.session=a,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return s.prototype.getRowLength=function(a){var o;return this.lineWidgets?o=this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0:o=0,!this.$useWrapMode||!this.$wrapData[a]?1+o:this.$wrapData[a].length+1+o},s.prototype.$getWidgetScreenLength=function(){var a=0;return this.lineWidgets.forEach(function(o){o&&o.rowCount&&!o.hidden&&(a+=o.rowCount)}),a},s.prototype.$onChangeEditor=function(a){this.attach(a.editor)},s.prototype.attach=function(a){a&&a.widgetManager&&a.widgetManager!=this&&a.widgetManager.detach(),this.editor!=a&&(this.detach(),this.editor=a,a&&(a.widgetManager=this,a.renderer.on("beforeRender",this.measureWidgets),a.renderer.on("afterRender",this.renderWidgets)))},s.prototype.detach=function(a){var o=this.editor;if(o){this.editor=null,o.widgetManager=null,o.renderer.off("beforeRender",this.measureWidgets),o.renderer.off("afterRender",this.renderWidgets);var l=this.session.lineWidgets;l&&l.forEach(function(c){c&&c.el&&c.el.parentNode&&(c._inDocument=!1,c.el.parentNode.removeChild(c.el))})}},s.prototype.updateOnFold=function(a,o){var l=o.lineWidgets;if(!(!l||!a.action)){for(var c=a.data,u=c.start.row,d=c.end.row,h=a.action=="add",m=u+1;m<d;m++)l[m]&&(l[m].hidden=h);l[d]&&(h?l[u]?l[d].hidden=h:l[u]=l[d]:(l[u]==l[d]&&(l[u]=void 0),l[d].hidden=h))}},s.prototype.updateOnChange=function(a){var o=this.session.lineWidgets;if(o){var l=a.start.row,c=a.end.row-l;if(c!==0)if(a.action=="remove"){var u=o.splice(l+1,c);!o[l]&&u[u.length-1]&&(o[l]=u.pop()),u.forEach(function(h){h&&this.removeLineWidget(h)},this),this.$updateRows()}else{var d=new Array(c);o[l]&&o[l].column!=null&&a.start.column>o[l].column&&l++,d.unshift(l,0),o.splice.apply(o,d),this.$updateRows()}}},s.prototype.$updateRows=function(){var a=this.session.lineWidgets;if(a){var o=!0;a.forEach(function(l,c){if(l)for(o=!1,l.row=c;l.$oldWidget;)l.$oldWidget.row=c,l=l.$oldWidget}),o&&(this.session.lineWidgets=null)}},s.prototype.$registerLineWidget=function(a){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var o=this.session.lineWidgets[a.row];return o&&(a.$oldWidget=o,o.el&&o.el.parentNode&&(o.el.parentNode.removeChild(o.el),o._inDocument=!1)),this.session.lineWidgets[a.row]=a,a},s.prototype.addLineWidget=function(a){if(this.$registerLineWidget(a),a.session=this.session,!this.editor)return a;var o=this.editor.renderer;a.html&&!a.el&&(a.el=i.createElement("div"),a.el.innerHTML=a.html),a.text&&!a.el&&(a.el=i.createElement("div"),a.el.textContent=a.text),a.el&&(i.addCssClass(a.el,"ace_lineWidgetContainer"),a.className&&i.addCssClass(a.el,a.className),a.el.style.position="absolute",a.el.style.zIndex="5",o.container.appendChild(a.el),a._inDocument=!0,a.coverGutter||(a.el.style.zIndex="3"),a.pixelHeight==null&&(a.pixelHeight=a.el.offsetHeight)),a.rowCount==null&&(a.rowCount=a.pixelHeight/o.layerConfig.lineHeight);var l=this.session.getFoldAt(a.row,0);if(a.$fold=l,l){var c=this.session.lineWidgets;a.row==l.end.row&&!c[l.start.row]?c[l.start.row]=a:a.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows(),this.renderWidgets(null,o),this.onWidgetChanged(a),a},s.prototype.removeLineWidget=function(a){if(a._inDocument=!1,a.session=null,a.el&&a.el.parentNode&&a.el.parentNode.removeChild(a.el),a.editor&&a.editor.destroy)try{a.editor.destroy()}catch{}if(this.session.lineWidgets){var o=this.session.lineWidgets[a.row];if(o==a)this.session.lineWidgets[a.row]=a.$oldWidget,a.$oldWidget&&this.onWidgetChanged(a.$oldWidget);else for(;o;){if(o.$oldWidget==a){o.$oldWidget=a.$oldWidget;break}o=o.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows()},s.prototype.getWidgetsAtRow=function(a){for(var o=this.session.lineWidgets,l=o&&o[a],c=[];l;)c.push(l),l=l.$oldWidget;return c},s.prototype.onWidgetChanged=function(a){this.session._changedWidgets.push(a),this.editor&&this.editor.renderer.updateFull()},s.prototype.measureWidgets=function(a,o){var l=this.session._changedWidgets,c=o.layerConfig;if(!(!l||!l.length)){for(var u=1/0,d=0;d<l.length;d++){var h=l[d];if(!(!h||!h.el)&&h.session==this.session){if(!h._inDocument){if(this.session.lineWidgets[h.row]!=h)continue;h._inDocument=!0,o.container.appendChild(h.el)}h.h=h.el.offsetHeight,h.fixedWidth||(h.w=h.el.offsetWidth,h.screenWidth=Math.ceil(h.w/c.characterWidth));var m=h.h/c.lineHeight;h.coverLine&&(m-=this.session.getRowLineCount(h.row),m<0&&(m=0)),h.rowCount!=m&&(h.rowCount=m,h.row<u&&(u=h.row))}}u!=1/0&&(this.session._emit("changeFold",{data:{start:{row:u}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},s.prototype.renderWidgets=function(a,o){var l=o.layerConfig,c=this.session.lineWidgets;if(c){for(var u=Math.min(this.firstRow,l.firstRow),d=Math.max(this.lastRow,l.lastRow,c.length);u>0&&!c[u];)u--;this.firstRow=l.firstRow,this.lastRow=l.lastRow,o.$cursorLayer.config=l;for(var h=u;h<=d;h++){var m=c[h];if(!(!m||!m.el)){if(m.hidden){m.el.style.top=-100-(m.pixelHeight||0)+"px";continue}m._inDocument||(m._inDocument=!0,o.container.appendChild(m.el));var f=o.$cursorLayer.getPixelPosition({row:h,column:0},!0).top;m.coverLine||(f+=l.lineHeight*this.session.getRowLineCount(m.row)),m.el.style.top=f-l.offset+"px";var p=m.coverGutter?0:o.gutterWidth;m.fixedWidth||(p-=o.scrollLeft),m.el.style.left=p+"px",m.fullWidth&&m.screenWidth&&(m.el.style.minWidth=l.width+2*l.padding+"px"),m.fixedWidth?m.el.style.right=o.scrollBar.getWidth()+"px":m.el.style.right=""}}}},s}();t.LineWidgets=r});ace.define("ace/apply_delta",["require","exports","module"],function(n,t,e){"use strict";function i(a,o){throw console.log("Invalid Delta:",a),"Invalid Delta: "+o}function r(a,o){return o.row>=0&&o.row<a.length&&o.column>=0&&o.column<=a[o.row].length}function s(a,o){o.action!="insert"&&o.action!="remove"&&i(o,"delta.action must be 'insert' or 'remove'"),o.lines instanceof Array||i(o,"delta.lines must be an Array"),(!o.start||!o.end)&&i(o,"delta.start/end must be an present");var l=o.start;r(a,o.start)||i(o,"delta.start must be contained in document");var c=o.end;o.action=="remove"&&!r(a,c)&&i(o,"delta.end must contained in document for 'remove' actions");var u=c.row-l.row,d=c.column-(u==0?l.column:0);(u!=o.lines.length-1||o.lines[u].length!=d)&&i(o,"delta.range must match delta lines")}t.applyDelta=function(a,o,l){var c=o.start.row,u=o.start.column,d=a[c]||"";switch(o.action){case"insert":var h=o.lines;if(h.length===1)a[c]=d.substring(0,u)+o.lines[0]+d.substring(u);else{var m=[c,1].concat(o.lines);a.splice.apply(a,m),a[c]=d.substring(0,u)+a[c],a[c+o.lines.length-1]+=d.substring(u)}break;case"remove":var f=o.end.column,p=o.end.row;c===p?a[c]=d.substring(0,u)+d.substring(f):a.splice(c,p-c+1,d.substring(0,u)+a[p].substring(f));break}}});ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t,e){"use strict";var i=n("./lib/oop"),r=n("./lib/event_emitter").EventEmitter,s=function(){function l(c,u,d){this.$onChange=this.onChange.bind(this),this.attach(c),typeof u!="number"?this.setPosition(u.row,u.column):this.setPosition(u,d)}return l.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},l.prototype.getDocument=function(){return this.document},l.prototype.onChange=function(c){if(!(c.start.row==c.end.row&&c.start.row!=this.row)&&!(c.start.row>this.row)){var u=o(c,{row:this.row,column:this.column},this.$insertRight);this.setPosition(u.row,u.column,!0)}},l.prototype.setPosition=function(c,u,d){var h;if(d?h={row:c,column:u}:h=this.$clipPositionToDocument(c,u),!(this.row==h.row&&this.column==h.column)){var m={row:this.row,column:this.column};this.row=h.row,this.column=h.column,this._signal("change",{old:m,value:h})}},l.prototype.detach=function(){this.document.off("change",this.$onChange)},l.prototype.attach=function(c){this.document=c||this.document,this.document.on("change",this.$onChange)},l.prototype.$clipPositionToDocument=function(c,u){var d={};return c>=this.document.getLength()?(d.row=Math.max(0,this.document.getLength()-1),d.column=this.document.getLine(d.row).length):c<0?(d.row=0,d.column=0):(d.row=c,d.column=Math.min(this.document.getLine(d.row).length,Math.max(0,u))),u<0&&(d.column=0),d},l}();s.prototype.$insertRight=!1,i.implement(s.prototype,r);function a(l,c,u){var d=u?l.column<=c.column:l.column<c.column;return l.row<c.row||l.row==c.row&&d}function o(l,c,u){var d=l.action=="insert",h=(d?1:-1)*(l.end.row-l.start.row),m=(d?1:-1)*(l.end.column-l.start.column),f=l.start,p=d?f:l.end;return a(c,f,u)?{row:c.row,column:c.column}:a(p,c,!u)?{row:c.row+h,column:c.column+(c.row==p.row?m:0)}:{row:f.row,column:f.column}}t.Anchor=s});ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,t,e){"use strict";var i=n("./lib/oop"),r=n("./apply_delta").applyDelta,s=n("./lib/event_emitter").EventEmitter,a=n("./range").Range,o=n("./anchor").Anchor,l=function(){function c(u){this.$lines=[""],u.length===0?this.$lines=[""]:Array.isArray(u)?this.insertMergedLines({row:0,column:0},u):this.insert({row:0,column:0},u)}return c.prototype.setValue=function(u){var d=this.getLength()-1;this.remove(new a(0,0,d,this.getLine(d).length)),this.insert({row:0,column:0},u||"")},c.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},c.prototype.createAnchor=function(u,d){return new o(this,u,d)},c.prototype.$detectNewLine=function(u){var d=u.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=d?d[1]:`
`,this._signal("changeNewLineMode")},c.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},c.prototype.setNewLineMode=function(u){this.$newLineMode!==u&&(this.$newLineMode=u,this._signal("changeNewLineMode"))},c.prototype.getNewLineMode=function(){return this.$newLineMode},c.prototype.isNewLine=function(u){return u==`\r
`||u=="\r"||u==`
`},c.prototype.getLine=function(u){return this.$lines[u]||""},c.prototype.getLines=function(u,d){return this.$lines.slice(u,d+1)},c.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},c.prototype.getLength=function(){return this.$lines.length},c.prototype.getTextRange=function(u){return this.getLinesForRange(u).join(this.getNewLineCharacter())},c.prototype.getLinesForRange=function(u){var d;if(u.start.row===u.end.row)d=[this.getLine(u.start.row).substring(u.start.column,u.end.column)];else{d=this.getLines(u.start.row,u.end.row),d[0]=(d[0]||"").substring(u.start.column);var h=d.length-1;u.end.row-u.start.row==h&&(d[h]=d[h].substring(0,u.end.column))}return d},c.prototype.insertLines=function(u,d){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(u,d)},c.prototype.removeLines=function(u,d){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(u,d)},c.prototype.insertNewLine=function(u){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(u,["",""])},c.prototype.insert=function(u,d){return this.getLength()<=1&&this.$detectNewLine(d),this.insertMergedLines(u,this.$split(d))},c.prototype.insertInLine=function(u,d){var h=this.clippedPos(u.row,u.column),m=this.pos(u.row,u.column+d.length);return this.applyDelta({start:h,end:m,action:"insert",lines:[d]},!0),this.clonePos(m)},c.prototype.clippedPos=function(u,d){var h=this.getLength();u===void 0?u=h:u<0?u=0:u>=h&&(u=h-1,d=void 0);var m=this.getLine(u);return d==null&&(d=m.length),d=Math.min(Math.max(d,0),m.length),{row:u,column:d}},c.prototype.clonePos=function(u){return{row:u.row,column:u.column}},c.prototype.pos=function(u,d){return{row:u,column:d}},c.prototype.$clipPosition=function(u){var d=this.getLength();return u.row>=d?(u.row=Math.max(0,d-1),u.column=this.getLine(d-1).length):(u.row=Math.max(0,u.row),u.column=Math.min(Math.max(u.column,0),this.getLine(u.row).length)),u},c.prototype.insertFullLines=function(u,d){u=Math.min(Math.max(u,0),this.getLength());var h=0;u<this.getLength()?(d=d.concat([""]),h=0):(d=[""].concat(d),u--,h=this.$lines[u].length),this.insertMergedLines({row:u,column:h},d)},c.prototype.insertMergedLines=function(u,d){var h=this.clippedPos(u.row,u.column),m={row:h.row+d.length-1,column:(d.length==1?h.column:0)+d[d.length-1].length};return this.applyDelta({start:h,end:m,action:"insert",lines:d}),this.clonePos(m)},c.prototype.remove=function(u){var d=this.clippedPos(u.start.row,u.start.column),h=this.clippedPos(u.end.row,u.end.column);return this.applyDelta({start:d,end:h,action:"remove",lines:this.getLinesForRange({start:d,end:h})}),this.clonePos(d)},c.prototype.removeInLine=function(u,d,h){var m=this.clippedPos(u,d),f=this.clippedPos(u,h);return this.applyDelta({start:m,end:f,action:"remove",lines:this.getLinesForRange({start:m,end:f})},!0),this.clonePos(m)},c.prototype.removeFullLines=function(u,d){u=Math.min(Math.max(0,u),this.getLength()-1),d=Math.min(Math.max(0,d),this.getLength()-1);var h=d==this.getLength()-1&&u>0,m=d<this.getLength()-1,f=h?u-1:u,p=h?this.getLine(f).length:0,g=m?d+1:d,y=m?0:this.getLine(g).length,w=new a(f,p,g,y),k=this.$lines.slice(u,d+1);return this.applyDelta({start:w.start,end:w.end,action:"remove",lines:this.getLinesForRange(w)}),k},c.prototype.removeNewLine=function(u){u<this.getLength()-1&&u>=0&&this.applyDelta({start:this.pos(u,this.getLine(u).length),end:this.pos(u+1,0),action:"remove",lines:["",""]})},c.prototype.replace=function(u,d){if(u instanceof a||(u=a.fromPoints(u.start,u.end)),d.length===0&&u.isEmpty())return u.start;if(d==this.getTextRange(u))return u.end;this.remove(u);var h;return d?h=this.insert(u.start,d):h=u.start,h},c.prototype.applyDeltas=function(u){for(var d=0;d<u.length;d++)this.applyDelta(u[d])},c.prototype.revertDeltas=function(u){for(var d=u.length-1;d>=0;d--)this.revertDelta(u[d])},c.prototype.applyDelta=function(u,d){var h=u.action=="insert";(h?u.lines.length<=1&&!u.lines[0]:!a.comparePoints(u.start,u.end))||(h&&u.lines.length>2e4?this.$splitAndapplyLargeDelta(u,2e4):(r(this.$lines,u,d),this._signal("change",u)))},c.prototype.$safeApplyDelta=function(u){var d=this.$lines.length;(u.action=="remove"&&u.start.row<d&&u.end.row<d||u.action=="insert"&&u.start.row<=d)&&this.applyDelta(u)},c.prototype.$splitAndapplyLargeDelta=function(u,d){for(var h=u.lines,m=h.length-d+1,f=u.start.row,p=u.start.column,g=0,y=0;g<m;g=y){y+=d-1;var w=h.slice(g,y);w.push(""),this.applyDelta({start:this.pos(f+g,p),end:this.pos(f+y,p=0),action:u.action,lines:w},!0)}u.lines=h.slice(g),u.start.row=f+g,u.start.column=p,this.applyDelta(u,!0)},c.prototype.revertDelta=function(u){this.$safeApplyDelta({start:this.clonePos(u.start),end:this.clonePos(u.end),action:u.action=="insert"?"remove":"insert",lines:u.lines.slice()})},c.prototype.indexToPosition=function(u,d){for(var h=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,f=d||0,p=h.length;f<p;f++)if(u-=h[f].length+m,u<0)return{row:f,column:u+h[f].length+m};return{row:p-1,column:u+h[p-1].length+m}},c.prototype.positionToIndex=function(u,d){for(var h=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,f=0,p=Math.min(u.row,h.length),g=d||0;g<p;++g)f+=h[g].length+m;return f+u.column},c.prototype.$split=function(u){return u.split(/\r\n|\r|\n/)},c}();l.prototype.$autoNewLine="",l.prototype.$newLineMode="auto",i.implement(l.prototype,s),t.Document=l});ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t,e){"use strict";var i=n("./lib/oop"),r=n("./lib/event_emitter").EventEmitter,s=function(){function a(o,l){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=o;var c=this;this.$worker=function(){if(c.running){for(var u=new Date,d=c.currentLine,h=-1,m=c.doc,f=d;c.lines[d];)d++;var p=m.getLength(),g=0;for(c.running=!1;d<p;){c.$tokenizeRow(d),h=d;do d++;while(c.lines[d]);if(g++,g%5===0&&new Date-u>20){c.running=setTimeout(c.$worker,20);break}}c.currentLine=d,h==-1&&(h=d),f<=h&&c.fireUpdateEvent(f,h)}}}return a.prototype.setTokenizer=function(o){this.tokenizer=o,this.lines=[],this.states=[],this.start(0)},a.prototype.setDocument=function(o){this.doc=o,this.lines=[],this.states=[],this.stop()},a.prototype.fireUpdateEvent=function(o,l){var c={first:o,last:l};this._signal("update",{data:c})},a.prototype.start=function(o){this.currentLine=Math.min(o||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},a.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},a.prototype.$updateOnChange=function(o){var l=o.start.row,c=o.end.row-l;if(c===0)this.lines[l]=null;else if(o.action=="remove")this.lines.splice(l,c+1,null),this.states.splice(l,c+1,null);else{var u=Array(c+1);u.unshift(l,1),this.lines.splice.apply(this.lines,u),this.states.splice.apply(this.states,u)}this.currentLine=Math.min(l,this.currentLine,this.doc.getLength()),this.stop()},a.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},a.prototype.getTokens=function(o){return this.lines[o]||this.$tokenizeRow(o)},a.prototype.getState=function(o){return this.currentLine==o&&this.$tokenizeRow(o),this.states[o]||"start"},a.prototype.$tokenizeRow=function(o){var l=this.doc.getLine(o),c=this.states[o-1],u=this.tokenizer.getLineTokens(l,c,o);return this.states[o]+""!=u.state+""?(this.states[o]=u.state,this.lines[o+1]=null,this.currentLine>o+1&&(this.currentLine=o+1)):this.currentLine==o&&(this.currentLine=o+1),this.lines[o]=u.tokens},a.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},a}();i.implement(s.prototype,r),t.BackgroundTokenizer=s});ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(n,t,e){"use strict";var i=n("./lib/lang"),r=n("./range").Range,s=function(){function a(o,l,c){c===void 0&&(c="text"),this.setRegexp(o),this.clazz=l,this.type=c,this.docLen=0}return a.prototype.setRegexp=function(o){this.regExp+""!=o+""&&(this.regExp=o,this.cache=[])},a.prototype.update=function(o,l,c,u){if(this.regExp){for(var d=u.firstRow,h=u.lastRow,m={},f=c.$editor&&c.$editor.$search,p=f&&f.$isMultilineSearch(c.$editor.getLastSearchOptions()),g=d;g<=h;g++){var y=this.cache[g];if(y==null||c.getValue().length!=this.docLen){if(p){y=[];var w=f.$multiLineForward(c,this.regExp,g,h);if(w){var k=w.endRow<=h?w.endRow-1:h;k>g&&(g=k),y.push(new r(w.startRow,w.startCol,w.endRow,w.endCol))}y.length>this.MAX_RANGES&&(y=y.slice(0,this.MAX_RANGES))}else y=i.getMatchOffsets(c.getLine(g),this.regExp),y.length>this.MAX_RANGES&&(y=y.slice(0,this.MAX_RANGES)),y=y.map(function(T){return new r(g,T.offset,g,T.offset+T.length)});this.cache[g]=y.length?y:""}if(y.length!==0)for(var x=y.length;x--;){var C=y[x].toScreenRange(c),A=C.toString();m[A]||(m[A]=!0,l.drawSingleLineMarker(o,C,this.clazz,u))}}this.docLen=c.getValue().length}},a}();s.prototype.MAX_RANGES=500,t.SearchHighlight=s});ace.define("ace/undomanager",["require","exports","module","ace/range"],function(n,t,e){"use strict";var i=function(){function C(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return C.prototype.addSession=function(A){this.$session=A},C.prototype.add=function(A,T,E){if(!this.$fromUndo&&A!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),T===!1||!this.lastDeltas){this.lastDeltas=[];var L=this.$undoStack.length;L>this.$undoDepth-1&&this.$undoStack.splice(0,L-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),A.id=this.$rev=++this.$maxRev}(A.action=="remove"||A.action=="insert")&&(this.$lastDelta=A),this.lastDeltas.push(A)}},C.prototype.addSelection=function(A,T){this.selections.push({value:A,rev:T||this.$rev})},C.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},C.prototype.markIgnored=function(A,T){T==null&&(T=this.$rev+1);for(var E=this.$undoStack,L=E.length;L--;){var S=E[L][0];if(S.id<=A)break;S.id<T&&(S.ignore=!0)}this.lastDeltas=null},C.prototype.getSelection=function(A,T){for(var E=this.selections,L=E.length;L--;){var S=E[L];if(S.rev<A)return T&&(S=E[L+1]),S}},C.prototype.getRevision=function(){return this.$rev},C.prototype.getDeltas=function(A,T){T==null&&(T=this.$rev+1);for(var E=this.$undoStack,L=null,S=0,v=E.length;v--;){var _=E[v][0];if(_.id<T&&!L&&(L=v+1),_.id<=A){S=v+1;break}}return E.slice(S,L)},C.prototype.getChangedRanges=function(A,T){T==null&&(T=this.$rev+1)},C.prototype.getChangedLines=function(A,T){T==null&&(T=this.$rev+1)},C.prototype.undo=function(A,T){this.lastDeltas=null;var E=this.$undoStack;if(r(E,E.length)){A||(A=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var L=E.pop(),S=null;return L&&(S=A.undoChanges(L,T),this.$redoStack.push(L),this.$syncRev()),this.$fromUndo=!1,S}},C.prototype.redo=function(A,T){if(this.lastDeltas=null,A||(A=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var E=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);x(this.$redoStack,E),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(v){v[0].id=++this.$maxRev},this)}var L=this.$redoStack.pop(),S=null;return L&&(S=A.redoChanges(L,T),this.$undoStack.push(L),this.$syncRev()),this.$fromUndo=!1,S},C.prototype.$syncRev=function(){var A=this.$undoStack,T=A[A.length-1],E=T&&T[0].id||0;this.$redoStackBaseRev=E,this.$rev=E},C.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},C.prototype.canUndo=function(){return this.$undoStack.length>0},C.prototype.canRedo=function(){return this.$redoStack.length>0},C.prototype.bookmark=function(A){A==null&&(A=this.$rev),this.mark=A},C.prototype.isAtBookmark=function(){return this.$rev===this.mark},C.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},C.prototype.fromJSON=function(A){this.reset(),this.$undoStack=A.$undoStack,this.$redoStack=A.$redoStack},C.prototype.$prettyPrint=function(A){return A?d(A):d(this.$undoStack)+`
---
`+d(this.$redoStack)},C}();i.prototype.hasUndo=i.prototype.canUndo,i.prototype.hasRedo=i.prototype.canRedo,i.prototype.isClean=i.prototype.isAtBookmark,i.prototype.markClean=i.prototype.bookmark;function r(C,A){for(var T=A;T--;){var E=C[T];if(E&&!E[0].ignore){for(;T<A-1;){var L=f(C[T],C[T+1]);C[T]=L[0],C[T+1]=L[1],T++}return!0}}}var s=n("./range").Range,a=s.comparePoints,o=s.comparePoints;function l(C){var A=C.action=="insert",T=C.start,E=C.end,L=(E.row-T.row)*(A?1:-1),S=(E.column-T.column)*(A?1:-1);A&&(E=T);for(var v in this.marks){var _=this.marks[v],b=o(_,T);if(!(b<0)){if(b===0&&A)if(_.bias==1)b=1;else{_.bias==-1;continue}var M=A?b:o(_,E);if(M>0){_.row+=L,_.column+=_.row==E.row?S:0;continue}!A&&M<=0&&(_.row=T.row,_.column=T.column,M===0&&(_.bias=1))}}}function c(C){return{row:C.row,column:C.column}}function u(C){return{start:c(C.start),end:c(C.end),action:C.action,lines:C.lines.slice()}}function d(C){if(C=C||this,Array.isArray(C))return C.map(d).join(`
`);var A="";return C.action?(A=C.action=="insert"?"+":"-",A+="["+C.lines+"]"):C.value&&(Array.isArray(C.value)?A=C.value.map(h).join(`
`):A=h(C.value)),C.start&&(A+=h(C)),(C.id||C.rev)&&(A+="	("+(C.id||C.rev)+")"),A}function h(C){return C.start.row+":"+C.start.column+"=>"+C.end.row+":"+C.end.column}function m(C,A){var T=C.action=="insert",E=A.action=="insert";if(T&&E)if(a(A.start,C.end)>=0)g(A,C,-1);else if(a(A.start,C.start)<=0)g(C,A,1);else return null;else if(T&&!E)if(a(A.start,C.end)>=0)g(A,C,-1);else if(a(A.end,C.start)<=0)g(C,A,-1);else return null;else if(!T&&E)if(a(A.start,C.start)>=0)g(A,C,1);else if(a(A.start,C.start)<=0)g(C,A,1);else return null;else if(!T&&!E)if(a(A.start,C.start)>=0)g(A,C,1);else if(a(A.end,C.start)<=0)g(C,A,-1);else return null;return[A,C]}function f(C,A){for(var T=C.length;T--;)for(var E=0;E<A.length;E++)if(!m(C[T],A[E])){for(;T<C.length;){for(;E--;)m(A[E],C[T]);E=A.length,T++}return[C,A]}return C.selectionBefore=A.selectionBefore=C.selectionAfter=A.selectionAfter=null,[A,C]}function p(C,A){var T=C.action=="insert",E=A.action=="insert";if(T&&E)a(C.start,A.start)<0?g(A,C,1):g(C,A,1);else if(T&&!E)a(C.start,A.end)>=0?g(C,A,-1):(a(C.start,A.start)<=0||g(C,s.fromPoints(A.start,C.start),-1),g(A,C,1));else if(!T&&E)a(A.start,C.end)>=0?g(A,C,-1):(a(A.start,C.start)<=0||g(A,s.fromPoints(C.start,A.start),-1),g(C,A,1));else if(!T&&!E)if(a(A.start,C.end)>=0)g(A,C,-1);else if(a(A.end,C.start)<=0)g(C,A,-1);else{var L,S;return a(C.start,A.start)<0&&(L=C,C=w(C,A.start)),a(C.end,A.end)>0&&(S=w(C,A.end)),y(A.end,C.start,C.end,-1),S&&!L&&(C.lines=S.lines,C.start=S.start,C.end=S.end,S=C),[A,L,S].filter(Boolean)}return[A,C]}function g(C,A,T){y(C.start,A.start,A.end,T),y(C.end,A.start,A.end,T)}function y(C,A,T,E){C.row==(E==1?A:T).row&&(C.column+=E*(T.column-A.column)),C.row+=E*(T.row-A.row)}function w(C,A){var T=C.lines,E=C.end;C.end=c(A);var L=C.end.row-C.start.row,S=T.splice(L,T.length),v=L?A.column:A.column-C.start.column;T.push(S[0].substring(0,v)),S[0]=S[0].substr(v);var _={start:c(A),end:E,lines:S,action:C.action};return _}function k(C,A){A=u(A);for(var T=C.length;T--;){for(var E=C[T],L=0;L<E.length;L++){var S=E[L],v=p(S,A);A=v[0],v.length!=2&&(v[2]?(E.splice(L+1,1,v[1],v[2]),L++):v[1]||(E.splice(L,1),L--))}E.length||C.splice(T,1)}return C}function x(C,A){for(var T=0;T<A.length;T++)for(var E=A[T],L=0;L<E.length;L++)k(C,E[L])}t.UndoManager=i});ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,t,e){"use strict";var i=n("../range").Range,r=function(){function s(a,o){this.foldData=a,Array.isArray(o)?this.folds=o:o=this.folds=[o];var l=o[o.length-1];this.range=new i(o[0].start.row,o[0].start.column,l.end.row,l.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(c){c.setFoldLine(this)},this)}return s.prototype.shiftRow=function(a){this.start.row+=a,this.end.row+=a,this.folds.forEach(function(o){o.start.row+=a,o.end.row+=a})},s.prototype.addFold=function(a){if(a.sameRow){if(a.start.row<this.startRow||a.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(a),this.folds.sort(function(o,l){return-o.range.compareEnd(l.start.row,l.start.column)}),this.range.compareEnd(a.start.row,a.start.column)>0?(this.end.row=a.end.row,this.end.column=a.end.column):this.range.compareStart(a.end.row,a.end.column)<0&&(this.start.row=a.start.row,this.start.column=a.start.column)}else if(a.start.row==this.end.row)this.folds.push(a),this.end.row=a.end.row,this.end.column=a.end.column;else if(a.end.row==this.start.row)this.folds.unshift(a),this.start.row=a.start.row,this.start.column=a.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");a.foldLine=this},s.prototype.containsRow=function(a){return a>=this.start.row&&a<=this.end.row},s.prototype.walk=function(a,o,l){var c=0,u=this.folds,d,h,m,f=!0;o==null&&(o=this.end.row,l=this.end.column);for(var p=0;p<u.length;p++){if(d=u[p],h=d.range.compareStart(o,l),h==-1){a(null,o,l,c,f);return}if(m=a(null,d.start.row,d.start.column,c,f),m=!m&&a(d.placeholder,d.start.row,d.start.column,c),m||h===0)return;f=!d.sameRow,c=d.end.column}a(null,o,l,c,f)},s.prototype.getNextFoldTo=function(a,o){for(var l,c,u=0;u<this.folds.length;u++){if(l=this.folds[u],c=l.range.compareEnd(a,o),c==-1)return{fold:l,kind:"after"};if(c===0)return{fold:l,kind:"inside"}}return null},s.prototype.addRemoveChars=function(a,o,l){var c=this.getNextFoldTo(a,o),u,d;if(c){if(u=c.fold,c.kind=="inside"&&u.start.column!=o&&u.start.row!=a)window.console&&window.console.log(a,o,u);else if(u.start.row==a){d=this.folds;var h=d.indexOf(u);for(h===0&&(this.start.column+=l),h;h<d.length;h++){if(u=d[h],u.start.column+=l,!u.sameRow)return;u.end.column+=l}this.end.column+=l}}},s.prototype.split=function(a,o){var l=this.getNextFoldTo(a,o);if(!l||l.kind=="inside")return null;var c=l.fold,u=this.folds,d=this.foldData,h=u.indexOf(c),m=u[h-1];this.end.row=m.end.row,this.end.column=m.end.column,u=u.splice(h,u.length-h);var f=new s(d,u);return d.splice(d.indexOf(this)+1,0,f),f},s.prototype.merge=function(a){for(var o=a.folds,l=0;l<o.length;l++)this.addFold(o[l]);var c=this.foldData;c.splice(c.indexOf(a),1)},s.prototype.toString=function(){var a=[this.range.toString()+": ["];return this.folds.forEach(function(o){a.push("  "+o.toString())}),a.push("]"),a.join(`
`)},s.prototype.idxToPosition=function(a){for(var o=0,l=0;l<this.folds.length;l++){var c=this.folds[l];if(a-=c.start.column-o,a<0)return{row:c.start.row,column:c.start.column+a};if(a-=c.placeholder.length,a<0)return c.start;o=c.end.column}return{row:this.end.row,column:this.end.column+a}},s}();t.FoldLine=r});ace.define("ace/range_list",["require","exports","module","ace/range"],function(n,t,e){"use strict";var i=n("./range").Range,r=i.comparePoints,s=function(){function a(){this.ranges=[],this.$bias=1}return a.prototype.pointIndex=function(o,l,c){for(var u=this.ranges,d=c||0;d<u.length;d++){var h=u[d],m=r(o,h.end);if(!(m>0)){var f=r(o,h.start);return m===0?l&&f!==0?-d-2:d:f>0||f===0&&!l?d:-d-1}}return-d-1},a.prototype.add=function(o){var l=!o.isEmpty(),c=this.pointIndex(o.start,l);c<0&&(c=-c-1);var u=this.pointIndex(o.end,l,c);return u<0?u=-u-1:u++,this.ranges.splice(c,u-c,o)},a.prototype.addList=function(o){for(var l=[],c=o.length;c--;)l.push.apply(l,this.add(o[c]));return l},a.prototype.substractPoint=function(o){var l=this.pointIndex(o);if(l>=0)return this.ranges.splice(l,1)},a.prototype.merge=function(){var o=[],l=this.ranges;l=l.sort(function(m,f){return r(m.start,f.start)});for(var c=l[0],u,d=1;d<l.length;d++){u=c,c=l[d];var h=r(u.end,c.start);h<0||h==0&&!u.isEmpty()&&!c.isEmpty()||(r(u.end,c.end)<0&&(u.end.row=c.end.row,u.end.column=c.end.column),l.splice(d,1),o.push(c),c=u,d--)}return this.ranges=l,o},a.prototype.contains=function(o,l){return this.pointIndex({row:o,column:l})>=0},a.prototype.containsPoint=function(o){return this.pointIndex(o)>=0},a.prototype.rangeAtPoint=function(o){var l=this.pointIndex(o);if(l>=0)return this.ranges[l]},a.prototype.clipRows=function(o,l){var c=this.ranges;if(c[0].start.row>l||c[c.length-1].start.row<o)return[];var u=this.pointIndex({row:o,column:0});u<0&&(u=-u-1);var d=this.pointIndex({row:l,column:0},u);d<0&&(d=-d-1);for(var h=[],m=u;m<d;m++)h.push(c[m]);return h},a.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},a.prototype.attach=function(o){this.session&&this.detach(),this.session=o,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},a.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},a.prototype.$onChange=function(o){for(var l=o.start,c=o.end,u=l.row,d=c.row,h=this.ranges,m=0,f=h.length;m<f;m++){var p=h[m];if(p.end.row>=u)break}if(o.action=="insert")for(var g=d-u,y=-l.column+c.column;m<f;m++){var p=h[m];if(p.start.row>u)break;if(p.start.row==u&&p.start.column>=l.column&&(p.start.column==l.column&&this.$bias<=0||(p.start.column+=y,p.start.row+=g)),p.end.row==u&&p.end.column>=l.column){if(p.end.column==l.column&&this.$bias<0)continue;p.end.column==l.column&&y>0&&m<f-1&&p.end.column>p.start.column&&p.end.column==h[m+1].start.column&&(p.end.column-=y),p.end.column+=y,p.end.row+=g}}else for(var g=u-d,y=l.column-c.column;m<f;m++){var p=h[m];if(p.start.row>d)break;p.end.row<d&&(u<p.end.row||u==p.end.row&&l.column<p.end.column)?(p.end.row=u,p.end.column=l.column):p.end.row==d?p.end.column<=c.column?(g||p.end.column>l.column)&&(p.end.column=l.column,p.end.row=l.row):(p.end.column+=y,p.end.row+=g):p.end.row>d&&(p.end.row+=g),p.start.row<d&&(u<p.start.row||u==p.start.row&&l.column<p.start.column)?(p.start.row=u,p.start.column=l.column):p.start.row==d?p.start.column<=c.column?(g||p.start.column>l.column)&&(p.start.column=l.column,p.start.row=l.row):(p.start.column+=y,p.start.row+=g):p.start.row>d&&(p.start.row+=g)}if(g!=0&&m<f)for(;m<f;m++){var p=h[m];p.start.row+=g,p.end.row+=g}},a}();s.prototype.comparePoints=r,t.RangeList=s});ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(n,t,e){"use strict";var i=this&&this.__extends||function(){var u=function(d,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(m[p]=f[p])},u(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),r=n("../range_list").RangeList,s=function(u){i(d,u);function d(h,m){var f=u.call(this)||this;return f.foldLine=null,f.placeholder=m,f.range=h,f.start=h.start,f.end=h.end,f.sameRow=h.start.row==h.end.row,f.subFolds=f.ranges=[],f}return d.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},d.prototype.setFoldLine=function(h){this.foldLine=h,this.subFolds.forEach(function(m){m.setFoldLine(h)})},d.prototype.clone=function(){var h=this.range.clone(),m=new d(h,this.placeholder);return this.subFolds.forEach(function(f){m.subFolds.push(f.clone())}),m.collapseChildren=this.collapseChildren,m},d.prototype.addSubFold=function(h){if(!this.range.isEqual(h)){o(h,this.start);for(var y=h.start.row,w=h.start.column,m=0,f=-1;m<this.subFolds.length&&(f=this.subFolds[m].range.compare(y,w),f==1);m++);var p=this.subFolds[m],g=0;if(f==0){if(p.range.containsRange(h))return p.addSubFold(h);g=1}for(var y=h.range.end.row,w=h.range.end.column,k=m,f=-1;k<this.subFolds.length&&(f=this.subFolds[k].range.compare(y,w),f==1);k++);f==0&&k++;for(var x=this.subFolds.splice(m,k-m,h),C=f==0?x.length-1:x.length,A=g;A<C;A++)h.addSubFold(x[A]);return h.setFoldLine(this.foldLine),h}},d.prototype.restoreRange=function(h){return c(h,this.start)},d}(r);function a(u,d){u.row-=d.row,u.row==0&&(u.column-=d.column)}function o(u,d){a(u.start,d),a(u.end,d)}function l(u,d){u.row==0&&(u.column+=d.column),u.row+=d.row}function c(u,d){l(u.start,d),l(u.end,d)}t.Fold=s});ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(n,t,e){"use strict";var i=n("../range").Range,r=n("./fold_line").FoldLine,s=n("./fold").Fold,a=n("../token_iterator").TokenIterator,o=n("../mouse/mouse_event").MouseEvent;function l(){this.getFoldAt=function(c,u,d){var h=this.getFoldLine(c);if(!h)return null;for(var m=h.folds,f=0;f<m.length;f++){var p=m[f].range;if(p.contains(c,u)){if(d==1&&p.isEnd(c,u)&&!p.isEmpty())continue;if(d==-1&&p.isStart(c,u)&&!p.isEmpty())continue;return m[f]}}},this.getFoldsInRange=function(c){var u=c.start,d=c.end,h=this.$foldData,m=[];u.column+=1,d.column-=1;for(var f=0;f<h.length;f++){var p=h[f].range.compareRange(c);if(p!=2){if(p==-2)break;for(var g=h[f].folds,y=0;y<g.length;y++){var w=g[y];if(p=w.range.compareRange(c),p==-2)break;if(p==2)continue;if(p==42)break;m.push(w)}}}return u.column-=1,d.column+=1,m},this.getFoldsInRangeList=function(c){if(Array.isArray(c)){var u=[];c.forEach(function(d){u=u.concat(this.getFoldsInRange(d))},this)}else var u=this.getFoldsInRange(c);return u},this.getAllFolds=function(){for(var c=[],u=this.$foldData,d=0;d<u.length;d++)for(var h=0;h<u[d].folds.length;h++)c.push(u[d].folds[h]);return c},this.getFoldStringAt=function(c,u,d,h){if(h=h||this.getFoldLine(c),!h)return null;for(var m={end:{column:0}},f,p,g=0;g<h.folds.length;g++){p=h.folds[g];var y=p.range.compareEnd(c,u);if(y==-1){f=this.getLine(p.start.row).substring(m.end.column,p.start.column);break}else if(y===0)return null;m=p}return f||(f=this.getLine(p.start.row).substring(m.end.column)),d==-1?f.substring(0,u-m.end.column):d==1?f.substring(u-m.end.column):f},this.getFoldLine=function(c,u){var d=this.$foldData,h=0;for(u&&(h=d.indexOf(u)),h==-1&&(h=0),h;h<d.length;h++){var m=d[h];if(m.start.row<=c&&m.end.row>=c)return m;if(m.end.row>c)return null}return null},this.getNextFoldLine=function(c,u){var d=this.$foldData,h=0;for(u&&(h=d.indexOf(u)),h==-1&&(h=0),h;h<d.length;h++){var m=d[h];if(m.end.row>=c)return m}return null},this.getFoldedRowCount=function(c,u){for(var d=this.$foldData,h=u-c+1,m=0;m<d.length;m++){var f=d[m],p=f.end.row,g=f.start.row;if(p>=u){g<u&&(g>=c?h-=u-g:h=0);break}else p>=c&&(g>=c?h-=p-g:h-=p-c+1)}return h},this.$addFoldLine=function(c){return this.$foldData.push(c),this.$foldData.sort(function(u,d){return u.start.row-d.start.row}),c},this.addFold=function(c,u){var d=this.$foldData,h=!1,m;c instanceof s?m=c:(m=new s(u,c),m.collapseChildren=u.collapseChildren),this.$clipRangeToDocument(m.range);var f=m.start.row,p=m.start.column,g=m.end.row,y=m.end.column,w=this.getFoldAt(f,p,1),k=this.getFoldAt(g,y,-1);if(w&&k==w)return w.addSubFold(m);w&&!w.range.isStart(f,p)&&this.removeFold(w),k&&!k.range.isEnd(g,y)&&this.removeFold(k);var x=this.getFoldsInRange(m.range);x.length>0&&(this.removeFolds(x),m.collapseChildren||x.forEach(function(E){m.addSubFold(E)}));for(var C=0;C<d.length;C++){var A=d[C];if(g==A.start.row){A.addFold(m),h=!0;break}else if(f==A.end.row){if(A.addFold(m),h=!0,!m.sameRow){var T=d[C+1];if(T&&T.start.row==g){A.merge(T);break}}break}else if(g<=A.start.row)break}return h||(A=this.$addFoldLine(new r(this.$foldData,m))),this.$useWrapMode?this.$updateWrapData(A.start.row,A.start.row):this.$updateRowLengthCache(A.start.row,A.start.row),this.$modified=!0,this._signal("changeFold",{data:m,action:"add"}),m},this.addFolds=function(c){c.forEach(function(u){this.addFold(u)},this)},this.removeFold=function(c){var u=c.foldLine,d=u.start.row,h=u.end.row,m=this.$foldData,f=u.folds;if(f.length==1)m.splice(m.indexOf(u),1);else if(u.range.isEnd(c.end.row,c.end.column))f.pop(),u.end.row=f[f.length-1].end.row,u.end.column=f[f.length-1].end.column;else if(u.range.isStart(c.start.row,c.start.column))f.shift(),u.start.row=f[0].start.row,u.start.column=f[0].start.column;else if(c.sameRow)f.splice(f.indexOf(c),1);else{var p=u.split(c.start.row,c.start.column);f=p.folds,f.shift(),p.start.row=f[0].start.row,p.start.column=f[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(d,h):this.$updateRowLengthCache(d,h)),this.$modified=!0,this._signal("changeFold",{data:c,action:"remove"})},this.removeFolds=function(c){for(var u=[],d=0;d<c.length;d++)u.push(c[d]);u.forEach(function(h){this.removeFold(h)},this),this.$modified=!0},this.expandFold=function(c){this.removeFold(c),c.subFolds.forEach(function(u){c.restoreRange(u),this.addFold(u)},this),c.collapseChildren>0&&this.foldAll(c.start.row+1,c.end.row,c.collapseChildren-1),c.subFolds=[]},this.expandFolds=function(c){c.forEach(function(u){this.expandFold(u)},this)},this.unfold=function(c,u){var d,h;if(c==null)d=new i(0,0,this.getLength(),0),u==null&&(u=!0);else if(typeof c=="number")d=new i(c,0,c,this.getLine(c).length);else if("row"in c)d=i.fromPoints(c,c);else{if(Array.isArray(c))return h=[],c.forEach(function(f){h=h.concat(this.unfold(f))},this),h;d=c}h=this.getFoldsInRangeList(d);for(var m=h;h.length==1&&i.comparePoints(h[0].start,d.start)<0&&i.comparePoints(h[0].end,d.end)>0;)this.expandFolds(h),h=this.getFoldsInRangeList(d);if(u!=!1?this.removeFolds(h):this.expandFolds(h),m.length)return m},this.isRowFolded=function(c,u){return!!this.getFoldLine(c,u)},this.getRowFoldEnd=function(c,u){var d=this.getFoldLine(c,u);return d?d.end.row:c},this.getRowFoldStart=function(c,u){var d=this.getFoldLine(c,u);return d?d.start.row:c},this.getFoldDisplayLine=function(c,u,d,h,m){h==null&&(h=c.start.row),m==null&&(m=0),u==null&&(u=c.end.row),d==null&&(d=this.getLine(u).length);var f=this.doc,p="";return c.walk(function(g,y,w,k){if(!(y<h)){if(y==h){if(w<m)return;k=Math.max(m,k)}g!=null?p+=g:p+=f.getLine(y).substring(k,w)}},u,d),p},this.getDisplayLine=function(c,u,d,h){var m=this.getFoldLine(c);if(m)return this.getFoldDisplayLine(m,c,u,d,h);var f;return f=this.doc.getLine(c),f.substring(h||0,u||f.length)},this.$cloneFoldData=function(){var c=[];return c=this.$foldData.map(function(u){var d=u.folds.map(function(h){return h.clone()});return new r(c,d)}),c},this.toggleFold=function(c){var u=this.selection,d=u.getRange(),h,m;if(d.isEmpty()){var f=d.start;if(h=this.getFoldAt(f.row,f.column),h){this.expandFold(h);return}else if(c){var p=this.getFoldLine(f.row);p&&this.expandFolds(p.folds);return}else(m=this.findMatchingBracket(f))?d.comparePoint(m)==1?d.end=m:(d.start=m,d.start.column++,d.end.column--):(m=this.findMatchingBracket({row:f.row,column:f.column+1}))?(d.comparePoint(m)==1?d.end=m:d.start=m,d.start.column++):d=this.getCommentFoldRange(f.row,f.column)||d}else{var g=this.getFoldsInRange(d);if(c&&g.length){this.expandFolds(g);return}else g.length==1&&(h=g[0])}if(h||(h=this.getFoldAt(d.start.row,d.start.column)),h&&h.range.toString()==d.toString()){this.expandFold(h);return}var y="...";if(!d.isMultiLine()){if(y=this.getTextRange(d),y.length<4)return;y=y.trim().substring(0,2)+".."}this.addFold(y,d)},this.getCommentFoldRange=function(c,u,d){var h=new a(this,c,u),m=h.getCurrentToken(),f=m&&m.type;if(m&&/^comment|string/.test(f)){f=f.match(/comment|string/)[0],f=="comment"&&(f+="|doc-start|\\.doc");var p=new RegExp(f),g=new i;if(d!=1){do m=h.stepBackward();while(m&&p.test(m.type));m=h.stepForward()}g.start.row=h.getCurrentTokenRow(),g.start.column=h.getCurrentTokenColumn()+m.value.length,h=new a(this,c,u);var y=this.getState(h.$row);if(d!=-1){var w=-1;do if(m=h.stepForward(),w==-1){var k=this.getState(h.$row);y.toString()!==k.toString()&&(w=h.$row)}else if(h.$row>w)break;while(m&&p.test(m.type));m=h.stepBackward()}else m=h.getCurrentToken();return g.end.row=h.getCurrentTokenRow(),g.end.column=h.getCurrentTokenColumn(),g.start.row==g.end.row&&g.start.column>g.end.column?void 0:g}},this.foldAll=function(c,u,d,h){d==null&&(d=1e5);var m=this.foldWidgets;if(m){u=u||this.getLength(),c=c||0;for(var f=c;f<u;f++)if(m[f]==null&&(m[f]=this.getFoldWidget(f)),m[f]=="start"&&!(h&&!h(f))){var p=this.getFoldWidgetRange(f);p&&p.isMultiLine()&&p.end.row<=u&&p.start.row>=c&&(f=p.end.row,p.collapseChildren=d,this.addFold("...",p))}}},this.foldToLevel=function(c){for(this.foldAll();c-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var c=this;this.foldAll(null,null,null,function(u){for(var d=c.getTokens(u),h=0;h<d.length;h++){var m=d[h];if(!(m.type=="text"&&/^\s+$/.test(m.value)))return!!/comment/.test(m.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(c){if(!this.$foldStyles[c])throw new Error("invalid fold style: "+c+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=c){this.$foldStyle=c,c=="manual"&&this.unfold();var u=this.$foldMode;this.$setFolding(null),this.$setFolding(u)}},this.$setFolding=function(c){if(this.$foldMode!=c){if(this.$foldMode=c,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!c||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=c.getFoldWidget.bind(c,this,this.$foldStyle),this.getFoldWidgetRange=c.getFoldWidgetRange.bind(c,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(c,u){var d=this.foldWidgets;if(!d||u&&d[c])return{};for(var h=c-1,m;h>=0;){var f=d[h];if(f==null&&(f=d[h]=this.getFoldWidget(h)),f=="start"){var p=this.getFoldWidgetRange(h);if(m||(m=p),p&&p.end.row>=c)break}h--}return{range:h!==-1&&p,firstRange:m}},this.onFoldWidgetClick=function(c,u){u instanceof o&&(u=u.domEvent);var d={children:u.shiftKey,all:u.ctrlKey||u.metaKey,siblings:u.altKey},h=this.$toggleFoldWidget(c,d);if(!h){var m=u.target||u.srcElement;m&&/ace_fold-widget/.test(m.className)&&(m.className+=" ace_invalid")}},this.$toggleFoldWidget=function(c,u){if(this.getFoldWidget){var d=this.getFoldWidget(c),h=this.getLine(c),m=d==="end"?-1:1,f=this.getFoldAt(c,m===-1?0:h.length,m);if(f)return u.children||u.all?this.removeFold(f):this.expandFold(f),f;var p=this.getFoldWidgetRange(c,!0);if(p&&!p.isMultiLine()&&(f=this.getFoldAt(p.start.row,p.start.column,1),f&&p.isEqual(f.range)))return this.removeFold(f),f;if(u.siblings){var g=this.getParentFoldRangeData(c);if(g.range)var y=g.range.start.row+1,w=g.range.end.row;this.foldAll(y,w,u.all?1e4:0)}else u.children?(w=p?p.end.row:this.getLength(),this.foldAll(c+1,w,u.all?1e4:0)):p&&(u.all&&(p.collapseChildren=1e4),this.addFold("...",p));return p}},this.toggleFoldWidget=function(c){var u=this.selection.getCursor().row;u=this.getRowFoldStart(u);var d=this.$toggleFoldWidget(u,{});if(!d){var h=this.getParentFoldRangeData(u,!0);if(d=h.range||h.firstRange,d){u=d.start.row;var m=this.getFoldAt(u,this.getLine(u).length,1);m?this.removeFold(m):this.addFold("...",d)}}},this.updateFoldWidgets=function(c){var u=c.start.row,d=c.end.row-u;if(d===0)this.foldWidgets[u]=null;else if(c.action=="remove")this.foldWidgets.splice(u,d+1,null);else{var h=Array(d+1);h.unshift(u,1),this.foldWidgets.splice.apply(this.foldWidgets,h)}},this.tokenizerUpdateFoldWidgets=function(c){var u=c.data;u.first!=u.last&&this.foldWidgets.length>u.first&&this.foldWidgets.splice(u.first,this.foldWidgets.length)}}t.Folding=l});ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,t,e){"use strict";var i=n("../token_iterator").TokenIterator,r=n("../range").Range;function s(){this.findMatchingBracket=function(a,o){if(a.column==0)return null;var l=o||this.getLine(a.row).charAt(a.column-1);if(l=="")return null;var c=l.match(/([\(\[\{])|([\)\]\}])/);return c?c[1]?this.$findClosingBracket(c[1],a):this.$findOpeningBracket(c[2],a):null},this.getBracketRange=function(a){var o=this.getLine(a.row),l=!0,c,u=o.charAt(a.column-1),d=u&&u.match(/([\(\[\{])|([\)\]\}])/);if(d||(u=o.charAt(a.column),a={row:a.row,column:a.column+1},d=u&&u.match(/([\(\[\{])|([\)\]\}])/),l=!1),!d)return null;if(d[1]){var h=this.$findClosingBracket(d[1],a);if(!h)return null;c=r.fromPoints(a,h),l||(c.end.column++,c.start.column--),c.cursor=c.end}else{var h=this.$findOpeningBracket(d[2],a);if(!h)return null;c=r.fromPoints(h,a),l||(c.start.column++,c.end.column--),c.cursor=c.start}return c},this.getMatchingBracketRanges=function(a,o){var l=this.getLine(a.row),c=/([\(\[\{])|([\)\]\}])/,u=!o&&l.charAt(a.column-1),d=u&&u.match(c);if(d||(u=(o===void 0||o)&&l.charAt(a.column),a={row:a.row,column:a.column+1},d=u&&u.match(c)),!d)return null;var h=new r(a.row,a.column-1,a.row,a.column),m=d[1]?this.$findClosingBracket(d[1],a):this.$findOpeningBracket(d[2],a);if(!m)return[h];var f=new r(m.row,m.column,m.row,m.column+1);return[h,f]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(a,o,l){var c=this.$brackets[a],u=1,d=new i(this,o.row,o.column),h=d.getCurrentToken();if(h||(h=d.stepForward()),!!h){l||(l=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var m=o.column-d.getCurrentTokenColumn()-2,f=h.value;;){for(;m>=0;){var p=f.charAt(m);if(p==c){if(u-=1,u==0)return{row:d.getCurrentTokenRow(),column:m+d.getCurrentTokenColumn()}}else p==a&&(u+=1);m-=1}do h=d.stepBackward();while(h&&!l.test(h.type));if(h==null)break;f=h.value,m=f.length-1}return null}},this.$findClosingBracket=function(a,o,l){var c=this.$brackets[a],u=1,d=new i(this,o.row,o.column),h=d.getCurrentToken();if(h||(h=d.stepForward()),!!h){l||(l=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var m=o.column-d.getCurrentTokenColumn();;){for(var f=h.value,p=f.length;m<p;){var g=f.charAt(m);if(g==c){if(u-=1,u==0)return{row:d.getCurrentTokenRow(),column:m+d.getCurrentTokenColumn()}}else g==a&&(u+=1);m+=1}do h=d.stepForward();while(h&&!l.test(h.type));if(h==null)break;m=0}return null}},this.getMatchingTags=function(a){var o=new i(this,a.row,a.column),l=this.$findTagName(o);if(l){var c=o.stepBackward();return c.value==="<"?this.$findClosingTag(o,l):this.$findOpeningTag(o,l)}},this.$findTagName=function(a){var o=a.getCurrentToken(),l=!1,c=!1;if(o&&o.type.indexOf("tag-name")===-1)do c?o=a.stepBackward():o=a.stepForward(),o&&(o.value==="/>"?c=!0:o.type.indexOf("tag-name")!==-1&&(l=!0));while(o&&!l);return o},this.$findClosingTag=function(a,o){var l,c=o.value,u=o.value,d=0,h=new r(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);o=a.stepForward();var m=new r(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+o.value.length),f=!1;do{if(l=o,l.type.indexOf("tag-close")!==-1&&!f){var p=new r(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);f=!0}if(o=a.stepForward(),o){if(o.value===">"&&!f){var p=new r(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);f=!0}if(o.type.indexOf("tag-name")!==-1){if(c=o.value,u===c){if(l.value==="<")d++;else if(l.value==="</"&&(d--,d<0)){a.stepBackward();var g=new r(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+2);o=a.stepForward();var y=new r(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+o.value.length);if(o.type.indexOf("tag-close")===-1&&(o=a.stepForward()),o&&o.value===">")var w=new r(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);else return}}}else if(u===c&&o.value==="/>"&&(d--,d<0))var g=new r(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+2),y=g,w=y,p=new r(m.end.row,m.end.column,m.end.row,m.end.column+1)}}while(o&&d>=0);if(h&&p&&g&&w&&m&&y)return{openTag:new r(h.start.row,h.start.column,p.end.row,p.end.column),closeTag:new r(g.start.row,g.start.column,w.end.row,w.end.column),openTagName:m,closeTagName:y}},this.$findOpeningTag=function(a,o){var l=a.getCurrentToken(),c=o.value,u=0,d=a.getCurrentTokenRow(),h=a.getCurrentTokenColumn(),m=h+2,f=new r(d,h,d,m);a.stepForward();var p=new r(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+o.value.length);if(o.type.indexOf("tag-close")===-1&&(o=a.stepForward()),!(!o||o.value!==">")){var g=new r(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);a.stepBackward(),a.stepBackward();do if(o=l,d=a.getCurrentTokenRow(),h=a.getCurrentTokenColumn(),m=h+o.value.length,l=a.stepBackward(),o){if(o.type.indexOf("tag-name")!==-1){if(c===o.value)if(l.value==="<"){if(u++,u>0){var y=new r(d,h,d,m),w=new r(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);do o=a.stepForward();while(o&&o.value!==">");var k=new r(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1)}}else l.value==="</"&&u--}else if(o.value==="/>"){for(var x=0,C=l;C;){if(C.type.indexOf("tag-name")!==-1&&C.value===c){u--;break}else if(C.value==="<")break;C=a.stepBackward(),x++}for(var A=0;A<x;A++)a.stepForward()}}while(l&&u<=0);if(w&&k&&f&&g&&y&&p)return{openTag:new r(w.start.row,w.start.column,k.end.row,k.end.column),closeTag:new r(f.start.row,f.start.column,g.end.row,g.end.column),openTagName:y,closeTagName:p}}}}t.BracketMatch=s});ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,t,e){"use strict";var i=n("./lib/oop"),r=n("./lib/lang"),s=n("./bidihandler").BidiHandler,a=n("./config"),o=n("./lib/event_emitter").EventEmitter,l=n("./selection").Selection,c=n("./mode/text").Mode,u=n("./range").Range,d=n("./line_widgets").LineWidgets,h=n("./document").Document,m=n("./background_tokenizer").BackgroundTokenizer,f=n("./search_highlight").SearchHighlight,p=n("./undomanager").UndoManager,g=function(){function S(v,_){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++S.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.$gutterCustomWidgets={},this.bgTokenizer=new m(new c().getTokenizer(),this);var b=this;this.bgTokenizer.on("update",function(M){b._signal("tokenizerUpdate",M)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof v!="object"||!v.getLine)&&(v=new h(v)),this.setDocument(v),this.selection=new l(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new s(this),a.resetOptions(this),this.setMode(_),a._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return S.prototype.$initOperationListeners=function(){var v=this;this.curOp=null,this.on("change",function(){v.curOp||(v.startOperation(),v.curOp.selectionBefore=v.$lastSel),v.curOp.docChanged=!0},!0),this.on("changeSelection",function(){v.curOp||(v.startOperation(),v.curOp.selectionBefore=v.$lastSel),v.curOp.selectionChanged=!0},!0),this.$operationResetTimer=r.delayedCall(this.endOperation.bind(this,!0))},S.prototype.startOperation=function(v){if(this.curOp){if(!v||this.curOp.command)return;this.prevOp=this.curOp}v||(v={}),this.$operationResetTimer.schedule(),this.curOp={command:v.command||{},args:v.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",v)},S.prototype.endOperation=function(v){if(this.curOp){if(v&&v.returnValue===!1){this.curOp=null,this._signal("endOperation",v);return}if(v==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var _=this.selection.toJSON();this.curOp.selectionAfter=_,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(_),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",v)}},S.prototype.setDocument=function(v){this.doc&&this.doc.off("change",this.$onChange),this.doc=v,v.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},S.prototype.getDocument=function(){return this.doc},Object.defineProperty(S.prototype,"widgetManager",{get:function(){var v=new d(this);return this.widgetManager=v,this.$editor&&v.attach(this.$editor),v},set:function(v){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:v})},enumerable:!1,configurable:!0}),S.prototype.$resetRowCache=function(v){if(!v){this.$docRowCache=[],this.$screenRowCache=[];return}var _=this.$docRowCache.length,b=this.$getRowCacheIndex(this.$docRowCache,v)+1;_>b&&(this.$docRowCache.splice(b,_),this.$screenRowCache.splice(b,_))},S.prototype.$getRowCacheIndex=function(v,_){for(var b=0,M=v.length-1;b<=M;){var I=b+M>>1,D=v[I];if(_>D)b=I+1;else if(_<D)M=I-1;else return I}return b-1},S.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},S.prototype.onChangeFold=function(v){var _=v.data;this.$resetRowCache(_.start.row)},S.prototype.onChange=function(v){this.$modified=!0,this.$bidiHandler.onChange(v),this.$resetRowCache(v.start.row);var _=this.$updateInternalDataOnChange(v);!this.$fromUndo&&this.$undoManager&&(_&&_.length&&(this.$undoManager.add({action:"removeFolds",folds:_},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(v,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(v),this._signal("change",v)},S.prototype.onSelectionChange=function(){this._signal("changeSelection")},S.prototype.setValue=function(v){this.doc.setValue(v),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},S.fromJSON=function(v){typeof v=="string"&&(v=JSON.parse(v));var _=new p;_.$undoStack=v.history.undo,_.$redoStack=v.history.redo,_.mark=v.history.mark,_.$rev=v.history.rev;var b=new S(v.value);return v.folds.forEach(function(M){b.addFold("...",u.fromPoints(M.start,M.end))}),b.setAnnotations(v.annotations),b.setBreakpoints(v.breakpoints),b.setMode(v.mode),b.setScrollLeft(v.scrollLeft),b.setScrollTop(v.scrollTop),b.setUndoManager(_),b.selection.fromJSON(v.selection),b},S.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(v){return v.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},S.prototype.toString=function(){return this.doc.getValue()},S.prototype.getSelection=function(){return this.selection},S.prototype.getState=function(v){return this.bgTokenizer.getState(v)},S.prototype.getTokens=function(v){return this.bgTokenizer.getTokens(v)},S.prototype.getTokenAt=function(v,_){var b=this.bgTokenizer.getTokens(v),M,I=0;if(_==null){var D=b.length-1;I=this.getLine(v).length}else for(var D=0;D<b.length&&(I+=b[D].value.length,!(I>=_));D++);return M=b[D],M?(M.index=D,M.start=I-M.value.length,M):null},S.prototype.setUndoManager=function(v){if(this.$undoManager=v,this.$informUndoManager&&this.$informUndoManager.cancel(),v){var _=this;v.addSession(this),this.$syncInformUndoManager=function(){_.$informUndoManager.cancel(),_.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},S.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},S.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},S.prototype.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"	"},S.prototype.setUseSoftTabs=function(v){this.setOption("useSoftTabs",v)},S.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},S.prototype.setTabSize=function(v){this.setOption("tabSize",v)},S.prototype.getTabSize=function(){return this.$tabSize},S.prototype.isTabStop=function(v){return this.$useSoftTabs&&v.column%this.$tabSize===0},S.prototype.setNavigateWithinSoftTabs=function(v){this.setOption("navigateWithinSoftTabs",v)},S.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},S.prototype.setOverwrite=function(v){this.setOption("overwrite",v)},S.prototype.getOverwrite=function(){return this.$overwrite},S.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},S.prototype.addGutterDecoration=function(v,_){this.$decorations[v]||(this.$decorations[v]=""),this.$decorations[v]+=" "+_,this._signal("changeBreakpoint",{})},S.prototype.removeGutterCustomWidget=function(v){this.$editor&&this.$editor.renderer.$gutterLayer.$removeCustomWidget(v)},S.prototype.addGutterCustomWidget=function(v,_){this.$editor&&this.$editor.renderer.$gutterLayer.$addCustomWidget(v,_)},S.prototype.removeGutterDecoration=function(v,_){this.$decorations[v]=(this.$decorations[v]||"").replace(" "+_,""),this._signal("changeBreakpoint",{})},S.prototype.getBreakpoints=function(){return this.$breakpoints},S.prototype.setBreakpoints=function(v){this.$breakpoints=[];for(var _=0;_<v.length;_++)this.$breakpoints[v[_]]="ace_breakpoint";this._signal("changeBreakpoint",{})},S.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},S.prototype.setBreakpoint=function(v,_){_===void 0&&(_="ace_breakpoint"),_?this.$breakpoints[v]=_:delete this.$breakpoints[v],this._signal("changeBreakpoint",{})},S.prototype.clearBreakpoint=function(v){delete this.$breakpoints[v],this._signal("changeBreakpoint",{})},S.prototype.addMarker=function(v,_,b,M){var I=this.$markerId++,D={range:v,type:b||"line",renderer:typeof b=="function"?b:null,clazz:_,inFront:!!M,id:I};return M?(this.$frontMarkers[I]=D,this._signal("changeFrontMarker")):(this.$backMarkers[I]=D,this._signal("changeBackMarker")),I},S.prototype.addDynamicMarker=function(v,_){if(v.update){var b=this.$markerId++;return v.id=b,v.inFront=!!_,_?(this.$frontMarkers[b]=v,this._signal("changeFrontMarker")):(this.$backMarkers[b]=v,this._signal("changeBackMarker")),v}},S.prototype.removeMarker=function(v){var _=this.$frontMarkers[v]||this.$backMarkers[v];if(_){var b=_.inFront?this.$frontMarkers:this.$backMarkers;delete b[v],this._signal(_.inFront?"changeFrontMarker":"changeBackMarker")}},S.prototype.getMarkers=function(v){return v?this.$frontMarkers:this.$backMarkers},S.prototype.highlight=function(v){if(!this.$searchHighlight){var _=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(_)}this.$searchHighlight.setRegexp(v)},S.prototype.highlightLines=function(v,_,b,M){typeof _!="number"&&(b=_,_=v),b||(b="ace_step");var I=new u(v,0,_,1/0);return I.id=this.addMarker(I,b,"fullLine",M),I},S.prototype.setAnnotations=function(v){this.$annotations=v,this._signal("changeAnnotation",{})},S.prototype.getAnnotations=function(){return this.$annotations||[]},S.prototype.clearAnnotations=function(){this.setAnnotations([])},S.prototype.$detectNewLine=function(v){var _=v.match(/^.*?(\r?\n)/m);_?this.$autoNewLine=_[1]:this.$autoNewLine=`
`},S.prototype.getWordRange=function(v,_){var b=this.getLine(v),M=!1;if(_>0&&(M=!!b.charAt(_-1).match(this.tokenRe)),M||(M=!!b.charAt(_).match(this.tokenRe)),M)var I=this.tokenRe;else if(/^\s+$/.test(b.slice(_-1,_+1)))var I=/\s/;else var I=this.nonTokenRe;var D=_;if(D>0){do D--;while(D>=0&&b.charAt(D).match(I));D++}for(var O=_;O<b.length&&b.charAt(O).match(I);)O++;return new u(v,D,v,O)},S.prototype.getAWordRange=function(v,_){for(var b=this.getWordRange(v,_),M=this.getLine(b.end.row);M.charAt(b.end.column).match(/[ \t]/);)b.end.column+=1;return b},S.prototype.setNewLineMode=function(v){this.doc.setNewLineMode(v)},S.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},S.prototype.setUseWorker=function(v){this.setOption("useWorker",v)},S.prototype.getUseWorker=function(){return this.$useWorker},S.prototype.onReloadTokenizer=function(v){var _=v.data;this.bgTokenizer.start(_.first),this._signal("tokenizerUpdate",v)},S.prototype.setMode=function(v,_){if(v&&typeof v=="object"){if(v.getTokenizer)return this.$onChangeMode(v);var b=v,M=b.path}else M=v||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[M]&&!b){this.$onChangeMode(this.$modes[M]),_&&_();return}this.$modeId=M,a.loadModule(["mode",M],function(I){if(!this.destroyed){if(this.$modeId!==M)return _&&_();this.$modes[M]&&!b?this.$onChangeMode(this.$modes[M]):I&&I.Mode&&(I=new I.Mode(b),b||(this.$modes[M]=I,I.$id=M),this.$onChangeMode(I)),_&&_()}}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},S.prototype.$onChangeMode=function(v,_){if(_||(this.$modeId=v.$id),this.$mode!==v){var b=this.$mode;this.$mode=v,this.$stopWorker(),this.$useWorker&&this.$startWorker();var M=v.getTokenizer();if(M.on!==void 0){var I=this.onReloadTokenizer.bind(this);M.on("update",I)}this.bgTokenizer.setTokenizer(M),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=v.tokenRe,this.nonTokenRe=v.nonTokenRe,_||(v.attachToSession&&v.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(v.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:b,mode:v}))}},S.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},S.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(v){a.warn("Could not load worker",v),this.$worker=null}},S.prototype.getMode=function(){return this.$mode},S.prototype.setScrollTop=function(v){this.$scrollTop===v||isNaN(v)||(this.$scrollTop=v,this._signal("changeScrollTop",v))},S.prototype.getScrollTop=function(){return this.$scrollTop},S.prototype.setScrollLeft=function(v){this.$scrollLeft===v||isNaN(v)||(this.$scrollLeft=v,this._signal("changeScrollLeft",v))},S.prototype.getScrollLeft=function(){return this.$scrollLeft},S.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},S.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var v=0;return this.lineWidgets.forEach(function(_){_&&_.screenWidth>v&&(v=_.screenWidth)}),this.lineWidgetWidth=v},S.prototype.$computeWidth=function(v){if(this.$modified||v){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var _=this.doc.getAllLines(),b=this.$rowLengthCache,M=0,I=0,D=this.$foldData[I],O=D?D.start.row:1/0,N=_.length,F=0;F<N;F++){if(F>O){if(F=D.end.row+1,F>=N)break;D=this.$foldData[I++],O=D?D.start.row:1/0}b[F]==null&&(b[F]=this.$getStringScreenWidth(_[F])[0]),b[F]>M&&(M=b[F])}this.screenWidth=M}},S.prototype.getLine=function(v){return this.doc.getLine(v)},S.prototype.getLines=function(v,_){return this.doc.getLines(v,_)},S.prototype.getLength=function(){return this.doc.getLength()},S.prototype.getTextRange=function(v){return this.doc.getTextRange(v||this.selection.getRange())},S.prototype.insert=function(v,_){return this.doc.insert(v,_)},S.prototype.remove=function(v){return this.doc.remove(v)},S.prototype.removeFullLines=function(v,_){return this.doc.removeFullLines(v,_)},S.prototype.undoChanges=function(v,_){if(v.length){this.$fromUndo=!0;for(var b=v.length-1;b!=-1;b--){var M=v[b];M.action=="insert"||M.action=="remove"?this.doc.revertDelta(M):M.folds&&this.addFolds(M.folds)}!_&&this.$undoSelect&&(v.selectionBefore?this.selection.fromJSON(v.selectionBefore):this.selection.setRange(this.$getUndoSelection(v,!0))),this.$fromUndo=!1}},S.prototype.redoChanges=function(v,_){if(v.length){this.$fromUndo=!0;for(var b=0;b<v.length;b++){var M=v[b];(M.action=="insert"||M.action=="remove")&&this.doc.$safeApplyDelta(M)}!_&&this.$undoSelect&&(v.selectionAfter?this.selection.fromJSON(v.selectionAfter):this.selection.setRange(this.$getUndoSelection(v,!1))),this.$fromUndo=!1}},S.prototype.setUndoSelect=function(v){this.$undoSelect=v},S.prototype.$getUndoSelection=function(v,_){function b(N){return _?N.action!=="insert":N.action==="insert"}for(var M,I,D=0;D<v.length;D++){var O=v[D];if(O.start){if(!M){b(O)?M=u.fromPoints(O.start,O.end):M=u.fromPoints(O.start,O.start);continue}b(O)?(I=O.start,M.compare(I.row,I.column)==-1&&M.setStart(I),I=O.end,M.compare(I.row,I.column)==1&&M.setEnd(I)):(I=O.start,M.compare(I.row,I.column)==-1&&(M=u.fromPoints(O.start,O.start)))}}return M},S.prototype.replace=function(v,_){return this.doc.replace(v,_)},S.prototype.moveText=function(v,_,b){var M=this.getTextRange(v),I=this.getFoldsInRange(v),D=u.fromPoints(_,_);if(!b){this.remove(v);var O=v.start.row-v.end.row,N=O?-v.end.column:v.start.column-v.end.column;N&&(D.start.row==v.end.row&&D.start.column>v.end.column&&(D.start.column+=N),D.end.row==v.end.row&&D.end.column>v.end.column&&(D.end.column+=N)),O&&D.start.row>=v.end.row&&(D.start.row+=O,D.end.row+=O)}if(D.end=this.insert(D.start,M),I.length){var F=v.start,z=D.start,O=z.row-F.row,N=z.column-F.column;this.addFolds(I.map(function(W){return W=W.clone(),W.start.row==F.row&&(W.start.column+=N),W.end.row==F.row&&(W.end.column+=N),W.start.row+=O,W.end.row+=O,W}))}return D},S.prototype.indentRows=function(v,_,b){b=b.replace(/\t/g,this.getTabString());for(var M=v;M<=_;M++)this.doc.insertInLine({row:M,column:0},b)},S.prototype.outdentRows=function(v){for(var _=v.collapseRows(),b=new u(0,0,0,0),M=this.getTabSize(),I=_.start.row;I<=_.end.row;++I){var D=this.getLine(I);b.start.row=I,b.end.row=I;for(var O=0;O<M&&D.charAt(O)==" ";++O);O<M&&D.charAt(O)=="	"?(b.start.column=O,b.end.column=O+1):(b.start.column=0,b.end.column=O),this.remove(b)}},S.prototype.$moveLines=function(v,_,b){if(v=this.getRowFoldStart(v),_=this.getRowFoldEnd(_),b<0){var M=this.getRowFoldStart(v+b);if(M<0)return 0;var I=M-v}else if(b>0){var M=this.getRowFoldEnd(_+b);if(M>this.doc.getLength()-1)return 0;var I=M-_}else{v=this.$clipRowToDocument(v),_=this.$clipRowToDocument(_);var I=_-v+1}var D=new u(v,0,_,Number.MAX_VALUE),O=this.getFoldsInRange(D).map(function(F){return F=F.clone(),F.start.row+=I,F.end.row+=I,F}),N=b==0?this.doc.getLines(v,_):this.doc.removeFullLines(v,_);return this.doc.insertFullLines(v+I,N),O.length&&this.addFolds(O),I},S.prototype.moveLinesUp=function(v,_){return this.$moveLines(v,_,-1)},S.prototype.moveLinesDown=function(v,_){return this.$moveLines(v,_,1)},S.prototype.duplicateLines=function(v,_){return this.$moveLines(v,_,0)},S.prototype.$clipRowToDocument=function(v){return Math.max(0,Math.min(v,this.doc.getLength()-1))},S.prototype.$clipColumnToRow=function(v,_){return _<0?0:Math.min(this.doc.getLine(v).length,_)},S.prototype.$clipPositionToDocument=function(v,_){if(_=Math.max(0,_),v<0)v=0,_=0;else{var b=this.doc.getLength();v>=b?(v=b-1,_=this.doc.getLine(b-1).length):_=Math.min(this.doc.getLine(v).length,_)}return{row:v,column:_}},S.prototype.$clipRangeToDocument=function(v){v.start.row<0?(v.start.row=0,v.start.column=0):v.start.column=this.$clipColumnToRow(v.start.row,v.start.column);var _=this.doc.getLength()-1;return v.end.row>_?(v.end.row=_,v.end.column=this.doc.getLine(_).length):v.end.column=this.$clipColumnToRow(v.end.row,v.end.column),v},S.prototype.setUseWrapMode=function(v){if(v!=this.$useWrapMode){if(this.$useWrapMode=v,this.$modified=!0,this.$resetRowCache(0),v){var _=this.getLength();this.$wrapData=Array(_),this.$updateWrapData(0,_-1)}this._signal("changeWrapMode")}},S.prototype.getUseWrapMode=function(){return this.$useWrapMode},S.prototype.setWrapLimitRange=function(v,_){(this.$wrapLimitRange.min!==v||this.$wrapLimitRange.max!==_)&&(this.$wrapLimitRange={min:v,max:_},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},S.prototype.adjustWrapLimit=function(v,_){var b=this.$wrapLimitRange;b.max<0&&(b={min:_,max:_});var M=this.$constrainWrapLimit(v,b.min,b.max);return M!=this.$wrapLimit&&M>1?(this.$wrapLimit=M,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},S.prototype.$constrainWrapLimit=function(v,_,b){return _&&(v=Math.max(_,v)),b&&(v=Math.min(b,v)),v},S.prototype.getWrapLimit=function(){return this.$wrapLimit},S.prototype.setWrapLimit=function(v){this.setWrapLimitRange(v,v)},S.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},S.prototype.$updateInternalDataOnChange=function(v){var _=this.$useWrapMode,b=v.action,M=v.start,I=v.end,D=M.row,O=I.row,N=O-D,F=null;if(this.$updating=!0,N!=0)if(b==="remove"){this[_?"$wrapData":"$rowLengthCache"].splice(D,N);var z=this.$foldData;F=this.getFoldsInRange(v),this.removeFolds(F);var V=this.getFoldLine(I.row),K=0;if(V){V.addRemoveChars(I.row,I.column,M.column-I.column),V.shiftRow(-N);var W=this.getFoldLine(D);W&&W!==V&&(W.merge(V),V=W),K=z.indexOf(V)+1}for(K;K<z.length;K++){var V=z[K];V.start.row>=I.row&&V.shiftRow(-N)}O=D}else{var q=Array(N);q.unshift(D,0);var ae=_?this.$wrapData:this.$rowLengthCache;ae.splice.apply(ae,q);var z=this.$foldData,V=this.getFoldLine(D),K=0;if(V){var pe=V.range.compareInside(M.row,M.column);pe==0?(V=V.split(M.row,M.column),V&&(V.shiftRow(N),V.addRemoveChars(O,0,I.column-M.column))):pe==-1&&(V.addRemoveChars(D,0,I.column-M.column),V.shiftRow(N)),K=z.indexOf(V)+1}for(K;K<z.length;K++){var V=z[K];V.start.row>=D&&V.shiftRow(N)}}else{N=Math.abs(v.start.column-v.end.column),b==="remove"&&(F=this.getFoldsInRange(v),this.removeFolds(F),N=-N);var V=this.getFoldLine(D);V&&V.addRemoveChars(D,M.column,N)}return _&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,_?this.$updateWrapData(D,O):this.$updateRowLengthCache(D,O),F},S.prototype.$updateRowLengthCache=function(v,_){this.$rowLengthCache[v]=null,this.$rowLengthCache[_]=null},S.prototype.$updateWrapData=function(v,_){var b=this.doc.getAllLines(),M=this.getTabSize(),I=this.$wrapData,D=this.$wrapLimit,O,N,F=v;for(_=Math.min(_,b.length-1);F<=_;)N=this.getFoldLine(F,N),N?(O=[],N.walk(function(z,V,K,W){var q;if(z!=null){q=this.$getDisplayTokens(z,O.length),q[0]=k;for(var ae=1;ae<q.length;ae++)q[ae]=x}else q=this.$getDisplayTokens(b[V].substring(W,K),O.length);O=O.concat(q)}.bind(this),N.end.row,b[N.end.row].length+1),I[N.start.row]=this.$computeWrapSplits(O,D,M),F=N.end.row+1):(O=this.$getDisplayTokens(b[F]),I[F]=this.$computeWrapSplits(O,D,M),F++)},S.prototype.$computeWrapSplits=function(v,_,b){if(v.length==0)return[];var M=[],I=v.length,D=0,O=0,N=this.$wrapAsCode,F=this.$indentedSoftWrap,z=_<=Math.max(2*b,8)||F===!1?0:Math.floor(_/2);function V(){var pe=0;if(z===0)return pe;if(F)for(var ie=0;ie<v.length;ie++){var ne=v[ie];if(ne==A)pe+=1;else if(ne==T)pe+=b;else{if(ne==E)continue;break}}return N&&F!==!1&&(pe+=b),Math.min(pe,z)}function K(pe){for(var ie=pe-D,ne=D;ne<pe;ne++){var Ee=v[ne];(Ee===12||Ee===2)&&(ie-=1)}M.length||(W=V(),M.indent=W),O+=ie,M.push(O),D=pe}for(var W=0;I-D>_-W;){var q=D+_-W;if(v[q-1]>=A&&v[q]>=A){K(q);continue}if(v[q]==k||v[q]==x){for(q;q!=D-1&&v[q]!=k;q--);if(q>D){K(q);continue}for(q=D+_,q;q<v.length&&v[q]==x;q++);if(q==v.length)break;K(q);continue}for(var ae=Math.max(q-(_-(_>>2)),D-1);q>ae&&v[q]<k;)q--;if(N){for(;q>ae&&v[q]<k;)q--;for(;q>ae&&v[q]==C;)q--}else for(;q>ae&&v[q]<A;)q--;if(q>ae){K(++q);continue}q=D+_,v[q]==w&&q--,K(q-W)}return M},S.prototype.$getDisplayTokens=function(v,_){var b=[],M;_=_||0;for(var I=0;I<v.length;I++){var D=v.charCodeAt(I);if(D==9){M=this.getScreenTabSize(b.length+_),b.push(T);for(var O=1;O<M;O++)b.push(E)}else D==32?b.push(A):D>39&&D<48||D>57&&D<64?b.push(C):D>=4352&&L(D)?b.push(y,w):b.push(y)}return b},S.prototype.$getStringScreenWidth=function(v,_,b){if(_==0)return[0,0];_==null&&(_=1/0),b=b||0;var M,I;for(I=0;I<v.length&&(M=v.charCodeAt(I),M==9?b+=this.getScreenTabSize(b):M>=4352&&L(M)?b+=2:b+=1,!(b>_));I++);return[b,I]},S.prototype.getRowLength=function(v){var _=1;return this.lineWidgets&&(_+=this.lineWidgets[v]&&this.lineWidgets[v].rowCount||0),!this.$useWrapMode||!this.$wrapData[v]?_:this.$wrapData[v].length+_},S.prototype.getRowLineCount=function(v){return!this.$useWrapMode||!this.$wrapData[v]?1:this.$wrapData[v].length+1},S.prototype.getRowWrapIndent=function(v){if(this.$useWrapMode){var _=this.screenToDocumentPosition(v,Number.MAX_VALUE),b=this.$wrapData[_.row];return b.length&&b[0]<_.column?b.indent:0}else return 0},S.prototype.getScreenLastRowColumn=function(v){var _=this.screenToDocumentPosition(v,Number.MAX_VALUE);return this.documentToScreenColumn(_.row,_.column)},S.prototype.getDocumentLastRowColumn=function(v,_){var b=this.documentToScreenRow(v,_);return this.getScreenLastRowColumn(b)},S.prototype.getDocumentLastRowColumnPosition=function(v,_){var b=this.documentToScreenRow(v,_);return this.screenToDocumentPosition(b,Number.MAX_VALUE/10)},S.prototype.getRowSplitData=function(v){if(this.$useWrapMode)return this.$wrapData[v]},S.prototype.getScreenTabSize=function(v){return this.$tabSize-(v%this.$tabSize|0)},S.prototype.screenToDocumentRow=function(v,_){return this.screenToDocumentPosition(v,_).row},S.prototype.screenToDocumentColumn=function(v,_){return this.screenToDocumentPosition(v,_).column},S.prototype.screenToDocumentPosition=function(v,_,b){if(v<0)return{row:0,column:0};var M,I=0,D=0,O,N=0,F=0,z=this.$screenRowCache,V=this.$getRowCacheIndex(z,v),K=z.length;if(K&&V>=0)var N=z[V],I=this.$docRowCache[V],W=v>z[K-1];else var W=!K;for(var q=this.getLength()-1,ae=this.getNextFoldLine(I),pe=ae?ae.start.row:1/0;N<=v&&(F=this.getRowLength(I),!(N+F>v||I>=q));)N+=F,I++,I>pe&&(I=ae.end.row+1,ae=this.getNextFoldLine(I,ae),pe=ae?ae.start.row:1/0),W&&(this.$docRowCache.push(I),this.$screenRowCache.push(N));if(ae&&ae.start.row<=I)M=this.getFoldDisplayLine(ae),I=ae.start.row;else{if(N+F<=v||I>q)return{row:q,column:this.getLine(q).length};M=this.getLine(I),ae=null}var ie=0,ne=Math.floor(v-N);if(this.$useWrapMode){var Ee=this.$wrapData[I];Ee&&(O=Ee[ne],ne>0&&Ee.length&&(ie=Ee.indent,D=Ee[ne-1]||Ee[Ee.length-1],M=M.substring(D)))}return b!==void 0&&this.$bidiHandler.isBidiRow(N+ne,I,ne)&&(_=this.$bidiHandler.offsetToCol(b)),D+=this.$getStringScreenWidth(M,_-ie)[1],this.$useWrapMode&&D>=O&&(D=O-1),ae?ae.idxToPosition(D):{row:I,column:D}},S.prototype.documentToScreenPosition=function(v,_){if(typeof _>"u")var b=this.$clipPositionToDocument(v.row,v.column);else b=this.$clipPositionToDocument(v,_);v=b.row,_=b.column;var M=0,I=null,D=null;D=this.getFoldAt(v,_,1),D&&(v=D.start.row,_=D.start.column);var O,N=0,F=this.$docRowCache,z=this.$getRowCacheIndex(F,v),V=F.length;if(V&&z>=0)var N=F[z],M=this.$screenRowCache[z],K=v>F[V-1];else var K=!V;for(var W=this.getNextFoldLine(N),q=W?W.start.row:1/0;N<v;){if(N>=q){if(O=W.end.row+1,O>v)break;W=this.getNextFoldLine(O,W),q=W?W.start.row:1/0}else O=N+1;M+=this.getRowLength(N),N=O,K&&(this.$docRowCache.push(N),this.$screenRowCache.push(M))}var ae="";W&&N>=q?(ae=this.getFoldDisplayLine(W,v,_),I=W.start.row):(ae=this.getLine(v).substring(0,_),I=v);var pe=0;if(this.$useWrapMode){var ie=this.$wrapData[I];if(ie){for(var ne=0;ae.length>=ie[ne];)M++,ne++;ae=ae.substring(ie[ne-1]||0,ae.length),pe=ne>0?ie.indent:0}}return this.lineWidgets&&this.lineWidgets[N]&&this.lineWidgets[N].rowsAbove&&(M+=this.lineWidgets[N].rowsAbove),{row:M,column:pe+this.$getStringScreenWidth(ae)[0]}},S.prototype.documentToScreenColumn=function(v,_){return this.documentToScreenPosition(v,_).column},S.prototype.documentToScreenRow=function(v,_){return this.documentToScreenPosition(v,_).row},S.prototype.getScreenLength=function(){var v=0,_=null;if(this.$useWrapMode)for(var I=this.$wrapData.length,D=0,M=0,_=this.$foldData[M++],O=_?_.start.row:1/0;D<I;){var N=this.$wrapData[D];v+=N?N.length+1:1,D++,D>O&&(D=_.end.row+1,_=this.$foldData[M++],O=_?_.start.row:1/0)}else{v=this.getLength();for(var b=this.$foldData,M=0;M<b.length;M++)_=b[M],v-=_.end.row-_.start.row}return this.lineWidgets&&(v+=this.$getWidgetScreenLength()),v},S.prototype.$setFontMetrics=function(v){this.$enableVarChar&&(this.$getStringScreenWidth=function(_,b,M){if(b===0)return[0,0];b||(b=1/0),M=M||0;var I,D;for(D=0;D<_.length&&(I=_.charAt(D),I==="	"?M+=this.getScreenTabSize(M):M+=v.getCharacterWidth(I),!(M>b));D++);return[M,D]})},S.prototype.getPrecedingCharacter=function(){var v=this.selection.getCursor();if(v.column===0)return v.row===0?"":this.doc.getNewLineCharacter();var _=this.getLine(v.row);return _[v.column-1]},S.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},S}();g.$uid=0,g.prototype.$modes=a.$modes,g.prototype.getValue=g.prototype.toString,g.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},g.prototype.$overwrite=!1,g.prototype.$mode=null,g.prototype.$modeId=null,g.prototype.$scrollTop=0,g.prototype.$scrollLeft=0,g.prototype.$wrapLimit=80,g.prototype.$useWrapMode=!1,g.prototype.$wrapLimitRange={min:null,max:null},g.prototype.lineWidgets=null,g.prototype.isFullWidth=L,i.implement(g.prototype,o);var y=1,w=2,k=3,x=4,C=9,A=10,T=11,E=12;function L(S){return S<4352?!1:S>=4352&&S<=4447||S>=4515&&S<=4519||S>=4602&&S<=4607||S>=9001&&S<=9002||S>=11904&&S<=11929||S>=11931&&S<=12019||S>=12032&&S<=12245||S>=12272&&S<=12283||S>=12288&&S<=12350||S>=12353&&S<=12438||S>=12441&&S<=12543||S>=12549&&S<=12589||S>=12593&&S<=12686||S>=12688&&S<=12730||S>=12736&&S<=12771||S>=12784&&S<=12830||S>=12832&&S<=12871||S>=12880&&S<=13054||S>=13056&&S<=19903||S>=19968&&S<=42124||S>=42128&&S<=42182||S>=43360&&S<=43388||S>=44032&&S<=55203||S>=55216&&S<=55238||S>=55243&&S<=55291||S>=63744&&S<=64255||S>=65040&&S<=65049||S>=65072&&S<=65106||S>=65108&&S<=65126||S>=65128&&S<=65131||S>=65281&&S<=65376||S>=65504&&S<=65510}n("./edit_session/folding").Folding.call(g.prototype),n("./edit_session/bracket_match").BracketMatch.call(g.prototype),a.defineOptions(g.prototype,"session",{wrap:{set:function(S){if(!S||S=="off"?S=!1:S=="free"?S=!0:S=="printMargin"?S=-1:typeof S=="string"&&(S=parseInt(S,10)||!1),this.$wrap!=S)if(this.$wrap=S,!S)this.setUseWrapMode(!1);else{var v=typeof S=="number"?S:null;this.setWrapLimitRange(v,v),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(S){S=S=="auto"?this.$mode.type!="text":S!="text",S!=this.$wrapAsCode&&(this.$wrapAsCode=S,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(S){this.$useWorker=S,this.$stopWorker(),S&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(S){S=parseInt(S),S>0&&this.$tabSize!==S&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=S,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(S){this.setFoldStyle(S)},handlesSet:!0},overwrite:{set:function(S){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(S){this.doc.setNewLineMode(S)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(S){this.setMode(S)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=g});ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,t,e){"use strict";var i=n("./lib/lang"),r=n("./lib/oop"),s=n("./range").Range,a=function(){function u(){this.$options={}}return u.prototype.set=function(d){return r.mixin(this.$options,d),this},u.prototype.getOptions=function(){return i.copyObject(this.$options)},u.prototype.setOptions=function(d){this.$options=d},u.prototype.find=function(d){var h=this.$options,m=this.$matchIterator(d,h);if(!m)return!1;var f=null;return m.forEach(function(p,g,y,w){return f=new s(p,g,y,w),g==w&&h.start&&h.start.start&&h.skipCurrent!=!1&&f.isEqual(h.start)?(f=null,!1):!0}),f},u.prototype.findAll=function(d){var h=this.$options;if(!h.needle)return[];this.$assembleRegExp(h);var m=h.range,f=m?d.getLines(m.start.row,m.end.row):d.doc.getAllLines(),p=[],g=h.re;if(h.$isMultiLine){var y=g.length,w=f.length-y,k;e:for(var x=g.offset||0;x<=w;x++){for(var C=0;C<y;C++)if(f[x+C].search(g[C])==-1)continue e;var A=f[x],T=f[x+y-1],E=A.length-A.match(g[0])[0].length,L=T.match(g[y-1])[0].length;k&&k.end.row===x&&k.end.column>E||(p.push(k=new s(x,E,x+y-1,L)),y>2&&(x=x+y-2))}}else for(var S,v=0;v<f.length;v++)if(this.$isMultilineSearch(h)){var _=f.length-1;if(S=this.$multiLineForward(d,g,v,_),S){var b=S.endRow<=_?S.endRow-1:_;b>v&&(v=b),p.push(new s(S.startRow,S.startCol,S.endRow,S.endCol))}}else{S=i.getMatchOffsets(f[v],g);for(var C=0;C<S.length;C++){var M=S[C];p.push(new s(v,M.offset,v,M.offset+M.length))}}if(m){for(var I=m.start.column,D=m.end.column,v=0,C=p.length-1;v<C&&p[v].start.column<I&&p[v].start.row==0;)v++;for(var O=m.end.row-m.start.row;v<C&&p[C].end.column>D&&p[C].end.row==O;)C--;for(p=p.slice(v,C+1),v=0,C=p.length;v<C;v++)p[v].start.row+=m.start.row,p[v].end.row+=m.start.row}return p},u.prototype.parseReplaceString=function(d){for(var h={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},m="",f=0,p=d.length;f<p;f++){var g=d.charCodeAt(f);if(g===h.Backslash){if(f++,f>=p){m+="\\";break}var y=d.charCodeAt(f);switch(y){case h.Backslash:m+="\\";break;case h.n:m+=`
`;break;case h.t:m+="	";break}continue}if(g===h.DollarSign){if(f++,f>=p){m+="$";break}var w=d.charCodeAt(f);if(w===h.DollarSign){m+="$$";continue}if(w===h.Digit0||w===h.Ampersand){m+="$&";continue}if(h.Digit1<=w&&w<=h.Digit9){m+="$"+d[f];continue}}m+=d[f]}return m||d},u.prototype.replace=function(d,h){var m=this.$options,f=this.$assembleRegExp(m);if(m.$isMultiLine)return h;if(f){var p=this.$isMultilineSearch(m);p&&(d=d.replace(/\r\n|\r|\n/g,`
`));var g=f.exec(d);if(!g||!p&&g[0].length!=d.length)return null;if(h=m.regExp?this.parseReplaceString(h):h.replace(/\$/g,"$$$$"),h=d.replace(f,h),m.preserveCase){h=h.split("");for(var y=Math.min(d.length,d.length);y--;){var w=d[y];w&&w.toLowerCase()!=w?h[y]=h[y].toUpperCase():h[y]=h[y].toLowerCase()}h=h.join("")}return h}},u.prototype.$assembleRegExp=function(d,h){if(d.needle instanceof RegExp)return d.re=d.needle;var m=d.needle;if(!d.needle)return d.re=!1;d.regExp||(m=i.escapeRegExp(m));var f=d.caseSensitive?"gm":"gmi";try{new RegExp(m,"u"),d.$supportsUnicodeFlag=!0,f+="u"}catch{d.$supportsUnicodeFlag=!1}if(d.wholeWord&&(m=o(m,d)),d.$isMultiLine=!h&&/[\n\r]/.test(m),d.$isMultiLine)return d.re=this.$assembleMultilineRegExp(m,f);try{var p=new RegExp(m,f)}catch{p=!1}return d.re=p},u.prototype.$assembleMultilineRegExp=function(d,h){for(var m=d.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),f=[],p=0;p<m.length;p++)try{f.push(new RegExp(m[p],h))}catch{return!1}return f},u.prototype.$isMultilineSearch=function(d){return d.re&&/\\r\\n|\\r|\\n/.test(d.re.source)&&d.regExp&&!d.$isMultiLine},u.prototype.$multiLineForward=function(d,h,m,f){for(var p,g=c(d,m),y=m;y<=f;){for(var w=0;w<g&&!(y>f);w++){var k=d.getLine(y++);p=p==null?k:p+`
`+k}var x=h.exec(p);if(h.lastIndex=0,x){var C=p.slice(0,x.index).split(`
`),A=x[0].split(`
`),T=m+C.length-1,E=C[C.length-1].length,L=T+A.length-1,S=A.length==1?E+A[0].length:A[A.length-1].length;return{startRow:T,startCol:E,endRow:L,endCol:S}}}return null},u.prototype.$multiLineBackward=function(d,h,m,f,p){for(var g,y=c(d,f),w=d.getLine(f).length-m,k=f;k>=p;){for(var x=0;x<y&&k>=p;x++){var C=d.getLine(k--);g=g==null?C:C+`
`+g}var A=l(g,h,w);if(A){var T=g.slice(0,A.index).split(`
`),E=A[0].split(`
`),L=k+T.length,S=T[T.length-1].length,v=L+E.length-1,_=E.length==1?S+E[0].length:E[E.length-1].length;return{startRow:L,startCol:S,endRow:v,endCol:_}}}return null},u.prototype.$matchIterator=function(d,h){var m=this.$assembleRegExp(h);if(!m)return!1;var f=this.$isMultilineSearch(h),p=this.$multiLineForward,g=this.$multiLineBackward,y=h.backwards==!0,w=h.skipCurrent!=!1,k=m.unicode,x=h.range,C=h.start;C||(C=x?x[y?"end":"start"]:d.selection.getRange()),C.start&&(C=C[w!=y?"end":"start"]);var A=x?x.start.row:0,T=x?x.end.row:d.getLength()-1;if(y)var E=function(v){var _=C.row;if(!S(_,C.column,v)){for(_--;_>=A;_--)if(S(_,Number.MAX_VALUE,v))return;if(h.wrap!=!1){for(_=T,A=C.row;_>=A;_--)if(S(_,Number.MAX_VALUE,v))return}}};else var E=function(_){var b=C.row;if(!S(b,C.column,_)){for(b=b+1;b<=T;b++)if(S(b,0,_))return;if(h.wrap!=!1){for(b=A,T=C.row;b<=T;b++)if(S(b,0,_))return}}};if(h.$isMultiLine)var L=m.length,S=function(v,_,b){var M=y?v-L+1:v;if(!(M<0||M+L>d.getLength())){var I=d.getLine(M),D=I.search(m[0]);if(!(!y&&D<_||D===-1)){for(var O=1;O<L;O++)if(I=d.getLine(M+O),I.search(m[O])==-1)return;var N=I.match(m[L-1])[0].length;if(!(y&&N>_)&&b(M,D,M+L-1,N))return!0}}};else if(y)var S=function(_,b,M){if(f){var I=g(d,m,b,_,A);if(!I)return!1;if(M(I.startRow,I.startCol,I.endRow,I.endCol))return!0}else{var D=d.getLine(_),O=[],N,F=0;for(m.lastIndex=0;N=m.exec(D);){var z=N[0].length;if(F=N.index,!z){if(F>=D.length)break;m.lastIndex=F+=i.skipEmptyMatch(D,F,k)}if(N.index+z>b)break;O.push(N.index,z)}for(var V=O.length-1;V>=0;V-=2){var K=O[V-1],z=O[V];if(M(_,K,_,K+z))return!0}}};else var S=function(_,b,M){if(m.lastIndex=b,f){var I=p(d,m,_,T);if(I){var D=I.endRow<=T?I.endRow-1:T;D>_&&(_=D)}if(!I)return!1;if(M(I.startRow,I.startCol,I.endRow,I.endCol))return!0}else for(var O=d.getLine(_),N,F;F=m.exec(O);){var z=F[0].length;if(N=F.index,M(_,N,_,N+z))return!0;if(!z&&(m.lastIndex=N+=i.skipEmptyMatch(O,N,k),N>=O.length))return!1}};return{forEach:E}},u}();function o(u,d){var h=i.supportsLookbehind();function m(y,w){w===void 0&&(w=!0);var k=h&&d.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return k.test(y)||d.regExp?h&&d.$supportsUnicodeFlag?w?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var f=Array.from(u),p=f[0],g=f[f.length-1];return m(p)+u+m(g,!1)}function l(u,d,h){for(var m=null,f=0;f<=u.length;){d.lastIndex=f;var p=d.exec(u);if(!p)break;var g=p.index+p[0].length;if(g>u.length-h)break;(!m||g>m.index+m[0].length)&&(m=p),f=p.index+1}return m}function c(u,d){var h=5e3,m={row:d,column:0},f=u.doc.positionToIndex(m),p=f+h,g=u.doc.indexToPosition(p),y=g.row;return y+1}t.Search=a});ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,t,e){"use strict";var i=this&&this.__extends||function(){var u=function(d,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(m[p]=f[p])},u(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),r=n("../lib/keys"),s=n("../lib/useragent"),a=r.KEY_MODS,o=function(){function u(d,h){this.$init(d,h,!1)}return u.prototype.$init=function(d,h,m){this.platform=h||(s.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(d),this.$singleCommand=m},u.prototype.addCommand=function(d){this.commands[d.name]&&this.removeCommand(d),this.commands[d.name]=d,d.bindKey&&this._buildKeyHash(d)},u.prototype.removeCommand=function(d,h){var m=d&&(typeof d=="string"?d:d.name);d=this.commands[m],h||delete this.commands[m];var f=this.commandKeyBinding;for(var p in f){var g=f[p];if(g==d)delete f[p];else if(Array.isArray(g)){var y=g.indexOf(d);y!=-1&&(g.splice(y,1),g.length==1&&(f[p]=g[0]))}}},u.prototype.bindKey=function(d,h,m){if(typeof d=="object"&&d&&(m==null&&(m=d.position),d=d[this.platform]),!!d){if(typeof h=="function")return this.addCommand({exec:h,bindKey:d,name:h.name||d});d.split("|").forEach(function(f){var p="";if(f.indexOf(" ")!=-1){var g=f.split(/\s+/);f=g.pop(),g.forEach(function(k){var x=this.parseKeys(k),C=a[x.hashId]+x.key;p+=(p?" ":"")+C,this._addCommandToBinding(p,"chainKeys")},this),p+=" "}var y=this.parseKeys(f),w=a[y.hashId]+y.key;this._addCommandToBinding(p+w,h,m)},this)}},u.prototype._addCommandToBinding=function(d,h,m){var f=this.commandKeyBinding,p;if(!h)delete f[d];else if(!f[d]||this.$singleCommand)f[d]=h;else{Array.isArray(f[d])?(p=f[d].indexOf(h))!=-1&&f[d].splice(p,1):f[d]=[f[d]],typeof m!="number"&&(m=l(h));var g=f[d];for(p=0;p<g.length;p++){var y=g[p],w=l(y);if(w>m)break}g.splice(p,0,h)}},u.prototype.addCommands=function(d){d&&Object.keys(d).forEach(function(h){var m=d[h];if(m){if(typeof m=="string")return this.bindKey(m,h);typeof m=="function"&&(m={exec:m}),typeof m=="object"&&(m.name||(m.name=h),this.addCommand(m))}},this)},u.prototype.removeCommands=function(d){Object.keys(d).forEach(function(h){this.removeCommand(d[h])},this)},u.prototype.bindKeys=function(d){Object.keys(d).forEach(function(h){this.bindKey(h,d[h])},this)},u.prototype._buildKeyHash=function(d){this.bindKey(d.bindKey,d)},u.prototype.parseKeys=function(d){var h=d.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(w){return w}),m=h.pop(),f=r[m];if(r.FUNCTION_KEYS[f])m=r.FUNCTION_KEYS[f].toLowerCase();else if(h.length){if(h.length==1&&h[0]=="shift")return{key:m.toUpperCase(),hashId:-1}}else return{key:m,hashId:-1};for(var p=0,g=h.length;g--;){var y=r.KEY_MODS[h[g]];if(y==null)return typeof console<"u"&&console.error("invalid modifier "+h[g]+" in "+d),!1;p|=y}return{key:m,hashId:p}},u.prototype.findKeyCommand=function(d,h){var m=a[d]+h;return this.commandKeyBinding[m]},u.prototype.handleKeyboard=function(d,h,m,f){if(!(f<0)){var p=a[h]+m,g=this.commandKeyBinding[p];return d.$keyChain&&(d.$keyChain+=" "+p,g=this.commandKeyBinding[d.$keyChain]||g),g&&(g=="chainKeys"||g[g.length-1]=="chainKeys")?(d.$keyChain=d.$keyChain||p,{command:"null"}):(d.$keyChain&&((!h||h==4)&&m.length==1?d.$keyChain=d.$keyChain.slice(0,-p.length-1):(h==-1||f>0)&&(d.$keyChain="")),{command:g})}},u.prototype.getStatusText=function(d,h){return h.$keyChain||""},u}();function l(u){return typeof u=="object"&&u.bindKey&&u.bindKey.position||(u.isDefault?-100:0)}var c=function(u){i(d,u);function d(h,m){var f=u.call(this,h,m)||this;return f.$singleCommand=!0,f}return d}(o);c.call=function(u,d,h){o.prototype.$init.call(u,d,h,!0)},o.call=function(u,d,h){o.prototype.$init.call(u,d,h,!1)},t.HashHandler=c,t.MultiHashHandler=o});ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,t,e){"use strict";var i=this&&this.__extends||function(){var l=function(c,u){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(d[m]=h[m])},l(c,u)};return function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");l(c,u);function d(){this.constructor=c}c.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}(),r=n("../lib/oop"),s=n("../keyboard/hash_handler").MultiHashHandler,a=n("../lib/event_emitter").EventEmitter,o=function(l){i(c,l);function c(u,d){var h=l.call(this,d,u)||this;return h.byName=h.commands,h.setDefaultHandler("exec",function(m){return m.args?m.command.exec(m.editor,m.args,m.event,!1):m.command.exec(m.editor,{},m.event,!0)}),h}return c.prototype.exec=function(u,d,h){if(Array.isArray(u)){for(var m=u.length;m--;)if(this.exec(u[m],d,h))return!0;return!1}typeof u=="string"&&(u=this.commands[u]);var f={editor:d,command:u,args:h};return this.canExecute(u,d)?(f.returnValue=this._emit("exec",f),this._signal("afterExec",f),f.returnValue!==!1):(this._signal("commandUnavailable",f),!1)},c.prototype.canExecute=function(u,d){return typeof u=="string"&&(u=this.commands[u]),!(!u||d&&d.$readOnly&&!u.readOnly||this.$checkCommandState!=!1&&u.isAvailable&&!u.isAvailable(d))},c.prototype.toggleRecording=function(u){if(!this.$inReplay)return u&&u._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(d){this.macro.push([d.command,d.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},c.prototype.replay=function(u){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(u);try{this.$inReplay=!0,this.macro.forEach(function(d){typeof d=="string"?this.exec(d,u):this.exec(d[0],u,d[1])},this)}finally{this.$inReplay=!1}}},c.prototype.trimMacro=function(u){return u.map(function(d){return typeof d[0]!="string"&&(d[0]=d[0].name),d[1]||(d=d[0]),d})},c}(s);r.implement(o.prototype,a),t.CommandManager=o});ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,t,e){"use strict";var i=n("../lib/lang"),r=n("../config"),s=n("../range").Range;function a(l,c){return{win:l,mac:c}}t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:a("Ctrl-,","Command-,"),exec:function(l){r.loadModule("ace/ext/settings_menu",function(c){c.init(l),l.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:a("Alt-E","F4"),exec:function(l){r.loadModule("ace/ext/error_marker",function(c){c.showErrorMarker(l,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(l){r.loadModule("ace/ext/error_marker",function(c){c.showErrorMarker(l,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:a("Ctrl-A","Command-A"),exec:function(l){l.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:a(null,"Ctrl-L"),exec:function(l){l.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:a("Ctrl-L","Command-L"),exec:function(l,c){typeof c=="number"&&!isNaN(c)&&l.gotoLine(c),l.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(l){l.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(l){l.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:a("F2","F2"),exec:function(l){l.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:a("Alt-F2","Alt-F2"),exec:function(l){l.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(l){l.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(l){l.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:a("Alt-0","Command-Option-0"),exec:function(l){l.session.foldAll(),l.session.unfold(l.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(l){l.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:a("Ctrl-K","Command-G"),exec:function(l){l.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(l){l.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:a("Alt-K","Ctrl-G"),exec:function(l){l.selection.isEmpty()?l.selection.selectWord():l.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(l){l.selection.isEmpty()?l.selection.selectWord():l.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:a("Ctrl-F","Command-F"),exec:function(l){r.loadModule("ace/ext/searchbox",function(c){c.Search(l)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(l){l.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(l){l.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(l){l.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(l){l.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:a("Up","Up|Ctrl-P"),exec:function(l,c){l.navigateUp(c.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(l){l.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(l){l.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(l){l.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:a("Down","Down|Ctrl-N"),exec:function(l,c){l.navigateDown(c.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(l){l.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:a("Ctrl-Left","Option-Left"),exec:function(l){l.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(l){l.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(l){l.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(l){l.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:a("Left","Left|Ctrl-B"),exec:function(l,c){l.navigateLeft(c.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(l){l.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:a("Ctrl-Right","Option-Right"),exec:function(l){l.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(l){l.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(l){l.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:a("Shift-Right","Shift-Right"),exec:function(l){l.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:a("Right","Right|Ctrl-F"),exec:function(l,c){l.navigateRight(c.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(l){l.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:a(null,"Option-PageDown"),exec:function(l){l.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(l){l.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(l){l.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:a(null,"Option-PageUp"),exec:function(l){l.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(l){l.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:a("Ctrl-Up",null),exec:function(l){l.renderer.scrollBy(0,-2*l.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:a("Ctrl-Down",null),exec:function(l){l.renderer.scrollBy(0,2*l.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(l){l.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(l){l.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(l){l.commands.toggleRecording(l)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(l){l.commands.replay(l)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:a("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(l){l.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:a("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(l){l.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(l){l.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(l){},readOnly:!0},{name:"cut",description:"Cut",exec:function(l){var c=l.$copyWithEmptySelection&&l.selection.isEmpty(),u=c?l.selection.getLineRange():l.selection.getRange();l._emit("cut",u),u.isEmpty()||l.session.remove(u),l.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(l,c){l.$handlePaste(c)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:a("Ctrl-D","Command-D"),exec:function(l){l.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(l){l.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(l){l.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:a("Ctrl-/","Command-/"),exec:function(l){l.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(l){l.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(l){l.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(l){l.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:a("Ctrl-H","Command-Option-F"),exec:function(l){r.loadModule("ace/ext/searchbox",function(c){c.Search(l,!0)})}},{name:"undo",description:"Undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(l){l.undo()}},{name:"redo",description:"Redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(l){l.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(l){l.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:a("Alt-Up","Option-Up"),exec:function(l){l.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(l){l.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:a("Alt-Down","Option-Down"),exec:function(l){l.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(l){l.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(l){l.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:a("Shift-Delete",null),exec:function(l){if(l.selection.isEmpty())l.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(l){l.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(l){l.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(l){var c=l.selection.getRange();c.start.column=0,l.session.remove(c)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(l){var c=l.selection.getRange();c.end.column=Number.MAX_VALUE,l.session.remove(c)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(l){l.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(l){l.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(l){l.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:a("Tab","Tab"),exec:function(l){l.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(l){l.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(l){l.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(l,c){l.insert(c)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(l,c){l.insert(i.stringRepeat(c.text||"",c.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:a(null,"Ctrl-O"),exec:function(l){l.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(l){l.transposeLetters()},multiSelectAction:function(l){l.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(l){l.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(l){l.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:a(null,null),exec:function(l){l.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(l){var c=l.selection.getRange();c.start.column=c.end.column=0,c.end.row++,l.selection.setRange(c,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:a("Ctrl+F3","F3"),exec:function(l){l.openLink()}},{name:"joinlines",description:"Join lines",bindKey:a(null,null),exec:function(l){for(var c=l.selection.isBackwards(),u=c?l.selection.getSelectionLead():l.selection.getSelectionAnchor(),d=c?l.selection.getSelectionAnchor():l.selection.getSelectionLead(),h=l.session.doc.getLine(u.row).length,m=l.session.doc.getTextRange(l.selection.getRange()),f=m.replace(/\n\s*/," ").length,p=l.session.doc.getLine(u.row),g=u.row+1;g<=d.row+1;g++){var y=i.stringTrimLeft(i.stringTrimRight(l.session.doc.getLine(g)));y.length!==0&&(y=" "+y),p+=y}d.row+1<l.session.doc.getLength()-1&&(p+=l.session.doc.getNewLineCharacter()),l.clearSelection(),l.session.doc.replace(new s(u.row,0,d.row+2,0),p),f>0?(l.selection.moveCursorTo(u.row,u.column),l.selection.selectTo(u.row,u.column+f)):(h=l.session.doc.getLine(u.row).length>h?h+1:h,l.selection.moveCursorTo(u.row,h))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:a(null,null),exec:function(l){var c=l.session.doc.getLength()-1,u=l.session.doc.getLine(c).length,d=l.selection.rangeList.ranges,h=[];d.length<1&&(d=[l.selection.getRange()]);for(var m=0;m<d.length;m++)m==d.length-1&&(d[m].end.row===c&&d[m].end.column===u||h.push(new s(d[m].end.row,d[m].end.column,c,u))),m===0?d[m].start.row===0&&d[m].start.column===0||h.push(new s(0,0,d[m].start.row,d[m].start.column)):h.push(new s(d[m-1].end.row,d[m-1].end.column,d[m].start.row,d[m].start.column));l.exitMultiSelectMode(),l.clearSelection();for(var m=0;m<h.length;m++)l.selection.addRange(h[m],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(l){l.selection.clearSelection(),l.navigateLineEnd(),l.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(l){l.selection.clearSelection();var c=l.getCursorPosition();l.selection.moveTo(c.row-1,Number.MAX_VALUE),l.insert(`
`),c.row===0&&l.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(l){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),l.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:a("F1","F1"),exec:function(l){l.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:a(null,null),exec:function(l){l.prompt({$type:"modes"})},readOnly:!0}];for(var o=1;o<9;o++)t.commands.push({name:"foldToLevel"+o,description:"Fold To Level "+o,level:o,exec:function(l){l.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})});ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys"],function(n,t,e){"use strict";var i=n("../lib/keys"),r=function(){function a(o){this.editor=o,this.gutterLayer=o.renderer.$gutterLayer,this.element=o.renderer.$gutter,this.lines=o.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=this.editor.$mouseHandler.$tooltip}return a.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},a.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},a.prototype.$onGutterKeyDown=function(o){if(this.annotationTooltip.isOpen){o.preventDefault(),o.keyCode===i.escape&&this.annotationTooltip.hide();return}if(o.target===this.element){if(o.keyCode!=i.enter)return;o.preventDefault();var l=this.editor.getCursorPosition().row;this.editor.isRowVisible(l)||this.editor.scrollToLine(l,!0,!0),setTimeout(function(){var c=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),u=this.$findNearestFoldLaneWidget(c),d=this.$findNearestAnnotation(c);if(!(u===null&&d===null)){var h=this.$findClosestNumber(u,d,c);if(h===u)if(this.activeLane="fold",this.activeRowIndex=u,this.$isCustomWidgetVisible(u)){this.$focusCustomWidget(this.activeRowIndex);return}else{this.$focusFoldWidget(this.activeRowIndex);return}else{this.activeRowIndex=d,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}}}.bind(this),10);return}this.$handleGutterKeyboardInteraction(o),setTimeout(function(){this.editor._signal("gutterkeydown",new s(o,this))}.bind(this),10)},a.prototype.$handleGutterKeyboardInteraction=function(o){if(o.keyCode===i.tab){o.preventDefault();return}if(o.keyCode===i.escape){o.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(o.keyCode===i.up){switch(o.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(o.keyCode===i.down){switch(o.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(o.keyCode===i.left){o.preventDefault(),this.$switchLane("annotation");return}if(o.keyCode===i.right){o.preventDefault(),this.$switchLane("fold");return}if(o.keyCode===i.enter||o.keyCode===i.space){switch(o.preventDefault(),this.activeLane){case"fold":var l=this.$rowIndexToRow(this.activeRowIndex),c=this.editor.session.$gutterCustomWidgets[l];if(c)c.callbacks&&c.callbacks.onClick&&c.callbacks.onClick(o,l);else if(this.gutterLayer.session.foldWidgets[l]==="start"){this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),o),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==l&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(l),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex)),this.annotationTooltip.$fromKeyboard=!0;break}return}},a.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hide()},a.prototype.$isFoldWidgetVisible=function(o){var l=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),c=this.$getFoldWidget(o).style.display!=="none";return l&&c},a.prototype.$isCustomWidgetVisible=function(o){var l=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),c=!!this.$getCustomWidget(o);return l&&c},a.prototype.$isAnnotationVisible=function(o){var l=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),c=this.$getAnnotation(o).style.display!=="none";return l&&c},a.prototype.$getFoldWidget=function(o){var l=this.lines.get(o),c=l.element;return c.childNodes[1]},a.prototype.$getCustomWidget=function(o){var l=this.lines.get(o),c=l.element;return c.childNodes[3]},a.prototype.$getAnnotation=function(o){var l=this.lines.get(o),c=l.element;return c.childNodes[2]},a.prototype.$findNearestFoldLaneWidget=function(o){if(this.$isCustomWidgetVisible(o)||this.$isFoldWidgetVisible(o))return o;for(var l=0;o-l>0||o+l<this.lines.getLength()-1;){if(l++,o-l>=0&&this.$isCustomWidgetVisible(o-l))return o-l;if(o+l<=this.lines.getLength()-1&&this.$isCustomWidgetVisible(o+l))return o+l;if(o-l>=0&&this.$isFoldWidgetVisible(o-l))return o-l;if(o+l<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(o+l))return o+l}return null},a.prototype.$findNearestAnnotation=function(o){if(this.$isAnnotationVisible(o))return o;for(var l=0;o-l>0||o+l<this.lines.getLength()-1;){if(l++,o-l>=0&&this.$isAnnotationVisible(o-l))return o-l;if(o+l<=this.lines.getLength()-1&&this.$isAnnotationVisible(o+l))return o+l}return null},a.prototype.$focusFoldWidget=function(o){if(o!=null){var l=this.$getFoldWidget(o);l.classList.add(this.editor.renderer.keyboardFocusClassName),l.focus()}},a.prototype.$focusCustomWidget=function(o){if(o!=null){var l=this.$getCustomWidget(o);l&&(l.classList.add(this.editor.renderer.keyboardFocusClassName),l.focus())}},a.prototype.$focusAnnotation=function(o){if(o!=null){var l=this.$getAnnotation(o);l.classList.add(this.editor.renderer.keyboardFocusClassName),l.focus()}},a.prototype.$blurFoldWidget=function(o){var l=this.$getFoldWidget(o);l.classList.remove(this.editor.renderer.keyboardFocusClassName),l.blur()},a.prototype.$blurCustomWidget=function(o){var l=this.$getCustomWidget(o);l&&(l.classList.remove(this.editor.renderer.keyboardFocusClassName),l.blur())},a.prototype.$blurAnnotation=function(o){var l=this.$getAnnotation(o);l.classList.remove(this.editor.renderer.keyboardFocusClassName),l.blur()},a.prototype.$moveFoldWidgetUp=function(){for(var o=this.activeRowIndex;o>0;)if(o--,this.$isFoldWidgetVisible(o)||this.$isCustomWidgetVisible(o)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=o,this.$isFoldWidgetVisible(o)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},a.prototype.$moveFoldWidgetDown=function(){for(var o=this.activeRowIndex;o<this.lines.getLength()-1;)if(o++,this.$isFoldWidgetVisible(o)||this.$isCustomWidgetVisible(o)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=o,this.$isFoldWidgetVisible(o)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},a.prototype.$moveAnnotationUp=function(){for(var o=this.activeRowIndex;o>0;)if(o--,this.$isAnnotationVisible(o)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusAnnotation(this.activeRowIndex);return}},a.prototype.$moveAnnotationDown=function(){for(var o=this.activeRowIndex;o<this.lines.getLength()-1;)if(o++,this.$isAnnotationVisible(o)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusAnnotation(this.activeRowIndex);return}},a.prototype.$findClosestNumber=function(o,l,c){return o===null?l:l===null||Math.abs(c-o)<=Math.abs(c-l)?o:l},a.prototype.$switchLane=function(o){switch(o){case"annotation":if(this.activeLane==="annotation")break;var l=this.$findNearestAnnotation(this.activeRowIndex);if(l==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=l,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var c=this.$findNearestFoldLaneWidget(this.activeRowIndex);if(c===null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$isCustomWidgetVisible(c)?this.$focusCustomWidget(this.activeRowIndex):this.$focusFoldWidget(this.activeRowIndex);break}},a.prototype.$rowIndexToRow=function(o){var l=this.lines.get(o);return l?l.row:null},a.prototype.$rowToRowIndex=function(o){for(var l=0;l<this.lines.getLength();l++){var c=this.lines.get(l);if(c.row==o)return l}return null},a}();t.GutterKeyboardHandler=r;var s=function(){function a(o,l){this.gutterKeyboardHandler=l,this.domEvent=o}return a.prototype.getKey=function(){return i.keyCodeToString(this.domEvent.keyCode)},a.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},a.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},a.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},a}();t.GutterKeyboardEvent=s});ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(n,t,e){"use strict";var i=this&&this.__values||function(_){var b=typeof Symbol=="function"&&Symbol.iterator,M=b&&_[b],I=0;if(M)return M.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&I>=_.length&&(_=void 0),{value:_&&_[I++],done:!_}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},r=n("./lib/oop"),s=n("./lib/dom"),a=n("./lib/lang"),o=n("./lib/useragent"),l=n("./keyboard/textinput").TextInput,c=n("./mouse/mouse_handler").MouseHandler,u=n("./mouse/fold_handler").FoldHandler,d=n("./keyboard/keybinding").KeyBinding,h=n("./edit_session").EditSession,m=n("./search").Search,f=n("./range").Range,p=n("./lib/event_emitter").EventEmitter,g=n("./commands/command_manager").CommandManager,y=n("./commands/default_commands").commands,w=n("./config"),k=n("./token_iterator").TokenIterator,x=n("./keyboard/gutter_handler").GutterKeyboardHandler,C=n("./config").nls,A=n("./clipboard"),T=n("./lib/keys"),E=n("./lib/event"),L=n("./tooltip").HoverTooltip,S=function(){function _(b,M,I){this.id="editor"+ ++_.$uid,this.session,this.$toDestroy=[];var D=b.getContainerElement();this.container=D,this.renderer=b,this.commands=new g(o.isMac?"mac":"win",y),typeof document=="object"&&(this.textInput=new l(b.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new c(this),new u(this)),this.keyBinding=new d(this),this.$search=new m().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=a.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(O,N){N._$emitInputEvent.schedule(31)}),this.setSession(M||I&&I.session||new h("")),w.resetOptions(this),I&&this.setOptions(I),w._signal("editor",this)}return _.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},_.prototype.startOperation=function(b){this.session.startOperation(b)},_.prototype.endOperation=function(b){this.session.endOperation(b)},_.prototype.onStartOperation=function(b){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,b||(this.previousCommand=null)},_.prototype.onEndOperation=function(b){if(this.curOp&&this.session){if(b&&b.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var M=this.curOp.command,I=M&&M.scrollIntoView;if(I){switch(I){case"center-animate":I="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var D=this.selection.getRange(),O=this.renderer.layerConfig;(D.start.row>=O.lastRow||D.end.row<=O.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break;default:break}I=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},_.prototype.$historyTracker=function(b){if(this.$mergeUndoDeltas){var M=this.prevOp,I=this.$mergeableCommands,D=M.command&&b.command.name==M.command.name;if(b.command.name=="insertstring"){var O=b.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),D=D&&this.mergeNextCommand&&(!/\s/.test(O)||/\s/.test(M.args)),this.mergeNextCommand=!0}else D=D&&I.indexOf(b.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(D=!1),D?this.session.mergeUndoDeltas=!0:I.indexOf(b.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},_.prototype.setKeyboardHandler=function(b,M){if(b&&typeof b=="string"&&b!="ace"){this.$keybindingId=b;var I=this;w.loadModule(["keybinding",b],function(D){I.$keybindingId==b&&I.keyBinding.setKeyboardHandler(D&&D.handler),M&&M()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(b),M&&M()},_.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},_.prototype.setSession=function(b){if(this.session!=b){this.curOp&&this.endOperation(),this.curOp={};var M=this.session;if(M){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var I=this.session.getSelection();I.off("changeCursor",this.$onCursorChange),I.off("changeSelection",this.$onSelectionChange)}this.session=b,b?(this.$onDocumentChange=this.onDocumentChange.bind(this),b.on("change",this.$onDocumentChange),this.renderer.setSession(b),this.$onChangeMode=this.onChangeMode.bind(this),b.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),b.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),b.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),b.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),b.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),b.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=b.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(b)),this._signal("changeSession",{session:b,oldSession:M}),this.curOp=null,M&&M._signal("changeEditor",{oldEditor:this}),M&&(M.$editor=null),b&&b._signal("changeEditor",{editor:this}),b&&(b.$editor=this),b&&!b.destroyed&&b.bgTokenizer.scheduleStart()}},_.prototype.getSession=function(){return this.session},_.prototype.setValue=function(b,M){return this.session.doc.setValue(b),M?M==1?this.navigateFileEnd():M==-1&&this.navigateFileStart():this.selectAll(),b},_.prototype.getValue=function(){return this.session.getValue()},_.prototype.getSelection=function(){return this.selection},_.prototype.resize=function(b){this.renderer.onResize(b)},_.prototype.setTheme=function(b,M){this.renderer.setTheme(b,M)},_.prototype.getTheme=function(){return this.renderer.getTheme()},_.prototype.setStyle=function(b,M){this.renderer.setStyle(b,M)},_.prototype.unsetStyle=function(b){this.renderer.unsetStyle(b)},_.prototype.getFontSize=function(){return this.getOption("fontSize")||s.computedStyle(this.container).fontSize},_.prototype.setFontSize=function(b){this.setOption("fontSize",b)},_.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var b=this;this.$highlightPending=!0,setTimeout(function(){b.$highlightPending=!1;var M=b.session;if(!(!M||M.destroyed)){M.$bracketHighlight&&(M.$bracketHighlight.markerIds.forEach(function(W){M.removeMarker(W)}),M.$bracketHighlight=null);var I=b.getCursorPosition(),D=b.getKeyboardHandler(),O=D&&D.$getDirectionForHighlight&&D.$getDirectionForHighlight(b),N=M.getMatchingBracketRanges(I,O);if(!N){var F=new k(M,I.row,I.column),z=F.getCurrentToken();if(z&&/\b(?:tag-open|tag-name)/.test(z.type)){var V=M.getMatchingTags(I);V&&(N=[V.openTagName.isEmpty()?V.openTag:V.openTagName,V.closeTagName.isEmpty()?V.closeTag:V.closeTagName])}}if(!N&&M.$mode.getMatching&&(N=M.$mode.getMatching(b.session)),!N){b.getHighlightIndentGuides()&&b.renderer.$textLayer.$highlightIndentGuide();return}var K="ace_bracket";Array.isArray(N)?N.length==1&&(K="ace_error_bracket"):N=[N],N.length==2&&(f.comparePoints(N[0].end,N[1].start)==0?N=[f.fromPoints(N[0].start,N[1].end)]:f.comparePoints(N[0].start,N[1].end)==0&&(N=[f.fromPoints(N[1].start,N[0].end)])),M.$bracketHighlight={ranges:N,markerIds:N.map(function(W){return M.addMarker(W,K,"text")})},b.getHighlightIndentGuides()&&b.renderer.$textLayer.$highlightIndentGuide()}},50)}},_.prototype.focus=function(){this.textInput.focus()},_.prototype.isFocused=function(){return this.textInput.isFocused()},_.prototype.blur=function(){this.textInput.blur()},_.prototype.onFocus=function(b){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",b))},_.prototype.onBlur=function(b){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",b))},_.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},_.prototype.onDocumentChange=function(b){var M=this.session.$useWrapMode,I=b.start.row==b.end.row?b.end.row:1/0;this.renderer.updateLines(b.start.row,I,M),this._signal("change",b),this.$cursorChange()},_.prototype.onTokenizerUpdate=function(b){var M=b.data;this.renderer.updateLines(M.first,M.last)},_.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},_.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},_.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},_.prototype.$updateHighlightActiveLine=function(){var b=this.getSession(),M;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(M=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(M=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(M=!1)),b.$highlightLineMarker&&!M)b.removeMarker(b.$highlightLineMarker.id),b.$highlightLineMarker=null;else if(!b.$highlightLineMarker&&M){var I=new f(M.row,M.column,M.row,1/0);I.id=b.addMarker(I,"ace_active-line","screenLine"),b.$highlightLineMarker=I}else M&&(b.$highlightLineMarker.start.row=M.row,b.$highlightLineMarker.end.row=M.row,b.$highlightLineMarker.start.column=M.column,b._signal("changeBackMarker"))},_.prototype.onSelectionChange=function(b){var M=this.session;if(M.$selectionMarker&&M.removeMarker(M.$selectionMarker),M.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var I=this.selection.getRange(),D=this.getSelectionStyle();M.$selectionMarker=M.addMarker(I,"ace_selection",D)}var O=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(O),this._signal("changeSelection")},_.prototype.$getSelectionHighLightRegexp=function(){var b=this.session,M=this.getSelectionRange();if(!(M.isEmpty()||M.isMultiLine())){var I=M.start.column,D=M.end.column,O=b.getLine(M.start.row),N=O.substring(I,D);if(!(N.length>5e3||!/[\w\d]/.test(N))){var F=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:N}),z=O.substring(I-1,D+1);if(F.test(z))return F}}},_.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},_.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},_.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},_.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},_.prototype.onChangeMode=function(b){this.renderer.updateText(),this._emit("changeMode",b)},_.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},_.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},_.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},_.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},_.prototype.getCopyText=function(){var b=this.getSelectedText(),M=this.session.doc.getNewLineCharacter(),I=!1;if(!b&&this.$copyWithEmptySelection){I=!0;for(var D=this.selection.getAllRanges(),O=0;O<D.length;O++){var N=D[O];O&&D[O-1].start.row==N.start.row||(b+=this.session.getLine(N.start.row)+M)}}var F={text:b};return this._signal("copy",F),A.lineMode=I?F.text:!1,F.text},_.prototype.onCopy=function(){this.commands.exec("copy",this)},_.prototype.onCut=function(){this.commands.exec("cut",this)},_.prototype.onPaste=function(b,M){var I={text:b,event:M};this.commands.exec("paste",this,I)},_.prototype.$handlePaste=function(b){typeof b=="string"&&(b={text:b}),this._signal("paste",b);var M=b.text,I=M===A.lineMode,D=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)I?D.insert({row:this.selection.lead.row,column:0},M):this.insert(M);else if(I)this.selection.rangeList.ranges.forEach(function(K){D.insert({row:K.start.row,column:0},M)});else{var O=M.split(/\r\n|\r|\n/),N=this.selection.rangeList.ranges,F=O.length==2&&(!O[0]||!O[1]);if(O.length!=N.length||F)return this.commands.exec("insertstring",this,M);for(var z=N.length;z--;){var V=N[z];V.isEmpty()||D.remove(V),D.insert(V.start,O[z])}}},_.prototype.execCommand=function(b,M){return this.commands.exec(b,this,M)},_.prototype.insert=function(b,M){var I=this.session,D=I.getMode(),O=this.getCursorPosition();if(this.getBehavioursEnabled()&&!M){var N=D.transformAction(I.getState(O.row),"insertion",this,I,b);N&&(b!==N.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),b=N.text)}if(b=="	"&&(b=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&b.indexOf(`
`)==-1){var F=f.fromPoints(O,O);F.end.column+=b.length,this.session.remove(F)}}else{var F=this.getSelectionRange();O=this.session.remove(F),this.clearSelection()}if(b==`
`||b==`\r
`){var W=I.getLine(O.row);if(O.column>W.search(/\S|$/)){var z=W.substr(O.column).search(/\S|$/);I.doc.removeInLine(O.row,O.column,O.column+z)}}this.clearSelection();var V=O.column,K=I.getState(O.row),W=I.getLine(O.row),q=D.checkOutdent(K,W,b);if(I.insert(O,b),N&&N.selection&&(N.selection.length==2?this.selection.setSelectionRange(new f(O.row,V+N.selection[0],O.row,V+N.selection[1])):this.selection.setSelectionRange(new f(O.row+N.selection[0],N.selection[1],O.row+N.selection[2],N.selection[3]))),this.$enableAutoIndent){if(I.getDocument().isNewLine(b)){var ae=D.getNextLineIndent(K,W.slice(0,O.column),I.getTabString());I.insert({row:O.row+1,column:0},ae)}q&&D.autoOutdent(K,I,O.row)}},_.prototype.autoIndent=function(){for(var b=this.session,M=b.getMode(),I=this.selection.isEmpty()?[new f(0,0,b.doc.getLength()-1,0)]:this.selection.getAllRanges(),D="",O="",N="",F=b.getTabString(),z=0;z<I.length;z++)for(var V=I[z].start.row,K=I[z].end.row,W=V;W<=K;W++){W>0&&(D=b.getState(W-1),O=b.getLine(W-1),N=M.getNextLineIndent(D,O,F));var q=b.getLine(W),ae=M.$getIndent(q);if(N!==ae){if(ae.length>0){var pe=new f(W,0,W,ae.length);b.remove(pe)}N.length>0&&b.insert({row:W,column:0},N)}M.autoOutdent(D,b,W)}},_.prototype.onTextInput=function(b,M){if(!M)return this.keyBinding.onTextInput(b);this.startOperation({command:{name:"insertstring"}});var I=this.applyComposition.bind(this,b,M);this.selection.rangeCount?this.forEachSelection(I):I(),this.endOperation()},_.prototype.applyComposition=function(b,M){if(M.extendLeft||M.extendRight){var I=this.selection.getRange();I.start.column-=M.extendLeft,I.end.column+=M.extendRight,I.start.column<0&&(I.start.row--,I.start.column+=this.session.getLine(I.start.row).length+1),this.selection.setRange(I),!b&&!I.isEmpty()&&this.remove()}if((b||!this.selection.isEmpty())&&this.insert(b,!0),M.restoreStart||M.restoreEnd){var I=this.selection.getRange();I.start.column-=M.restoreStart,I.end.column-=M.restoreEnd,this.selection.setRange(I)}},_.prototype.onCommandKey=function(b,M,I){return this.keyBinding.onCommandKey(b,M,I)},_.prototype.setOverwrite=function(b){this.session.setOverwrite(b)},_.prototype.getOverwrite=function(){return this.session.getOverwrite()},_.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},_.prototype.setScrollSpeed=function(b){this.setOption("scrollSpeed",b)},_.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},_.prototype.setDragDelay=function(b){this.setOption("dragDelay",b)},_.prototype.getDragDelay=function(){return this.getOption("dragDelay")},_.prototype.setSelectionStyle=function(b){this.setOption("selectionStyle",b)},_.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},_.prototype.setHighlightActiveLine=function(b){this.setOption("highlightActiveLine",b)},_.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},_.prototype.setHighlightGutterLine=function(b){this.setOption("highlightGutterLine",b)},_.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},_.prototype.setHighlightSelectedWord=function(b){this.setOption("highlightSelectedWord",b)},_.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},_.prototype.setAnimatedScroll=function(b){this.renderer.setAnimatedScroll(b)},_.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},_.prototype.setShowInvisibles=function(b){this.renderer.setShowInvisibles(b)},_.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},_.prototype.setDisplayIndentGuides=function(b){this.renderer.setDisplayIndentGuides(b)},_.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},_.prototype.setHighlightIndentGuides=function(b){this.renderer.setHighlightIndentGuides(b)},_.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},_.prototype.setShowPrintMargin=function(b){this.renderer.setShowPrintMargin(b)},_.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},_.prototype.setPrintMarginColumn=function(b){this.renderer.setPrintMarginColumn(b)},_.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},_.prototype.setReadOnly=function(b){this.setOption("readOnly",b)},_.prototype.getReadOnly=function(){return this.getOption("readOnly")},_.prototype.setBehavioursEnabled=function(b){this.setOption("behavioursEnabled",b)},_.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},_.prototype.setWrapBehavioursEnabled=function(b){this.setOption("wrapBehavioursEnabled",b)},_.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},_.prototype.setShowFoldWidgets=function(b){this.setOption("showFoldWidgets",b)},_.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},_.prototype.setFadeFoldWidgets=function(b){this.setOption("fadeFoldWidgets",b)},_.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},_.prototype.remove=function(b){this.selection.isEmpty()&&(b=="left"?this.selection.selectLeft():this.selection.selectRight());var M=this.getSelectionRange();if(this.getBehavioursEnabled()){var I=this.session,D=I.getState(M.start.row),O=I.getMode().transformAction(D,"deletion",this,I,M);if(M.end.column===0){var N=I.getTextRange(M);if(N[N.length-1]==`
`){var F=I.getLine(M.end.row);/^\s+$/.test(F)&&(M.end.column=F.length)}}O&&(M=O)}this.session.remove(M),this.clearSelection()},_.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},_.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},_.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},_.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var b=this.getSelectionRange();b.start.column==b.end.column&&b.start.row==b.end.row&&(b.end.column=0,b.end.row++),this.session.remove(b),this.clearSelection()},_.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var b=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(b)},_.prototype.setGhostText=function(b,M){this.renderer.setGhostText(b,M)},_.prototype.removeGhostText=function(){this.renderer.removeGhostText()},_.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var b=this.getCursorPosition(),M=b.column;if(M!==0){var I=this.session.getLine(b.row),D,O;M<I.length?(D=I.charAt(M)+I.charAt(M-1),O=new f(b.row,M-1,b.row,M+1)):(D=I.charAt(M-1)+I.charAt(M-2),O=new f(b.row,M-2,b.row,M)),this.session.replace(O,D),this.session.selection.moveToPosition(O.end)}}},_.prototype.toLowerCase=function(){var b=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),I=this.session.getTextRange(M);this.session.replace(M,I.toLowerCase()),this.selection.setSelectionRange(b)},_.prototype.toUpperCase=function(){var b=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),I=this.session.getTextRange(M);this.session.replace(M,I.toUpperCase()),this.selection.setSelectionRange(b)},_.prototype.indent=function(){var b=this.session,M=this.getSelectionRange();if(M.start.row<M.end.row){var I=this.$getSelectedRows();b.indentRows(I.first,I.last,"	");return}else if(M.start.column<M.end.column){var D=b.getTextRange(M);if(!/^\s+$/.test(D)){var I=this.$getSelectedRows();b.indentRows(I.first,I.last,"	");return}}var O=b.getLine(M.start.row),N=M.start,F=b.getTabSize(),z=b.documentToScreenColumn(N.row,N.column);if(this.session.getUseSoftTabs())var V=F-z%F,K=a.stringRepeat(" ",V);else{for(var V=z%F;O[M.start.column-1]==" "&&V;)M.start.column--,V--;this.selection.setSelectionRange(M),K="	"}return this.insert(K)},_.prototype.blockIndent=function(){var b=this.$getSelectedRows();this.session.indentRows(b.first,b.last,"	")},_.prototype.blockOutdent=function(){var b=this.session.getSelection();this.session.outdentRows(b.getRange())},_.prototype.sortLines=function(){for(var b=this.$getSelectedRows(),M=this.session,I=[],D=b.first;D<=b.last;D++)I.push(M.getLine(D));I.sort(function(F,z){return F.toLowerCase()<z.toLowerCase()?-1:F.toLowerCase()>z.toLowerCase()?1:0});for(var O=new f(0,0,0,0),D=b.first;D<=b.last;D++){var N=M.getLine(D);O.start.row=D,O.end.row=D,O.end.column=N.length,M.replace(O,I[D-b.first])}},_.prototype.toggleCommentLines=function(){var b=this.session.getState(this.getCursorPosition().row),M=this.$getSelectedRows();this.session.getMode().toggleCommentLines(b,this.session,M.first,M.last)},_.prototype.toggleBlockComment=function(){var b=this.getCursorPosition(),M=this.session.getState(b.row),I=this.getSelectionRange();this.session.getMode().toggleBlockComment(M,this.session,I,b)},_.prototype.getNumberAt=function(b,M){var I=/[\-]?[0-9]+(?:\.[0-9]+)?/g;I.lastIndex=0;for(var D=this.session.getLine(b);I.lastIndex<M;){var O=I.exec(D);if(O.index<=M&&O.index+O[0].length>=M){var N={value:O[0],start:O.index,end:O.index+O[0].length};return N}}return null},_.prototype.modifyNumber=function(b){var M=this.selection.getCursor().row,I=this.selection.getCursor().column,D=new f(M,I-1,M,I),O=this.session.getTextRange(D);if(!isNaN(parseFloat(O))&&isFinite(O)){var N=this.getNumberAt(M,I);if(N){var F=N.value.indexOf(".")>=0?N.start+N.value.indexOf(".")+1:N.end,z=N.start+N.value.length-F,V=parseFloat(N.value);V*=Math.pow(10,z),F!==N.end&&I<F?b*=Math.pow(10,N.end-I-1):b*=Math.pow(10,N.end-I),V+=b,V/=Math.pow(10,z);var K=V.toFixed(z),W=new f(M,N.start,M,N.end);this.session.replace(W,K),this.moveCursorTo(M,Math.max(N.start+1,I+K.length-N.value.length))}}else this.toggleWord()},_.prototype.toggleWord=function(){var b=this.selection.getCursor().row,M=this.selection.getCursor().column;this.selection.selectWord();var I=this.getSelectedText(),D=this.selection.getWordRange().start.column,O=I.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),N=M-D-1;N<0&&(N=0);var F=0,z=0,V=this;I.match(/[A-Za-z0-9_]+/)&&O.forEach(function(we,qe){z=F+we.length,N>=F&&N<=z&&(I=we,V.selection.clearSelection(),V.moveCursorTo(b,F+D),V.selection.selectTo(b,z+D)),F=z});for(var K=this.$toggleWordPairs,W,q=0;q<K.length;q++)for(var ae=K[q],pe=0;pe<=1;pe++){var ie=+!pe,ne=I.match(new RegExp("^\\s?_?("+a.escapeRegExp(ae[pe])+")\\s?$","i"));if(ne){var Ee=I.match(new RegExp("([_]|^|\\s)("+a.escapeRegExp(ne[1])+")($|\\s)","g"));Ee&&(W=I.replace(new RegExp(a.escapeRegExp(ae[pe]),"i"),function(we){var qe=ae[ie];return we.toUpperCase()==we?qe=qe.toUpperCase():we.charAt(0).toUpperCase()==we.charAt(0)&&(qe=qe.substr(0,0)+ae[ie].charAt(0).toUpperCase()+qe.substr(1)),qe}),this.insert(W),W="")}}},_.prototype.findLinkAt=function(b,M){var I,D,O=this.session.getLine(b),N=O.split(/((?:https?|ftp):\/\/[\S]+)/),F=M;F<0&&(F=0);var z=0,V=0,K;try{for(var W=i(N),q=W.next();!q.done;q=W.next()){var ae=q.value;if(V=z+ae.length,F>=z&&F<=V&&ae.match(/((?:https?|ftp):\/\/[\S]+)/)){K=ae.replace(/[\s:.,'";}\]]+$/,"");break}z=V}}catch(pe){I={error:pe}}finally{try{q&&!q.done&&(D=W.return)&&D.call(W)}finally{if(I)throw I.error}}return K},_.prototype.openLink=function(){var b=this.selection.getCursor(),M=this.findLinkAt(b.row,b.column);return M&&window.open(M,"_blank"),M!=null},_.prototype.removeLines=function(){var b=this.$getSelectedRows();this.session.removeFullLines(b.first,b.last),this.clearSelection()},_.prototype.duplicateSelection=function(){var b=this.selection,M=this.session,I=b.getRange(),D=b.isBackwards();if(I.isEmpty()){var O=I.start.row;M.duplicateLines(O,O)}else{var N=D?I.start:I.end,F=M.insert(N,M.getTextRange(I));I.start=N,I.end=F,b.setSelectionRange(I,D)}},_.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},_.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},_.prototype.moveText=function(b,M,I){return this.session.moveText(b,M,I)},_.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},_.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},_.prototype.$moveLines=function(b,M){var I,D,O=this.selection;if(!O.inMultiSelectMode||this.inVirtualSelectionMode){var N=O.toOrientedRange();I=this.$getSelectedRows(N),D=this.session.$moveLines(I.first,I.last,M?0:b),M&&b==-1&&(D=0),N.moveBy(D,0),O.fromOrientedRange(N)}else{var F=O.rangeList.ranges;O.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var z=0,V=0,K=F.length,W=0;W<K;W++){var q=W;F[W].moveBy(z,0),I=this.$getSelectedRows(F[W]);for(var ae=I.first,pe=I.last;++W<K;){V&&F[W].moveBy(V,0);var ie=this.$getSelectedRows(F[W]);if(M&&ie.first!=pe)break;if(!M&&ie.first>pe+1)break;pe=ie.last}for(W--,z=this.session.$moveLines(ae,pe,M?0:b),M&&b==-1&&(q=W+1);q<=W;)F[q].moveBy(z,0),q++;M||(z=0),V+=z}O.fromOrientedRange(O.ranges[0]),O.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},_.prototype.$getSelectedRows=function(b){return b=(b||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(b.start.row),last:this.session.getRowFoldEnd(b.end.row)}},_.prototype.onCompositionStart=function(b){this.renderer.showComposition(b)},_.prototype.onCompositionUpdate=function(b){this.renderer.setCompositionText(b)},_.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},_.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},_.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},_.prototype.isRowVisible=function(b){return b>=this.getFirstVisibleRow()&&b<=this.getLastVisibleRow()},_.prototype.isRowFullyVisible=function(b){return b>=this.renderer.getFirstFullyVisibleRow()&&b<=this.renderer.getLastFullyVisibleRow()},_.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},_.prototype.$moveByPage=function(b,M){var I=this.renderer,D=this.renderer.layerConfig,O=b*Math.floor(D.height/D.lineHeight);M===!0?this.selection.$moveSelection(function(){this.moveCursorBy(O,0)}):M===!1&&(this.selection.moveCursorBy(O,0),this.selection.clearSelection());var N=I.scrollTop;I.scrollBy(0,O*D.lineHeight),M!=null&&I.scrollCursorIntoView(null,.5),I.animateScrolling(N)},_.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},_.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},_.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},_.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},_.prototype.scrollPageDown=function(){this.$moveByPage(1)},_.prototype.scrollPageUp=function(){this.$moveByPage(-1)},_.prototype.scrollToRow=function(b){this.renderer.scrollToRow(b)},_.prototype.scrollToLine=function(b,M,I,D){this.renderer.scrollToLine(b,M,I,D)},_.prototype.centerSelection=function(){var b=this.getSelectionRange(),M={row:Math.floor(b.start.row+(b.end.row-b.start.row)/2),column:Math.floor(b.start.column+(b.end.column-b.start.column)/2)};this.renderer.alignCursor(M,.5)},_.prototype.getCursorPosition=function(){return this.selection.getCursor()},_.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},_.prototype.getSelectionRange=function(){return this.selection.getRange()},_.prototype.selectAll=function(){this.selection.selectAll()},_.prototype.clearSelection=function(){this.selection.clearSelection()},_.prototype.moveCursorTo=function(b,M){this.selection.moveCursorTo(b,M)},_.prototype.moveCursorToPosition=function(b){this.selection.moveCursorToPosition(b)},_.prototype.jumpToMatching=function(b,M){var I=this.getCursorPosition(),D=new k(this.session,I.row,I.column),O=D.getCurrentToken(),N=0;O&&O.type.indexOf("tag-name")!==-1&&(O=D.stepBackward());var F=O||D.stepForward();if(F){var z,V=!1,K={},W=I.column-F.start,q,ae={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(F.value.match(/[{}()\[\]]/g)){for(;W<F.value.length&&!V;W++)if(ae[F.value[W]])switch(q=ae[F.value[W]]+"."+F.type.replace("rparen","lparen"),isNaN(K[q])&&(K[q]=0),F.value[W]){case"(":case"[":case"{":K[q]++;break;case")":case"]":case"}":K[q]--,K[q]===-1&&(z="bracket",V=!0);break}}else F.type.indexOf("tag-name")!==-1&&(isNaN(K[F.value])&&(K[F.value]=0),O.value==="<"&&N>1?K[F.value]++:O.value==="</"&&K[F.value]--,K[F.value]===-1&&(z="tag",V=!0));V||(O=F,N++,F=D.stepForward(),W=0)}while(F&&!V);if(z){var pe,ie;if(z==="bracket")pe=this.session.getBracketRange(I),pe||(pe=new f(D.getCurrentTokenRow(),D.getCurrentTokenColumn()+W-1,D.getCurrentTokenRow(),D.getCurrentTokenColumn()+W-1),ie=pe.start,(M||ie.row===I.row&&Math.abs(ie.column-I.column)<2)&&(pe=this.session.getBracketRange(ie)));else if(z==="tag"){if(!F||F.type.indexOf("tag-name")===-1)return;if(pe=new f(D.getCurrentTokenRow(),D.getCurrentTokenColumn()-2,D.getCurrentTokenRow(),D.getCurrentTokenColumn()-2),pe.compare(I.row,I.column)===0){var ne=this.session.getMatchingTags(I);ne&&(ne.openTag.contains(I.row,I.column)?(pe=ne.closeTag,ie=pe.start):(pe=ne.openTag,ne.closeTag.start.row===I.row&&ne.closeTag.start.column===I.column?ie=pe.end:ie=pe.start))}ie=ie||pe.start}ie=pe&&pe.cursor||ie,ie&&(b?pe&&M?this.selection.setRange(pe):pe&&pe.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(ie.row,ie.column):this.selection.moveTo(ie.row,ie.column))}}},_.prototype.gotoLine=function(b,M,I){this.selection.clearSelection(),this.session.unfold({row:b-1,column:M||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(b-1,M||0),this.isRowFullyVisible(b-1)||this.scrollToLine(b-1,!0,I)},_.prototype.navigateTo=function(b,M){this.selection.moveTo(b,M)},_.prototype.navigateUp=function(b){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var M=this.selection.anchor.getPosition();return this.moveCursorToPosition(M)}this.selection.clearSelection(),this.selection.moveCursorBy(-b||-1,0)},_.prototype.navigateDown=function(b){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var M=this.selection.anchor.getPosition();return this.moveCursorToPosition(M)}this.selection.clearSelection(),this.selection.moveCursorBy(b||1,0)},_.prototype.navigateLeft=function(b){if(this.selection.isEmpty())for(b=b||1;b--;)this.selection.moveCursorLeft();else{var M=this.getSelectionRange().start;this.moveCursorToPosition(M)}this.clearSelection()},_.prototype.navigateRight=function(b){if(this.selection.isEmpty())for(b=b||1;b--;)this.selection.moveCursorRight();else{var M=this.getSelectionRange().end;this.moveCursorToPosition(M)}this.clearSelection()},_.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},_.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},_.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},_.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},_.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},_.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},_.prototype.replace=function(b,M){M&&this.$search.set(M);var I=this.$search.find(this.session),D=0;return I&&(this.$tryReplace(I,b)&&(D=1),this.selection.setSelectionRange(I),this.renderer.scrollSelectionIntoView(I.start,I.end)),D},_.prototype.replaceAll=function(b,M){M&&this.$search.set(M);var I=this.$search.findAll(this.session),D=0;if(!I.length)return D;var O=this.getSelectionRange();this.selection.moveTo(0,0);for(var N=I.length-1;N>=0;--N)this.$tryReplace(I[N],b)&&D++;return this.selection.setSelectionRange(O),D},_.prototype.$tryReplace=function(b,M){var I=this.session.getTextRange(b);return M=this.$search.replace(I,M),M!==null?(b.end=this.session.replace(b,M),b):null},_.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},_.prototype.find=function(b,M,I){M||(M={}),typeof b=="string"||b instanceof RegExp?M.needle=b:typeof b=="object"&&r.mixin(M,b);var D=this.selection.getRange();M.needle==null&&(b=this.session.getTextRange(D)||this.$search.$options.needle,b||(D=this.session.getWordRange(D.start.row,D.start.column),b=this.session.getTextRange(D)),this.$search.set({needle:b})),this.$search.set(M),M.start||this.$search.set({start:D});var O=this.$search.find(this.session);if(M.preventScroll)return O;if(O)return this.revealRange(O,I),O;M.backwards?D.start=D.end:D.end=D.start,this.selection.setRange(D)},_.prototype.findNext=function(b,M){this.find({skipCurrent:!0,backwards:!1},b,M)},_.prototype.findPrevious=function(b,M){this.find(b,{skipCurrent:!0,backwards:!0},M)},_.prototype.revealRange=function(b,M){this.session.unfold(b),this.selection.setSelectionRange(b);var I=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(b.start,b.end,.5),M!==!1&&this.renderer.animateScrolling(I)},_.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},_.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},_.prototype.destroy=function(){this.destroyed=!0,this.$toDestroy&&(this.$toDestroy.forEach(function(b){b.destroy()}),this.$toDestroy=[]),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},_.prototype.setAutoScrollEditorIntoView=function(b){if(b){var M,I=this,D=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var O=this.$scrollAnchor;O.style.cssText="position:absolute",this.container.insertBefore(O,this.container.firstChild);var N=this.on("changeSelection",function(){D=!0}),F=this.renderer.on("beforeRender",function(){D&&(M=I.renderer.container.getBoundingClientRect())}),z=this.renderer.on("afterRender",function(){if(D&&M&&(I.isFocused()||I.searchBox&&I.searchBox.isFocused())){var V=I.renderer,K=V.$cursorLayer.$pixelPos,W=V.layerConfig,q=K.top-W.offset;K.top>=0&&q+M.top<0?D=!0:K.top<W.height&&K.top+M.top+W.lineHeight>window.innerHeight?D=!1:D=null,D!=null&&(O.style.top=q+"px",O.style.left=K.left+"px",O.style.height=W.lineHeight+"px",O.scrollIntoView(D)),D=M=null}});this.setAutoScrollEditorIntoView=function(V){V||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",N),this.renderer.off("afterRender",z),this.renderer.off("beforeRender",F))}}},_.prototype.$resetCursorStyle=function(){var b=this.$cursorStyle||"ace",M=this.renderer.$cursorLayer;M&&(M.setSmoothBlinking(/smooth/.test(b)),M.isBlinking=!this.$readOnly&&b!="wide",s.setCssClass(M.element,"ace_slim-cursors",/slim/.test(b)))},_.prototype.prompt=function(b,M,I){var D=this;w.loadModule("ace/ext/prompt",function(O){O.prompt(D,b,M,I)})},_}();S.$uid=0,S.prototype.curOp=null,S.prototype.prevOp={},S.prototype.$mergeableCommands=["backspace","del","insertstring"],S.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],r.implement(S.prototype,p),w.defineOptions(S.prototype,"editor",{selectionStyle:{set:function(_){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:_})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(_){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(_){var b=this;if(this.textInput.setReadOnly(_),!this.destroyed){this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(I){var D=!1;if(I&&I.type=="keydown"){if(I&&I.key&&!I.ctrlKey&&!I.metaKey&&(I.key==" "&&I.preventDefault(),D=I.key.length==1),!D)return}else I&&I.type!=="exec"&&(D=!0);if(D){b.hoverTooltip||(b.hoverTooltip=new L);var O=s.createElement("div");O.textContent=C("editor.tooltip.disable-editing","Editing is disabled"),b.hoverTooltip.isOpen||b.hoverTooltip.showForRange(b,b.getSelectionRange(),O)}else b.hoverTooltip&&b.hoverTooltip.isOpen&&b.hoverTooltip.hide()});var M=this.textInput.getElement();_?(E.addListener(M,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):(E.removeListener(M,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))}},initialValue:!1},copyWithEmptySelection:{set:function(_){this.textInput.setCopyWithEmptySelection(_)},initialValue:!1},cursorStyle:{set:function(_){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(_){this.setAutoScrollEditorIntoView(_)}},keyboardHandler:{set:function(_){this.setKeyboardHandler(_)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(_){this.session.setValue(_)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(_){this.setSession(_)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(_){this.renderer.$gutterLayer.setShowLineNumbers(_),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),_&&this.$relativeLineNumbers?v.attach(this):v.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(_){this.$showLineNumbers&&_?v.attach(this):v.detach(this)}},placeholder:{set:function(_){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var b=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(b&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),s.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!b&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),s.addCssClass(this.container,"ace_hasPlaceholder");var M=s.createElement("div");M.className="ace_placeholder",M.textContent=this.$placeholder||"",this.renderer.placeholderNode=M,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!b&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(_){var b={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(D){D.blur(),D.renderer.scroller.focus()},readOnly:!0},M=function(D){if(D.target==this.renderer.scroller&&D.keyCode===T.enter){D.preventDefault();var O=this.getCursorPosition().row;this.isRowVisible(O)||this.scrollToLine(O,!0,!0),this.focus()}},I;_?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(o.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",C("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",C("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",M.bind(this)),this.commands.addCommand(b),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",C("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",C("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),I||(I=new x(this)),I.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",M.bind(this)),this.commands.removeCommand(b),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),I&&I.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(_){this.$textInputAriaLabel=_},initialValue:""},enableMobileMenu:{set:function(_){this.$enableMobileMenu=_},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var v={getText:function(_,b){return(Math.abs(_.selection.lead.row-b)||b+1+(b<9?"\xB7":""))+""},getWidth:function(_,b,M){return Math.max(b.toString().length,(M.lastRow+1).toString().length,2)*M.characterWidth},update:function(_,b){b.renderer.$loop.schedule(b.renderer.CHANGE_GUTTER)},attach:function(_){_.renderer.$gutterLayer.$renderer=this,_.on("changeSelection",this.update),this.update(null,_)},detach:function(_){_.renderer.$gutterLayer.$renderer==this&&(_.renderer.$gutterLayer.$renderer=null),_.off("changeSelection",this.update),this.update(null,_)}};t.Editor=S});ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(n,t,e){"use strict";var i=n("../lib/dom"),r=function(){function s(a,o){this.element=a,this.canvasHeight=o||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return s.prototype.moveContainer=function(a){i.translate(this.element,0,-(a.firstRowScreen*a.lineHeight%this.canvasHeight)-a.offset*this.$offsetCoefficient)},s.prototype.pageChanged=function(a,o){return Math.floor(a.firstRowScreen*a.lineHeight/this.canvasHeight)!==Math.floor(o.firstRowScreen*o.lineHeight/this.canvasHeight)},s.prototype.computeLineTop=function(a,o,l){var c=o.firstRowScreen*o.lineHeight,u=Math.floor(c/this.canvasHeight),d=l.documentToScreenRow(a,0)*o.lineHeight;return d-u*this.canvasHeight},s.prototype.computeLineHeight=function(a,o,l){return o.lineHeight*l.getRowLineCount(a)},s.prototype.getLength=function(){return this.cells.length},s.prototype.get=function(a){return this.cells[a]},s.prototype.shift=function(){this.$cacheCell(this.cells.shift())},s.prototype.pop=function(){this.$cacheCell(this.cells.pop())},s.prototype.push=function(a){if(Array.isArray(a)){this.cells.push.apply(this.cells,a);for(var o=i.createFragment(this.element),l=0;l<a.length;l++)o.appendChild(a[l].element);this.element.appendChild(o)}else this.cells.push(a),this.element.appendChild(a.element)},s.prototype.unshift=function(a){if(Array.isArray(a)){this.cells.unshift.apply(this.cells,a);for(var o=i.createFragment(this.element),l=0;l<a.length;l++)o.appendChild(a[l].element);this.element.firstChild?this.element.insertBefore(o,this.element.firstChild):this.element.appendChild(o)}else this.cells.unshift(a),this.element.insertAdjacentElement("afterbegin",a.element)},s.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},s.prototype.$cacheCell=function(a){a&&(a.element.remove(),this.cellCache.push(a))},s.prototype.createCell=function(a,o,l,c){var u=this.cellCache.pop();if(!u){var d=i.createElement("div");c&&c(d),this.element.appendChild(d),u={element:d,text:"",row:a}}return u.row=a,u},s}();t.Lines=r});ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(n,t,e){"use strict";var i=n("../lib/dom"),r=n("../lib/oop"),s=n("../lib/lang"),a=n("../lib/event_emitter").EventEmitter,o=n("./lines").Lines,l=n("../config").nls,c=function(){function d(h){this.$showCursorMarker=null,this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",h.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new o(this.element),this.$lines.$offsetCoefficient=1}return d.prototype.setSession=function(h){this.session&&this.session.off("change",this.$updateAnnotations),this.session=h,h&&h.on("change",this.$updateAnnotations)},d.prototype.addGutterDecoration=function(h,m){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(h,m)},d.prototype.removeGutterDecoration=function(h,m){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(h,m)},d.prototype.setAnnotations=function(h){this.$annotations=[];for(var m=0;m<h.length;m++){var f=h[m],p=f.row,g=this.$annotations[p];g||(g=this.$annotations[p]={text:[],type:[],displayText:[]});var y=f.text,w=f.text,k=f.type;y=y?s.escapeHTML(y):f.html||"",w=w||f.html||"",g.text.indexOf(y)===-1&&(g.text.push(y),g.type.push(k),g.displayText.push(w));var x=f.className;x?g.className=x:k==="error"?g.className=" ace_error":k==="security"&&!/\bace_error\b/.test(g.className)?g.className=" ace_security":k==="warning"&&!/\bace_(error|security)\b/.test(g.className)?g.className=" ace_warning":k==="info"&&!g.className?g.className=" ace_info":k==="hint"&&!g.className&&(g.className=" ace_hint")}},d.prototype.$updateAnnotations=function(h){if(this.$annotations.length){var m=h.start.row,f=h.end.row-m;if(f!==0)if(h.action=="remove")this.$annotations.splice(m,f+1,null);else{var p=new Array(f+1);p.unshift(m,1),this.$annotations.splice.apply(this.$annotations,p)}}},d.prototype.update=function(h){this.config=h;var m=this.session,f=h.firstRow,p=Math.min(h.lastRow+h.gutterOffset,m.getLength()-1);this.oldLastRow=p,this.config=h,this.$lines.moveContainer(h),this.$updateCursorRow();for(var g=m.getNextFoldLine(f),y=g?g.start.row:1/0,w=null,k=-1,x=f;;){if(x>y&&(x=g.end.row+1,g=m.getNextFoldLine(x,g),y=g?g.start.row:1/0),x>p){for(;this.$lines.getLength()>k+1;)this.$lines.pop();break}w=this.$lines.get(++k),w?w.row=x:(w=this.$lines.createCell(x,h,this.session,u),this.$lines.push(w)),this.$renderCell(w,h,g,x),x++}this._signal("afterRender"),this.$updateGutterWidth(h),this.$showCursorMarker&&this.$highlightGutterLine&&this.$updateCursorMarker()},d.prototype.$updateGutterWidth=function(h){var m=this.session,f=m.gutterRenderer||this.$renderer,p=m.$firstLineNumber,g=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||m.$useWrapMode)&&(g=m.getLength()+p-1);var y=f?f.getWidth(m,g,h):g.toString().length*h.characterWidth,w=this.$padding||this.$computePadding();y+=w.left+w.right,y!==this.gutterWidth&&!isNaN(y)&&(this.gutterWidth=y,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",y))},d.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var h=this.session.selection.getCursor();this.$cursorRow!==h.row&&(this.$cursorRow=h.row)}},d.prototype.updateLineHighlight=function(){if(this.$showCursorMarker&&this.$updateCursorMarker(),!!this.$highlightGutterLine){var h=this.session.selection.cursor.row;if(this.$cursorRow=h,!(this.$cursorCell&&this.$cursorCell.row==h)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var m=this.$lines.cells;this.$cursorCell=null;for(var f=0;f<m.length;f++){var p=m[f];if(p.row>=this.$cursorRow){if(p.row>this.$cursorRow){var g=this.session.getFoldLine(this.$cursorRow);if(f>0&&g&&g.start.row==m[f-1].row)p=m[f-1];else break}p.element.className="ace_gutter-active-line "+p.element.className,this.$cursorCell=p;break}}}}},d.prototype.$updateCursorMarker=function(){if(this.session){var h=this.session;this.$highlightElement||(this.$highlightElement=i.createElement("div"),this.$highlightElement.className="ace_gutter-cursor",this.$highlightElement.style.pointerEvents="none",this.element.appendChild(this.$highlightElement));var m=h.selection.cursor,f=this.config,p=this.$lines,g=f.firstRowScreen*f.lineHeight,y=Math.floor(g/p.canvasHeight),w=h.documentToScreenRow(m)*f.lineHeight,k=w-y*p.canvasHeight;i.setStyle(this.$highlightElement.style,"height",f.lineHeight+"px"),i.setStyle(this.$highlightElement.style,"top",k+"px")}},d.prototype.scrollLines=function(h){var m=this.config;if(this.config=h,this.$updateCursorRow(),this.$lines.pageChanged(m,h))return this.update(h);this.$lines.moveContainer(h);var f=Math.min(h.lastRow+h.gutterOffset,this.session.getLength()-1),p=this.oldLastRow;if(this.oldLastRow=f,!m||p<h.firstRow)return this.update(h);if(f<m.firstRow)return this.update(h);if(m.firstRow<h.firstRow)for(var g=this.session.getFoldedRowCount(m.firstRow,h.firstRow-1);g>0;g--)this.$lines.shift();if(p>f)for(var g=this.session.getFoldedRowCount(f+1,p);g>0;g--)this.$lines.pop();h.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLines(h,h.firstRow,m.firstRow-1)),f>p&&this.$lines.push(this.$renderLines(h,p+1,f)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(h)},d.prototype.$renderLines=function(h,m,f){for(var p=[],g=m,y=this.session.getNextFoldLine(g),w=y?y.start.row:1/0;g>w&&(g=y.end.row+1,y=this.session.getNextFoldLine(g,y),w=y?y.start.row:1/0),!(g>f);){var k=this.$lines.createCell(g,h,this.session,u);this.$renderCell(k,h,y,g),p.push(k),g++}return p},d.prototype.$renderCell=function(h,m,f,p){var g=h.element,y=this.session,w=g.childNodes[0],k=g.childNodes[1],x=g.childNodes[2],C=g.childNodes[3],A=x.firstChild,T=y.$firstLineNumber,E=y.$breakpoints,L=y.$decorations,S=y.gutterRenderer||this.$renderer,v=this.$showFoldWidgets&&y.foldWidgets,_=f?f.start.row:Number.MAX_VALUE,b=m.lineHeight+"px",M=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",I=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",D=(S?S.getText(y,p):p+T).toString();if(this.$highlightGutterLine&&(p==this.$cursorRow||f&&p<this.$cursorRow&&p>=_&&this.$cursorRow<=f.end.row)&&(M+="ace_gutter-active-line ",this.$cursorCell!=h&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=h)),E[p]&&(M+=E[p]),L[p]&&(M+=L[p]),this.$annotations[p]&&p!==_&&(M+=this.$annotations[p].className),v){var O=v[p];O==null&&(O=v[p]=y.getFoldWidget(p))}if(O){var N="ace_fold-widget ace_"+O,F=O=="start"&&p==_&&p<f.end.row;if(F){N+=" ace_closed";for(var z="",V=!1,K=p+1;K<=f.end.row;K++)if(this.$annotations[K]){if(this.$annotations[K].className===" ace_error"){V=!0,z=" ace_error_fold";break}this.$annotations[K].className===" ace_security"?(V=!0,z=" ace_security_fold"):this.$annotations[K].className===" ace_warning"&&z!==" ace_security_fold"&&(V=!0,z=" ace_warning_fold")}M+=z}else N+=" ace_open";k.className!=N&&(k.className=N),i.setStyle(k.style,"height",b),i.setStyle(k.style,"display","inline-block"),k.setAttribute("role","button"),k.setAttribute("tabindex","-1");var W=y.getFoldWidgetRange(p);W?k.setAttribute("aria-label",l("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[W.start.row+1,W.end.row+1])):f?k.setAttribute("aria-label",l("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[f.start.row+1,f.end.row+1])):k.setAttribute("aria-label",l("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[p+1])),F?(k.setAttribute("aria-expanded","false"),k.setAttribute("title",l("gutter.code-folding.closed.title","Unfold code"))):(k.setAttribute("aria-expanded","true"),k.setAttribute("title",l("gutter.code-folding.open.title","Fold code")))}else k&&(i.setStyle(k.style,"display","none"),k.setAttribute("tabindex","0"),k.removeAttribute("role"),k.removeAttribute("aria-label"));var q=this.session.$gutterCustomWidgets[p];if(q?this.$addCustomWidget(p,q,h):C&&this.$removeCustomWidget(p,h),V&&this.$showFoldedAnnotations){x.className="ace_gutter_annotation",A.className=I,A.className+=z,i.setStyle(A.style,"height",b),i.setStyle(x.style,"display","block"),i.setStyle(x.style,"height",b);var ae;switch(z){case" ace_error_fold":ae=l("gutter.annotation.aria-label.error","Error, read annotations row $0",[D]);break;case" ace_security_fold":ae=l("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[D]);break;case" ace_warning_fold":ae=l("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[D]);break}x.setAttribute("aria-label",ae),x.setAttribute("tabindex","-1"),x.setAttribute("role","button")}else if(this.$annotations[p]){x.className="ace_gutter_annotation",A.className=I,this.$useSvgGutterIcons?A.className+=this.$annotations[p].className:g.classList.add(this.$annotations[p].className.replace(" ","")),i.setStyle(A.style,"height",b),i.setStyle(x.style,"display","block"),i.setStyle(x.style,"height",b);var ae;switch(this.$annotations[p].className){case" ace_error":ae=l("gutter.annotation.aria-label.error","Error, read annotations row $0",[D]);break;case" ace_security":ae=l("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[D]);break;case" ace_warning":ae=l("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[D]);break;case" ace_info":ae=l("gutter.annotation.aria-label.info","Info, read annotations row $0",[D]);break;case" ace_hint":ae=l("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[D]);break}x.setAttribute("aria-label",ae),x.setAttribute("tabindex","-1"),x.setAttribute("role","button")}else i.setStyle(x.style,"display","none"),x.removeAttribute("aria-label"),x.removeAttribute("role"),x.setAttribute("tabindex","0");return D!==w.data&&(w.data=D),g.className!=M&&(g.className=M),i.setStyle(h.element.style,"height",this.$lines.computeLineHeight(p,m,y)+"px"),i.setStyle(h.element.style,"top",this.$lines.computeLineTop(p,m,y)+"px"),h.text=D,x.style.display==="none"&&k.style.display==="none"&&!q?h.element.setAttribute("aria-hidden",!0):h.element.setAttribute("aria-hidden",!1),h},d.prototype.setHighlightGutterLine=function(h){this.$highlightGutterLine=h,!h&&this.$highlightElement&&(this.$highlightElement.remove(),this.$highlightElement=null)},d.prototype.setShowLineNumbers=function(h){this.$renderer=!h&&{getWidth:function(){return 0},getText:function(){return""}}},d.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},d.prototype.setShowFoldWidgets=function(h){h?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=h,this.$padding=null},d.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},d.prototype.$hideFoldWidget=function(h,m){var f=m||this.$getGutterCell(h);if(f&&f.element){var p=f.element.childNodes[1];p&&i.setStyle(p.style,"display","none")}},d.prototype.$showFoldWidget=function(h,m){var f=m||this.$getGutterCell(h);if(f&&f.element){var p=f.element.childNodes[1];p&&this.session.foldWidgets&&this.session.foldWidgets[f.row]&&i.setStyle(p.style,"display","inline-block")}},d.prototype.$getGutterCell=function(h){var m=this.$lines.cells,f=0,p=m.length-1;if(!(h<m[0].row||h>m[p].row)){for(;f<=p;){var g=Math.floor((f+p)/2),y=m[g];if(y.row>h)p=g-1;else if(y.row<h)f=g+1;else return y}return y}},d.prototype.$addCustomWidget=function(h,m,f){var p=m.className,g=m.label,y=m.title,w=m.callbacks;this.session.$gutterCustomWidgets[h]={className:p,label:g,title:y,callbacks:w},this.$hideFoldWidget(h,f);var k=f||this.$getGutterCell(h);if(k&&k.element){var x=k.element.querySelector(".ace_custom-widget");x&&x.remove(),x=i.createElement("span"),x.className="ace_custom-widget ".concat(p),x.setAttribute("tabindex","-1"),x.setAttribute("role","button"),x.setAttribute("aria-label",g),x.setAttribute("title",y),i.setStyle(x.style,"display","inline-block"),i.setStyle(x.style,"height","inherit"),w&&w.onClick&&x.addEventListener("click",function(C){w.onClick(C,h),C.stopPropagation()}),k.element.appendChild(x)}},d.prototype.$removeCustomWidget=function(h,m){delete this.session.$gutterCustomWidgets[h],this.$showFoldWidget(h,m);var f=m||this.$getGutterCell(h);if(f&&f.element){var p=f.element.querySelector(".ace_custom-widget");p&&f.element.removeChild(p)}},d.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var h=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(h.borderLeftWidth)||0)+(parseInt(h.paddingLeft)||0)+1,this.$padding.right=(parseInt(h.borderRightWidth)||0)+(parseInt(h.paddingRight)||0),this.$padding},d.prototype.getRegion=function(h){var m=this.$padding||this.$computePadding(),f=this.element.getBoundingClientRect();if(h.x<m.left+f.left)return"markers";if(this.$showFoldWidgets&&h.x>f.right-m.right)return"foldWidgets"},d}();c.prototype.$fixedWidth=!1,c.prototype.$highlightGutterLine=!0,c.prototype.$renderer=void 0,c.prototype.$showLineNumbers=!0,c.prototype.$showFoldWidgets=!0,r.implement(c.prototype,a);function u(d){var h=document.createTextNode("");d.appendChild(h);var m=i.createElement("span");d.appendChild(m);var f=i.createElement("span");d.appendChild(f);var p=i.createElement("span");return f.appendChild(p),d}t.Gutter=c});ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,t,e){"use strict";var i=n("../range").Range,r=n("../lib/dom"),s=function(){function o(l){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",l.appendChild(this.element)}return o.prototype.setPadding=function(l){this.$padding=l},o.prototype.setSession=function(l){this.session=l},o.prototype.setMarkers=function(l){this.markers=l},o.prototype.elt=function(l,c){var u=this.i!=-1&&this.element.childNodes[this.i];u?this.i++:(u=document.createElement("div"),this.element.appendChild(u),this.i=-1),u.style.cssText=c,u.className=l},o.prototype.update=function(l){if(l){this.config=l,this.i=0;var c;for(var u in this.markers){var d=this.markers[u];if(!d.range){d.update(c,this,this.session,l);continue}var h=d.range.clipRows(l.firstRow,l.lastRow);if(!h.isEmpty())if(h=h.toScreenRange(this.session),d.renderer){var m=this.$getTop(h.start.row,l),f=this.$padding+h.start.column*l.characterWidth;d.renderer(c,h,f,m,l)}else d.type=="fullLine"?this.drawFullLineMarker(c,h,d.clazz,l):d.type=="screenLine"?this.drawScreenLineMarker(c,h,d.clazz,l):h.isMultiLine()?d.type=="text"?this.drawTextMarker(c,h,d.clazz,l):this.drawMultiLineMarker(c,h,d.clazz,l):this.drawSingleLineMarker(c,h,d.clazz+" ace_start ace_br15",l)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},o.prototype.$getTop=function(l,c){return(l-c.firstRowScreen)*c.lineHeight},o.prototype.drawTextMarker=function(l,c,u,d,h){for(var m=this.session,f=c.start.row,p=c.end.row,g=f,y=0,w=0,k=m.getScreenLastRowColumn(g),x=new i(g,c.start.column,g,w);g<=p;g++)x.start.row=x.end.row=g,x.start.column=g==f?c.start.column:m.getRowWrapIndent(g),x.end.column=k,y=w,w=k,k=g+1<p?m.getScreenLastRowColumn(g+1):g==p?0:c.end.column,this.drawSingleLineMarker(l,x,u+(g==f?" ace_start":"")+" ace_br"+a(g==f||g==f+1&&c.start.column,y<w,w>k,g==p),d,g==p?0:1,h)},o.prototype.drawMultiLineMarker=function(l,c,u,d,h){var m=this.$padding,f=d.lineHeight,p=this.$getTop(c.start.row,d),g=m+c.start.column*d.characterWidth;if(h=h||"",this.session.$bidiHandler.isBidiRow(c.start.row)){var y=c.clone();y.end.row=y.start.row,y.end.column=this.session.getLine(y.start.row).length,this.drawBidiSingleLineMarker(l,y,u+" ace_br1 ace_start",d,null,h)}else this.elt(u+" ace_br1 ace_start","height:"+f+"px;right:"+m+"px;top:"+p+"px;left:"+g+"px;"+(h||""));if(this.session.$bidiHandler.isBidiRow(c.end.row)){var y=c.clone();y.start.row=y.end.row,y.start.column=0,this.drawBidiSingleLineMarker(l,y,u+" ace_br12",d,null,h)}else{p=this.$getTop(c.end.row,d);var w=c.end.column*d.characterWidth;this.elt(u+" ace_br12","height:"+f+"px;width:"+w+"px;top:"+p+"px;left:"+m+"px;"+(h||""))}if(f=(c.end.row-c.start.row-1)*d.lineHeight,!(f<=0)){p=this.$getTop(c.start.row+1,d);var k=(c.start.column?1:0)|(c.end.column?0:8);this.elt(u+(k?" ace_br"+k:""),"height:"+f+"px;right:"+m+"px;top:"+p+"px;left:"+m+"px;"+(h||""))}},o.prototype.drawSingleLineMarker=function(l,c,u,d,h,m){if(this.session.$bidiHandler.isBidiRow(c.start.row))return this.drawBidiSingleLineMarker(l,c,u,d,h,m);var f=d.lineHeight,p=(c.end.column+(h||0)-c.start.column)*d.characterWidth,g=this.$getTop(c.start.row,d),y=this.$padding+c.start.column*d.characterWidth;this.elt(u,"height:"+f+"px;width:"+p+"px;top:"+g+"px;left:"+y+"px;"+(m||""))},o.prototype.drawBidiSingleLineMarker=function(l,c,u,d,h,m){var f=d.lineHeight,p=this.$getTop(c.start.row,d),g=this.$padding,y=this.session.$bidiHandler.getSelections(c.start.column,c.end.column);y.forEach(function(w){this.elt(u,"height:"+f+"px;width:"+(w.width+(h||0))+"px;top:"+p+"px;left:"+(g+w.left)+"px;"+(m||""))},this)},o.prototype.drawFullLineMarker=function(l,c,u,d,h){var m=this.$getTop(c.start.row,d),f=d.lineHeight;c.start.row!=c.end.row&&(f+=this.$getTop(c.end.row,d)-m),this.elt(u,"height:"+f+"px;top:"+m+"px;left:0;right:0;"+(h||""))},o.prototype.drawScreenLineMarker=function(l,c,u,d,h){var m=this.$getTop(c.start.row,d),f=d.lineHeight;this.elt(u,"height:"+f+"px;top:"+m+"px;left:0;right:0;"+(h||""))},o}();s.prototype.$padding=0;function a(o,l,c,u){return(o?1:0)|(l?2:0)|(c?4:0)|(u?8:0)}t.Marker=s});ace.define("ace/layer/text_util",["require","exports","module"],function(n,t,e){var i=new Set(["text","rparen","lparen"]);t.isTextToken=function(r){return i.has(r)}});ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(n,t,e){"use strict";var i=n("../lib/oop"),r=n("../lib/dom"),s=n("../lib/lang"),a=n("./lines").Lines,o=n("../lib/event_emitter").EventEmitter,l=n("../config").nls,c=n("./text_util").isTextToken,u=function(){function d(h){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",h.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new a(this.element)}return d.prototype.$updateEolChar=function(){var h=this.session.doc,m=h.getNewLineCharacter()==`
`&&h.getNewLineMode()!="windows",f=m?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=f)return this.EOL_CHAR=f,!0},d.prototype.setPadding=function(h){this.$padding=h,this.element.style.margin="0 "+h+"px"},d.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},d.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},d.prototype.$setFontMetrics=function(h){this.$fontMetrics=h,this.$fontMetrics.on("changeCharacterSize",function(m){this._signal("changeCharacterSize",m)}.bind(this)),this.$pollSizeChanges()},d.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},d.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},d.prototype.setSession=function(h){this.session=h,h&&this.$computeTabString()},d.prototype.setShowInvisibles=function(h){return this.showInvisibles==h?!1:(this.showInvisibles=h,typeof h=="string"?(this.showSpaces=/tab/i.test(h),this.showTabs=/space/i.test(h),this.showEOL=/eol/i.test(h)):this.showSpaces=this.showTabs=this.showEOL=h,this.$computeTabString(),!0)},d.prototype.setDisplayIndentGuides=function(h){return this.displayIndentGuides==h?!1:(this.displayIndentGuides=h,this.$computeTabString(),!0)},d.prototype.setHighlightIndentGuides=function(h){return this.$highlightIndentGuides===h?!1:(this.$highlightIndentGuides=h,h)},d.prototype.$computeTabString=function(){var h=this.session.getTabSize();this.tabSize=h;for(var m=this.$tabStrings=[0],f=1;f<h+1;f++)if(this.showTabs){var p=this.dom.createElement("span");p.className="ace_invisible ace_invisible_tab",p.textContent=s.stringRepeat(this.TAB_CHAR,f),m.push(p)}else m.push(this.dom.createTextNode(s.stringRepeat(" ",f),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var g="ace_indent-guide",y=this.showSpaces?" ace_invisible ace_invisible_space":"",w=this.showSpaces?s.stringRepeat(this.SPACE_CHAR,this.tabSize):s.stringRepeat(" ",this.tabSize),k=this.showTabs?" ace_invisible ace_invisible_tab":"",x=this.showTabs?s.stringRepeat(this.TAB_CHAR,this.tabSize):w,p=this.dom.createElement("span");p.className=g+y,p.textContent=w,this.$tabStrings[" "]=p;var p=this.dom.createElement("span");p.className=g+k,p.textContent=x,this.$tabStrings["	"]=p}},d.prototype.updateLines=function(h,m,f){if(this.config.lastRow!=h.lastRow||this.config.firstRow!=h.firstRow)return this.update(h);this.config=h;for(var p=Math.max(m,h.firstRow),g=Math.min(f,h.lastRow),y=this.element.childNodes,w=0,x=h.firstRow;x<p;x++){var C=this.session.getFoldLine(x);if(C)if(C.containsRow(p)){p=C.start.row;break}else x=C.end.row;w++}for(var k=!1,x=p,C=this.session.getNextFoldLine(x),A=C?C.start.row:1/0;x>A&&(x=C.end.row+1,C=this.session.getNextFoldLine(x,C),A=C?C.start.row:1/0),!(x>g);){var T=y[w++];if(T){this.dom.removeChildren(T),this.$renderLine(T,x,x==A?C:!1),k&&(T.style.top=this.$lines.computeLineTop(x,h,this.session)+"px");var E=h.lineHeight*this.session.getRowLength(x)+"px";T.style.height!=E&&(k=!0,T.style.height=E)}x++}if(k)for(;w<this.$lines.cells.length;){var L=this.$lines.cells[w++];L.element.style.top=this.$lines.computeLineTop(L.row,h,this.session)+"px"}},d.prototype.scrollLines=function(h){var m=this.config;if(this.config=h,this.$lines.pageChanged(m,h))return this.update(h);this.$lines.moveContainer(h);var f=h.lastRow,p=m?m.lastRow:-1;if(!m||p<h.firstRow)return this.update(h);if(f<m.firstRow)return this.update(h);if(!m||m.lastRow<h.firstRow)return this.update(h);if(h.lastRow<m.firstRow)return this.update(h);if(m.firstRow<h.firstRow)for(var g=this.session.getFoldedRowCount(m.firstRow,h.firstRow-1);g>0;g--)this.$lines.shift();if(m.lastRow>h.lastRow)for(var g=this.session.getFoldedRowCount(h.lastRow+1,m.lastRow);g>0;g--)this.$lines.pop();h.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLinesFragment(h,h.firstRow,m.firstRow-1)),h.lastRow>m.lastRow&&this.$lines.push(this.$renderLinesFragment(h,m.lastRow+1,h.lastRow)),this.$highlightIndentGuide()},d.prototype.$renderLinesFragment=function(h,m,f){for(var p=[],g=m,y=this.session.getNextFoldLine(g),w=y?y.start.row:1/0;g>w&&(g=y.end.row+1,y=this.session.getNextFoldLine(g,y),w=y?y.start.row:1/0),!(g>f);){var k=this.$lines.createCell(g,h,this.session),x=k.element;this.dom.removeChildren(x),r.setStyle(x.style,"height",this.$lines.computeLineHeight(g,h,this.session)+"px"),r.setStyle(x.style,"top",this.$lines.computeLineTop(g,h,this.session)+"px"),this.$renderLine(x,g,g==w?y:!1),this.$useLineGroups()?x.className="ace_line_group":x.className="ace_line",p.push(k),g++}return p},d.prototype.update=function(h){this.$lines.moveContainer(h),this.config=h;for(var m=h.firstRow,f=h.lastRow,p=this.$lines;p.getLength();)p.pop();p.push(this.$renderLinesFragment(h,m,f))},d.prototype.$renderToken=function(h,m,f,p){for(var g=this,y=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,w=this.dom.createFragment(this.element),k,x=0;k=y.exec(p);){var C=k[1],A=k[2],T=k[3],E=k[4],L=k[5];if(!(!g.showSpaces&&A)){var S=x!=k.index?p.slice(x,k.index):"";if(x=k.index+k[0].length,S&&w.appendChild(this.dom.createTextNode(S,this.element)),C){var v=g.session.getScreenTabSize(m+k.index),_=g.$tabStrings[v].cloneNode(!0);_.charCount=1,w.appendChild(_),m+=v-1}else if(A)if(g.showSpaces){var b=this.dom.createElement("span");b.className="ace_invisible ace_invisible_space",b.textContent=s.stringRepeat(g.SPACE_CHAR,A.length),w.appendChild(b)}else w.appendChild(this.dom.createTextNode(A,this.element));else if(T){var b=this.dom.createElement("span");b.className="ace_invisible ace_invisible_space ace_invalid",b.textContent=s.stringRepeat(g.SPACE_CHAR,T.length),w.appendChild(b)}else if(E){m+=1;var b=this.dom.createElement("span");b.style.width=g.config.characterWidth*2+"px",b.className=g.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",b.textContent=g.showSpaces?g.SPACE_CHAR:E,w.appendChild(b)}else if(L){m+=1;var b=this.dom.createElement("span");b.style.width=g.config.characterWidth*2+"px",b.className="ace_cjk",b.textContent=L,w.appendChild(b)}}}if(w.appendChild(this.dom.createTextNode(x?p.slice(x):p,this.element)),c(f.type))h.appendChild(w);else{var M="ace_"+f.type.replace(/\./g," ace_"),b=this.dom.createElement("span");f.type=="fold"&&(b.style.width=f.value.length*this.config.characterWidth+"px",b.setAttribute("title",l("inline-fold.closed.title","Unfold code"))),b.className=M,b.appendChild(w),h.appendChild(b)}return m+p.length},d.prototype.renderIndentGuide=function(h,m,f){var p=m.search(this.$indentGuideRe);if(p<=0||p>=f)return m;if(m[0]==" "){p-=p%this.tabSize;for(var g=p/this.tabSize,y=0;y<g;y++)h.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(p)}else if(m[0]=="	"){for(var y=0;y<p;y++)h.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(p)}return this.$highlightIndentGuide(),m},d.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var h=this.session.doc.$lines;if(h){var m=this.session.selection.getCursor(),f=/^\s*/.exec(this.session.doc.getLine(m.row))[0].length,p=Math.floor(f/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:p,start:m.row};var g=this.session.$bracketHighlight;if(g){for(var y=this.session.$bracketHighlight.ranges,w=0;w<y.length;w++)if(m.row!==y[w].start.row){this.$highlightIndentGuideMarker.end=y[w].start.row+1,m.row>y[w].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&h[m.row]!==""&&m.column===h[m.row].length){this.$highlightIndentGuideMarker.dir=1;for(var w=m.row+1;w<h.length;w++){var k=h[w],x=/^\s*/.exec(k)[0].length;if(k!==""&&(this.$highlightIndentGuideMarker.end=w,x<=f))break}}this.$renderHighlightIndentGuide()}}},d.prototype.$clearActiveIndentGuide=function(){for(var h=this.element.querySelectorAll(".ace_indent-guide-active"),m=0;m<h.length;m++)h[m].classList.remove("ace_indent-guide-active")},d.prototype.$setIndentGuideActive=function(h,m){var f=this.session.doc.getLine(h.row);if(f!==""){var p=h.element;if(h.element.classList&&h.element.classList.contains("ace_line_group"))if(h.element.childNodes.length>0)p=h.element.childNodes[0];else return;var g=p.childNodes;if(g){var y=g[m-1];y&&y.classList&&y.classList.contains("ace_indent-guide")&&y.classList.add("ace_indent-guide-active")}}},d.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var h=this.$lines.cells;this.$clearActiveIndentGuide();var m=this.$highlightIndentGuideMarker.indentLevel;if(m!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var f=0;f<h.length;f++){var p=h[f];if(this.$highlightIndentGuideMarker.end&&p.row>=this.$highlightIndentGuideMarker.start+1){if(p.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(p,m)}}else for(var f=h.length-1;f>=0;f--){var p=h[f];if(this.$highlightIndentGuideMarker.end&&p.row<this.$highlightIndentGuideMarker.start){if(p.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(p,m)}}}},d.prototype.$createLineElement=function(h){var m=this.dom.createElement("div");return m.className="ace_line",m.style.height=this.config.lineHeight+"px",m},d.prototype.$renderWrappedLine=function(h,m,f){var p=0,g=0,y=f[0],w=0,k=this.$createLineElement();h.appendChild(k);for(var x=0;x<m.length;x++){var C=m[x],A=C.value;if(x==0&&this.displayIndentGuides){if(p=A.length,A=this.renderIndentGuide(k,A,y),!A)continue;p-=A.length}if(p+A.length<y)w=this.$renderToken(k,w,C,A),p+=A.length;else{for(;p+A.length>=y;){w=this.$renderToken(k,w,C,A.substring(0,y-p)),A=A.substring(y-p),p=y,k=this.$createLineElement(),h.appendChild(k);var T=this.dom.createTextNode(s.stringRepeat("\xA0",f.indent),this.element);T.charCount=0,k.appendChild(T),g++,w=0,y=f[g]||Number.MAX_VALUE}A.length!=0&&(p+=A.length,w=this.$renderToken(k,w,C,A))}}f[f.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(k,w,null,"",!0)},d.prototype.$renderSimpleLine=function(h,m){for(var f=0,p=0;p<m.length;p++){var g=m[p],y=g.value;if(!(p==0&&this.displayIndentGuides&&(y=this.renderIndentGuide(h,y),!y))){if(f+y.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(h,f,g,y);f=this.$renderToken(h,f,g,y)}}},d.prototype.$renderOverflowMessage=function(h,m,f,p,g){f&&this.$renderToken(h,m,f,p.slice(0,this.MAX_LINE_LENGTH-m));var y=this.dom.createElement("span");y.className="ace_inline_button ace_keyword ace_toggle_wrap",y.textContent=g?"<hide>":"<click to see more...>",h.appendChild(y)},d.prototype.$renderLine=function(h,m,f){if(!f&&f!=!1&&(f=this.session.getFoldLine(m)),f)var p=this.$getFoldLineTokens(m,f);else var p=this.session.getTokens(m);var g=h;if(p.length){var y=this.session.getRowSplitData(m);if(y&&y.length){this.$renderWrappedLine(h,p,y);var g=h.lastChild}else{var g=h;this.$useLineGroups()&&(g=this.$createLineElement(),h.appendChild(g)),this.$renderSimpleLine(g,p)}}else this.$useLineGroups()&&(g=this.$createLineElement(),h.appendChild(g));if(this.showEOL&&g){f&&(m=f.end.row);var w=this.dom.createElement("span");w.className="ace_invisible ace_invisible_eol",w.textContent=m==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,g.appendChild(w)}},d.prototype.$getFoldLineTokens=function(h,m){var f=this.session,p=[];function g(w,k,x){for(var C=0,A=0;A+w[C].value.length<k;)if(A+=w[C].value.length,C++,C==w.length)return;if(A!=k){var T=w[C].value.substring(k-A);T.length>x-k&&(T=T.substring(0,x-k)),p.push({type:w[C].type,value:T}),A=k+T.length,C+=1}for(;A<x&&C<w.length;){var T=w[C].value;T.length+A>x?p.push({type:w[C].type,value:T.substring(0,x-A)}):p.push(w[C]),A+=T.length,C+=1}}var y=f.getTokens(h);return m.walk(function(w,k,x,C,A){w!=null?p.push({type:"fold",value:w}):(A&&(y=f.getTokens(k)),y.length&&g(y,C,x))},m.end.row,this.session.getLine(m.end.row).length),p},d.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},d}();u.prototype.EOF_CHAR="\xB6",u.prototype.EOL_CHAR_LF="\xAC",u.prototype.EOL_CHAR_CRLF="\xA4",u.prototype.EOL_CHAR=u.prototype.EOL_CHAR_LF,u.prototype.TAB_CHAR="\u2014",u.prototype.SPACE_CHAR="\xB7",u.prototype.$padding=0,u.prototype.MAX_LINE_LENGTH=1e4,u.prototype.showInvisibles=!1,u.prototype.showSpaces=!1,u.prototype.showTabs=!1,u.prototype.showEOL=!1,u.prototype.displayIndentGuides=!0,u.prototype.$highlightIndentGuides=!0,u.prototype.$tabStrings=[],u.prototype.destroy={},u.prototype.onChangeTabSize=u.prototype.$computeTabString,i.implement(u.prototype,o),t.Text=u});ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,t,e){"use strict";var i=n("../lib/dom"),r=function(){function s(a){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",a.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return s.prototype.$updateOpacity=function(a){for(var o=this.cursors,l=o.length;l--;)i.setStyle(o[l].style,"opacity",a?"":"0")},s.prototype.$startCssAnimation=function(){for(var a=this.cursors,o=a.length;o--;)a[o].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},s.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,i.removeCssClass(this.element,"ace_animate-blinking")},s.prototype.setPadding=function(a){this.$padding=a},s.prototype.setSession=function(a){this.session=a},s.prototype.setBlinking=function(a){a!=this.isBlinking&&(this.isBlinking=a,this.restartTimer())},s.prototype.setBlinkInterval=function(a){a!=this.blinkInterval&&(this.blinkInterval=a,this.restartTimer())},s.prototype.setSmoothBlinking=function(a){a!=this.smoothBlinking&&(this.smoothBlinking=a,i.setCssClass(this.element,"ace_smooth-blinking",a),this.$updateCursors(!0),this.restartTimer())},s.prototype.addCursor=function(){var a=i.createElement("div");return a.className="ace_cursor",this.element.appendChild(a),this.cursors.push(a),a},s.prototype.removeCursor=function(){if(this.cursors.length>1){var a=this.cursors.pop();return a.parentNode.removeChild(a),a}},s.prototype.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},s.prototype.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},s.prototype.restartTimer=function(){var a=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,i.removeCssClass(this.element,"ace_smooth-blinking")),a(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),i.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var o=function(){this.timeoutId=setTimeout(function(){a(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){a(!0),o()},this.blinkInterval),o()}},s.prototype.getPixelPosition=function(a,o){if(!this.config||!this.session)return{left:0,top:0};a||(a=this.session.selection.getCursor());var l=this.session.documentToScreenPosition(a),c=this.$padding+(this.session.$bidiHandler.isBidiRow(l.row,a.row)?this.session.$bidiHandler.getPosLeft(l.column):l.column*this.config.characterWidth),u=(l.row-(o?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:c,top:u}},s.prototype.isCursorInView=function(a,o){return a.top>=0&&a.top<o.maxHeight},s.prototype.update=function(a){this.config=a;var o=this.session.$selectionMarkers,l=0,c=0;(o===void 0||o.length===0)&&(o=[{cursor:null}]);for(var l=0,u=o.length;l<u;l++){var d=this.getPixelPosition(o[l].cursor,!0);if(!((d.top>a.height+a.offset||d.top<0)&&l>1)){var h=this.cursors[c++]||this.addCursor(),m=h.style;this.drawCursor?this.drawCursor(h,d,a,o[l],this.session):this.isCursorInView(d,a)?(i.setStyle(m,"display","block"),i.translate(h,d.left,d.top),i.setStyle(m,"width",Math.round(a.characterWidth)+"px"),i.setStyle(m,"height",a.lineHeight+"px")):i.setStyle(m,"display","none")}}for(;this.cursors.length>c;)this.removeCursor();var f=this.session.getOverwrite();this.$setOverwrite(f),this.$pixelPos=d,this.restartTimer()},s.prototype.$setOverwrite=function(a){a!=this.overwrite&&(this.overwrite=a,a?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},s.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},s}();r.prototype.$padding=0,r.prototype.drawCursor=null,t.Cursor=r});ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,t,e){"use strict";var i=this&&this.__extends||function(){var h=function(m,f){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(p[y]=g[y])},h(m,f)};return function(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(m,f);function p(){this.constructor=m}m.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}(),r=n("./lib/oop"),s=n("./lib/dom"),a=n("./lib/event"),o=n("./lib/event_emitter").EventEmitter,l=32768,c=function(){function h(m,f){this.element=s.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+f,this.inner=s.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xA0",this.element.appendChild(this.inner),m.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,a.addListener(this.element,"scroll",this.onScroll.bind(this)),a.addListener(this.element,"mousedown",a.preventDefault)}return h.prototype.setVisible=function(m){this.element.style.display=m?"":"none",this.isVisible=m,this.coeff=1},h}();r.implement(c.prototype,o);var u=function(h){i(m,h);function m(f,p){var g=h.call(this,f,"-v")||this;return g.scrollTop=0,g.scrollHeight=0,p.$scrollbarWidth=g.width=s.scrollbarWidth(f.ownerDocument),g.inner.style.width=g.element.style.width=(g.width||15)+5+"px",g.$minWidth=0,g}return m.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var f=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-f)/(this.coeff-f)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},m.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},m.prototype.setHeight=function(f){this.element.style.height=f+"px"},m.prototype.setScrollHeight=function(f){this.scrollHeight=f,f>l?(this.coeff=l/f,f=l):this.coeff!=1&&(this.coeff=1),this.inner.style.height=f+"px"},m.prototype.setScrollTop=function(f){this.scrollTop!=f&&(this.skipEvent=!0,this.scrollTop=f,this.element.scrollTop=f*this.coeff)},m}(c);u.prototype.setInnerHeight=u.prototype.setScrollHeight;var d=function(h){i(m,h);function m(f,p){var g=h.call(this,f,"-h")||this;return g.scrollLeft=0,g.height=p.$scrollbarWidth,g.inner.style.height=g.element.style.height=(g.height||15)+5+"px",g}return m.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},m.prototype.getHeight=function(){return this.isVisible?this.height:0},m.prototype.setWidth=function(f){this.element.style.width=f+"px"},m.prototype.setInnerWidth=function(f){this.inner.style.width=f+"px"},m.prototype.setScrollWidth=function(f){this.inner.style.width=f+"px"},m.prototype.setScrollLeft=function(f){this.scrollLeft!=f&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=f)},m}(c);t.ScrollBar=u,t.ScrollBarV=u,t.ScrollBarH=d,t.VScrollBar=u,t.HScrollBar=d});ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,t,e){"use strict";var i=this&&this.__extends||function(){var d=function(h,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(f[g]=p[g])},d(h,m)};return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(h,m);function f(){this.constructor=h}h.prototype=m===null?Object.create(m):(f.prototype=m.prototype,new f)}}(),r=n("./lib/oop"),s=n("./lib/dom"),a=n("./lib/event"),o=n("./lib/event_emitter").EventEmitter;s.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var l=function(){function d(h,m){this.element=s.createElement("div"),this.element.className="ace_sb"+m,this.inner=s.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,h.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,a.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return d.prototype.setVisible=function(h){this.element.style.display=h?"":"none",this.isVisible=h,this.coeff=1},d}();r.implement(l.prototype,o);var c=function(d){i(h,d);function h(m,f){var p=d.call(this,m,"-v")||this;return p.scrollTop=0,p.scrollHeight=0,p.parent=m,p.width=p.VScrollWidth,p.renderer=f,p.inner.style.width=p.element.style.width=(p.width||15)+"px",p.$minWidth=0,p}return h.prototype.onMouseDown=function(m,f){if(m==="mousedown"&&!(a.getButton(f)!==0||f.detail===2)){if(f.target===this.inner){var p=this,g=f.clientY,y=function(E){g=E.clientY},w=function(){clearInterval(A)},k=f.clientY,x=this.thumbTop,C=function(){if(g!==void 0){var E=p.scrollTopFromThumbTop(x+g-k);E!==p.scrollTop&&p._emit("scroll",{data:E})}};a.capture(this.inner,y,w);var A=setInterval(C,20);return a.preventDefault(f)}var T=f.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(T)}),a.preventDefault(f)}},h.prototype.getHeight=function(){return this.height},h.prototype.scrollTopFromThumbTop=function(m){var f=m*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return f=f>>0,f<0?f=0:f>this.pageHeight-this.viewHeight&&(f=this.pageHeight-this.viewHeight),f},h.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},h.prototype.setHeight=function(m){this.height=Math.max(0,m),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},h.prototype.setScrollHeight=function(m,f){this.pageHeight===m&&!f||(this.pageHeight=m,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},h.prototype.setScrollTop=function(m){this.scrollTop=m,m<0&&(m=0),this.thumbTop=m*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},h}(l);c.prototype.setInnerHeight=c.prototype.setScrollHeight;var u=function(d){i(h,d);function h(m,f){var p=d.call(this,m,"-h")||this;return p.scrollLeft=0,p.scrollWidth=0,p.height=p.HScrollHeight,p.inner.style.height=p.element.style.height=(p.height||12)+"px",p.renderer=f,p}return h.prototype.onMouseDown=function(m,f){if(m==="mousedown"&&!(a.getButton(f)!==0||f.detail===2)){if(f.target===this.inner){var p=this,g=f.clientX,y=function(E){g=E.clientX},w=function(){clearInterval(A)},k=f.clientX,x=this.thumbLeft,C=function(){if(g!==void 0){var E=p.scrollLeftFromThumbLeft(x+g-k);E!==p.scrollLeft&&p._emit("scroll",{data:E})}};a.capture(this.inner,y,w);var A=setInterval(C,20);return a.preventDefault(f)}var T=f.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(T)}),a.preventDefault(f)}},h.prototype.getHeight=function(){return this.isVisible?this.height:0},h.prototype.scrollLeftFromThumbLeft=function(m){var f=m*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return f=f>>0,f<0?f=0:f>this.pageWidth-this.viewWidth&&(f=this.pageWidth-this.viewWidth),f},h.prototype.setWidth=function(m){this.width=Math.max(0,m),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},h.prototype.setScrollWidth=function(m,f){this.pageWidth===m&&!f||(this.pageWidth=m,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},h.prototype.setScrollLeft=function(m){this.scrollLeft=m,m<0&&(m=0),this.thumbLeft=m*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},h}(l);u.prototype.setInnerWidth=u.prototype.setScrollWidth,t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=u,t.VScrollBar=c,t.HScrollBar=u});ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,t,e){"use strict";var i=n("./lib/event"),r=function(){function s(a,o){this.onRender=a,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=o||window;var l=this;this._flush=function(c){l.pending=!1;var u=l.changes;if(u&&(i.blockIdle(100),l.changes=0,l.onRender(u)),l.changes){if(l.$recursionLimit--<0)return;l.schedule()}else l.$recursionLimit=2}}return s.prototype.schedule=function(a){this.changes=this.changes|a,this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)},s.prototype.clear=function(a){var o=this.changes;return this.changes=0,o},s}();t.RenderLoop=r});ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(n,t,e){var i=n("../lib/oop"),r=n("../lib/dom"),s=n("../lib/lang"),a=n("../lib/event"),o=n("../lib/useragent"),l=n("../lib/event_emitter").EventEmitter,c=512,u=typeof ResizeObserver=="function",d=200,h=function(){function m(f){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),f.appendChild(this.el),this.$measureNode.textContent=s.stringRepeat("X",c),this.$characterSize={width:0,height:0},u?this.$addObserver():this.checkForSizeChanges()}return m.prototype.$setMeasureNodeStyles=function(f,p){f.width=f.height="auto",f.left=f.top="0px",f.visibility="hidden",f.position="absolute",f.whiteSpace="pre",o.isIE<8?f["font-family"]="inherit":f.font="inherit",f.overflow=p?"hidden":"visible"},m.prototype.checkForSizeChanges=function(f){if(f===void 0&&(f=this.$measureSizes()),f&&(this.$characterSize.width!==f.width||this.$characterSize.height!==f.height)){this.$measureNode.style.fontWeight="bold";var p=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=f,this.charSizes=Object.create(null),this.allowBoldFonts=p&&p.width===f.width&&p.height===f.height,this._emit("changeCharacterSize",{data:f})}},m.prototype.$addObserver=function(){var f=this;this.$observer=new window.ResizeObserver(function(p){f.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},m.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var f=this;return this.$pollSizeChangesTimer=a.onIdle(function p(){f.checkForSizeChanges(),a.onIdle(p,500)},500)},m.prototype.setPolling=function(f){f?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},m.prototype.$measureSizes=function(f){var p={height:(f||this.$measureNode).clientHeight,width:(f||this.$measureNode).clientWidth/c};return p.width===0||p.height===0?null:p},m.prototype.$measureCharWidth=function(f){this.$main.textContent=s.stringRepeat(f,c);var p=this.$main.getBoundingClientRect();return p.width/c},m.prototype.getCharacterWidth=function(f){var p=this.charSizes[f];return p===void 0&&(p=this.charSizes[f]=this.$measureCharWidth(f)/this.$characterSize.width),p},m.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},m.prototype.$getZoom=function(f){return!f||!f.parentElement?1:(Number(window.getComputedStyle(f).zoom)||1)*this.$getZoom(f.parentElement)},m.prototype.$initTransformMeasureNodes=function(){var f=function(p,g){return["div",{style:"position: absolute;top:"+p+"px;left:"+g+"px;"}]};this.els=r.buildDom([f(0,0),f(d,0),f(0,d),f(d,d)],this.el)},m.prototype.transformCoordinates=function(f,p){if(f){var g=this.$getZoom(this.el);f=x(1/g,f)}function y(N,F,z){var V=N[1]*F[0]-N[0]*F[1];return[(-F[1]*z[0]+F[0]*z[1])/V,(+N[1]*z[0]-N[0]*z[1])/V]}function w(N,F){return[N[0]-F[0],N[1]-F[1]]}function k(N,F){return[N[0]+F[0],N[1]+F[1]]}function x(N,F){return[N*F[0],N*F[1]]}this.els||this.$initTransformMeasureNodes();function C(N){var F=N.getBoundingClientRect();return[F.left,F.top]}var A=C(this.els[0]),T=C(this.els[1]),E=C(this.els[2]),L=C(this.els[3]),S=y(w(L,T),w(L,E),w(k(T,E),k(L,A))),v=x(1+S[0],w(T,A)),_=x(1+S[1],w(E,A));if(p){var b=p,M=S[0]*b[0]/d+S[1]*b[1]/d+1,I=k(x(b[0],v),x(b[1],_));return k(x(1/M/d,I),A)}var D=w(f,A),O=y(w(v,x(S[0],D)),w(_,x(S[1],D)),D);return x(d,O)},m}();h.prototype.$characterSize={width:0,height:0},i.implement(h.prototype,l),t.FontMetrics=h});ace.define("ace/css/editor-css",["require","exports","module"],function(n,t,e){e.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget, .ace_custom-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
    pointer-events: auto;
}

.ace_custom-widget {
    background: none;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "\u21A9";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`});ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(n,t,e){"use strict";var i=n("../lib/dom"),r=n("../lib/oop"),s=n("../lib/event_emitter").EventEmitter,a=function(){function o(l,c){this.renderer=c,this.pixelRatio=1,this.maxHeight=c.layerConfig.maxHeight,this.lineHeight=c.layerConfig.lineHeight,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},this.setScrollBarV(l)}return o.prototype.$createCanvas=function(){this.canvas=i.createElement("canvas"),this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7",this.canvas.style.position="absolute"},o.prototype.setScrollBarV=function(l){this.$createCanvas(),this.scrollbarV=l,l.element.appendChild(this.canvas),this.setDimensions()},o.prototype.$updateDecorators=function(l){if(typeof this.canvas.getContext!="function")return;var c=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;this.setDimensions(l);var u=this.canvas.getContext("2d");function d(v,_){return v.priority<_.priority?-1:v.priority>_.priority?1:0}var h=this.renderer.session.$annotations;if(u.clearRect(0,0,this.canvas.width,this.canvas.height),h){var m={info:1,warning:2,error:3};h.forEach(function(v){v.priority=m[v.type]||null}),h=h.sort(d);for(var f=0;f<h.length;f++){var p=h[f].row,g=this.getVerticalOffsetForRow(p),y=g+this.lineHeight,w=Math.round(this.heightRatio*g),k=Math.round(this.heightRatio*y),x=Math.round((w+k)/2),C=k-x;C<this.halfMinDecorationHeight&&(C=this.halfMinDecorationHeight),x-C<0&&(x=C),x+C>this.canvasHeight&&(x=this.canvasHeight-C);var A=x-C,T=x+C,E=T-A;u.fillStyle=c[h[f].type]||null,u.fillRect(0,A,Math.round(this.oneZoneWidth-1),E)}}var L=this.renderer.session.selection.getCursor();if(L){var S=Math.round(this.getVerticalOffsetForRow(L.row)*this.heightRatio);u.fillStyle="rgba(0, 0, 0, 0.5)",u.fillRect(0,S,this.canvasWidth,2)}},o.prototype.getVerticalOffsetForRow=function(l){l=l|0;var c=this.renderer.session.documentToScreenRow(l,0)*this.lineHeight;return c},o.prototype.setDimensions=function(l){l=l||this.renderer.layerConfig,this.maxHeight=l.maxHeight,this.lineHeight=l.lineHeight,this.canvasHeight=l.height,this.canvasWidth=this.scrollbarV.width||this.canvasWidth,this.setZoneWidth(),this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.maxHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight},o.prototype.setZoneWidth=function(){this.oneZoneWidth=this.canvasWidth},o.prototype.destroy=function(){this.canvas.parentNode.removeChild(this.canvas)},o}();r.implement(a.prototype,s),t.Decorator=a});ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(n,t,e){"use strict";var i=n("./lib/oop"),r=n("./lib/dom"),s=n("./lib/lang"),a=n("./config"),o=n("./layer/gutter").Gutter,l=n("./layer/marker").Marker,c=n("./layer/text").Text,u=n("./layer/cursor").Cursor,d=n("./scrollbar").HScrollBar,h=n("./scrollbar").VScrollBar,m=n("./scrollbar_custom").HScrollBar,f=n("./scrollbar_custom").VScrollBar,p=n("./renderloop").RenderLoop,g=n("./layer/font_metrics").FontMetrics,y=n("./lib/event_emitter").EventEmitter,w=n("./css/editor-css"),k=n("./layer/decorators").Decorator,x=n("./lib/useragent"),C=n("./layer/text_util").isTextToken;r.importCssString(w,"ace_editor.css",!1);var A=function(){function T(E,L){var S=this;this.container=E||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(L),a.get("useStrictCSP")==null&&a.set("useStrictCSP",!1),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new o(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var v=this.$textLayer=new c(this.content);this.canvas=v.element,this.$markerFront=new l(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.on("scroll",function(_){S.$scrollAnimation||S.session.setScrollTop(_.data-S.scrollMargin.top)}),this.scrollBarH.on("scroll",function(_){S.$scrollAnimation||S.session.setScrollLeft(_.data-S.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(_){S.updateCharacterSize(),S.onResize(!0,S.gutterWidth,S.$size.width,S.$size.height),S._signal("changeCharacterSize",_)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!x.isIOS,this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),a.resetOptions(this),a._signal("renderer",this)}return T.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},T.prototype.setSession=function(E){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=E,E&&this.scrollMargin.top&&E.getScrollTop()<=0&&E.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(E),this.$markerBack.setSession(E),this.$markerFront.setSession(E),this.$gutterLayer.setSession(E),this.$textLayer.setSession(E),E&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},T.prototype.updateLines=function(E,L,S){if(L===void 0&&(L=1/0),this.$changedLines?(this.$changedLines.firstRow>E&&(this.$changedLines.firstRow=E),this.$changedLines.lastRow<L&&(this.$changedLines.lastRow=L)):this.$changedLines={firstRow:E,lastRow:L},this.$changedLines.lastRow<this.layerConfig.firstRow)if(S)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},T.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},T.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},T.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},T.prototype.updateFull=function(E){E?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},T.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},T.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},T.prototype.onResize=function(E,L,S,v){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=E?1:0;var _=this.container;v||(v=_.clientHeight||_.scrollHeight),!v&&this.$maxLines&&this.lineHeight>1&&(!_.style.height||_.style.height=="0px")&&(_.style.height="1px",v=_.clientHeight||_.scrollHeight),S||(S=_.clientWidth||_.scrollWidth);var b=this.$updateCachedSize(E,L,S,v);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!S&&!v)return this.resizing=0;E&&(this.$gutterLayer.$padding=null),E?this.$renderChanges(b|this.$changes,!0):this.$loop.schedule(b|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},T.prototype.$updateCachedSize=function(E,L,S,v){v-=this.$extraHeight||0;var _=0,b=this.$size,M={width:b.width,height:b.height,scrollerHeight:b.scrollerHeight,scrollerWidth:b.scrollerWidth};if(v&&(E||b.height!=v)&&(b.height=v,_|=this.CHANGE_SIZE,b.scrollerHeight=b.height,this.$horizScroll&&(b.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(b.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",_=_|this.CHANGE_SCROLL),S&&(E||b.width!=S)){_|=this.CHANGE_SIZE,b.width=S,L==null&&(L=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=L,r.setStyle(this.scrollBarH.element.style,"left",L+"px"),r.setStyle(this.scroller.style,"left",L+this.margin.left+"px"),b.scrollerWidth=Math.max(0,S-L-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var I=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",I),r.setStyle(this.scroller.style,"right",I),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(b.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||E)&&(_|=this.CHANGE_FULL)}return b.$dirty=!S||!v,_&&this._signal("resize",M),_},T.prototype.onGutterResize=function(E){var L=this.$showGutter?E:0;L!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,L,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},T.prototype.adjustWrapLimit=function(){var E=this.$size.scrollerWidth-this.$padding*2,L=Math.floor(E/this.characterWidth);return this.session.adjustWrapLimit(L,this.$showPrintMargin&&this.$printMarginColumn)},T.prototype.setAnimatedScroll=function(E){this.setOption("animatedScroll",E)},T.prototype.getAnimatedScroll=function(){return this.$animatedScroll},T.prototype.setShowInvisibles=function(E){this.setOption("showInvisibles",E),this.session.$bidiHandler.setShowInvisibles(E)},T.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},T.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},T.prototype.setDisplayIndentGuides=function(E){this.setOption("displayIndentGuides",E)},T.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},T.prototype.setHighlightIndentGuides=function(E){this.setOption("highlightIndentGuides",E)},T.prototype.setShowPrintMargin=function(E){this.setOption("showPrintMargin",E)},T.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},T.prototype.setPrintMarginColumn=function(E){this.setOption("printMarginColumn",E)},T.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},T.prototype.getShowGutter=function(){return this.getOption("showGutter")},T.prototype.setShowGutter=function(E){return this.setOption("showGutter",E)},T.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},T.prototype.setFadeFoldWidgets=function(E){this.setOption("fadeFoldWidgets",E)},T.prototype.setHighlightGutterLine=function(E){this.setOption("highlightGutterLine",E)},T.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},T.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var E=r.createElement("div");E.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",E.appendChild(this.$printMarginEl),this.content.insertBefore(E,this.content.firstChild)}var L=this.$printMarginEl.style;L.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",L.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},T.prototype.getContainerElement=function(){return this.container},T.prototype.getMouseEventTarget=function(){return this.scroller},T.prototype.getTextAreaContainer=function(){return this.container},T.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var E=this.textarea.style,L=this.$composition;if(!this.$keepTextAreaAtCursor&&!L){r.translate(this.textarea,-100,0);return}var S=this.$cursorLayer.$pixelPos;if(S){L&&L.markerRange&&(S=this.$cursorLayer.getPixelPosition(L.markerRange.start,!0));var v=this.layerConfig,_=S.top,b=S.left;_-=v.offset;var M=L&&L.useTextareaForIME||x.isMobile?this.lineHeight:1;if(_<0||_>v.height-M){r.translate(this.textarea,0,0);return}var I=1,D=this.$size.height-M;if(!L)_+=this.lineHeight;else if(L.useTextareaForIME){var O=this.textarea.value;I=this.characterWidth*this.session.$getStringScreenWidth(O)[0]}else _+=this.lineHeight+2;b-=this.scrollLeft,b>this.$size.scrollerWidth-I&&(b=this.$size.scrollerWidth-I),b+=this.gutterWidth+this.margin.left,r.setStyle(E,"height",M+"px"),r.setStyle(E,"width",I+"px"),r.translate(this.textarea,Math.min(b,this.$size.scrollerWidth-I),Math.min(_,D))}}},T.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},T.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},T.prototype.getLastFullyVisibleRow=function(){var E=this.layerConfig,L=E.lastRow,S=this.session.documentToScreenRow(L,0)*E.lineHeight;return S-this.session.getScrollTop()>E.height-E.lineHeight?L-1:L},T.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},T.prototype.setPadding=function(E){this.$padding=E,this.$textLayer.setPadding(E),this.$cursorLayer.setPadding(E),this.$markerFront.setPadding(E),this.$markerBack.setPadding(E),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},T.prototype.setScrollMargin=function(E,L,S,v){var _=this.scrollMargin;_.top=E|0,_.bottom=L|0,_.right=v|0,_.left=S|0,_.v=_.top+_.bottom,_.h=_.left+_.right,_.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-_.top),this.updateFull()},T.prototype.setMargin=function(E,L,S,v){var _=this.margin;_.top=E|0,_.bottom=L|0,_.right=v|0,_.left=S|0,_.v=_.top+_.bottom,_.h=_.left+_.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},T.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},T.prototype.setHScrollBarAlwaysVisible=function(E){this.setOption("hScrollBarAlwaysVisible",E)},T.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},T.prototype.setVScrollBarAlwaysVisible=function(E){this.setOption("vScrollBarAlwaysVisible",E)},T.prototype.$updateScrollBarV=function(){var E=this.layerConfig.maxHeight,L=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(E-=(L-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>E-L&&(E=this.scrollTop+L,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(E+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},T.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},T.prototype.freeze=function(){this.$frozen=!0},T.prototype.unfreeze=function(){this.$frozen=!1},T.prototype.$renderChanges=function(E,L){if(this.$changes&&(E|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!E&&!L){this.$changes|=E;return}if(this.$size.$dirty)return this.$changes|=E,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",E),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var S=this.layerConfig;if(E&this.CHANGE_FULL||E&this.CHANGE_SIZE||E&this.CHANGE_TEXT||E&this.CHANGE_LINES||E&this.CHANGE_SCROLL||E&this.CHANGE_H_SCROLL){if(E|=this.$computeLayerConfig()|this.$loop.clear(),S.firstRow!=this.layerConfig.firstRow&&S.firstRowScreen==this.layerConfig.firstRowScreen){var v=this.scrollTop+(S.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;v>0&&(this.scrollTop=v,E=E|this.CHANGE_SCROLL,E|=this.$computeLayerConfig()|this.$loop.clear())}S=this.layerConfig,this.$updateScrollBarV(),E&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-S.offset);var _=S.width+2*this.$padding+"px",b=S.minHeight+"px";r.setStyle(this.content.style,"width",_),r.setStyle(this.content.style,"height",b)}if(E&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-S.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),E&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(S),this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S),this.$markerBack.update(S),this.$markerFront.update(S),this.$cursorLayer.update(S),this.$moveTextAreaToCursor(),this._signal("afterRender",E);return}if(E&this.CHANGE_SCROLL){this.$changedLines=null,E&this.CHANGE_TEXT||E&this.CHANGE_LINES?this.$textLayer.update(S):this.$textLayer.scrollLines(S),this.$showGutter&&(E&this.CHANGE_GUTTER||E&this.CHANGE_LINES?this.$gutterLayer.update(S):this.$gutterLayer.scrollLines(S)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S),this.$markerBack.update(S),this.$markerFront.update(S),this.$cursorLayer.update(S),this.$moveTextAreaToCursor(),this._signal("afterRender",E);return}E&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(S),this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):E&this.CHANGE_LINES?((this.$updateLines()||E&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):E&this.CHANGE_TEXT||E&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):E&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)),E&this.CHANGE_CURSOR&&(this.$cursorLayer.update(S),this.$moveTextAreaToCursor()),E&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(S),E&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(S),this._signal("afterRender",E)},T.prototype.$autosize=function(){var E=this.session.getScreenLength()*this.lineHeight,L=this.$maxLines*this.lineHeight,S=Math.min(L,Math.max((this.$minLines||1)*this.lineHeight,E))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(S+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&S>this.$maxPixelHeight&&(S=this.$maxPixelHeight);var v=S<=2*this.lineHeight,_=!v&&E>L;if(S!=this.desiredHeight||this.$size.height!=this.desiredHeight||_!=this.$vScroll){_!=this.$vScroll&&(this.$vScroll=_,this.scrollBarV.setVisible(_));var b=this.container.clientWidth;this.container.style.height=S+"px",this.$updateCachedSize(!0,this.$gutterWidth,b,S),this.desiredHeight=S,this._signal("autosize")}},T.prototype.$computeLayerConfig=function(){var E=this.session,L=this.$size,S=L.height<=2*this.lineHeight,v=this.session.getScreenLength(),_=v*this.lineHeight,b=this.$getLongestLine(),M=!S&&(this.$hScrollBarAlwaysVisible||L.scrollerWidth-b-2*this.$padding<0),I=this.$horizScroll!==M;I&&(this.$horizScroll=M,this.scrollBarH.setVisible(M));var D=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),S=L.height<=2*this.lineHeight);var O=L.scrollerHeight+this.lineHeight,N=!this.$maxLines&&this.$scrollPastEnd?(L.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;_+=N;var F=this.scrollMargin;this.session.setScrollTop(Math.max(-F.top,Math.min(this.scrollTop,_-L.scrollerHeight+F.bottom))),this.session.setScrollLeft(Math.max(-F.left,Math.min(this.scrollLeft,b+2*this.$padding-L.scrollerWidth+F.right)));var z=!S&&(this.$vScrollBarAlwaysVisible||L.scrollerHeight-_+N<0||this.scrollTop>F.top),V=D!==z;V&&(this.$vScroll=z,this.scrollBarV.setVisible(z));var K=this.scrollTop%this.lineHeight,W=Math.ceil(O/this.lineHeight)-1,q=Math.max(0,Math.round((this.scrollTop-K)/this.lineHeight)),ae=q+W,pe,ie,ne=this.lineHeight;q=E.screenToDocumentRow(q,0);var Ee=E.getFoldLine(q);Ee&&(q=Ee.start.row),pe=E.documentToScreenRow(q,0),ie=E.getRowLength(q)*ne,ae=Math.min(E.screenToDocumentRow(ae,0),E.getLength()-1),O=L.scrollerHeight+E.getRowLength(ae)*ne+ie,K=this.scrollTop-pe*ne,K<0&&pe>0&&(pe=Math.max(0,pe+Math.floor(K/ne)),K=this.scrollTop-pe*ne);var we=0;return(this.layerConfig.width!=b||I)&&(we=this.CHANGE_H_SCROLL),(I||V)&&(we|=this.$updateCachedSize(!0,this.gutterWidth,L.width,L.height),this._signal("scrollbarVisibilityChanged"),V&&(b=this.$getLongestLine())),this.layerConfig={width:b,padding:this.$padding,firstRow:q,firstRowScreen:pe,lastRow:ae,lineHeight:ne,characterWidth:this.characterWidth,minHeight:O,maxHeight:_,offset:K,gutterOffset:ne?Math.max(0,Math.ceil((K+L.height-L.scrollerHeight)/ne)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(b-this.$padding),we},T.prototype.$updateLines=function(){if(this.$changedLines){var E=this.$changedLines.firstRow,L=this.$changedLines.lastRow;this.$changedLines=null;var S=this.layerConfig;if(!(E>S.lastRow+1)&&!(L<S.firstRow)){if(L===1/0){this.$showGutter&&this.$gutterLayer.update(S),this.$textLayer.update(S);return}return this.$textLayer.updateLines(S,E,L),!0}}},T.prototype.$getLongestLine=function(){var E=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(E+=1),this.$textLayer&&E>this.$textLayer.MAX_LINE_LENGTH&&(E=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(E*this.characterWidth))},T.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},T.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},T.prototype.addGutterDecoration=function(E,L){this.$gutterLayer.addGutterDecoration(E,L)},T.prototype.removeGutterDecoration=function(E,L){this.$gutterLayer.removeGutterDecoration(E,L)},T.prototype.updateBreakpoints=function(E){this._rows=E,this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.setAnnotations=function(E){this.$gutterLayer.setAnnotations(E),this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},T.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},T.prototype.showCursor=function(){this.$cursorLayer.showCursor()},T.prototype.scrollSelectionIntoView=function(E,L,S){this.scrollCursorIntoView(E,S),this.scrollCursorIntoView(L,S)},T.prototype.scrollCursorIntoView=function(E,L,S){if(this.$size.scrollerHeight!==0){var v=this.$cursorLayer.getPixelPosition(E),_=v.left,b=v.top,M=S&&S.top||0,I=S&&S.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var D=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;D+M>b?(L&&D+M>b+this.lineHeight&&(b-=L*this.$size.scrollerHeight),b===0&&(b=-this.scrollMargin.top),this.session.setScrollTop(b)):D+this.$size.scrollerHeight-I<b+this.lineHeight&&(L&&D+this.$size.scrollerHeight-I<b-this.lineHeight&&(b+=L*this.$size.scrollerHeight),this.session.setScrollTop(b+this.lineHeight+I-this.$size.scrollerHeight));var O=this.scrollLeft,N=2*this.layerConfig.characterWidth;_-N<O?(_-=N,_<this.$padding+N&&(_=-this.scrollMargin.left),this.session.setScrollLeft(_)):(_+=N,O+this.$size.scrollerWidth<_+this.characterWidth?this.session.setScrollLeft(Math.round(_+this.characterWidth-this.$size.scrollerWidth)):O<=this.$padding&&_-O<this.characterWidth&&this.session.setScrollLeft(0))}},T.prototype.getScrollTop=function(){return this.session.getScrollTop()},T.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},T.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},T.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},T.prototype.scrollToRow=function(E){this.session.setScrollTop(E*this.lineHeight)},T.prototype.alignCursor=function(E,L){typeof E=="number"&&(E={row:E,column:0});var S=this.$cursorLayer.getPixelPosition(E),v=this.$size.scrollerHeight-this.lineHeight,_=S.top-v*(L||0);return this.session.setScrollTop(_),_},T.prototype.$calcSteps=function(E,L){var S=0,v=this.STEPS,_=[],b=function(M,I,D){return D*(Math.pow(M-1,3)+1)+I};for(S=0;S<v;++S)_.push(b(S/this.STEPS,E,L-E));return _},T.prototype.scrollToLine=function(E,L,S,v){var _=this.$cursorLayer.getPixelPosition({row:E,column:0}),b=_.top;L&&(b-=this.$size.scrollerHeight/2);var M=this.scrollTop;this.session.setScrollTop(b),S!==!1&&this.animateScrolling(M,v)},T.prototype.animateScrolling=function(E,L){var S=this.scrollTop;if(!this.$animatedScroll)return;var v=this;if(E==S)return;if(this.$scrollAnimation){var _=this.$scrollAnimation.steps;if(_.length&&(E=_[0],E==S))return}var b=v.$calcSteps(E,S);this.$scrollAnimation={from:E,to:S,steps:b},clearInterval(this.$timer),v.session.setScrollTop(b.shift()),v.session.$scrollTop=S;function M(){v.$timer=clearInterval(v.$timer),v.$scrollAnimation=null,v.$stopAnimation=!1,L&&L()}this.$timer=setInterval(function(){if(v.$stopAnimation){M();return}if(!v.session)return clearInterval(v.$timer);b.length?(v.session.setScrollTop(b.shift()),v.session.$scrollTop=S):S!=null?(v.session.$scrollTop=-1,v.session.setScrollTop(S),S=null):M()},10)},T.prototype.scrollToY=function(E){this.scrollTop!==E&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=E)},T.prototype.scrollToX=function(E){this.scrollLeft!==E&&(this.scrollLeft=E),this.$loop.schedule(this.CHANGE_H_SCROLL)},T.prototype.scrollTo=function(E,L){this.session.setScrollTop(L),this.session.setScrollLeft(E)},T.prototype.scrollBy=function(E,L){L&&this.session.setScrollTop(this.session.getScrollTop()+L),E&&this.session.setScrollLeft(this.session.getScrollLeft()+E)},T.prototype.isScrollableBy=function(E,L){if(L<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||L>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||E<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||E>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},T.prototype.pixelToScreenCoordinates=function(E,L){var S;if(this.$hasCssTransforms){S={top:0,left:0};var v=this.$fontMetrics.transformCoordinates([E,L]);E=v[1]-this.gutterWidth-this.margin.left,L=v[0]}else S=this.scroller.getBoundingClientRect();var _=E+this.scrollLeft-S.left-this.$padding,b=_/this.characterWidth,M=Math.floor((L+this.scrollTop-S.top)/this.lineHeight),I=this.$blockCursor?Math.floor(b):Math.round(b);return{row:M,column:I,side:b-I>0?1:-1,offsetX:_}},T.prototype.screenToTextCoordinates=function(E,L){var S;if(this.$hasCssTransforms){S={top:0,left:0};var v=this.$fontMetrics.transformCoordinates([E,L]);E=v[1]-this.gutterWidth-this.margin.left,L=v[0]}else S=this.scroller.getBoundingClientRect();var _=E+this.scrollLeft-S.left-this.$padding,b=_/this.characterWidth,M=this.$blockCursor?Math.floor(b):Math.round(b),I=Math.floor((L+this.scrollTop-S.top)/this.lineHeight);return this.session.screenToDocumentPosition(I,Math.max(M,0),_)},T.prototype.textToScreenCoordinates=function(E,L){var S=this.scroller.getBoundingClientRect(),v=this.session.documentToScreenPosition(E,L),_=this.$padding+(this.session.$bidiHandler.isBidiRow(v.row,E)?this.session.$bidiHandler.getPosLeft(v.column):Math.round(v.column*this.characterWidth)),b=v.row*this.lineHeight;return{pageX:S.left+_-this.scrollLeft,pageY:S.top+b-this.scrollTop}},T.prototype.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},T.prototype.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},T.prototype.showComposition=function(E){this.$composition=E,E.cssText||(E.cssText=this.textarea.style.cssText),E.useTextareaForIME==null&&(E.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):E.markerId=this.session.addMarker(E.markerRange,"ace_composition_marker","text")},T.prototype.setCompositionText=function(E){var L=this.session.selection.cursor;this.addToken(E,"composition_placeholder",L.row,L.column),this.$moveTextAreaToCursor()},T.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var E=this.session.selection.cursor;this.removeExtraToken(E.row,E.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},T.prototype.setGhostText=function(E,L){var S=this.session.selection.cursor,v=L||{row:S.row,column:S.column};this.removeGhostText();var _=this.$calculateWrappedTextChunks(E,v);this.addToken(_[0].text,"ghost_text",v.row,v.column),this.$ghostText={text:E,position:{row:v.row,column:v.column}};var b=r.createElement("div");if(_.length>1){var M=this.hideTokensAfterPosition(v.row,v.column),I;_.slice(1).forEach(function(V){var K=r.createElement("div"),W=r.createElement("span");W.className="ace_ghost_text",V.wrapped&&(K.className="ghost_text_line_wrapped"),V.text.length===0&&(V.text=" "),W.appendChild(r.createTextNode(V.text)),K.appendChild(W),b.appendChild(K),I=K}),M.forEach(function(V){var K=r.createElement("span");C(V.type)||(K.className="ace_"+V.type.replace(/\./g," ace_")),K.appendChild(r.createTextNode(V.value)),I.appendChild(K)}),this.$ghostTextWidget={el:b,row:v.row,column:v.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var D=this.$cursorLayer.getPixelPosition(v,!0),O=this.container,N=O.getBoundingClientRect().height,F=_.length*this.lineHeight,z=F<N-D.top;if(z)return;F<N?this.scrollBy(0,(_.length-1)*this.lineHeight):this.scrollToRow(v.row)}},T.prototype.$calculateWrappedTextChunks=function(E,L){var S=this.$size.scrollerWidth-this.$padding*2,v=Math.floor(S/this.characterWidth)-2;v=v<=0?60:v;for(var _=E.split(/\r?\n/),b=[],M=0;M<_.length;M++){var I=this.session.$getDisplayTokens(_[M],L.column),D=this.session.$computeWrapSplits(I,v,this.session.$tabSize);if(D.length>0){var O=0;D.push(_[M].length);for(var N=0;N<D.length;N++){var F=_[M].slice(O,D[N]);b.push({text:F,wrapped:!0}),O=D[N]}}else b.push({text:_[M],wrapped:!1})}return b},T.prototype.removeGhostText=function(){if(this.$ghostText){var E=this.$ghostText.position;this.removeExtraToken(E.row,E.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},T.prototype.addToken=function(E,L,S,v){var _=this.session;_.bgTokenizer.lines[S]=null;var b={type:L,value:E},M=_.getTokens(S);if(v==null||!M.length)M.push(b);else for(var I=0,D=0;D<M.length;D++){var O=M[D];if(I+=O.value.length,v<=I){var N=O.value.length-(I-v),F=O.value.slice(0,N),z=O.value.slice(N);M.splice(D,1,{type:O.type,value:F},b,{type:O.type,value:z});break}}this.updateLines(S,S)},T.prototype.hideTokensAfterPosition=function(E,L){for(var S=this.session.getTokens(E),v=0,_=!1,b=[],M=0;M<S.length;M++){var I=S[M];if(v+=I.value.length,I.type!=="ghost_text"){if(_){b.push({type:I.type,value:I.value}),I.type="hidden_token";continue}v===L&&(_=!0)}}return this.updateLines(E,E),b},T.prototype.removeExtraToken=function(E,L){this.session.bgTokenizer.lines[E]=null,this.updateLines(E,E)},T.prototype.setTheme=function(E,L){var S=this;if(this.$themeId=E,S._dispatchEvent("themeChange",{theme:E}),!E||typeof E=="string"){var v=E||this.$options.theme.initialValue;a.loadModule(["theme",v],_)}else _(E);function _(b){if(S.$themeId!=E)return L&&L();if(!b||!b.cssClass)throw new Error("couldn't load module "+E+" or it didn't call define");b.$id&&(S.$themeId=b.$id),r.importCssString(b.cssText,b.cssClass,S.container),S.theme&&r.removeCssClass(S.container,S.theme.cssClass);var M="padding"in b?b.padding:"padding"in(S.theme||{})?4:S.$padding;if(S.$padding&&M!=S.$padding&&S.setPadding(M),S.$gutterLayer){var I=b.$showGutterCursorMarker;I&&!S.$gutterLayer.$showCursorMarker?S.$gutterLayer.$showCursorMarker="theme":!I&&S.$gutterLayer.$showCursorMarker=="theme"&&(S.$gutterLayer.$showCursorMarker=null)}S.$theme=b.cssClass,S.theme=b,r.addCssClass(S.container,b.cssClass),r.setCssClass(S.container,"ace_dark",b.isDark),S.$size&&(S.$size.width=0,S.$updateSizeAsync()),S._dispatchEvent("themeLoaded",{theme:b}),L&&L(),x.isSafari&&S.scroller&&(S.scroller.style.background="red",S.scroller.style.background="")}},T.prototype.getTheme=function(){return this.$themeId},T.prototype.setStyle=function(E,L){r.setCssClass(this.container,E,L!==!1)},T.prototype.unsetStyle=function(E){r.removeCssClass(this.container,E)},T.prototype.setCursorStyle=function(E){r.setStyle(this.scroller.style,"cursor",E)},T.prototype.setMouseCursor=function(E){r.setStyle(this.scroller.style,"cursor",E)},T.prototype.attachToShadowRoot=function(){r.importCssString(w,"ace_editor.css",this.container)},T.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},T.prototype.$updateCustomScrollbar=function(E){var L=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),E===!0?(this.scrollBarV=new f(this.container,this),this.scrollBarH=new m(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(S){L.$scrollAnimation||L.session.setScrollTop(S.data-L.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(S){L.$scrollAnimation||L.session.setScrollLeft(S.data-L.scrollMargin.left)}),this.$scrollDecorator?(this.$scrollDecorator.setScrollBarV(this.scrollBarV),this.$scrollDecorator.$updateDecorators()):(this.$scrollDecorator=new k(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators())):(this.scrollBarV=new h(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.addEventListener("scroll",function(S){L.$scrollAnimation||L.session.setScrollTop(S.data-L.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(S){L.$scrollAnimation||L.session.setScrollLeft(S.data-L.scrollMargin.left)}))},T.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var E=this;this.$resizeTimer=s.delayedCall(function(){E.destroyed||E.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(L){var S=L[0].contentRect.width,v=L[0].contentRect.height;Math.abs(E.$size.width-S)>1||Math.abs(E.$size.height-v)>1?E.$resizeTimer.delay():E.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},T}();A.prototype.CHANGE_CURSOR=1,A.prototype.CHANGE_MARKER=2,A.prototype.CHANGE_GUTTER=4,A.prototype.CHANGE_SCROLL=8,A.prototype.CHANGE_LINES=16,A.prototype.CHANGE_TEXT=32,A.prototype.CHANGE_SIZE=64,A.prototype.CHANGE_MARKER_BACK=128,A.prototype.CHANGE_MARKER_FRONT=256,A.prototype.CHANGE_FULL=512,A.prototype.CHANGE_H_SCROLL=1024,A.prototype.$changes=0,A.prototype.$padding=null,A.prototype.$frozen=!1,A.prototype.STEPS=8,i.implement(A.prototype,y),a.defineOptions(A.prototype,"renderer",{useResizeObserver:{set:function(T){!T&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):T&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(T){this.$textLayer.setShowInvisibles(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(T){typeof T=="number"&&(this.$printMarginColumn=T),this.$showPrintMargin=!!T,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(T){this.$gutter.style.display=T?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(T){this.$gutterLayer.$useSvgGutterIcons=T},initialValue:!1},showFoldedAnnotations:{set:function(T){this.$gutterLayer.$showFoldedAnnotations=T},initialValue:!1},fadeFoldWidgets:{set:function(T){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",T)},initialValue:!1},showFoldWidgets:{set:function(T){this.$gutterLayer.setShowFoldWidgets(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(T){this.$textLayer.setDisplayIndentGuides(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(T){this.$textLayer.setHighlightIndentGuides(T)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(T){this.$gutterLayer.setHighlightGutterLine(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(T){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(T){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(T){typeof T=="number"&&(T=T+"px"),this.container.style.fontSize=T,this.updateFontSize()},initialValue:12},fontFamily:{set:function(T){this.container.style.fontFamily=T,this.updateFontSize()}},maxLines:{set:function(T){this.updateFull()}},minLines:{set:function(T){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(T){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(T){T=+T||0,this.$scrollPastEnd!=T&&(this.$scrollPastEnd=T,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(T){this.$gutterLayer.$fixedWidth=!!T,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(T){this.$updateCustomScrollbar(T)},initialValue:!1},theme:{set:function(T){this.setTheme(T)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!x.isMobile&&!x.isIE}}),t.VirtualRenderer=A});ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,t,e){"use strict";var i=n("../lib/oop"),r=n("../lib/net"),s=n("../lib/event_emitter").EventEmitter,a=n("../config");function o(d){var h="importScripts('"+r.qualifyURL(d)+"');";try{return new Blob([h],{type:"application/javascript"})}catch{var m=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,f=new m;return f.append(h),f.getBlob("application/javascript")}}function l(d){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(a.get("loadWorkerFromBlob")){var h=o(d),m=window.URL||window.webkitURL,f=m.createObjectURL(h);return new Worker(f)}return new Worker(d)}var c=function(d){d.postMessage||(d=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=d,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,s),this.$createWorkerFromOldConfig=function(d,h,m,f,p){if(n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl),a.get("packaged")||!n.toUrl)f=f||a.moduleUrl(h,"worker");else{var g=this.$normalizePath;f=f||g(n.toUrl("ace/worker/worker.js",null,"_"));var y={};d.forEach(function(w){y[w]=g(n.toUrl(w,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=l(f),p&&this.send("importScripts",p),this.$worker.postMessage({init:!0,tlns:y,module:h,classname:m}),this.$worker},this.onMessage=function(d){var h=d.data;switch(h.type){case"event":this._signal(h.name,{data:h.data});break;case"call":var m=this.callbacks[h.id];m&&(m(h.data),delete this.callbacks[h.id]);break;case"error":this.reportError(h.data);break;case"log":window.console&&console.log&&console.log.apply(console,h.data);break}},this.reportError=function(d){window.console&&console.error&&console.error(d)},this.$normalizePath=function(d){return r.qualifyURL(d)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(d){d.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(d,h){this.$worker.postMessage({command:d,args:h})},this.call=function(d,h,m){if(m){var f=this.callbackId++;this.callbacks[f]=m,h.push(f)}this.send(d,h)},this.emit=function(d,h){try{h.data&&h.data.err&&(h.data.err={message:h.data.err.message,stack:h.data.err.stack,code:h.data.err.code}),this.$worker&&this.$worker.postMessage({event:d,data:{data:h.data}})}catch(m){console.error(m.stack)}},this.attachToDocument=function(d){this.$doc&&this.terminate(),this.$doc=d,this.call("setValue",[d.getValue()]),d.on("change",this.changeListener,!0)},this.changeListener=function(d){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),d.action=="insert"?this.deltaQueue.push(d.start,d.lines):this.deltaQueue.push(d.start,d.end)},this.$sendDeltaQueue=function(){var d=this.deltaQueue;d&&(this.deltaQueue=null,d.length>50&&d.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:d}))}}).call(c.prototype);var u=function(d,h,m){var f=null,p=!1,g=Object.create(s),y=[],w=new c({messageBuffer:y,terminate:function(){},postMessage:function(x){y.push(x),f&&(p?setTimeout(k):k())}});w.setEmitSync=function(x){p=x};var k=function(){var x=y.shift();x.command?f[x.command].apply(f,x.args):x.event&&g._signal(x.event,x.data)};return g.postMessage=function(x){w.onMessage({data:x})},g.callback=function(x,C){this.postMessage({type:"call",id:C,data:x})},g.emit=function(x,C){this.postMessage({type:"event",name:x,data:C})},a.loadModule(["worker",h],function(x){for(f=new x[m](g);y.length;)k()}),w};t.UIWorkerClient=u,t.WorkerClient=c,t.createWorker=l});ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,t,e){"use strict";var i=n("./range").Range,r=n("./lib/event_emitter").EventEmitter,s=n("./lib/oop"),a=function(){function o(l,c,u,d,h,m){var f=this;this.length=c,this.session=l,this.doc=l.getDocument(),this.mainClass=h,this.othersClass=m,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=d,this.$onCursorChange=function(){setTimeout(function(){f.onCursorChange()})},this.$pos=u;var p=l.getUndoManager().$undoStack||l.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=p.length,this.setup(),l.selection.on("changeCursor",this.$onCursorChange)}return o.prototype.setup=function(){var l=this,c=this.doc,u=this.session;this.selectionBefore=u.selection.toJSON(),u.selection.inMultiSelectMode&&u.selection.toSingleRange(),this.pos=c.createAnchor(this.$pos.row,this.$pos.column);var d=this.pos;d.$insertRight=!0,d.detach(),d.markerId=u.addMarker(new i(d.row,d.column,d.row,d.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(h){var m=c.createAnchor(h.row,h.column);m.$insertRight=!0,m.detach(),l.others.push(m)}),u.setUndoSelect(!1)},o.prototype.showOtherMarkers=function(){if(!this.othersActive){var l=this.session,c=this;this.othersActive=!0,this.others.forEach(function(u){u.markerId=l.addMarker(new i(u.row,u.column,u.row,u.column+c.length),c.othersClass,null,!1)})}},o.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var l=0;l<this.others.length;l++)this.session.removeMarker(this.others[l].markerId)}},o.prototype.onUpdate=function(l){if(this.$updating)return this.updateAnchors(l);var c=l;if(c.start.row===c.end.row&&c.start.row===this.pos.row){this.$updating=!0;var u=l.action==="insert"?c.end.column-c.start.column:c.start.column-c.end.column,d=c.start.column>=this.pos.column&&c.start.column<=this.pos.column+this.length+1,h=c.start.column-this.pos.column;if(this.updateAnchors(l),d&&(this.length+=u),d&&!this.session.$fromUndo){if(l.action==="insert")for(var m=this.others.length-1;m>=0;m--){var f=this.others[m],p={row:f.row,column:f.column+h};this.doc.insertMergedLines(p,l.lines)}else if(l.action==="remove")for(var m=this.others.length-1;m>=0;m--){var f=this.others[m],p={row:f.row,column:f.column+h};this.doc.remove(new i(p.row,p.column,p.row,p.column-u))}}this.$updating=!1,this.updateMarkers()}},o.prototype.updateAnchors=function(l){this.pos.onChange(l);for(var c=this.others.length;c--;)this.others[c].onChange(l);this.updateMarkers()},o.prototype.updateMarkers=function(){if(!this.$updating){var l=this,c=this.session,u=function(h,m){c.removeMarker(h.markerId),h.markerId=c.addMarker(new i(h.row,h.column,h.row,h.column+l.length),m,null,!1)};u(this.pos,this.mainClass);for(var d=this.others.length;d--;)u(this.others[d],this.othersClass)}},o.prototype.onCursorChange=function(l){if(!(this.$updating||!this.session)){var c=this.session.selection.getCursor();c.row===this.pos.row&&c.column>=this.pos.column&&c.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",l)):(this.hideOtherMarkers(),this._emit("cursorLeave",l))}},o.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},o.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var l=this.session.getUndoManager(),c=(l.$undoStack||l.$undostack).length-this.$undoStackDepth,u=0;u<c;u++)l.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},o}();s.implement(a.prototype,r),t.PlaceHolder=a});ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,t,e){var i=n("../lib/event"),r=n("../lib/useragent");function s(o,l){return o.row==l.row&&o.column==l.column}function a(o){var l=o.domEvent,c=l.altKey,u=l.shiftKey,d=l.ctrlKey,h=o.getAccelKey(),m=o.getButton();if(d&&r.isMac&&(m=l.button),o.editor.inMultiSelectMode&&m==2){o.editor.textInput.onContextMenu(o.domEvent);return}if(!d&&!c&&!h){m===0&&o.editor.inMultiSelectMode&&o.editor.exitMultiSelectMode();return}if(m===0){var f=o.editor,p=f.selection,g=f.inMultiSelectMode,y=o.getDocumentPosition(),w=p.getCursor(),k=o.inSelection()||p.isEmpty()&&s(y,w),x=o.x,C=o.y,A=function(F){x=F.clientX,C=F.clientY},T=f.session,E=f.renderer.pixelToScreenCoordinates(x,C),L=E,S;if(f.$mouseHandler.$enableJumpToDef)d&&c||h&&c?S=u?"block":"add":c&&f.$blockSelectEnabled&&(S="block");else if(h&&!c){if(S="add",!g&&u)return}else c&&f.$blockSelectEnabled&&(S="block");if(S&&r.isMac&&l.ctrlKey&&f.$mouseHandler.cancelContextMenu(),S=="add"){if(!g&&k)return;if(!g){var v=p.toOrientedRange();f.addSelectionMarker(v)}var _=p.rangeList.rangeAtPoint(y);f.inVirtualSelectionMode=!0,u&&(_=null,v=p.ranges[0]||v,f.removeSelectionMarker(v)),f.once("mouseup",function(){var F=p.toOrientedRange();_&&F.isEmpty()&&s(_.cursor,F.cursor)?p.substractPoint(F.cursor):(u?p.substractPoint(v.cursor):v&&(f.removeSelectionMarker(v),p.addRange(v)),p.addRange(F)),f.inVirtualSelectionMode=!1})}else if(S=="block"){o.stop(),f.inVirtualSelectionMode=!0;var b,M=[],I=function(){var F=f.renderer.pixelToScreenCoordinates(x,C),z=T.screenToDocumentPosition(F.row,F.column,F.offsetX);s(L,F)&&s(z,p.lead)||(L=F,f.selection.moveToPosition(z),f.renderer.scrollCursorIntoView(),f.removeSelectionMarkers(M),M=p.rectangularRangeBlock(L,E),f.$mouseHandler.$clickSelection&&M.length==1&&M[0].isEmpty()&&(M[0]=f.$mouseHandler.$clickSelection.clone()),M.forEach(f.addSelectionMarker,f),f.updateSelectionMarkers())};g&&!h?p.toSingleRange():!g&&h&&(b=p.toOrientedRange(),f.addSelectionMarker(b)),u?E=T.documentToScreenPosition(p.lead):p.moveToPosition(y),L={row:-1,column:-1};var D=function(F){I(),clearInterval(N),f.removeSelectionMarkers(M),M.length||(M=[p.toOrientedRange()]),b&&(f.removeSelectionMarker(b),p.toSingleRange(b));for(var z=0;z<M.length;z++)p.addRange(M[z]);f.inVirtualSelectionMode=!1,f.$mouseHandler.$clickSelection=null},O=I;i.capture(f.container,A,D);var N=setInterval(function(){O()},20);return o.preventDefault()}}}t.onMouseDown=a});ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,t,e){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(r){r.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(r){r.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(r){r.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(r){r.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(r){r.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(r){r.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(r){r.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(r){r.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(r){r.multiSelect.rangeCount>1?r.multiSelect.joinSelections():r.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(r){r.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(r){r.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(r){r.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(r){r.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(r){return r&&r.inMultiSelectMode}}];var i=n("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)});ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,t,e){var i=n("./range_list").RangeList,r=n("./range").Range,s=n("./selection").Selection,a=n("./mouse/multi_select_handler").onMouseDown,o=n("./lib/event"),l=n("./lib/lang"),c=n("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var u=n("./search").Search,d=new u;function h(w,k,x){return d.$options.wrap=!0,d.$options.needle=k,d.$options.backwards=x==-1,d.find(w)}var m=n("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(w,k){if(w){if(!this.inMultiSelectMode&&this.rangeCount===0){var x=this.toOrientedRange();if(this.rangeList.add(x),this.rangeList.add(w),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),k||this.fromOrientedRange(w);this.rangeList.removeAll(),this.rangeList.add(x),this.$onAddRange(x)}w.cursor||(w.cursor=w.end);var C=this.rangeList.add(w);return this.$onAddRange(w),C.length&&this.$onRemoveRange(C),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),k||this.fromOrientedRange(w)}},this.toSingleRange=function(w){w=w||this.ranges[0];var k=this.rangeList.removeAll();k.length&&this.$onRemoveRange(k),w&&this.fromOrientedRange(w)},this.substractPoint=function(w){var k=this.rangeList.substractPoint(w);if(k)return this.$onRemoveRange(k),k[0]},this.mergeOverlappingRanges=function(){var w=this.rangeList.merge();w.length&&this.$onRemoveRange(w)},this.$onAddRange=function(w){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(w),this._signal("addRange",{range:w})},this.$onRemoveRange=function(w){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var k=this.rangeList.ranges.pop();w.push(k),this.rangeCount=0}for(var x=w.length;x--;){var C=this.ranges.indexOf(w[x]);this.ranges.splice(C,1)}this._signal("removeRange",{ranges:w}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),k=k||this.ranges[0],k&&!k.isEqual(this.getRange())&&this.fromOrientedRange(k)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new i,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var w=this.ranges.length?this.ranges:[this.getRange()],k=[],x=0;x<w.length;x++){var C=w[x],A=C.start.row,T=C.end.row;if(A===T)k.push(C.clone());else{for(k.push(new r(A,C.start.column,A,this.session.getLine(A).length));++A<T;)k.push(this.getLineRange(A,!0));k.push(new r(T,0,T,C.end.column))}x==0&&!this.isBackwards()&&(k=k.reverse())}this.toSingleRange();for(var x=k.length;x--;)this.addRange(k[x])},this.joinSelections=function(){var w=this.rangeList.ranges,k=w[w.length-1],x=r.fromPoints(w[0].start,k.end);this.toSingleRange(),this.setSelectionRange(x,k.cursor==k.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var w=this.rangeList.ranges,k=w[w.length-1],x=r.fromPoints(w[0].start,k.end);this.toSingleRange(),this.setSelectionRange(x,k.cursor==k.start)}else{var C=this.session.documentToScreenPosition(this.cursor),A=this.session.documentToScreenPosition(this.anchor),T=this.rectangularRangeBlock(C,A);T.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(w,k,x){var C=[],A=w.column<k.column;if(A)var T=w.column,E=k.column,L=w.offsetX,S=k.offsetX;else var T=k.column,E=w.column,L=k.offsetX,S=w.offsetX;var v=w.row<k.row;if(v)var _=w.row,b=k.row;else var _=k.row,b=w.row;T<0&&(T=0),_<0&&(_=0),_==b&&(x=!0);for(var M,I=_;I<=b;I++){var D=r.fromPoints(this.session.screenToDocumentPosition(I,T,L),this.session.screenToDocumentPosition(I,E,S));if(D.isEmpty()){if(M&&p(D.end,M))break;M=D.end}D.cursor=A?D.start:D.end,C.push(D)}if(v&&C.reverse(),!x){for(var O=C.length-1;C[O].isEmpty()&&O>0;)O--;if(O>0)for(var N=0;C[N].isEmpty();)N++;for(var F=O;F>=N;F--)C[F].isEmpty()&&C.splice(F,1)}return C}}.call(s.prototype);var f=n("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(w){w.cursor||(w.cursor=w.end);var k=this.getSelectionStyle();return w.marker=this.session.addMarker(w,"ace_selection",k),this.session.$selectionMarkers.push(w),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,w},this.removeSelectionMarker=function(w){if(w.marker){this.session.removeMarker(w.marker);var k=this.session.$selectionMarkers.indexOf(w);k!=-1&&this.session.$selectionMarkers.splice(k,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(w){for(var k=this.session.$selectionMarkers,x=w.length;x--;){var C=w[x];if(C.marker){this.session.removeMarker(C.marker);var A=k.indexOf(C);A!=-1&&k.splice(A,1)}}this.session.selectionMarkerCount=k.length},this.$onAddRange=function(w){this.addSelectionMarker(w.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(w){this.removeSelectionMarkers(w.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(w){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(w){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(w){var k=w.command,x=w.editor;if(x.multiSelect){if(k.multiSelectAction)k.multiSelectAction=="forEach"?C=x.forEachSelection(k,w.args):k.multiSelectAction=="forEachLine"?C=x.forEachSelection(k,w.args,!0):k.multiSelectAction=="single"?(x.exitMultiSelectMode(),C=k.exec(x,w.args||{})):C=k.multiSelectAction(x,w.args||{});else{var C=k.exec(x,w.args||{});x.multiSelect.addRange(x.multiSelect.toOrientedRange()),x.multiSelect.mergeOverlappingRanges()}return C}},this.forEachSelection=function(w,k,x){if(!this.inVirtualSelectionMode){var C=x&&x.keepOrder,A=x==!0||x&&x.$byLines,T=this.session,E=this.selection,L=E.rangeList,S=(C?E:L).ranges,v;if(!S.length)return w.exec?w.exec(this,k||{}):w(this,k||{});var _=E._eventRegistry;E._eventRegistry={};var b=new s(T);this.inVirtualSelectionMode=!0;for(var M=S.length;M--;){if(A)for(;M>0&&S[M].start.row==S[M-1].end.row;)M--;b.fromOrientedRange(S[M]),b.index=M,this.selection=T.selection=b;var I=w.exec?w.exec(this,k||{}):w(this,k||{});!v&&I!==void 0&&(v=I),b.toOrientedRange(S[M])}b.detach(),this.selection=T.selection=E,this.inVirtualSelectionMode=!1,E._eventRegistry=_,E.mergeOverlappingRanges(),E.ranges[0]&&E.fromOrientedRange(E.ranges[0]);var D=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),D&&D.from==D.to&&this.renderer.animateScrolling(D.from),v}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var w="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var k=this.multiSelect.rangeList.ranges,x=[],C=0;C<k.length;C++)x.push(this.session.getTextRange(k[C]));var A=this.session.getDocument().getNewLineCharacter();w=x.join(A),w.length==(x.length-1)*A.length&&(w="")}else this.selection.isEmpty()||(w=this.session.getTextRange(this.getSelectionRange()));return w},this.$checkMultiselectChange=function(w,k){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var x=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&k==this.multiSelect.anchor)return;var C=k==this.multiSelect.anchor?x.cursor==x.start?x.end:x.start:x.cursor;C.row!=k.row||this.session.$clipPositionToDocument(C.row,C.column).column!=k.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(w,k,x){if(k=k||{},k.needle=w||k.needle,k.needle==null){var C=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();k.needle=this.session.getTextRange(C)}this.$search.set(k);var A=this.$search.findAll(this.session);if(!A.length)return 0;var T=this.multiSelect;x||T.toSingleRange(A[0]);for(var E=A.length;E--;)T.addRange(A[E],!0);return C&&T.rangeList.rangeAtPoint(C.start)&&T.addRange(C,!0),A.length},this.selectMoreLines=function(w,k){var x=this.selection.toOrientedRange(),C=x.cursor==x.end,A=this.session.documentToScreenPosition(x.cursor);this.selection.$desiredColumn&&(A.column=this.selection.$desiredColumn);var T=this.session.screenToDocumentPosition(A.row+w,A.column);if(x.isEmpty())var L=T;else var E=this.session.documentToScreenPosition(C?x.end:x.start),L=this.session.screenToDocumentPosition(E.row+w,E.column);if(C){var S=r.fromPoints(T,L);S.cursor=S.start}else{var S=r.fromPoints(L,T);S.cursor=S.end}if(S.desiredColumn=A.column,!this.selection.inMultiSelectMode)this.selection.addRange(x);else if(k)var v=x.cursor;this.selection.addRange(S),v&&this.selection.substractPoint(v)},this.transposeSelections=function(w){for(var k=this.session,x=k.multiSelect,C=x.ranges,A=C.length;A--;){var T=C[A];if(T.isEmpty()){var E=k.getWordRange(T.start.row,T.start.column);T.start.row=E.start.row,T.start.column=E.start.column,T.end.row=E.end.row,T.end.column=E.end.column}}x.mergeOverlappingRanges();for(var L=[],A=C.length;A--;){var T=C[A];L.unshift(k.getTextRange(T))}w<0?L.unshift(L.pop()):L.push(L.shift());for(var A=C.length;A--;){var T=C[A],S=T.clone();k.replace(T,L[A]),T.start.row=S.start.row,T.start.column=S.start.column}x.fromOrientedRange(x.ranges[0])},this.selectMore=function(w,k,x){var C=this.session,A=C.multiSelect,T=A.toOrientedRange();if(!(T.isEmpty()&&(T=C.getWordRange(T.start.row,T.start.column),T.cursor=w==-1?T.start:T.end,this.multiSelect.addRange(T),x))){var E=C.getTextRange(T),L=h(C,E,w);L&&(L.cursor=w==-1?L.start:L.end,this.session.unfold(L),this.multiSelect.addRange(L),this.renderer.scrollCursorIntoView(null,.5)),k&&this.multiSelect.substractPoint(T.cursor)}},this.alignCursors=function(){var w=this.session,k=w.multiSelect,x=k.ranges,C=-1,A=x.filter(function(O){if(O.cursor.row==C)return!0;C=O.cursor.row});if(!x.length||A.length==x.length-1){var T=this.selection.getRange(),E=T.start.row,L=T.end.row,S=E==L;if(S){var v=this.session.getLength(),_;do _=this.session.getLine(L);while(/[=:]/.test(_)&&++L<v);do _=this.session.getLine(E);while(/[=:]/.test(_)&&--E>0);E<0&&(E=0),L>=v&&(L=v-1)}var b=this.session.removeFullLines(E,L);b=this.$reAlignText(b,S),this.session.insert({row:E,column:0},b.join(`
`)+`
`),S||(T.start.column=0,T.end.column=b[b.length-1].length),this.selection.setRange(T)}else{A.forEach(function(O){k.substractPoint(O.cursor)});var M=0,I=1/0,D=x.map(function(O){var N=O.cursor,F=w.getLine(N.row),z=F.substr(N.column).search(/\S/g);return z==-1&&(z=0),N.column>M&&(M=N.column),z<I&&(I=z),z});x.forEach(function(O,N){var F=O.cursor,z=M-F.column,V=D[N]-I;z>V?w.insert(F,l.stringRepeat(" ",z-V)):w.remove(new r(F.row,F.column,F.row,F.column-z+V)),O.start.column=O.end.column=M,O.start.row=O.end.row=F.row,O.cursor=O.end}),k.fromOrientedRange(x[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(w,k){var x=!0,C=!0,A,T,E;return w.map(function(b){var M=b.match(/(\s*)(.*?)(\s*)([=:].*)/);return M?A==null?(A=M[1].length,T=M[2].length,E=M[3].length,M):(A+T+E!=M[1].length+M[2].length+M[3].length&&(C=!1),A!=M[1].length&&(x=!1),A>M[1].length&&(A=M[1].length),T<M[2].length&&(T=M[2].length),E>M[3].length&&(E=M[3].length),M):[b]}).map(k?S:x?C?v:S:_);function L(b){return l.stringRepeat(" ",b)}function S(b){return b[2]?L(A)+b[2]+L(T-b[2].length+E)+b[4].replace(/^([=:])\s+/,"$1 "):b[0]}function v(b){return b[2]?L(A+T-b[2].length)+b[2]+L(E)+b[4].replace(/^([=:])\s+/,"$1 "):b[0]}function _(b){return b[2]?L(A)+b[2]+L(E)+b[4].replace(/^([=:])\s+/,"$1 "):b[0]}}}).call(f.prototype);function p(w,k){return w.row==k.row&&w.column==k.column}t.onSessionChange=function(w){var k=w.session;k&&!k.multiSelect&&(k.$selectionMarkers=[],k.selection.$initRangeList(),k.multiSelect=k.selection),this.multiSelect=k&&k.multiSelect;var x=w.oldSession;x&&(x.multiSelect.off("addRange",this.$onAddRange),x.multiSelect.off("removeRange",this.$onRemoveRange),x.multiSelect.off("multiSelect",this.$onMultiSelect),x.multiSelect.off("singleSelect",this.$onSingleSelect),x.multiSelect.lead.off("change",this.$checkMultiselectChange),x.multiSelect.anchor.off("change",this.$checkMultiselectChange)),k&&(k.multiSelect.on("addRange",this.$onAddRange),k.multiSelect.on("removeRange",this.$onRemoveRange),k.multiSelect.on("multiSelect",this.$onMultiSelect),k.multiSelect.on("singleSelect",this.$onSingleSelect),k.multiSelect.lead.on("change",this.$checkMultiselectChange),k.multiSelect.anchor.on("change",this.$checkMultiselectChange)),k&&this.inMultiSelectMode!=k.selection.inMultiSelectMode&&(k.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function g(w){w.$multiselectOnSessionChange||(w.$onAddRange=w.$onAddRange.bind(w),w.$onRemoveRange=w.$onRemoveRange.bind(w),w.$onMultiSelect=w.$onMultiSelect.bind(w),w.$onSingleSelect=w.$onSingleSelect.bind(w),w.$multiselectOnSessionChange=t.onSessionChange.bind(w),w.$checkMultiselectChange=w.$checkMultiselectChange.bind(w),w.$multiselectOnSessionChange(w),w.on("changeSession",w.$multiselectOnSessionChange),w.on("mousedown",a),w.commands.addCommands(c.defaultCommands),y(w))}function y(w){if(!w.textInput)return;var k=w.textInput.getElement(),x=!1;o.addListener(k,"keydown",function(A){var T=A.keyCode==18&&!(A.ctrlKey||A.shiftKey||A.metaKey);w.$blockSelectEnabled&&T?x||(w.renderer.setMouseCursor("crosshair"),x=!0):x&&C()},w),o.addListener(k,"keyup",C,w),o.addListener(k,"blur",C,w);function C(A){x&&(w.renderer.setMouseCursor(""),x=!1)}}t.MultiSelect=g,n("./config").defineOptions(f.prototype,"editor",{enableMultiselect:{set:function(w){g(this),w?this.on("mousedown",a):this.off("mousedown",a)},value:!0},enableBlockSelect:{set:function(w){this.$blockSelectEnabled=w},value:!0}})});ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,t,e){"use strict";var i=n("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(s,a,o){var l=s.getLine(o);return this.foldingStartMarker.test(l)?"start":a=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(l)?"end":""},this.getFoldWidgetRange=function(s,a,o){return null},this.indentationBlock=function(s,a,o){var l=/\S/,c=s.getLine(a),u=c.search(l);if(u!=-1){for(var d=o||c.length,h=s.getLength(),m=a,f=a;++a<h;){var p=s.getLine(a).search(l);if(p!=-1){if(p<=u){var g=s.getTokenAt(a,0);if(!g||g.type!=="string")break}f=a}}if(f>m){var y=s.getLine(f).length;return new i(m,d,f,y)}}},this.openingBracketBlock=function(s,a,o,l,c){var u={row:o,column:l+1},d=s.$findClosingBracket(a,u,c);if(d){var h=s.foldWidgets[d.row];return h==null&&(h=s.getFoldWidget(d.row)),h=="start"&&d.row>u.row&&(d.row--,d.column=s.getLine(d.row).length),i.fromPoints(u,d)}},this.closingBracketBlock=function(s,a,o,l,c){var u={row:o,column:l},d=s.$findOpeningBracket(a,u);if(d)return d.column++,u.column--,i.fromPoints(d,u)}}).call(r.prototype)});ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(n,t,e){"use strict";var i=n("../lib/dom"),r=n("../range").Range,s=n("../config").nls;function a(l,c,u){for(var d=0,h=l.length-1;d<=h;){var m=d+h>>1,f=u(c,l[m]);if(f>0)d=m+1;else if(f<0)h=m-1;else return m}return-(d+1)}function o(l,c,u){var d=l.getAnnotations().sort(r.comparePoints);if(d.length){var h=a(d,{row:c,column:-1},r.comparePoints);h<0&&(h=-h-1),h>=d.length?h=u>0?0:d.length-1:h===0&&u<0&&(h=d.length-1);var m=d[h];if(!(!m||!u)){if(m.row===c){do m=d[h+=u];while(m&&m.row===c);if(!m)return d.slice()}var f=[];c=m.row;do f[u<0?"unshift":"push"](m),m=d[h+=u];while(m&&m.row==c);return f.length&&f}}}t.showErrorMarker=function(l,c){var u=l.session,d=l.getCursorPosition(),h=d.row,m=u.widgetManager.getWidgetsAtRow(h).filter(function(A){return A.type=="errorMarker"})[0];m?m.destroy():h-=c;var f=o(u,h,c),p;if(f){var g=f[0];d.column=(g.pos&&typeof g.column!="number"?g.pos.sc:g.column)||0,d.row=g.row,p=l.renderer.$gutterLayer.$annotations[d.row]}else{if(m)return;p={displayText:[s("error-marker.good-state","Looks good!")],className:"ace_ok"}}l.session.unfold(d.row),l.selection.moveToPosition(d);var y={row:d.row,fixedWidth:!0,coverGutter:!0,el:i.createElement("div"),type:"errorMarker"},w=y.el.appendChild(i.createElement("div")),k=y.el.appendChild(i.createElement("div"));k.className="error_widget_arrow "+p.className;var x=l.renderer.$cursorLayer.getPixelPosition(d).left;k.style.left=x+l.renderer.gutterWidth-5+"px",y.el.className="error_widget_wrapper",w.className="error_widget "+p.className,p.displayText.forEach(function(A,T){w.appendChild(i.createTextNode(A)),T<p.displayText.length-1&&w.appendChild(i.createElement("br"))}),w.appendChild(i.createElement("div"));var C=function(A,T,E){if(T===0&&(E==="esc"||E==="return"))return y.destroy(),{command:"null"}};y.destroy=function(){l.$mouseHandler.isMousePressed||(l.keyBinding.removeKeyboardHandler(C),u.widgetManager.removeLineWidget(y),l.off("changeSelection",y.destroy),l.off("changeSession",y.destroy),l.off("mouseup",y.destroy),l.off("change",y.destroy))},l.keyBinding.addKeyboardHandler(C),l.on("changeSelection",y.destroy),l.on("changeSession",y.destroy),l.on("mouseup",y.destroy),l.on("change",y.destroy),l.session.widgetManager.addLineWidget(y),y.el.onmousedown=l.focus.bind(l),l.renderer.scrollCursorIntoView(null,.5,{bottom:y.el.offsetHeight})},i.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)});ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(n,t,e){"use strict";n("./loader_build")(t);var i=n("./lib/dom"),r=n("./range").Range,s=n("./editor").Editor,a=n("./edit_session").EditSession,o=n("./undomanager").UndoManager,l=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client"),n("./keyboard/hash_handler"),n("./placeholder"),n("./multi_select"),n("./mode/folding/fold_mode"),n("./theme/textmate"),n("./ext/error_marker"),t.config=n("./config"),t.edit=function(u,d){if(typeof u=="string"){var h=u;if(u=document.getElementById(h),!u)throw new Error("ace.edit can't find div #"+h)}if(u&&u.env&&u.env.editor instanceof s)return u.env.editor;var m="";if(u&&/input|textarea/i.test(u.tagName)){var f=u;m=f.value,u=i.createElement("pre"),f.parentNode.replaceChild(u,f)}else u&&(m=u.textContent,u.innerHTML="");var p=t.createEditSession(m),g=new s(new l(u),p,d),y={document:p,editor:g,onResize:g.resize.bind(g,null)};return f&&(y.textarea=f),g.on("destroy",function(){y.editor.container.env=null}),g.container.env=g.env=y,g},t.createEditSession=function(u,d){var h=new a(u,d);return h.setUndoManager(new o),h},t.Range=r,t.Editor=s,t.EditSession=a,t.UndoManager=o,t.VirtualRenderer=l;var c=t.config.version;t.version=c});(function(){ace.require(["ace/ace"],function(n){n&&(n.config.init(!0),n.define=ace.define);var t=function(){return this}();!t&&typeof window<"u"&&(t=window),!t&&typeof self<"u"&&(t=self),t.ace||(t.ace=n);for(var e in n)n.hasOwnProperty(e)&&(t.ace[e]=n[e]);t.ace.default=t.ace,typeof Cm=="object"&&typeof Gk=="object"&&Cm&&(Cm.exports=t.ace)})})()});var Yk=Q((Kk,wm)=>{ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,t,e){"use strict";var i=n("../lib/oop"),r=n("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};i.inherits(s,r),t.JsonHighlightRules=s});ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,t,e){"use strict";var i=n("../range").Range,r=function(){};(function(){this.checkOutdent=function(s,a){return/^\s+$/.test(s)?/^\s*\}/.test(a):!1},this.autoOutdent=function(s,a){var o=s.getLine(a),l=o.match(/^(\s*\})/);if(!l)return 0;var c=l[1].length,u=s.findMatchingBracket({row:a,column:c});if(!u||u.row==a)return 0;var d=this.$getIndent(s.getLine(u.row));s.replace(new i(a,0,a,c-1),d)},this.$getIndent=function(s){return s.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r});ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,t,e){"use strict";var i=n("../../lib/oop"),r=n("../../range").Range,s=n("./fold_mode").FoldMode,a=t.FoldMode=function(o){o&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+o.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+o.end)))};i.inherits(a,s),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(o,l,c){var u=o.getLine(c);if(this.singleLineBlockCommentRe.test(u)&&!this.startRegionRe.test(u)&&!this.tripleStarBlockCommentRe.test(u))return"";var d=this._getFoldWidgetBase(o,l,c);return!d&&this.startRegionRe.test(u)?"start":d},this.getFoldWidgetRange=function(o,l,c,u){var d=o.getLine(c);if(this.startRegionRe.test(d))return this.getCommentRegionBlock(o,d,c);var f=d.match(this.foldingStartMarker);if(f){var h=f.index;if(f[1])return this.openingBracketBlock(o,f[1],c,h);var m=o.getCommentFoldRange(c,h+f[0].length,1);return m&&!m.isMultiLine()&&(u?m=this.getSectionRange(o,c):l!="all"&&(m=null)),m}if(l!=="markbegin"){var f=d.match(this.foldingStopMarker);if(f){var h=f.index+f[0].length;return f[1]?this.closingBracketBlock(o,f[1],c,h):o.getCommentFoldRange(c,h,-1)}}},this.getSectionRange=function(o,l){var c=o.getLine(l),u=c.search(/\S/),d=l,h=c.length;l=l+1;for(var m=l,f=o.getLength();++l<f;){c=o.getLine(l);var p=c.search(/\S/);if(p!==-1){if(u>p)break;var g=this.getFoldWidgetRange(o,"all",l);if(g){if(g.start.row<=d)break;if(g.isMultiLine())l=g.end.row;else if(u==p)break}m=l}}return new r(d,h,m,o.getLine(m).length)},this.getCommentRegionBlock=function(o,l,c){for(var u=l.search(/\s*$/),d=o.getLength(),h=c,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,f=1;++c<d;){l=o.getLine(c);var p=m.exec(l);if(p&&(p[1]?f--:f++,!f))break}var g=c;if(g>h)return new r(h,u,g,l.length)}}.call(a.prototype)});ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(n,t,e){"use strict";var i=n("../lib/oop"),r=n("./text").Mode,s=n("./json_highlight_rules").JsonHighlightRules,a=n("./matching_brace_outdent").MatchingBraceOutdent,o=n("./folding/cstyle").FoldMode,l=n("../worker/worker_client").WorkerClient,c=function(){this.HighlightRules=s,this.$outdent=new a,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new o};i.inherits(c,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(u,d,h){var m=this.$getIndent(d);if(u=="start"){var f=d.match(/^.*[\{\(\[]\s*$/);f&&(m+=h)}return m},this.checkOutdent=function(u,d,h){return this.$outdent.checkOutdent(d,h)},this.autoOutdent=function(u,d,h){this.$outdent.autoOutdent(d,h)},this.createWorker=function(u){var d=new l(["ace"],"ace/mode/json_worker","JsonWorker");return d.attachToDocument(u.getDocument()),d.on("annotate",function(h){u.setAnnotations(h.data)}),d.on("terminate",function(){u.clearAnnotations()}),d},this.$id="ace/mode/json"}.call(c.prototype),t.Mode=c});(function(){ace.require(["ace/mode/json"],function(n){typeof wm=="object"&&typeof Kk=="object"&&wm&&(wm.exports=n)})})()});var Zk=Q((Qk,xm)=>{ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(n,t,e){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=n("./textmate-css"),t.$id="ace/theme/textmate";var i=n("../lib/dom");i.importCssString(t.cssText,t.cssClass,!1)});(function(){ace.require(["ace/theme/textmate"],function(n){typeof xm=="object"&&typeof Qk=="object"&&xm&&(xm.exports=n)})})()});var SE=Q((ice,jB)=>{jB.exports={name:"fhirpath",version:"3.18.0",description:"A FHIRPath engine",main:"src/fhirpath.js",types:"src/fhirpath.d.ts",dependencies:{"@lhncbc/ucum-lhc":"^5.0.0",antlr4:"~4.9.3",commander:"^2.18.0","date-fns":"^1.30.1","js-yaml":"^3.13.1"},devDependencies:{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.17.0","@babel/preset-env":"^7.16.11","babel-loader":"^8.2.3",benny:"github:caderek/benny#0ad058d3c7ef0b488a8fe9ae3519159fc7f36bb6",bestzip:"^2.2.0","copy-webpack-plugin":"^12.0.2",cypress:"^13.7.2",eslint:"^8.10.0",fhir:"^4.10.3",grunt:"^1.5.2","grunt-cli":"^1.4.3","grunt-text-replace":"^0.4.0","jasmine-spec-reporter":"^4.2.1",jest:"^29.7.0","jit-grunt":"^0.10.0",lodash:"^4.17.21",open:"^8.4.0",rimraf:"^3.0.0",tmp:"0.0.33",tsd:"^0.31.1",webpack:"^5.11.1","webpack-bundle-analyzer":"^4.4.2","webpack-cli":"^4.9.1",xml2js:"^0.5.0",yargs:"^15.1.0"},engines:{node:">=8.9.0"},tsd:{directory:"test/typescript"},scripts:{preinstall:"node bin/install-demo.js",postinstall:`echo "Building the Benny package based on a pull request which fixes an issue with 'statusShift'... " && (cd node_modules/benny && npm i && npm run build > /dev/null) || echo "Building the Benny package is completed."`,generateParser:'cd src/parser; rimraf ./generated/*; java -Xmx500M -cp "../../antlr-4.9.3-complete.jar:$CLASSPATH" org.antlr.v4.Tool -o generated -Dlanguage=JavaScript FHIRPath.g4; grunt updateParserRequirements',build:"cd browser-build && webpack && rimraf fhirpath.zip && bestzip fhirpath.zip LICENSE.md fhirpath.min.js fhirpath.r5.min.js fhirpath.r4.min.js fhirpath.stu3.min.js fhirpath.dstu2.min.js && rimraf  LICENSE.md","test:unit":"node --use_strict node_modules/.bin/jest && TZ=America/New_York node --use_strict node_modules/.bin/jest && TZ=Europe/Paris node --use_strict node_modules/.bin/jest","test:unit:debug":"echo 'open chrome chrome://inspect/' && node --inspect node_modules/.bin/jest --runInBand","build:demo":"npm run build && cd demo && npm run build","test:e2e":"npm run build:demo && cypress run","test:tsd":"tsd",test:'npm run lint && npm run test:tsd && npm run test:unit && npm run test:e2e && echo "For tests specific to IE 11, open browser-build/test/index.html in IE 11, and confirm that the tests on that page pass."',lint:"eslint src/parser/index.js src/*.js converter/","compare-performance":"node ./test/benchmark.js"},bin:{fhirpath:"bin/fhirpath"},files:["CHANGELOG.md","bin","fhir-context","src"],repository:"github:HL7/fhirpath.js",license:"SEE LICENSE in LICENSE.md"}});var ki=Q((nce,EE)=>{function WB(n){return n===null?"null":n}function kE(n){return Array.isArray(n)?"["+n.map(WB).join(", ")+"]":"null"}String.prototype.seed=String.prototype.seed||Math.round(Math.random()*Math.pow(2,32));String.prototype.hashCode=function(){let n=this.toString(),t,e,i=n.length&3,r=n.length-i,s=String.prototype.seed,a=3432918353,o=461845907,l=0;for(;l<r;)e=n.charCodeAt(l)&255|(n.charCodeAt(++l)&255)<<8|(n.charCodeAt(++l)&255)<<16|(n.charCodeAt(++l)&255)<<24,++l,e=(e&65535)*a+(((e>>>16)*a&65535)<<16)&4294967295,e=e<<15|e>>>17,e=(e&65535)*o+(((e>>>16)*o&65535)<<16)&4294967295,s^=e,s=s<<13|s>>>19,t=(s&65535)*5+(((s>>>16)*5&65535)<<16)&4294967295,s=(t&65535)+27492+(((t>>>16)+58964&65535)<<16);switch(e=0,i){case 3:e^=(n.charCodeAt(l+2)&255)<<16;case 2:e^=(n.charCodeAt(l+1)&255)<<8;case 1:e^=n.charCodeAt(l)&255,e=(e&65535)*a+(((e>>>16)*a&65535)<<16)&4294967295,e=e<<15|e>>>17,e=(e&65535)*o+(((e>>>16)*o&65535)<<16)&4294967295,s^=e}return s^=n.length,s^=s>>>16,s=(s&65535)*2246822507+(((s>>>16)*2246822507&65535)<<16)&4294967295,s^=s>>>13,s=(s&65535)*3266489909+(((s>>>16)*3266489909&65535)<<16)&4294967295,s^=s>>>16,s>>>0};function ME(n,t){return n?n.equals(t):n==t}function TE(n){return n?n.hashCode():-1}var Jb=class{constructor(t,e){this.data={},this.hashFunction=t||TE,this.equalsFunction=e||ME}add(t){let i="hash_"+this.hashFunction(t);if(i in this.data){let r=this.data[i];for(let s=0;s<r.length;s++)if(this.equalsFunction(t,r[s]))return r[s];return r.push(t),t}else return this.data[i]=[t],t}contains(t){return this.get(t)!=null}get(t){let i="hash_"+this.hashFunction(t);if(i in this.data){let r=this.data[i];for(let s=0;s<r.length;s++)if(this.equalsFunction(t,r[s]))return r[s]}return null}values(){let t=[];for(let e in this.data)e.indexOf("hash_")===0&&(t=t.concat(this.data[e]));return t}toString(){return kE(this.values())}get length(){let t=0;for(let e in this.data)e.indexOf("hash_")===0&&(t=t+this.data[e].length);return t}},ev=class n{constructor(){this.data=[]}add(t){this.data[t]=!0}or(t){let e=this;Object.keys(t.data).map(function(i){e.add(i)})}remove(t){delete this.data[t]}contains(t){return this.data[t]===!0}values(){return Object.keys(this.data)}minValue(){return Math.min.apply(null,this.values())}hashCode(){let t=new Fu;return t.update(this.values()),t.finish()}equals(t){return t instanceof n?this.hashCode()===t.hashCode():!1}toString(){return"{"+this.values().join(", ")+"}"}get length(){return this.values().length}},xf=class{constructor(t,e){this.data={},this.hashFunction=t||TE,this.equalsFunction=e||ME}put(t,e){let i="hash_"+this.hashFunction(t);if(i in this.data){let r=this.data[i];for(let s=0;s<r.length;s++){let a=r[s];if(this.equalsFunction(t,a.key)){let o=a.value;return a.value=e,o}}return r.push({key:t,value:e}),e}else return this.data[i]=[{key:t,value:e}],e}containsKey(t){let e="hash_"+this.hashFunction(t);if(e in this.data){let i=this.data[e];for(let r=0;r<i.length;r++){let s=i[r];if(this.equalsFunction(t,s.key))return!0}}return!1}get(t){let e="hash_"+this.hashFunction(t);if(e in this.data){let i=this.data[e];for(let r=0;r<i.length;r++){let s=i[r];if(this.equalsFunction(t,s.key))return s.value}}return null}entries(){let t=[];for(let e in this.data)e.indexOf("hash_")===0&&(t=t.concat(this.data[e]));return t}getKeys(){return this.entries().map(function(t){return t.key})}getValues(){return this.entries().map(function(t){return t.value})}toString(){return"["+this.entries().map(function(e){return"{"+e.key+":"+e.value+"}"}).join(", ")+"]"}get length(){let t=0;for(let e in this.data)e.indexOf("hash_")===0&&(t=t+this.data[e].length);return t}},tv=class{constructor(){this.data={}}get(t){return t="k-"+t,t in this.data?this.data[t]:null}put(t,e){t="k-"+t,this.data[t]=e}values(){let t=this.data;return Object.keys(this.data).map(function(i){return t[i]})}},iv=class{constructor(t){this.defaultMapCtor=t||xf,this.cacheMap=new this.defaultMapCtor}get(t,e){let i=this.cacheMap.get(t)||null;return i===null?null:i.get(e)||null}set(t,e,i){let r=this.cacheMap.get(t)||null;r===null&&(r=new this.defaultMapCtor,this.cacheMap.put(t,r)),r.put(e,i)}},Fu=class{constructor(){this.count=0,this.hash=0}update(){for(let t=0;t<arguments.length;t++){let e=arguments[t];if(e!=null)if(Array.isArray(e))this.update.apply(this,e);else{let i=0;switch(typeof e){case"undefined":case"function":continue;case"number":case"boolean":i=e;break;case"string":i=e.hashCode();break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}i=i*3432918353,i=i<<15|i>>>17,i=i*461845907,this.count=this.count+1;let r=this.hash^i;r=r<<13|r>>>19,r=r*5+3864292196,this.hash=r}}}finish(){let t=this.hash^this.count*4;return t=t^t>>>16,t=t*2246822507,t=t^t>>>13,t=t*3266489909,t=t^t>>>16,t}};function qB(){let n=new Fu;return n.update.apply(n,arguments),n.finish()}function GB(n,t){return n=n.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r"),t&&(n=n.replace(/ /g,"\xB7")),n}function KB(n){return n.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1)})}function YB(n,t){if(!Array.isArray(n)||!Array.isArray(t))return!1;if(n===t)return!0;if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e]&&(!n[e].equals||!n[e].equals(t[e])))return!1;return!0}EE.exports={Hash:Fu,Set:Jb,Map:xf,BitSet:ev,AltDict:tv,DoubleDict:iv,hashStuff:qB,escapeWhitespace:GB,arrayToString:kE,titleCase:KB,equalArrays:YB}});var Qt=Q((rce,AE)=>{var nv=(()=>{class n{constructor(){this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}getTokenSource(){return this.source[0]}getInputStream(){return this.source[1]}get text(){return this._text}set text(e){this._text=e}}return n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=-1,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n})(),QB=(()=>{class n extends nv{constructor(e,i,r,s,a){super(),this.source=e!==void 0?e:n.EMPTY_SOURCE,this.type=i!==void 0?i:null,this.channel=r!==void 0?r:nv.DEFAULT_CHANNEL,this.start=s!==void 0?s:-1,this.stop=a!==void 0?a:-1,this.tokenIndex=-1,this.source[0]!==null?(this.line=e[0].line,this.column=e[0].column):this.column=-1}clone(){let e=new n(this.source,this.type,this.channel,this.start,this.stop);return e.tokenIndex=this.tokenIndex,e.line=this.line,e.column=this.column,e.text=this.text,e}toString(){let e=this.text;return e!==null?e=e.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):e="<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+e+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}get text(){if(this._text!==null)return this._text;let e=this.getInputStream();if(e===null)return null;let i=e.size;return this.start<i&&this.stop<i?e.getText(this.start,this.stop):"<EOF>"}set text(e){this._text=e}}return n.EMPTY_SOURCE=[null,null],n})();AE.exports={Token:nv,CommonToken:QB}});var gs=Q((sce,IE)=>{var Zt=(()=>{class n{constructor(){this.atn=null,this.stateNumber=n.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}toString(){return this.stateNumber}equals(e){return e instanceof n?this.stateNumber===e.stateNumber:!1}isNonGreedyExitState(){return!1}addTransition(e,i){i===void 0&&(i=-1),this.transitions.length===0?this.epsilonOnlyTransitions=e.isEpsilon:this.epsilonOnlyTransitions!==e.isEpsilon&&(this.epsilonOnlyTransitions=!1),i===-1?this.transitions.push(e):this.transitions.splice(i,1,e)}}return n.INVALID_TYPE=0,n.BASIC=1,n.RULE_START=2,n.BLOCK_START=3,n.PLUS_BLOCK_START=4,n.STAR_BLOCK_START=5,n.TOKEN_START=6,n.RULE_STOP=7,n.BLOCK_END=8,n.STAR_LOOP_BACK=9,n.STAR_LOOP_ENTRY=10,n.PLUS_LOOP_BACK=11,n.LOOP_END=12,n.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],n.INVALID_STATE_NUMBER=-1,n})(),rv=class extends Zt{constructor(){super(),this.stateType=Zt.BASIC}},Qa=class extends Zt{constructor(){return super(),this.decision=-1,this.nonGreedy=!1,this}},Ol=class extends Qa{constructor(){return super(),this.endState=null,this}},sv=class extends Ol{constructor(){return super(),this.stateType=Zt.BLOCK_START,this}},av=class extends Zt{constructor(){return super(),this.stateType=Zt.BLOCK_END,this.startState=null,this}},ov=class extends Zt{constructor(){return super(),this.stateType=Zt.RULE_STOP,this}},lv=class extends Zt{constructor(){return super(),this.stateType=Zt.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}},cv=class extends Qa{constructor(){return super(),this.stateType=Zt.PLUS_LOOP_BACK,this}},uv=class extends Ol{constructor(){return super(),this.stateType=Zt.PLUS_BLOCK_START,this.loopBackState=null,this}},dv=class extends Ol{constructor(){return super(),this.stateType=Zt.STAR_BLOCK_START,this}},hv=class extends Zt{constructor(){return super(),this.stateType=Zt.STAR_LOOP_BACK,this}},mv=class extends Qa{constructor(){return super(),this.stateType=Zt.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}},fv=class extends Zt{constructor(){return super(),this.stateType=Zt.LOOP_END,this.loopBackState=null,this}},pv=class extends Qa{constructor(){return super(),this.stateType=Zt.TOKEN_START,this}};IE.exports={ATNState:Zt,BasicState:rv,DecisionState:Qa,BlockStartState:Ol,BlockEndState:av,LoopEndState:fv,RuleStartState:lv,RuleStopState:ov,TokensStartState:pv,PlusLoopbackState:cv,StarLoopbackState:hv,StarLoopEntryState:mv,PlusBlockStartState:uv,StarBlockStartState:dv,BasicBlockStartState:sv}});var Nl=Q((oce,LE)=>{var{Set:DE,Hash:ZB,equalArrays:RE}=ki(),Fi=class n{hashCode(){let t=new ZB;return this.updateHashCode(t),t.finish()}evaluate(t,e){}evalPrecedence(t,e){return this}static andContext(t,e){if(t===null||t===n.NONE)return e;if(e===null||e===n.NONE)return t;let i=new gv(t,e);return i.opnds.length===1?i.opnds[0]:i}static orContext(t,e){if(t===null)return e;if(e===null)return t;if(t===n.NONE||e===n.NONE)return n.NONE;let i=new _v(t,e);return i.opnds.length===1?i.opnds[0]:i}},Sf=class n extends Fi{constructor(t,e,i){super(),this.ruleIndex=t===void 0?-1:t,this.predIndex=e===void 0?-1:e,this.isCtxDependent=i===void 0?!1:i}evaluate(t,e){let i=this.isCtxDependent?e:null;return t.sempred(i,this.ruleIndex,this.predIndex)}updateHashCode(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}equals(t){return this===t?!0:t instanceof n?this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}};Fi.NONE=new Sf;var Pu=class n extends Fi{constructor(t){super(),this.precedence=t===void 0?0:t}evaluate(t,e){return t.precpred(e,this.precedence)}evalPrecedence(t,e){return t.precpred(e,this.precedence)?Fi.NONE:null}compareTo(t){return this.precedence-t.precedence}updateHashCode(t){t.update(this.precedence)}equals(t){return this===t?!0:t instanceof n?this.precedence===t.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}static filterPrecedencePredicates(t){let e=[];return t.values().map(function(i){i instanceof n&&e.push(i)}),e}},gv=class n extends Fi{constructor(t,e){super();let i=new DE;t instanceof n?t.opnds.map(function(s){i.add(s)}):i.add(t),e instanceof n?e.opnds.map(function(s){i.add(s)}):i.add(e);let r=Pu.filterPrecedencePredicates(i);if(r.length>0){let s=null;r.map(function(a){(s===null||a.precedence<s.precedence)&&(s=a)}),i.add(s)}this.opnds=Array.from(i.values())}equals(t){return this===t?!0:t instanceof n?RE(this.opnds,t.opnds):!1}updateHashCode(t){t.update(this.opnds,"AND")}evaluate(t,e){for(let i=0;i<this.opnds.length;i++)if(!this.opnds[i].evaluate(t,e))return!1;return!0}evalPrecedence(t,e){let i=!1,r=[];for(let a=0;a<this.opnds.length;a++){let o=this.opnds[a],l=o.evalPrecedence(t,e);if(i|=l!==o,l===null)return null;l!==Fi.NONE&&r.push(l)}if(!i)return this;if(r.length===0)return Fi.NONE;let s=null;return r.map(function(a){s=s===null?a:Fi.andContext(s,a)}),s}toString(){let t=this.opnds.map(e=>e.toString());return(t.length>3?t.slice(3):t).join("&&")}},_v=class n extends Fi{constructor(t,e){super();let i=new DE;t instanceof n?t.opnds.map(function(s){i.add(s)}):i.add(t),e instanceof n?e.opnds.map(function(s){i.add(s)}):i.add(e);let r=Pu.filterPrecedencePredicates(i);if(r.length>0){let s=r.sort(function(o,l){return o.compareTo(l)}),a=s[s.length-1];i.add(a)}this.opnds=Array.from(i.values())}equals(t){return this===t?!0:t instanceof n?RE(this.opnds,t.opnds):!1}updateHashCode(t){t.update(this.opnds,"OR")}evaluate(t,e){for(let i=0;i<this.opnds.length;i++)if(this.opnds[i].evaluate(t,e))return!0;return!1}evalPrecedence(t,e){let i=!1,r=[];for(let a=0;a<this.opnds.length;a++){let o=this.opnds[a],l=o.evalPrecedence(t,e);if(i|=l!==o,l===Fi.NONE)return Fi.NONE;l!==null&&r.push(l)}if(!i)return this;if(r.length===0)return null;let s=null;return r.map(function(a){return s===null?a:Fi.orContext(s,a)}),s}toString(){let t=this.opnds.map(e=>e.toString());return(t.length>3?t.slice(3):t).join("||")}};LE.exports={SemanticContext:Fi,PrecedencePredicate:Pu,Predicate:Sf}});var Uu=Q((lce,vv)=>{var{DecisionState:XB}=gs(),{SemanticContext:OE}=Nl(),{Hash:NE}=ki();function FE(n,t){if(n===null){let e={state:null,alt:null,context:null,semanticContext:null};return t&&(e.reachesIntoOuterContext=0),e}else{let e={};return e.state=n.state||null,e.alt=n.alt===void 0?null:n.alt,e.context=n.context||null,e.semanticContext=n.semanticContext||null,t&&(e.reachesIntoOuterContext=n.reachesIntoOuterContext||0,e.precedenceFilterSuppressed=n.precedenceFilterSuppressed||!1),e}}var kf=class n{constructor(t,e){this.checkContext(t,e),t=FE(t),e=FE(e,!0),this.state=t.state!==null?t.state:e.state,this.alt=t.alt!==null?t.alt:e.alt,this.context=t.context!==null?t.context:e.context,this.semanticContext=t.semanticContext!==null?t.semanticContext:e.semanticContext!==null?e.semanticContext:OE.NONE,this.reachesIntoOuterContext=e.reachesIntoOuterContext,this.precedenceFilterSuppressed=e.precedenceFilterSuppressed}checkContext(t,e){(t.context===null||t.context===void 0)&&(e===null||e.context===null||e.context===void 0)&&(this.context=null)}hashCode(){let t=new NE;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}equals(t){return this===t?!0:t instanceof n?this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&(this.context===null?t.context===null:this.context.equals(t.context))&&this.semanticContext.equals(t.semanticContext)&&this.precedenceFilterSuppressed===t.precedenceFilterSuppressed:!1}hashCodeForConfigSet(){let t=new NE;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}equalsForConfigSet(t){return this===t?!0:t instanceof n?this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&this.semanticContext.equals(t.semanticContext):!1}toString(){return"("+this.state+","+this.alt+(this.context!==null?",["+this.context.toString()+"]":"")+(this.semanticContext!==OE.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}},bv=class n extends kf{constructor(t,e){super(t,e);let i=t.lexerActionExecutor||null;return this.lexerActionExecutor=i||(e!==null?e.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=e!==null?this.checkNonGreedyDecision(e,this.state):!1,this.hashCodeForConfigSet=n.prototype.hashCode,this.equalsForConfigSet=n.prototype.equals,this}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}equals(t){return this===t||t instanceof n&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&super.equals(t)}checkNonGreedyDecision(t,e){return t.passedThroughNonGreedyDecision||e instanceof XB&&e.nonGreedy}};vv.exports.ATNConfig=kf;vv.exports.LexerATNConfig=bv});var Ji=Q((cce,PE)=>{var{Token:$u}=Qt(),Mi=class n{constructor(t,e){this.start=t,this.stop=e}clone(){return new n(this.start,this.stop)}contains(t){return t>=this.start&&t<this.stop}toString(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}get length(){return this.stop-this.start}},yv=class n{constructor(){this.intervals=null,this.readOnly=!1}first(t){return this.intervals===null||this.intervals.length===0?$u.INVALID_TYPE:this.intervals[0].start}addOne(t){this.addInterval(new Mi(t,t+1))}addRange(t,e){this.addInterval(new Mi(t,e+1))}addInterval(t){if(this.intervals===null)this.intervals=[],this.intervals.push(t.clone());else{for(let e=0;e<this.intervals.length;e++){let i=this.intervals[e];if(t.stop<i.start){this.intervals.splice(e,0,t);return}else if(t.stop===i.start){this.intervals[e]=new Mi(t.start,i.stop);return}else if(t.start<=i.stop){this.intervals[e]=new Mi(Math.min(i.start,t.start),Math.max(i.stop,t.stop)),this.reduce(e);return}}this.intervals.push(t.clone())}}addSet(t){return t.intervals!==null&&t.intervals.forEach(e=>this.addInterval(e),this),this}reduce(t){if(t<this.intervals.length-1){let e=this.intervals[t],i=this.intervals[t+1];e.stop>=i.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=i.start&&(this.intervals[t]=new Mi(e.start,i.stop),this.intervals.splice(t+1,1))}}complement(t,e){let i=new n;return i.addInterval(new Mi(t,e+1)),this.intervals!==null&&this.intervals.forEach(r=>i.removeRange(r)),i}contains(t){if(this.intervals===null)return!1;for(let e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}removeRange(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(this.intervals!==null){let e=0;for(let i=0;i<this.intervals.length;i++){let r=this.intervals[e];if(t.stop<=r.start)return;if(t.start>r.start&&t.stop<r.stop){this.intervals[e]=new Mi(r.start,t.start);let s=new Mi(t.stop,r.stop);this.intervals.splice(e,0,s);return}else t.start<=r.start&&t.stop>=r.stop?(this.intervals.splice(e,1),e=e-1):t.start<r.stop?this.intervals[e]=new Mi(r.start,t.start):t.stop<r.stop&&(this.intervals[e]=new Mi(t.stop,r.stop));e+=1}}}removeOne(t){if(this.intervals!==null)for(let e=0;e<this.intervals.length;e++){let i=this.intervals[e];if(t<i.start)return;if(t===i.start&&t===i.stop-1){this.intervals.splice(e,1);return}else if(t===i.start){this.intervals[e]=new Mi(i.start+1,i.stop);return}else if(t===i.stop-1){this.intervals[e]=new Mi(i.start,i.stop-1);return}else if(t<i.stop-1){let r=new Mi(i.start,t);i.start=t+1,this.intervals.splice(e,0,r);return}}}toString(t,e,i){return t=t||null,e=e||null,i=i||!1,this.intervals===null?"{}":t!==null||e!==null?this.toTokenString(t,e):i?this.toCharString():this.toIndexString()}toCharString(){let t=[];for(let e=0;e<this.intervals.length;e++){let i=this.intervals[e];i.stop===i.start+1?i.start===$u.EOF?t.push("<EOF>"):t.push("'"+String.fromCharCode(i.start)+"'"):t.push("'"+String.fromCharCode(i.start)+"'..'"+String.fromCharCode(i.stop-1)+"'")}return t.length>1?"{"+t.join(", ")+"}":t[0]}toIndexString(){let t=[];for(let e=0;e<this.intervals.length;e++){let i=this.intervals[e];i.stop===i.start+1?i.start===$u.EOF?t.push("<EOF>"):t.push(i.start.toString()):t.push(i.start.toString()+".."+(i.stop-1).toString())}return t.length>1?"{"+t.join(", ")+"}":t[0]}toTokenString(t,e){let i=[];for(let r=0;r<this.intervals.length;r++){let s=this.intervals[r];for(let a=s.start;a<s.stop;a++)i.push(this.elementName(t,e,a))}return i.length>1?"{"+i.join(", ")+"}":i[0]}elementName(t,e,i){return i===$u.EOF?"<EOF>":i===$u.EPSILON?"<EPSILON>":t[i]||e[i]}get length(){return this.intervals.map(t=>t.length).reduce((t,e)=>t+e)}};PE.exports={Interval:Mi,IntervalSet:yv}});var Fl=Q((uce,UE)=>{var{Token:JB}=Qt(),{IntervalSet:Iv}=Ji(),{Predicate:e6,PrecedencePredicate:t6}=Nl(),Xe=class{constructor(t){if(t==null)throw"target cannot be null.";this.target=t,this.isEpsilon=!1,this.label=null}};Xe.EPSILON=1;Xe.RANGE=2;Xe.RULE=3;Xe.PREDICATE=4;Xe.ATOM=5;Xe.ACTION=6;Xe.SET=7;Xe.NOT_SET=8;Xe.WILDCARD=9;Xe.PRECEDENCE=10;Xe.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"];Xe.serializationTypes={EpsilonTransition:Xe.EPSILON,RangeTransition:Xe.RANGE,RuleTransition:Xe.RULE,PredicateTransition:Xe.PREDICATE,AtomTransition:Xe.ATOM,ActionTransition:Xe.ACTION,SetTransition:Xe.SET,NotSetTransition:Xe.NOT_SET,WildcardTransition:Xe.WILDCARD,PrecedencePredicateTransition:Xe.PRECEDENCE};var Cv=class extends Xe{constructor(t,e){super(t),this.label_=e,this.label=this.makeLabel(),this.serializationType=Xe.ATOM}makeLabel(){let t=new Iv;return t.addOne(this.label_),t}matches(t,e,i){return this.label_===t}toString(){return this.label_}},wv=class extends Xe{constructor(t,e,i,r){super(t),this.ruleIndex=e,this.precedence=i,this.followState=r,this.serializationType=Xe.RULE,this.isEpsilon=!0}matches(t,e,i){return!1}},xv=class extends Xe{constructor(t,e){super(t),this.serializationType=Xe.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=e}matches(t,e,i){return!1}toString(){return"epsilon"}},Sv=class extends Xe{constructor(t,e,i){super(t),this.serializationType=Xe.RANGE,this.start=e,this.stop=i,this.label=this.makeLabel()}makeLabel(){let t=new Iv;return t.addRange(this.start,this.stop),t}matches(t,e,i){return t>=this.start&&t<=this.stop}toString(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}},Vu=class extends Xe{constructor(t){super(t)}},kv=class extends Vu{constructor(t,e,i,r){super(t),this.serializationType=Xe.PREDICATE,this.ruleIndex=e,this.predIndex=i,this.isCtxDependent=r,this.isEpsilon=!0}matches(t,e,i){return!1}getPredicate(){return new e6(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}},Mv=class extends Xe{constructor(t,e,i,r){super(t),this.serializationType=Xe.ACTION,this.ruleIndex=e,this.actionIndex=i===void 0?-1:i,this.isCtxDependent=r===void 0?!1:r,this.isEpsilon=!0}matches(t,e,i){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}},Mf=class extends Xe{constructor(t,e){super(t),this.serializationType=Xe.SET,e!=null?this.label=e:(this.label=new Iv,this.label.addOne(JB.INVALID_TYPE))}matches(t,e,i){return this.label.contains(t)}toString(){return this.label.toString()}},Tv=class extends Mf{constructor(t,e){super(t,e),this.serializationType=Xe.NOT_SET}matches(t,e,i){return t>=e&&t<=i&&!super.matches(t,e,i)}toString(){return"~"+super.toString()}},Ev=class extends Xe{constructor(t){super(t),this.serializationType=Xe.WILDCARD}matches(t,e,i){return t>=e&&t<=i}toString(){return"."}},Av=class extends Vu{constructor(t,e){super(t),this.serializationType=Xe.PRECEDENCE,this.precedence=e,this.isEpsilon=!0}matches(t,e,i){return!1}getPredicate(){return new t6(this.precedence)}toString(){return this.precedence+" >= _p"}};UE.exports={Transition:Xe,AtomTransition:Cv,SetTransition:Mf,NotSetTransition:Tv,RuleTransition:wv,ActionTransition:Mv,EpsilonTransition:xv,RangeTransition:Sv,WildcardTransition:Ev,PredicateTransition:kv,PrecedencePredicateTransition:Av,AbstractPredicateTransition:Vu}});var Za=Q((dce,BE)=>{var{Token:i6}=Qt(),{Interval:$E}=Ji(),VE=new $E(-1,-2),Dv=class{},Rv=class extends Dv{constructor(){super()}},Tf=class extends Rv{constructor(){super()}},Lv=class extends Tf{constructor(){super()}getRuleContext(){throw new Error("missing interface implementation")}},Pl=class extends Tf{constructor(){super()}},Ef=class extends Pl{constructor(){super()}},Ov=class{visit(t){return Array.isArray(t)?t.map(function(e){return e.accept(this)},this):t.accept(this)}visitChildren(t){return t.children?this.visit(t.children):null}visitTerminal(t){}visitErrorNode(t){}},Nv=class{visitTerminal(t){}visitErrorNode(t){}enterEveryRule(t){}exitEveryRule(t){}},Af=class extends Pl{constructor(t){super(),this.parentCtx=null,this.symbol=t}getChild(t){return null}getSymbol(){return this.symbol}getParent(){return this.parentCtx}getPayload(){return this.symbol}getSourceInterval(){if(this.symbol===null)return VE;let t=this.symbol.tokenIndex;return new $E(t,t)}getChildCount(){return 0}accept(t){return t.visitTerminal(this)}getText(){return this.symbol.text}toString(){return this.symbol.type===i6.EOF?"<EOF>":this.symbol.text}},Fv=class extends Af{constructor(t){super(t)}isErrorNode(){return!0}accept(t){return t.visitErrorNode(this)}},Bu=class{walk(t,e){if(e instanceof Ef||e.isErrorNode!==void 0&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof Pl)t.visitTerminal(e);else{this.enterRule(t,e);for(let r=0;r<e.getChildCount();r++){let s=e.getChild(r);this.walk(t,s)}this.exitRule(t,e)}}enterRule(t,e){let i=e.getRuleContext();t.enterEveryRule(i),i.enterRule(t)}exitRule(t,e){let i=e.getRuleContext();i.exitRule(t),t.exitEveryRule(i)}};Bu.DEFAULT=new Bu;BE.exports={RuleNode:Lv,ErrorNode:Ef,TerminalNode:Pl,ErrorNodeImpl:Fv,TerminalNodeImpl:Af,ParseTreeListener:Nv,ParseTreeVisitor:Ov,ParseTreeWalker:Bu,INVALID_INTERVAL:VE}});var Pv=Q((hce,jE)=>{var n6=ki(),{Token:r6}=Qt(),{ErrorNode:s6,TerminalNode:zE,RuleNode:HE}=Za(),_s={toStringTree:function(n,t,e){t=t||null,e=e||null,e!==null&&(t=e.ruleNames);let i=_s.getNodeText(n,t);i=n6.escapeWhitespace(i,!1);let r=n.getChildCount();if(r===0)return i;let s="("+i+" ";r>0&&(i=_s.toStringTree(n.getChild(0),t),s=s.concat(i));for(let a=1;a<r;a++)i=_s.toStringTree(n.getChild(a),t),s=s.concat(" "+i);return s=s.concat(")"),s},getNodeText:function(n,t,e){if(t=t||null,e=e||null,e!==null&&(t=e.ruleNames),t!==null)if(n instanceof HE){let s=n.getRuleContext().getAltNumber();return s!=0?t[n.ruleIndex]+":"+s:t[n.ruleIndex]}else{if(n instanceof s6)return n.toString();if(n instanceof zE&&n.symbol!==null)return n.symbol.text}let i=n.getPayload();return i instanceof r6?i.text:n.getPayload().toString()},getChildren:function(n){let t=[];for(let e=0;e<n.getChildCount();e++)t.push(n.getChild(e));return t},getAncestors:function(n){let t=[];for(n=n.getParent();n!==null;)t=[n].concat(t),n=n.getParent();return t},findAllTokenNodes:function(n,t){return _s.findAllNodes(n,t,!0)},findAllRuleNodes:function(n,t){return _s.findAllNodes(n,t,!1)},findAllNodes:function(n,t,e){let i=[];return _s._findAllNodes(n,t,e,i),i},_findAllNodes:function(n,t,e,i){e&&n instanceof zE?n.symbol.type===t&&i.push(n):!e&&n instanceof HE&&n.ruleIndex===t&&i.push(n);for(let r=0;r<n.getChildCount();r++)_s._findAllNodes(n.getChild(r),t,e,i)},descendants:function(n){let t=[n];for(let e=0;e<n.getChildCount();e++)t=t.concat(_s.descendants(n.getChild(e)));return t}};jE.exports=_s});var If=Q((mce,WE)=>{var{RuleNode:a6}=Za(),{INVALID_INTERVAL:o6}=Za(),l6=Pv(),Uv=class extends a6{constructor(t,e){super(),this.parentCtx=t||null,this.invokingState=e||-1}depth(){let t=0,e=this;for(;e!==null;)e=e.parentCtx,t+=1;return t}isEmpty(){return this.invokingState===-1}getSourceInterval(){return o6}getRuleContext(){return this}getPayload(){return this}getText(){return this.getChildCount()===0?"":this.children.map(function(t){return t.getText()}).join("")}getAltNumber(){return 0}setAltNumber(t){}getChild(t){return null}getChildCount(){return 0}accept(t){return t.visitChildren(this)}toStringTree(t,e){return l6.toStringTree(this,t,e)}toString(t,e){t=t||null,e=e||null;let i=this,r="[";for(;i!==null&&i!==e;){if(t===null)i.isEmpty()||(r+=i.invokingState);else{let s=i.ruleIndex,a=s>=0&&s<t.length?t[s]:""+s;r+=a}i.parentCtx!==null&&(t!==null||!i.parentCtx.isEmpty())&&(r+=" "),i=i.parentCtx}return r+="]",r}};WE.exports=Uv});var bs=Q((fce,XE)=>{var qE=If(),{Hash:KE,Map:YE,equalArrays:GE}=ki(),ht=class n{constructor(t){this.cachedHashCode=t}isEmpty(){return this===n.EMPTY}hasEmptyPath(){return this.getReturnState(this.length-1)===n.EMPTY_RETURN_STATE}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}};ht.EMPTY=null;ht.EMPTY_RETURN_STATE=2147483647;ht.globalNodeCount=1;ht.id=ht.globalNodeCount;var $v=class{constructor(){this.cache=new YE}add(t){if(t===ht.EMPTY)return ht.EMPTY;let e=this.cache.get(t)||null;return e!==null?e:(this.cache.put(t,t),t)}get(t){return this.cache.get(t)||null}get length(){return this.cache.length}},Pn=class n extends ht{constructor(t,e){let i=0,r=new KE;t!==null?r.update(t,e):r.update(1),i=r.finish(),super(i),this.parentCtx=t,this.returnState=e}getParent(t){return this.parentCtx}getReturnState(t){return this.returnState}equals(t){return this===t?!0:t instanceof n?this.hashCode()!==t.hashCode()||this.returnState!==t.returnState?!1:this.parentCtx==null?t.parentCtx==null:this.parentCtx.equals(t.parentCtx):!1}toString(){let t=this.parentCtx===null?"":this.parentCtx.toString();return t.length===0?this.returnState===ht.EMPTY_RETURN_STATE?"$":""+this.returnState:""+this.returnState+" "+t}get length(){return 1}static create(t,e){return e===ht.EMPTY_RETURN_STATE&&t===null?ht.EMPTY:new n(t,e)}},zu=class extends Pn{constructor(){super(null,ht.EMPTY_RETURN_STATE)}isEmpty(){return!0}getParent(t){return null}getReturnState(t){return this.returnState}equals(t){return this===t}toString(){return"$"}};ht.EMPTY=new zu;var Lr=class n extends ht{constructor(t,e){let i=new KE;i.update(t,e);let r=i.finish();return super(r),this.parents=t,this.returnStates=e,this}isEmpty(){return this.returnStates[0]===ht.EMPTY_RETURN_STATE}getParent(t){return this.parents[t]}getReturnState(t){return this.returnStates[t]}equals(t){return this===t?!0:t instanceof n?this.hashCode()!==t.hashCode()?!1:GE(this.returnStates,t.returnStates)&&GE(this.parents,t.parents):!1}toString(){if(this.isEmpty())return"[]";{let t="[";for(let e=0;e<this.returnStates.length;e++){if(e>0&&(t=t+", "),this.returnStates[e]===ht.EMPTY_RETURN_STATE){t=t+"$";continue}t=t+this.returnStates[e],this.parents[e]!==null?t=t+" "+this.parents[e]:t=t+"null"}return t+"]"}}get length(){return this.returnStates.length}};function QE(n,t){if(t==null&&(t=qE.EMPTY),t.parentCtx===null||t===qE.EMPTY)return ht.EMPTY;let e=QE(n,t.parentCtx),r=n.states[t.invokingState].transitions[0];return Pn.create(e,r.followState.stateNumber)}function Vv(n,t,e,i){if(n===t)return n;if(n instanceof Pn&&t instanceof Pn)return c6(n,t,e,i);if(e){if(n instanceof zu)return n;if(t instanceof zu)return t}return n instanceof Pn&&(n=new Lr([n.getParent()],[n.returnState])),t instanceof Pn&&(t=new Lr([t.getParent()],[t.returnState])),d6(n,t,e,i)}function c6(n,t,e,i){if(i!==null){let s=i.get(n,t);if(s!==null||(s=i.get(t,n),s!==null))return s}let r=u6(n,t,e);if(r!==null)return i!==null&&i.set(n,t,r),r;if(n.returnState===t.returnState){let s=Vv(n.parentCtx,t.parentCtx,e,i);if(s===n.parentCtx)return n;if(s===t.parentCtx)return t;let a=Pn.create(s,n.returnState);return i!==null&&i.set(n,t,a),a}else{let s=null;if((n===t||n.parentCtx!==null&&n.parentCtx===t.parentCtx)&&(s=n.parentCtx),s!==null){let c=[n.returnState,t.returnState];n.returnState>t.returnState&&(c[0]=t.returnState,c[1]=n.returnState);let u=[s,s],d=new Lr(u,c);return i!==null&&i.set(n,t,d),d}let a=[n.returnState,t.returnState],o=[n.parentCtx,t.parentCtx];n.returnState>t.returnState&&(a[0]=t.returnState,a[1]=n.returnState,o=[t.parentCtx,n.parentCtx]);let l=new Lr(o,a);return i!==null&&i.set(n,t,l),l}}function u6(n,t,e){if(e){if(n===ht.EMPTY||t===ht.EMPTY)return ht.EMPTY}else{if(n===ht.EMPTY&&t===ht.EMPTY)return ht.EMPTY;if(n===ht.EMPTY){let i=[t.returnState,ht.EMPTY_RETURN_STATE],r=[t.parentCtx,null];return new Lr(r,i)}else if(t===ht.EMPTY){let i=[n.returnState,ht.EMPTY_RETURN_STATE],r=[n.parentCtx,null];return new Lr(r,i)}}return null}function d6(n,t,e,i){if(i!==null){let u=i.get(n,t);if(u!==null||(u=i.get(t,n),u!==null))return u}let r=0,s=0,a=0,o=[],l=[];for(;r<n.returnStates.length&&s<t.returnStates.length;){let u=n.parents[r],d=t.parents[s];if(n.returnStates[r]===t.returnStates[s]){let h=n.returnStates[r];h===ht.EMPTY_RETURN_STATE&&u===null&&d===null||u!==null&&d!==null&&u===d?(l[a]=u,o[a]=h):(l[a]=Vv(u,d,e,i),o[a]=h),r+=1,s+=1}else n.returnStates[r]<t.returnStates[s]?(l[a]=u,o[a]=n.returnStates[r],r+=1):(l[a]=d,o[a]=t.returnStates[s],s+=1);a+=1}if(r<n.returnStates.length)for(let u=r;u<n.returnStates.length;u++)l[a]=n.parents[u],o[a]=n.returnStates[u],a+=1;else for(let u=s;u<t.returnStates.length;u++)l[a]=t.parents[u],o[a]=t.returnStates[u],a+=1;if(a<l.length){if(a===1){let u=Pn.create(l[0],o[0]);return i!==null&&i.set(n,t,u),u}l=l.slice(0,a),o=o.slice(0,a)}let c=new Lr(l,o);return c===n?(i!==null&&i.set(n,t,n),n):c===t?(i!==null&&i.set(n,t,t),t):(h6(l),i!==null&&i.set(n,t,c),c)}function h6(n){let t=new YE;for(let e=0;e<n.length;e++){let i=n[e];t.containsKey(i)||t.put(i,i)}for(let e=0;e<n.length;e++)n[e]=t.get(n[e])}function ZE(n,t,e){if(n.isEmpty())return n;let i=e.get(n)||null;if(i!==null)return i;if(i=t.get(n),i!==null)return e.put(n,i),i;let r=!1,s=[];for(let o=0;o<s.length;o++){let l=ZE(n.getParent(o),t,e);if(r||l!==n.getParent(o)){if(!r){s=[];for(let c=0;c<n.length;c++)s[c]=n.getParent(c);r=!0}s[o]=l}}if(!r)return t.add(n),e.put(n,n),n;let a=null;return s.length===0?a=ht.EMPTY:s.length===1?a=Pn.create(s[0],n.getReturnState(0)):a=new Lr(s,n.returnStates),t.add(a),e.put(a,a),e.put(n,a),a}XE.exports={merge:Vv,PredictionContext:ht,PredictionContextCache:$v,SingletonPredictionContext:Pn,predictionContextFromRuleContext:QE,getCachedPredictionContext:ZE}});var Bv=Q((pce,n2)=>{var{Set:JE,BitSet:e2}=ki(),{Token:Xa}=Qt(),{ATNConfig:m6}=Uu(),{IntervalSet:t2}=Ji(),{RuleStopState:f6}=gs(),{RuleTransition:p6,NotSetTransition:g6,WildcardTransition:_6,AbstractPredicateTransition:b6}=Fl(),{predictionContextFromRuleContext:v6,PredictionContext:i2,SingletonPredictionContext:y6}=bs(),Df=class n{constructor(t){this.atn=t}getDecisionLookahead(t){if(t===null)return null;let e=t.transitions.length,i=[];for(let r=0;r<e;r++){i[r]=new t2;let s=new JE;this._LOOK(t.transition(r).target,null,i2.EMPTY,i[r],s,new e2,!1,!1),(i[r].length===0||i[r].contains(n.HIT_PRED))&&(i[r]=null)}return i}LOOK(t,e,i){let r=new t2,s=!0;i=i||null;let a=i!==null?v6(t.atn,i):null;return this._LOOK(t,e,a,r,new JE,new e2,s,!0),r}_LOOK(t,e,i,r,s,a,o,l){let c=new m6({state:t,alt:0,context:i},null);if(!s.contains(c)){if(s.add(c),t===e){if(i===null){r.addOne(Xa.EPSILON);return}else if(i.isEmpty()&&l){r.addOne(Xa.EOF);return}}if(t instanceof f6){if(i===null){r.addOne(Xa.EPSILON);return}else if(i.isEmpty()&&l){r.addOne(Xa.EOF);return}if(i!==i2.EMPTY){let u=a.contains(t.ruleIndex);try{a.remove(t.ruleIndex);for(let d=0;d<i.length;d++){let h=this.atn.states[i.getReturnState(d)];this._LOOK(h,e,i.getParent(d),r,s,a,o,l)}}finally{u&&a.add(t.ruleIndex)}return}}for(let u=0;u<t.transitions.length;u++){let d=t.transitions[u];if(d.constructor===p6){if(a.contains(d.target.ruleIndex))continue;let h=y6.create(i,d.followState.stateNumber);try{a.add(d.target.ruleIndex),this._LOOK(d.target,e,h,r,s,a,o,l)}finally{a.remove(d.target.ruleIndex)}}else if(d instanceof b6)o?this._LOOK(d.target,e,i,r,s,a,o,l):r.addOne(n.HIT_PRED);else if(d.isEpsilon)this._LOOK(d.target,e,i,r,s,a,o,l);else if(d.constructor===_6)r.addRange(Xa.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{let h=d.label;h!==null&&(d instanceof g6&&(h=h.complement(Xa.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),r.addSet(h))}}}}};Df.HIT_PRED=Xa.INVALID_TYPE;n2.exports=Df});var Ja=Q((gce,r2)=>{var C6=Bv(),{IntervalSet:w6}=Ji(),{Token:Ul}=Qt(),x6=(()=>{class n{constructor(e,i){this.grammarType=e,this.maxTokenType=i,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}nextTokensInContext(e,i){return new C6(this).LOOK(e,null,i)}nextTokensNoContext(e){return e.nextTokenWithinRule!==null||(e.nextTokenWithinRule=this.nextTokensInContext(e,null),e.nextTokenWithinRule.readOnly=!0),e.nextTokenWithinRule}nextTokens(e,i){return i===void 0?this.nextTokensNoContext(e):this.nextTokensInContext(e,i)}addState(e){e!==null&&(e.atn=this,e.stateNumber=this.states.length),this.states.push(e)}removeState(e){this.states[e.stateNumber]=null}defineDecisionState(e){return this.decisionToState.push(e),e.decision=this.decisionToState.length-1,e.decision}getDecisionState(e){return this.decisionToState.length===0?null:this.decisionToState[e]}getExpectedTokens(e,i){if(e<0||e>=this.states.length)throw"Invalid state number.";let r=this.states[e],s=this.nextTokens(r);if(!s.contains(Ul.EPSILON))return s;let a=new w6;for(a.addSet(s),a.removeOne(Ul.EPSILON);i!==null&&i.invokingState>=0&&s.contains(Ul.EPSILON);){let l=this.states[i.invokingState].transitions[0];s=this.nextTokens(l.followState),a.addSet(s),a.removeOne(Ul.EPSILON),i=i.parentCtx}return s.contains(Ul.EPSILON)&&a.addOne(Ul.EOF),a}}return n.INVALID_ALT_NUMBER=0,n})();r2.exports=x6});var a2=Q((_ce,s2)=>{s2.exports={LEXER:0,PARSER:1}});var zv=Q((bce,o2)=>{var $l=class{constructor(t){t===void 0&&(t=null),this.readOnly=!1,this.verifyATN=t===null?!0:t.verifyATN,this.generateRuleBypassTransitions=t===null?!1:t.generateRuleBypassTransitions}};$l.defaultOptions=new $l;$l.defaultOptions.readOnly=!0;o2.exports=$l});var Yv=Q((vce,l2)=>{var vs={CHANNEL:0,CUSTOM:1,MODE:2,MORE:3,POP_MODE:4,PUSH_MODE:5,SKIP:6,TYPE:7},tr=class{constructor(t){this.actionType=t,this.isPositionDependent=!1}hashCode(){let t=new Hash;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.actionType)}equals(t){return this===t}},Hu=class extends tr{constructor(){super(vs.SKIP)}execute(t){t.skip()}toString(){return"skip"}};Hu.INSTANCE=new Hu;var Hv=class n extends tr{constructor(t){super(vs.TYPE),this.type=t}execute(t){t.type=this.type}updateHashCode(t){t.update(this.actionType,this.type)}equals(t){return this===t?!0:t instanceof n?this.type===t.type:!1}toString(){return"type("+this.type+")"}},jv=class n extends tr{constructor(t){super(vs.PUSH_MODE),this.mode=t}execute(t){t.pushMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t?!0:t instanceof n?this.mode===t.mode:!1}toString(){return"pushMode("+this.mode+")"}},ju=class extends tr{constructor(){super(vs.POP_MODE)}execute(t){t.popMode()}toString(){return"popMode"}};ju.INSTANCE=new ju;var Wu=class extends tr{constructor(){super(vs.MORE)}execute(t){t.more()}toString(){return"more"}};Wu.INSTANCE=new Wu;var Wv=class n extends tr{constructor(t){super(vs.MODE),this.mode=t}execute(t){t.mode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t?!0:t instanceof n?this.mode===t.mode:!1}toString(){return"mode("+this.mode+")"}},qv=class n extends tr{constructor(t,e){super(vs.CUSTOM),this.ruleIndex=t,this.actionIndex=e,this.isPositionDependent=!0}execute(t){t.action(null,this.ruleIndex,this.actionIndex)}updateHashCode(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}equals(t){return this===t?!0:t instanceof n?this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex:!1}},Gv=class n extends tr{constructor(t){super(vs.CHANNEL),this.channel=t}execute(t){t._channel=this.channel}updateHashCode(t){t.update(this.actionType,this.channel)}equals(t){return this===t?!0:t instanceof n?this.channel===t.channel:!1}toString(){return"channel("+this.channel+")"}},Kv=class n extends tr{constructor(t,e){super(e.actionType),this.offset=t,this.action=e,this.isPositionDependent=!0}execute(t){this.action.execute(t)}updateHashCode(t){t.update(this.actionType,this.offset,this.action)}equals(t){return this===t?!0:t instanceof n?this.offset===t.offset&&this.action===t.action:!1}};l2.exports={LexerActionType:vs,LexerSkipAction:Hu,LexerChannelAction:Gv,LexerCustomAction:qv,LexerIndexedCustomAction:Kv,LexerMoreAction:Wu,LexerTypeAction:Hv,LexerPushModeAction:jv,LexerPopModeAction:ju,LexerModeAction:Wv}});var ay=Q((yce,_2)=>{var{Token:Qv}=Qt(),S6=Ja(),Rf=a2(),{ATNState:Pi,BasicState:c2,DecisionState:k6,BlockStartState:Zv,BlockEndState:Xv,LoopEndState:Vl,RuleStartState:u2,RuleStopState:qu,TokensStartState:M6,PlusLoopbackState:d2,StarLoopbackState:Jv,StarLoopEntryState:Bl,PlusBlockStartState:ey,StarBlockStartState:ty,BasicBlockStartState:h2}=gs(),{Transition:Or,AtomTransition:iy,SetTransition:T6,NotSetTransition:E6,RuleTransition:m2,RangeTransition:f2,ActionTransition:A6,EpsilonTransition:Gu,WildcardTransition:I6,PredicateTransition:D6,PrecedencePredicateTransition:R6}=Fl(),{IntervalSet:L6}=Ji(),O6=zv(),{LexerActionType:sa,LexerSkipAction:N6,LexerChannelAction:F6,LexerCustomAction:P6,LexerMoreAction:U6,LexerTypeAction:$6,LexerPushModeAction:V6,LexerPopModeAction:B6,LexerModeAction:z6}=Yv(),H6="AADB8D7E-AEEF-4415-AD2B-8204D6CF042E",sy="59627784-3BE5-417A-B9EB-8131A7286089",ny=[H6,sy],p2=3,g2=sy;function Lf(n,t){let e=[];return e[n-1]=t,e.map(function(i){return t})}var ry=class{constructor(t){t==null&&(t=O6.defaultOptions),this.deserializationOptions=t,this.stateFactories=null,this.actionFactories=null}isFeatureSupported(t,e){let i=ny.indexOf(t);return i<0?!1:ny.indexOf(e)>=i}deserialize(t){this.reset(t),this.checkVersion(),this.checkUUID();let e=this.readATN();this.readStates(e),this.readRules(e),this.readModes(e);let i=[];return this.readSets(e,i,this.readInt.bind(this)),this.isFeatureSupported(sy,this.uuid)&&this.readSets(e,i,this.readInt32.bind(this)),this.readEdges(e,i),this.readDecisions(e),this.readLexerActions(e),this.markPrecedenceDecisions(e),this.verifyATN(e),this.deserializationOptions.generateRuleBypassTransitions&&e.grammarType===Rf.PARSER&&(this.generateRuleBypassTransitions(e),this.verifyATN(e)),e}reset(t){let e=function(r){let s=r.charCodeAt(0);return s>1?s-2:s+65534},i=t.split("").map(e);i[0]=t.charCodeAt(0),this.data=i,this.pos=0}checkVersion(){let t=this.readInt();if(t!==p2)throw"Could not deserialize ATN with version "+t+" (expected "+p2+")."}checkUUID(){let t=this.readUUID();if(ny.indexOf(t)<0)throw""+t+g2,g2;this.uuid=t}readATN(){let t=this.readInt(),e=this.readInt();return new S6(t,e)}readStates(t){let e,i,r,s=[],a=[],o=this.readInt();for(let u=0;u<o;u++){let d=this.readInt();if(d===Pi.INVALID_TYPE){t.addState(null);continue}let h=this.readInt();h===65535&&(h=-1);let m=this.stateFactory(d,h);if(d===Pi.LOOP_END){let f=this.readInt();s.push([m,f])}else if(m instanceof Zv){let f=this.readInt();a.push([m,f])}t.addState(m)}for(e=0;e<s.length;e++)i=s[e],i[0].loopBackState=t.states[i[1]];for(e=0;e<a.length;e++)i=a[e],i[0].endState=t.states[i[1]];let l=this.readInt();for(e=0;e<l;e++)r=this.readInt(),t.states[r].nonGreedy=!0;let c=this.readInt();for(e=0;e<c;e++)r=this.readInt(),t.states[r].isPrecedenceRule=!0}readRules(t){let e,i=this.readInt();for(t.grammarType===Rf.LEXER&&(t.ruleToTokenType=Lf(i,0)),t.ruleToStartState=Lf(i,0),e=0;e<i;e++){let r=this.readInt();if(t.ruleToStartState[e]=t.states[r],t.grammarType===Rf.LEXER){let s=this.readInt();s===65535&&(s=Qv.EOF),t.ruleToTokenType[e]=s}}for(t.ruleToStopState=Lf(i,0),e=0;e<t.states.length;e++){let r=t.states[e];r instanceof qu&&(t.ruleToStopState[r.ruleIndex]=r,t.ruleToStartState[r.ruleIndex].stopState=r)}}readModes(t){let e=this.readInt();for(let i=0;i<e;i++){let r=this.readInt();t.modeToStartState.push(t.states[r])}}readSets(t,e,i){let r=this.readInt();for(let s=0;s<r;s++){let a=new L6;e.push(a);let o=this.readInt();this.readInt()!==0&&a.addOne(-1);for(let c=0;c<o;c++){let u=i(),d=i();a.addRange(u,d)}}}readEdges(t,e){let i,r,s,a,o,l=this.readInt();for(i=0;i<l;i++){let c=this.readInt(),u=this.readInt(),d=this.readInt(),h=this.readInt(),m=this.readInt(),f=this.readInt();a=this.edgeFactory(t,d,c,u,h,m,f,e),t.states[c].addTransition(a)}for(i=0;i<t.states.length;i++)for(s=t.states[i],r=0;r<s.transitions.length;r++){let c=s.transitions[r];if(!(c instanceof m2))continue;let u=-1;t.ruleToStartState[c.target.ruleIndex].isPrecedenceRule&&c.precedence===0&&(u=c.target.ruleIndex),a=new Gu(c.followState,u),t.ruleToStopState[c.target.ruleIndex].addTransition(a)}for(i=0;i<t.states.length;i++){if(s=t.states[i],s instanceof Zv){if(s.endState===null||s.endState.startState!==null)throw"IllegalState";s.endState.startState=s}if(s instanceof d2)for(r=0;r<s.transitions.length;r++)o=s.transitions[r].target,o instanceof ey&&(o.loopBackState=s);else if(s instanceof Jv)for(r=0;r<s.transitions.length;r++)o=s.transitions[r].target,o instanceof Bl&&(o.loopBackState=s)}}readDecisions(t){let e=this.readInt();for(let i=0;i<e;i++){let r=this.readInt(),s=t.states[r];t.decisionToState.push(s),s.decision=i}}readLexerActions(t){if(t.grammarType===Rf.LEXER){let e=this.readInt();t.lexerActions=Lf(e,null);for(let i=0;i<e;i++){let r=this.readInt(),s=this.readInt();s===65535&&(s=-1);let a=this.readInt();a===65535&&(a=-1),t.lexerActions[i]=this.lexerActionFactory(r,s,a)}}}generateRuleBypassTransitions(t){let e,i=t.ruleToStartState.length;for(e=0;e<i;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<i;e++)this.generateRuleBypassTransition(t,e)}generateRuleBypassTransition(t,e){let i,r,s=new h2;s.ruleIndex=e,t.addState(s);let a=new Xv;a.ruleIndex=e,t.addState(a),s.endState=a,t.defineDecisionState(s),a.startState=s;let o=null,l=null;if(t.ruleToStartState[e].isPrecedenceRule){for(l=null,i=0;i<t.states.length;i++)if(r=t.states[i],this.stateIsEndStateFor(r,e)){l=r,o=r.loopBackState.transitions[0];break}if(o===null)throw"Couldn't identify final state of the precedence rule prefix section."}else l=t.ruleToStopState[e];for(i=0;i<t.states.length;i++){r=t.states[i];for(let h=0;h<r.transitions.length;h++){let m=r.transitions[h];m!==o&&m.target===l&&(m.target=a)}}let c=t.ruleToStartState[e],u=c.transitions.length;for(;u>0;)s.addTransition(c.transitions[u-1]),c.transitions=c.transitions.slice(-1);t.ruleToStartState[e].addTransition(new Gu(s)),a.addTransition(new Gu(l));let d=new c2;t.addState(d),d.addTransition(new iy(a,t.ruleToTokenType[e])),s.addTransition(new Gu(d))}stateIsEndStateFor(t,e){if(t.ruleIndex!==e||!(t instanceof Bl))return null;let i=t.transitions[t.transitions.length-1].target;return i instanceof Vl&&i.epsilonOnlyTransitions&&i.transitions[0].target instanceof qu?t:null}markPrecedenceDecisions(t){for(let e=0;e<t.states.length;e++){let i=t.states[e];if(i instanceof Bl&&t.ruleToStartState[i.ruleIndex].isPrecedenceRule){let r=i.transitions[i.transitions.length-1].target;r instanceof Vl&&r.epsilonOnlyTransitions&&r.transitions[0].target instanceof qu&&(i.isPrecedenceDecision=!0)}}}verifyATN(t){if(this.deserializationOptions.verifyATN)for(let e=0;e<t.states.length;e++){let i=t.states[e];if(i!==null)if(this.checkCondition(i.epsilonOnlyTransitions||i.transitions.length<=1),i instanceof ey)this.checkCondition(i.loopBackState!==null);else if(i instanceof Bl)if(this.checkCondition(i.loopBackState!==null),this.checkCondition(i.transitions.length===2),i.transitions[0].target instanceof ty)this.checkCondition(i.transitions[1].target instanceof Vl),this.checkCondition(!i.nonGreedy);else if(i.transitions[0].target instanceof Vl)this.checkCondition(i.transitions[1].target instanceof ty),this.checkCondition(i.nonGreedy);else throw"IllegalState";else i instanceof Jv?(this.checkCondition(i.transitions.length===1),this.checkCondition(i.transitions[0].target instanceof Bl)):i instanceof Vl?this.checkCondition(i.loopBackState!==null):i instanceof u2?this.checkCondition(i.stopState!==null):i instanceof Zv?this.checkCondition(i.endState!==null):i instanceof Xv?this.checkCondition(i.startState!==null):i instanceof k6?this.checkCondition(i.transitions.length<=1||i.decision>=0):this.checkCondition(i.transitions.length<=1||i instanceof qu)}}checkCondition(t,e){if(!t)throw e==null&&(e="IllegalState"),e}readInt(){return this.data[this.pos++]}readInt32(){let t=this.readInt(),e=this.readInt();return t|e<<16}readLong(){let t=this.readInt32(),e=this.readInt32();return t&4294967295|e<<32}readUUID(){let t=[];for(let e=7;e>=0;e--){let i=this.readInt();t[2*e+1]=i&255,t[2*e]=i>>8&255}return Ti[t[0]]+Ti[t[1]]+Ti[t[2]]+Ti[t[3]]+"-"+Ti[t[4]]+Ti[t[5]]+"-"+Ti[t[6]]+Ti[t[7]]+"-"+Ti[t[8]]+Ti[t[9]]+"-"+Ti[t[10]]+Ti[t[11]]+Ti[t[12]]+Ti[t[13]]+Ti[t[14]]+Ti[t[15]]}edgeFactory(t,e,i,r,s,a,o,l){let c=t.states[r];switch(e){case Or.EPSILON:return new Gu(c);case Or.RANGE:return o!==0?new f2(c,Qv.EOF,a):new f2(c,s,a);case Or.RULE:return new m2(t.states[s],a,o,c);case Or.PREDICATE:return new D6(c,s,a,o!==0);case Or.PRECEDENCE:return new R6(c,s);case Or.ATOM:return o!==0?new iy(c,Qv.EOF):new iy(c,s);case Or.ACTION:return new A6(c,s,a,o!==0);case Or.SET:return new T6(c,l[s]);case Or.NOT_SET:return new E6(c,l[s]);case Or.WILDCARD:return new I6(c);default:throw"The specified transition type: "+e+" is not valid."}}stateFactory(t,e){if(this.stateFactories===null){let i=[];i[Pi.INVALID_TYPE]=null,i[Pi.BASIC]=()=>new c2,i[Pi.RULE_START]=()=>new u2,i[Pi.BLOCK_START]=()=>new h2,i[Pi.PLUS_BLOCK_START]=()=>new ey,i[Pi.STAR_BLOCK_START]=()=>new ty,i[Pi.TOKEN_START]=()=>new M6,i[Pi.RULE_STOP]=()=>new qu,i[Pi.BLOCK_END]=()=>new Xv,i[Pi.STAR_LOOP_BACK]=()=>new Jv,i[Pi.STAR_LOOP_ENTRY]=()=>new Bl,i[Pi.PLUS_LOOP_BACK]=()=>new d2,i[Pi.LOOP_END]=()=>new Vl,this.stateFactories=i}if(t>this.stateFactories.length||this.stateFactories[t]===null)throw"The specified state type "+t+" is not valid.";{let i=this.stateFactories[t]();if(i!==null)return i.ruleIndex=e,i}}lexerActionFactory(t,e,i){if(this.actionFactories===null){let r=[];r[sa.CHANNEL]=(s,a)=>new F6(s),r[sa.CUSTOM]=(s,a)=>new P6(s,a),r[sa.MODE]=(s,a)=>new z6(s),r[sa.MORE]=(s,a)=>U6.INSTANCE,r[sa.POP_MODE]=(s,a)=>B6.INSTANCE,r[sa.PUSH_MODE]=(s,a)=>new V6(s),r[sa.SKIP]=(s,a)=>N6.INSTANCE,r[sa.TYPE]=(s,a)=>new $6(s),this.actionFactories=r}if(t>this.actionFactories.length||this.actionFactories[t]===null)throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,i)}};function j6(){let n=[];for(let t=0;t<256;t++)n[t]=(t+256).toString(16).substr(1).toUpperCase();return n}var Ti=j6();_2.exports=ry});var Qu=Q((Cce,b2)=>{var Ku=class{syntaxError(t,e,i,r,s,a){}reportAmbiguity(t,e,i,r,s,a,o){}reportAttemptingFullContext(t,e,i,r,s,a){}reportContextSensitivity(t,e,i,r,s,a){}},Yu=class extends Ku{constructor(){super()}syntaxError(t,e,i,r,s,a){console.error("line "+i+":"+r+" "+s)}};Yu.INSTANCE=new Yu;var oy=class extends Ku{constructor(t){if(super(),t===null)throw"delegates";return this.delegates=t,this}syntaxError(t,e,i,r,s,a){this.delegates.map(o=>o.syntaxError(t,e,i,r,s,a))}reportAmbiguity(t,e,i,r,s,a,o){this.delegates.map(l=>l.reportAmbiguity(t,e,i,r,s,a,o))}reportAttemptingFullContext(t,e,i,r,s,a){this.delegates.map(o=>o.reportAttemptingFullContext(t,e,i,r,s,a))}reportContextSensitivity(t,e,i,r,s,a){this.delegates.map(o=>o.reportContextSensitivity(t,e,i,r,s,a))}};b2.exports={ErrorListener:Ku,ConsoleErrorListener:Yu,ProxyErrorListener:oy}});var cy=Q((wce,v2)=>{var{Token:ly}=Qt(),{ConsoleErrorListener:W6}=Qu(),{ProxyErrorListener:q6}=Qu(),G6=(()=>{class n{constructor(){this._listeners=[W6.INSTANCE],this._interp=null,this._stateNumber=-1}checkVersion(e){let i="4.9.3";i!==e&&console.log("ANTLR runtime and generated code versions disagree: "+i+"!="+e)}addErrorListener(e){this._listeners.push(e)}removeErrorListeners(){this._listeners=[]}getLiteralNames(){return Object.getPrototypeOf(this).constructor.literalNames||[]}getSymbolicNames(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}getTokenNames(){if(!this.tokenNames){let e=this.getLiteralNames(),i=this.getSymbolicNames(),r=e.length>i.length?e.length:i.length;this.tokenNames=[];for(let s=0;s<r;s++)this.tokenNames[s]=e[s]||i[s]||"<INVALID"}return this.tokenNames}getTokenTypeMap(){let e=this.getTokenNames();if(e===null)throw"The current recognizer does not provide a list of token names.";let i=this.tokenTypeMapCache[e];return i===void 0&&(i=e.reduce(function(r,s,a){r[s]=a}),i.EOF=ly.EOF,this.tokenTypeMapCache[e]=i),i}getRuleIndexMap(){let e=this.ruleNames;if(e===null)throw"The current recognizer does not provide a list of rule names.";let i=this.ruleIndexMapCache[e];return i===void 0&&(i=e.reduce(function(r,s,a){r[s]=a}),this.ruleIndexMapCache[e]=i),i}getTokenType(e){let i=this.getTokenTypeMap()[e];return i!==void 0?i:ly.INVALID_TYPE}getErrorHeader(e){let i=e.getOffendingToken().line,r=e.getOffendingToken().column;return"line "+i+":"+r}getTokenErrorDisplay(e){if(e===null)return"<no token>";let i=e.text;return i===null&&(e.type===ly.EOF?i="<EOF>":i="<"+e.type+">"),i=i.replace(`
`,"\\n").replace("\r","\\r").replace("	","\\t"),"'"+i+"'"}getErrorListenerDispatch(){return new q6(this._listeners)}sempred(e,i,r){return!0}precpred(e,i){return!0}get state(){return this._stateNumber}set state(e){this._stateNumber=e}}return n.tokenTypeMapCache={},n.ruleIndexMapCache={},n})();v2.exports=G6});var w2=Q((xce,C2)=>{var y2=Qt().CommonToken,uy=class{},Zu=class extends uy{constructor(t){super(),this.copyText=t===void 0?!1:t}create(t,e,i,r,s,a,o,l){let c=new y2(t,e,r,s,a);return c.line=o,c.column=l,i!==null?c.text=i:this.copyText&&t[1]!==null&&(c.text=t[1].getText(s,a)),c}createThin(t,e){let i=new y2(null,t);return i.text=e,i}};Zu.DEFAULT=new Zu;C2.exports=Zu});var ir=Q((Sce,x2)=>{var{PredicateTransition:K6}=Fl(),{Interval:Y6}=Ji().Interval,eo=class n extends Error{constructor(t){if(super(t.message),Error.captureStackTrace)Error.captureStackTrace(this,n);else var e=new Error().stack;this.message=t.message,this.recognizer=t.recognizer,this.input=t.input,this.ctx=t.ctx,this.offendingToken=null,this.offendingState=-1,this.recognizer!==null&&(this.offendingState=this.recognizer.state)}getExpectedTokens(){return this.recognizer!==null?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}toString(){return this.message}},dy=class extends eo{constructor(t,e,i,r){super({message:"",recognizer:t,input:e,ctx:null}),this.startIndex=i,this.deadEndConfigs=r}toString(){let t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new Y6(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}},hy=class extends eo{constructor(t,e,i,r,s,a){a=a||t._ctx,r=r||t.getCurrentToken(),i=i||t.getCurrentToken(),e=e||t.getInputStream(),super({message:"",recognizer:t,input:e,ctx:a}),this.deadEndConfigs=s,this.startToken=i,this.offendingToken=r}},my=class extends eo{constructor(t){super({message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx}),this.offendingToken=t.getCurrentToken()}};function Q6(n,t){return t!==null?t:"failed predicate: {"+n+"}?"}var fy=class extends eo{constructor(t,e,i){super({message:Q6(e,i||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});let s=t._interp.atn.states[t.state].transitions[0];s instanceof K6?(this.ruleIndex=s.ruleIndex,this.predicateIndex=s.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=e,this.offendingToken=t.getCurrentToken()}},py=class n extends Error{constructor(){super(),Error.captureStackTrace(this,n)}};x2.exports={RecognitionException:eo,NoViableAltException:hy,LexerNoViableAltException:dy,InputMismatchException:my,FailedPredicateException:fy,ParseCancellationException:py}});var Xu=Q((kce,S2)=>{var{Token:Ui}=Qt(),Z6=cy(),X6=w2(),{RecognitionException:J6}=ir(),{LexerNoViableAltException:ez}=ir(),Nr=class n extends Z6{constructor(t){super(),this._input=t,this._factory=X6.DEFAULT,this._tokenFactorySourcePair=[this,t],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=Ui.DEFAULT_CHANNEL,this._type=Ui.INVALID_TYPE,this._modeStack=[],this._mode=n.DEFAULT_MODE,this._text=null}reset(){this._input!==null&&this._input.seek(0),this._token=null,this._type=Ui.INVALID_TYPE,this._channel=Ui.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=n.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}nextToken(){if(this._input===null)throw"nextToken requires a non-null input stream.";let t=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=Ui.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;let e=!1;for(;;){this._type=Ui.INVALID_TYPE;let i=n.SKIP;try{i=this._interp.match(this._input,this._mode)}catch(r){if(r instanceof J6)this.notifyListeners(r),this.recover(r);else throw console.log(r.stack),r}if(this._input.LA(1)===Ui.EOF&&(this._hitEOF=!0),this._type===Ui.INVALID_TYPE&&(this._type=i),this._type===n.SKIP){e=!0;break}if(this._type!==n.MORE)break}if(!e)return this._token===null&&this.emit(),this._token}}finally{this._input.release(t)}}skip(){this._type=n.SKIP}more(){this._type=n.MORE}mode(t){this._mode=t}pushMode(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.mode(t)}popMode(){if(this._modeStack.length===0)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode}emitToken(t){this._token=t}emit(){let t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}emitEOF(){let t=this.column,e=this.line,i=this._factory.create(this._tokenFactorySourcePair,Ui.EOF,null,Ui.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e,t);return this.emitToken(i),i}getCharIndex(){return this._input.index}getAllTokens(){let t=[],e=this.nextToken();for(;e.type!==Ui.EOF;)t.push(e),e=this.nextToken();return t}notifyListeners(t){let e=this._tokenStartCharIndex,i=this._input.index,r=this._input.getText(e,i),s="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,s,t)}getErrorDisplay(t){let e=[];for(let i=0;i<t.length;i++)e.push(t[i]);return e.join("")}getErrorDisplayForChar(t){return t.charCodeAt(0)===Ui.EOF?"<EOF>":t===`
`?"\\n":t==="	"?"\\t":t==="\r"?"\\r":t}getCharErrorDisplay(t){return"'"+this.getErrorDisplayForChar(t)+"'"}recover(t){this._input.LA(1)!==Ui.EOF&&(t instanceof ez?this._interp.consume(this._input):this._input.consume())}get inputStream(){return this._input}set inputStream(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}get sourceName(){return this._input.sourceName}get type(){return this._type}set type(t){this._type=t}get line(){return this._interp.line}set line(t){this._interp.line=t}get column(){return this._interp.column}set column(t){this._interp.column=t}get text(){return this._text!==null?this._text:this._interp.getText(this._input)}set text(t){this._text=t}};Nr.DEFAULT_MODE=0;Nr.MORE=-2;Nr.SKIP=-3;Nr.DEFAULT_TOKEN_CHANNEL=Ui.DEFAULT_CHANNEL;Nr.HIDDEN=Ui.HIDDEN_CHANNEL;Nr.MIN_CHAR_VALUE=0;Nr.MAX_CHAR_VALUE=1114111;S2.exports=Nr});var io=Q((Mce,M2)=>{var tz=Ja(),to=ki(),{SemanticContext:k2}=Nl(),{merge:iz}=bs();function nz(n){return n.hashCodeForConfigSet()}function rz(n,t){return n===t?!0:n===null||t===null?!1:n.equalsForConfigSet(t)}var Of=class n{constructor(t){this.configLookup=new to.Set(nz,rz),this.fullCtx=t===void 0?!0:t,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}add(t,e){if(e===void 0&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==k2.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);let i=this.configLookup.add(t);if(i===t)return this.cachedHashCode=-1,this.configs.push(t),!0;let r=!this.fullCtx,s=iz(i.context,t.context,r,e);return i.reachesIntoOuterContext=Math.max(i.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(i.precedenceFilterSuppressed=!0),i.context=s,!0}getStates(){let t=new to.Set;for(let e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}getPredicates(){let t=[];for(let e=0;e<this.configs.length;e++){let i=this.configs[e].semanticContext;i!==k2.NONE&&t.push(i.semanticContext)}return t}optimizeConfigs(t){if(this.readOnly)throw"This set is readonly";if(this.configLookup.length!==0)for(let e=0;e<this.configs.length;e++){let i=this.configs[e];i.context=t.getCachedContext(i.context)}}addAll(t){for(let e=0;e<t.length;e++)this.add(t[e]);return!1}equals(t){return this===t||t instanceof n&&to.equalArrays(this.configs,t.configs)&&this.fullCtx===t.fullCtx&&this.uniqueAlt===t.uniqueAlt&&this.conflictingAlts===t.conflictingAlts&&this.hasSemanticContext===t.hasSemanticContext&&this.dipsIntoOuterContext===t.dipsIntoOuterContext}hashCode(){let t=new to.Hash;return t.update(this.configs),t.finish()}updateHashCode(t){this.readOnly?(this.cachedHashCode===-1&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}isEmpty(){return this.configs.length===0}contains(t){if(this.configLookup===null)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}containsFast(t){if(this.configLookup===null)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}clear(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new to.Set}setReadonly(t){this.readOnly=t,t&&(this.configLookup=null)}toString(){return to.arrayToString(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==tz.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(this.conflictingAlts!==null?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}get items(){return this.configs}get length(){return this.configs.length}},gy=class extends Of{constructor(){super(),this.configLookup=new to.Set}};M2.exports={ATNConfigSet:Of,OrderedATNConfigSet:gy}});var zl=Q((Tce,T2)=>{var{ATNConfigSet:sz}=io(),{Hash:az,Set:oz}=ki(),_y=class{constructor(t,e){this.alt=e,this.pred=t}toString(){return"("+this.pred+", "+this.alt+")"}},by=class n{constructor(t,e){return t===null&&(t=-1),e===null&&(e=new sz),this.stateNumber=t,this.configs=e,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}getAltSet(){let t=new oz;if(this.configs!==null)for(let e=0;e<this.configs.length;e++){let i=this.configs[e];t.add(i.alt)}return t.length===0?null:t}equals(t){return this===t||t instanceof n&&this.configs.equals(t.configs)}toString(){let t=""+this.stateNumber+":"+this.configs;return this.isAcceptState&&(t=t+"=>",this.predicates!==null?t=t+this.predicates:t=t+this.prediction),t}hashCode(){let t=new az;return t.update(this.configs),t.finish()}};T2.exports={DFAState:by,PredPrediction:_y}});var vy=Q((Ece,E2)=>{var{DFAState:lz}=zl(),{ATNConfigSet:cz}=io(),{getCachedPredictionContext:uz}=bs(),{Map:dz}=ki(),Nf=class{constructor(t,e){return this.atn=t,this.sharedContextCache=e,this}getCachedContext(t){if(this.sharedContextCache===null)return t;let e=new dz;return uz(t,this.sharedContextCache,e)}};Nf.ERROR=new lz(2147483647,new cz);E2.exports=Nf});var I2=Q((Ace,A2)=>{var{hashStuff:hz}=ki(),{LexerIndexedCustomAction:yy}=Yv(),Cy=class n{constructor(t){return this.lexerActions=t===null?[]:t,this.cachedHashCode=hz(t),this}fixOffsetBeforeMatch(t){let e=null;for(let i=0;i<this.lexerActions.length;i++)this.lexerActions[i].isPositionDependent&&!(this.lexerActions[i]instanceof yy)&&(e===null&&(e=this.lexerActions.concat([])),e[i]=new yy(t,this.lexerActions[i]));return e===null?this:new n(e)}execute(t,e,i){let r=!1,s=e.index;try{for(let a=0;a<this.lexerActions.length;a++){let o=this.lexerActions[a];if(o instanceof yy){let l=o.offset;e.seek(i+l),o=o.action,r=i+l!==s}else o.isPositionDependent&&(e.seek(s),r=!1);o.execute(t)}}finally{r&&e.seek(s)}}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}equals(t){if(this===t)return!0;if(t instanceof n){if(this.cachedHashCode!=t.cachedHashCode)return!1;if(this.lexerActions.length!=t.lexerActions.length)return!1;{let e=this.lexerActions.length;for(let i=0;i<e;++i)if(!this.lexerActions[i].equals(t.lexerActions[i]))return!1;return!0}}else return!1}static append(t,e){if(t===null)return new n([e]);let i=t.lexerActions.concat([e]);return new n(i)}};A2.exports=Cy});var N2=Q((Ice,O2)=>{var{Token:Hl}=Qt(),Ff=Xu(),mz=Ja(),Pf=vy(),{DFAState:fz}=zl(),{OrderedATNConfigSet:D2}=io(),{PredictionContext:wy}=bs(),{SingletonPredictionContext:pz}=bs(),{RuleStopState:R2}=gs(),{LexerATNConfig:Fr}=Uu(),{Transition:aa}=Fl(),gz=I2(),{LexerNoViableAltException:_z}=ir();function L2(n){n.index=-1,n.line=0,n.column=-1,n.dfaState=null}var xy=class{constructor(){L2(this)}reset(){L2(this)}},bz=(()=>{class n extends Pf{constructor(e,i,r,s){super(i,s),this.decisionToDFA=r,this.recog=e,this.startIndex=-1,this.line=1,this.column=0,this.mode=Ff.DEFAULT_MODE,this.prevAccept=new xy}copyState(e){this.column=e.column,this.line=e.line,this.mode=e.mode,this.startIndex=e.startIndex}match(e,i){this.match_calls+=1,this.mode=i;let r=e.mark();try{this.startIndex=e.index,this.prevAccept.reset();let s=this.decisionToDFA[i];return s.s0===null?this.matchATN(e):this.execATN(e,s.s0)}finally{e.release(r)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=Ff.DEFAULT_MODE}matchATN(e){let i=this.atn.modeToStartState[this.mode];n.debug&&console.log("matchATN mode "+this.mode+" start: "+i);let r=this.mode,s=this.computeStartState(e,i),a=s.hasSemanticContext;s.hasSemanticContext=!1;let o=this.addDFAState(s);a||(this.decisionToDFA[this.mode].s0=o);let l=this.execATN(e,o);return n.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[r].toLexerString()),l}execATN(e,i){n.debug&&console.log("start state closure="+i.configs),i.isAcceptState&&this.captureSimState(this.prevAccept,e,i);let r=e.LA(1),s=i;for(;;){n.debug&&console.log("execATN loop starting closure: "+s.configs);let a=this.getExistingTargetState(s,r);if(a===null&&(a=this.computeTargetState(e,s,r)),a===Pf.ERROR||(r!==Hl.EOF&&this.consume(e),a.isAcceptState&&(this.captureSimState(this.prevAccept,e,a),r===Hl.EOF)))break;r=e.LA(1),s=a}return this.failOrAccept(this.prevAccept,e,s.configs,r)}getExistingTargetState(e,i){if(e.edges===null||i<n.MIN_DFA_EDGE||i>n.MAX_DFA_EDGE)return null;let r=e.edges[i-n.MIN_DFA_EDGE];return r===void 0&&(r=null),n.debug&&r!==null&&console.log("reuse state "+e.stateNumber+" edge to "+r.stateNumber),r}computeTargetState(e,i,r){let s=new D2;return this.getReachableConfigSet(e,i.configs,s,r),s.items.length===0?(s.hasSemanticContext||this.addDFAEdge(i,r,Pf.ERROR),Pf.ERROR):this.addDFAEdge(i,r,null,s)}failOrAccept(e,i,r,s){if(this.prevAccept.dfaState!==null){let a=e.dfaState.lexerActionExecutor;return this.accept(i,a,this.startIndex,e.index,e.line,e.column),e.dfaState.prediction}else{if(s===Hl.EOF&&i.index===this.startIndex)return Hl.EOF;throw new _z(this.recog,i,this.startIndex,r)}}getReachableConfigSet(e,i,r,s){let a=mz.INVALID_ALT_NUMBER;for(let o=0;o<i.items.length;o++){let l=i.items[o],c=l.alt===a;if(!(c&&l.passedThroughNonGreedyDecision)){n.debug&&console.log(`testing %s at %s
`,this.getTokenName(s),l.toString(this.recog,!0));for(let u=0;u<l.state.transitions.length;u++){let d=l.state.transitions[u],h=this.getReachableTarget(d,s);if(h!==null){let m=l.lexerActionExecutor;m!==null&&(m=m.fixOffsetBeforeMatch(e.index-this.startIndex));let f=s===Hl.EOF,p=new Fr({state:h,lexerActionExecutor:m},l);this.closure(e,p,r,c,!0,f)&&(a=l.alt)}}}}}accept(e,i,r,s,a,o){n.debug&&console.log(`ACTION %s
`,i),e.seek(s),this.line=a,this.column=o,i!==null&&this.recog!==null&&i.execute(this.recog,e,r)}getReachableTarget(e,i){return e.matches(i,0,Ff.MAX_CHAR_VALUE)?e.target:null}computeStartState(e,i){let r=wy.EMPTY,s=new D2;for(let a=0;a<i.transitions.length;a++){let o=i.transitions[a].target,l=new Fr({state:o,alt:a+1,context:r},null);this.closure(e,l,s,!1,!1,!1)}return s}closure(e,i,r,s,a,o){let l=null;if(n.debug&&console.log("closure("+i.toString(this.recog,!0)+")"),i.state instanceof R2){if(n.debug&&(this.recog!==null?console.log(`closure at %s rule stop %s
`,this.recog.ruleNames[i.state.ruleIndex],i):console.log(`closure at rule stop %s
`,i)),i.context===null||i.context.hasEmptyPath()){if(i.context===null||i.context.isEmpty())return r.add(i),!0;r.add(new Fr({state:i.state,context:wy.EMPTY},i)),s=!0}if(i.context!==null&&!i.context.isEmpty()){for(let c=0;c<i.context.length;c++)if(i.context.getReturnState(c)!==wy.EMPTY_RETURN_STATE){let u=i.context.getParent(c),d=this.atn.states[i.context.getReturnState(c)];l=new Fr({state:d,context:u},i),s=this.closure(e,l,r,s,a,o)}}return s}i.state.epsilonOnlyTransitions||(!s||!i.passedThroughNonGreedyDecision)&&r.add(i);for(let c=0;c<i.state.transitions.length;c++){let u=i.state.transitions[c];l=this.getEpsilonTarget(e,i,u,r,a,o),l!==null&&(s=this.closure(e,l,r,s,a,o))}return s}getEpsilonTarget(e,i,r,s,a,o){let l=null;if(r.serializationType===aa.RULE){let c=pz.create(i.context,r.followState.stateNumber);l=new Fr({state:r.target,context:c},i)}else{if(r.serializationType===aa.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(r.serializationType===aa.PREDICATE)n.debug&&console.log("EVAL rule "+r.ruleIndex+":"+r.predIndex),s.hasSemanticContext=!0,this.evaluatePredicate(e,r.ruleIndex,r.predIndex,a)&&(l=new Fr({state:r.target},i));else if(r.serializationType===aa.ACTION)if(i.context===null||i.context.hasEmptyPath()){let c=gz.append(i.lexerActionExecutor,this.atn.lexerActions[r.actionIndex]);l=new Fr({state:r.target,lexerActionExecutor:c},i)}else l=new Fr({state:r.target},i);else r.serializationType===aa.EPSILON?l=new Fr({state:r.target},i):(r.serializationType===aa.ATOM||r.serializationType===aa.RANGE||r.serializationType===aa.SET)&&o&&r.matches(Hl.EOF,0,Ff.MAX_CHAR_VALUE)&&(l=new Fr({state:r.target},i))}return l}evaluatePredicate(e,i,r,s){if(this.recog===null)return!0;if(!s)return this.recog.sempred(null,i,r);let a=this.column,o=this.line,l=e.index,c=e.mark();try{return this.consume(e),this.recog.sempred(null,i,r)}finally{this.column=a,this.line=o,e.seek(l),e.release(c)}}captureSimState(e,i,r){e.index=i.index,e.line=this.line,e.column=this.column,e.dfaState=r}addDFAEdge(e,i,r,s){if(r===void 0&&(r=null),s===void 0&&(s=null),r===null&&s!==null){let a=s.hasSemanticContext;if(s.hasSemanticContext=!1,r=this.addDFAState(s),a)return r}return i<n.MIN_DFA_EDGE||i>n.MAX_DFA_EDGE||(n.debug&&console.log("EDGE "+e+" -> "+r+" upon "+i),e.edges===null&&(e.edges=[]),e.edges[i-n.MIN_DFA_EDGE]=r),r}addDFAState(e){let i=new fz(null,e),r=null;for(let l=0;l<e.items.length;l++){let c=e.items[l];if(c.state instanceof R2){r=c;break}}r!==null&&(i.isAcceptState=!0,i.lexerActionExecutor=r.lexerActionExecutor,i.prediction=this.atn.ruleToTokenType[r.state.ruleIndex]);let s=this.decisionToDFA[this.mode],a=s.states.get(i);if(a!==null)return a;let o=i;return o.stateNumber=s.states.length,e.setReadonly(!0),o.configs=e,s.states.add(o),o}getDFA(e){return this.decisionToDFA[e]}getText(e){return e.getText(this.startIndex,e.index-1)}consume(e){e.LA(1)===10?(this.line+=1,this.column=0):this.column+=1,e.consume()}getTokenName(e){return e===-1?"EOF":"'"+String.fromCharCode(e)+"'"}}return n.debug=!1,n.dfa_debug=!1,n.MIN_DFA_EDGE=0,n.MAX_DFA_EDGE=127,n.match_calls=0,n})();O2.exports=bz});var ky=Q((Dce,U2)=>{var{Map:vz,BitSet:Sy,AltDict:yz,hashStuff:Cz}=ki(),F2=Ja(),{RuleStopState:P2}=gs(),{ATNConfigSet:wz}=io(),{ATNConfig:xz}=Uu(),{SemanticContext:Sz}=Nl(),Pr={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(n,t){if(Pr.allConfigsInRuleStopStates(t))return!0;if(n===Pr.SLL&&t.hasSemanticContext){let i=new wz;for(let r=0;r<t.items.length;r++){let s=t.items[r];s=new xz({semanticContext:Sz.NONE},s),i.add(s)}t=i}let e=Pr.getConflictingAltSubsets(t);return Pr.hasConflictingAltSet(e)&&!Pr.hasStateAssociatedWithOneAlt(t)},hasConfigInRuleStopState:function(n){for(let t=0;t<n.items.length;t++)if(n.items[t].state instanceof P2)return!0;return!1},allConfigsInRuleStopStates:function(n){for(let t=0;t<n.items.length;t++)if(!(n.items[t].state instanceof P2))return!1;return!0},resolvesToJustOneViableAlt:function(n){return Pr.getSingleViableAlt(n)},allSubsetsConflict:function(n){return!Pr.hasNonConflictingAltSet(n)},hasNonConflictingAltSet:function(n){for(let t=0;t<n.length;t++)if(n[t].length===1)return!0;return!1},hasConflictingAltSet:function(n){for(let t=0;t<n.length;t++)if(n[t].length>1)return!0;return!1},allSubsetsEqual:function(n){let t=null;for(let e=0;e<n.length;e++){let i=n[e];if(t===null)t=i;else if(i!==t)return!1}return!0},getUniqueAlt:function(n){let t=Pr.getAlts(n);return t.length===1?t.minValue():F2.INVALID_ALT_NUMBER},getAlts:function(n){let t=new Sy;return n.map(function(e){t.or(e)}),t},getConflictingAltSubsets:function(n){let t=new vz;return t.hashFunction=function(e){Cz(e.state.stateNumber,e.context)},t.equalsFunction=function(e,i){return e.state.stateNumber===i.state.stateNumber&&e.context.equals(i.context)},n.items.map(function(e){let i=t.get(e);i===null&&(i=new Sy,t.put(e,i)),i.add(e.alt)}),t.getValues()},getStateToAltMap:function(n){let t=new yz;return n.items.map(function(e){let i=t.get(e.state);i===null&&(i=new Sy,t.put(e.state,i)),i.add(e.alt)}),t},hasStateAssociatedWithOneAlt:function(n){let t=Pr.getStateToAltMap(n).values();for(let e=0;e<t.length;e++)if(t[e].length===1)return!0;return!1},getSingleViableAlt:function(n){let t=null;for(let e=0;e<n.length;e++){let r=n[e].minValue();if(t===null)t=r;else if(t!==r)return F2.INVALID_ALT_NUMBER}return t}};U2.exports=Pr});var My=Q((Rce,z2)=>{var B2=If(),$f=Za(),kz=$f.INVALID_INTERVAL,$2=$f.TerminalNode,Mz=$f.TerminalNodeImpl,V2=$f.ErrorNodeImpl,Tz=Ji().Interval,Uf=class extends B2{constructor(t,e){t=t||null,e=e||null,super(t,e),this.ruleIndex=-1,this.children=null,this.start=null,this.stop=null,this.exception=null}copyFrom(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map(function(e){e instanceof V2&&(this.children.push(e),e.parentCtx=this)},this))}enterRule(t){}exitRule(t){}addChild(t){return this.children===null&&(this.children=[]),this.children.push(t),t}removeLastChild(){this.children!==null&&this.children.pop()}addTokenNode(t){let e=new Mz(t);return this.addChild(e),e.parentCtx=this,e}addErrorNode(t){let e=new V2(t);return this.addChild(e),e.parentCtx=this,e}getChild(t,e){if(e=e||null,this.children===null||t<0||t>=this.children.length)return null;if(e===null)return this.children[t];for(let i=0;i<this.children.length;i++){let r=this.children[i];if(r instanceof e){if(t===0)return r;t-=1}}return null}getToken(t,e){if(this.children===null||e<0||e>=this.children.length)return null;for(let i=0;i<this.children.length;i++){let r=this.children[i];if(r instanceof $2&&r.symbol.type===t){if(e===0)return r;e-=1}}return null}getTokens(t){if(this.children===null)return[];{let e=[];for(let i=0;i<this.children.length;i++){let r=this.children[i];r instanceof $2&&r.symbol.type===t&&e.push(r)}return e}}getTypedRuleContext(t,e){return this.getChild(e,t)}getTypedRuleContexts(t){if(this.children===null)return[];{let e=[];for(let i=0;i<this.children.length;i++){let r=this.children[i];r instanceof t&&e.push(r)}return e}}getChildCount(){return this.children===null?0:this.children.length}getSourceInterval(){return this.start===null||this.stop===null?kz:new Tz(this.start.tokenIndex,this.stop.tokenIndex)}};B2.EMPTY=new Uf;z2.exports=Uf});var K2=Q((Oce,G2)=>{var td=ki(),{Set:H2,BitSet:j2,DoubleDict:Ez}=td,hi=Ja(),{ATNState:Vf,RuleStopState:Ju}=gs(),{ATNConfig:Ei}=Uu(),{ATNConfigSet:no}=io(),{Token:ys}=Qt(),{DFAState:Ty,PredPrediction:Az}=zl(),ed=vy(),mi=ky(),W2=If(),Lce=My(),{SemanticContext:oa}=Nl(),{PredictionContext:q2}=bs(),{Interval:Ey}=Ji(),{Transition:la,SetTransition:Iz,NotSetTransition:Dz,RuleTransition:Rz,ActionTransition:Lz}=Fl(),{NoViableAltException:Oz}=ir(),{SingletonPredictionContext:Nz,predictionContextFromRuleContext:Fz}=bs(),Ay=class extends ed{constructor(t,e,i,r){super(e,r),this.parser=t,this.decisionToDFA=i,this.predictionMode=mi.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this.debug=!1,this.debug_closure=!1,this.debug_add=!1,this.debug_list_atn_decisions=!1,this.dfa_debug=!1,this.retry_debug=!1}reset(){}adaptivePredict(t,e,i){(this.debug||this.debug_list_atn_decisions)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=i;let r=this.decisionToDFA[e];this._dfa=r;let s=t.mark(),a=t.index;try{let o;if(r.precedenceDfa?o=r.getPrecedenceStartState(this.parser.getPrecedence()):o=r.s0,o===null){i===null&&(i=W2.EMPTY),(this.debug||this.debug_list_atn_decisions)&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+i.toString(this.parser.ruleNames));let u=this.computeStartState(r.atnStartState,W2.EMPTY,!1);r.precedenceDfa?(r.s0.configs=u,u=this.applyPrecedenceFilter(u),o=this.addDFAState(r,new Ty(null,u)),r.setPrecedenceStartState(this.parser.getPrecedence(),o)):(o=this.addDFAState(r,new Ty(null,u)),r.s0=o)}let l=this.execATN(r,o,t,a,i);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),l}finally{this._dfa=null,this.mergeCache=null,t.seek(a),t.release(s)}}execATN(t,e,i,r,s){(this.debug||this.debug_list_atn_decisions)&&console.log("execATN decision "+t.decision+" exec LA(1)=="+this.getLookaheadName(i)+" line "+i.LT(1).line+":"+i.LT(1).column);let a,o=e;this.debug&&console.log("s0 = "+e);let l=i.LA(1);for(;;){let c=this.getExistingTargetState(o,l);if(c===null&&(c=this.computeTargetState(t,o,l)),c===ed.ERROR){let u=this.noViableAlt(i,s,o.configs,r);if(i.seek(r),a=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(o.configs,s),a!==hi.INVALID_ALT_NUMBER)return a;throw u}if(c.requiresFullContext&&this.predictionMode!==mi.SLL){let u=null;if(c.predicates!==null){this.debug&&console.log("DFA state has preds in DFA sim LL failover");let m=i.index;if(m!==r&&i.seek(r),u=this.evalSemanticContext(c.predicates,s,!0),u.length===1)return this.debug&&console.log("Full LL avoided"),u.minValue();m!==r&&i.seek(m)}this.dfa_debug&&console.log("ctx sensitive state "+s+" in "+c);let h=this.computeStartState(t.atnStartState,s,!0);return this.reportAttemptingFullContext(t,u,c.configs,r,i.index),a=this.execATNWithFullContext(t,c,h,i,r,s),a}if(c.isAcceptState){if(c.predicates===null)return c.prediction;let u=i.index;i.seek(r);let d=this.evalSemanticContext(c.predicates,s,!0);if(d.length===0)throw this.noViableAlt(i,s,c.configs,r);return d.length===1||this.reportAmbiguity(t,c,r,u,!1,d,c.configs),d.minValue()}o=c,l!==ys.EOF&&(i.consume(),l=i.LA(1))}}getExistingTargetState(t,e){let i=t.edges;return i===null?null:i[e+1]||null}computeTargetState(t,e,i){let r=this.computeReachSet(e.configs,i,!1);if(r===null)return this.addDFAEdge(t,e,i,ed.ERROR),ed.ERROR;let s=new Ty(null,r),a=this.getUniqueAlt(r);if(this.debug){let o=mi.getConflictingAltSubsets(r);console.log("SLL altSubSets="+td.arrayToString(o)+", configs="+r+", predict="+a+", allSubsetsConflict="+mi.allSubsetsConflict(o)+", conflictingAlts="+this.getConflictingAlts(r))}return a!==hi.INVALID_ALT_NUMBER?(s.isAcceptState=!0,s.configs.uniqueAlt=a,s.prediction=a):mi.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(s.configs.conflictingAlts=this.getConflictingAlts(r),s.requiresFullContext=!0,s.isAcceptState=!0,s.prediction=s.configs.conflictingAlts.minValue()),s.isAcceptState&&s.configs.hasSemanticContext&&(this.predicateDFAState(s,this.atn.getDecisionState(t.decision)),s.predicates!==null&&(s.prediction=hi.INVALID_ALT_NUMBER)),s=this.addDFAEdge(t,e,i,s),s}predicateDFAState(t,e){let i=e.transitions.length,r=this.getConflictingAltsOrUniqueAlt(t.configs),s=this.getPredsForAmbigAlts(r,t.configs,i);s!==null?(t.predicates=this.getPredicatePredictions(r,s),t.prediction=hi.INVALID_ALT_NUMBER):t.prediction=r.minValue()}execATNWithFullContext(t,e,i,r,s,a){(this.debug||this.debug_list_atn_decisions)&&console.log("execATNWithFullContext "+i);let o=!0,l=!1,c,u=i;r.seek(s);let d=r.LA(1),h=-1;for(;;){if(c=this.computeReachSet(u,d,o),c===null){let f=this.noViableAlt(r,a,u,s);r.seek(s);let p=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(u,a);if(p!==hi.INVALID_ALT_NUMBER)return p;throw f}let m=mi.getConflictingAltSubsets(c);if(this.debug&&console.log("LL altSubSets="+m+", predict="+mi.getUniqueAlt(m)+", resolvesToJustOneViableAlt="+mi.resolvesToJustOneViableAlt(m)),c.uniqueAlt=this.getUniqueAlt(c),c.uniqueAlt!==hi.INVALID_ALT_NUMBER){h=c.uniqueAlt;break}else if(this.predictionMode!==mi.LL_EXACT_AMBIG_DETECTION){if(h=mi.resolvesToJustOneViableAlt(m),h!==hi.INVALID_ALT_NUMBER)break}else if(mi.allSubsetsConflict(m)&&mi.allSubsetsEqual(m)){l=!0,h=mi.getSingleViableAlt(m);break}u=c,d!==ys.EOF&&(r.consume(),d=r.LA(1))}return c.uniqueAlt!==hi.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t,h,c,s,r.index),h):(this.reportAmbiguity(t,e,s,r.index,l,null,c),h)}computeReachSet(t,e,i){this.debug&&console.log("in computeReachSet, starting closure: "+t),this.mergeCache===null&&(this.mergeCache=new Ez);let r=new no(i),s=null;for(let o=0;o<t.items.length;o++){let l=t.items[o];if(this.debug&&console.log("testing "+this.getTokenName(e)+" at "+l),l.state instanceof Ju){(i||e===ys.EOF)&&(s===null&&(s=[]),s.push(l),this.debug_add&&console.log("added "+l+" to skippedStopStates"));continue}for(let c=0;c<l.state.transitions.length;c++){let u=l.state.transitions[c],d=this.getReachableTarget(u,e);if(d!==null){let h=new Ei({state:d},l);r.add(h,this.mergeCache),this.debug_add&&console.log("added "+h+" to intermediate")}}}let a=null;if(s===null&&e!==ys.EOF&&(r.items.length===1||this.getUniqueAlt(r)!==hi.INVALID_ALT_NUMBER)&&(a=r),a===null){a=new no(i);let o=new H2,l=e===ys.EOF;for(let c=0;c<r.items.length;c++)this.closure(r.items[c],a,o,!1,i,l)}if(e===ys.EOF&&(a=this.removeAllConfigsNotInRuleStopState(a,a===r)),s!==null&&(!i||!mi.hasConfigInRuleStopState(a)))for(let o=0;o<s.length;o++)a.add(s[o],this.mergeCache);return a.items.length===0?null:a}removeAllConfigsNotInRuleStopState(t,e){if(mi.allConfigsInRuleStopStates(t))return t;let i=new no(t.fullCtx);for(let r=0;r<t.items.length;r++){let s=t.items[r];if(s.state instanceof Ju){i.add(s,this.mergeCache);continue}if(e&&s.state.epsilonOnlyTransitions&&this.atn.nextTokens(s.state).contains(ys.EPSILON)){let o=this.atn.ruleToStopState[s.state.ruleIndex];i.add(new Ei({state:o},s),this.mergeCache)}}return i}computeStartState(t,e,i){let r=Fz(this.atn,e),s=new no(i);for(let a=0;a<t.transitions.length;a++){let o=t.transitions[a].target,l=new Ei({state:o,alt:a+1,context:r},null),c=new H2;this.closure(l,s,c,!0,i,!1)}return s}applyPrecedenceFilter(t){let e,i=[],r=new no(t.fullCtx);for(let s=0;s<t.items.length;s++){if(e=t.items[s],e.alt!==1)continue;let a=e.semanticContext.evalPrecedence(this.parser,this._outerContext);a!==null&&(i[e.state.stateNumber]=e.context,a!==e.semanticContext?r.add(new Ei({semanticContext:a},e),this.mergeCache):r.add(e,this.mergeCache))}for(let s=0;s<t.items.length;s++)if(e=t.items[s],e.alt!==1){if(!e.precedenceFilterSuppressed){let a=i[e.state.stateNumber]||null;if(a!==null&&a.equals(e.context))continue}r.add(e,this.mergeCache)}return r}getReachableTarget(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}getPredsForAmbigAlts(t,e,i){let r=[];for(let a=0;a<e.items.length;a++){let o=e.items[a];t.contains(o.alt)&&(r[o.alt]=oa.orContext(r[o.alt]||null,o.semanticContext))}let s=0;for(let a=1;a<i+1;a++){let o=r[a]||null;o===null?r[a]=oa.NONE:o!==oa.NONE&&(s+=1)}return s===0&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+td.arrayToString(r)),r}getPredicatePredictions(t,e){let i=[],r=!1;for(let s=1;s<e.length;s++){let a=e[s];t!==null&&t.contains(s)&&i.push(new Az(a,s)),a!==oa.NONE&&(r=!0)}return r?i:null}getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(t,e){let i=this.splitAccordingToSemanticValidity(t,e),r=i[0],s=i[1],a=this.getAltThatFinishedDecisionEntryRule(r);return a!==hi.INVALID_ALT_NUMBER||s.items.length>0&&(a=this.getAltThatFinishedDecisionEntryRule(s),a!==hi.INVALID_ALT_NUMBER)?a:hi.INVALID_ALT_NUMBER}getAltThatFinishedDecisionEntryRule(t){let e=[];for(let i=0;i<t.items.length;i++){let r=t.items[i];(r.reachesIntoOuterContext>0||r.state instanceof Ju&&r.context.hasEmptyPath())&&e.indexOf(r.alt)<0&&e.push(r.alt)}return e.length===0?hi.INVALID_ALT_NUMBER:Math.min.apply(null,e)}splitAccordingToSemanticValidity(t,e){let i=new no(t.fullCtx),r=new no(t.fullCtx);for(let s=0;s<t.items.length;s++){let a=t.items[s];a.semanticContext!==oa.NONE?a.semanticContext.evaluate(this.parser,e)?i.add(a):r.add(a):i.add(a)}return[i,r]}evalSemanticContext(t,e,i){let r=new j2;for(let s=0;s<t.length;s++){let a=t[s];if(a.pred===oa.NONE){if(r.add(a.alt),!i)break;continue}let o=a.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+a+"="+o),o&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+a.alt),r.add(a.alt),!i))break}return r}closure(t,e,i,r,s,a){this.closureCheckingStopState(t,e,i,r,s,0,a)}closureCheckingStopState(t,e,i,r,s,a,o){if((this.debug||this.debug_closure)&&(console.log("closure("+t.toString(this.parser,!0)+")"),t.reachesIntoOuterContext>50))throw"problem";if(t.state instanceof Ju)if(t.context.isEmpty())if(s){e.add(t,this.mergeCache);return}else this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex));else{for(let l=0;l<t.context.length;l++){if(t.context.getReturnState(l)===q2.EMPTY_RETURN_STATE){if(s){e.add(new Ei({state:t.state,context:q2.EMPTY},t),this.mergeCache);continue}else this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,i,r,s,a,o);continue}let c=this.atn.states[t.context.getReturnState(l)],u=t.context.getParent(l),d={state:c,alt:t.alt,context:u,semanticContext:t.semanticContext},h=new Ei(d,null);h.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(h,e,i,r,s,a-1,o)}return}this.closure_(t,e,i,r,s,a,o)}closure_(t,e,i,r,s,a,o){let l=t.state;l.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(let c=0;c<l.transitions.length;c++){if(c===0&&this.canDropLoopEntryEdgeInLeftRecursiveRule(t))continue;let u=l.transitions[c],d=r&&!(u instanceof Lz),h=this.getEpsilonTarget(t,u,d,a===0,s,o);if(h!==null){let m=a;if(t.state instanceof Ju){if(this._dfa!==null&&this._dfa.precedenceDfa&&u.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(h.precedenceFilterSuppressed=!0),h.reachesIntoOuterContext+=1,i.add(h)!==h)continue;e.dipsIntoOuterContext=!0,m-=1,this.debug&&console.log("dips into outer ctx: "+h)}else{if(!u.isEpsilon&&i.add(h)!==h)continue;u instanceof Rz&&m>=0&&(m+=1)}this.closureCheckingStopState(h,e,i,d,s,m,o)}}}canDropLoopEntryEdgeInLeftRecursiveRule(t){let e=t.state;if(e.stateType!==Vf.STAR_LOOP_ENTRY||e.stateType!==Vf.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;let i=t.context.length;for(let o=0;o<i;o++)if(this.atn.states[t.context.getReturnState(o)].ruleIndex!==e.ruleIndex)return!1;let s=e.transitions[0].target.endState.stateNumber,a=this.atn.states[s];for(let o=0;o<i;o++){let l=t.context.getReturnState(o),c=this.atn.states[l];if(c.transitions.length!==1||!c.transitions[0].isEpsilon)return!1;let u=c.transitions[0].target;if(!(c.stateType===Vf.BLOCK_END&&u===e)&&c!==a&&u!==a&&!(u.stateType===Vf.BLOCK_END&&u.transitions.length===1&&u.transitions[0].isEpsilon&&u.transitions[0].target===e))return!1}return!0}getRuleName(t){return this.parser!==null&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}getEpsilonTarget(t,e,i,r,s,a){switch(e.serializationType){case la.RULE:return this.ruleTransition(t,e);case la.PRECEDENCE:return this.precedenceTransition(t,e,i,r,s);case la.PREDICATE:return this.predTransition(t,e,i,r,s);case la.ACTION:return this.actionTransition(t,e);case la.EPSILON:return new Ei({state:e.target},t);case la.ATOM:case la.RANGE:case la.SET:return a&&e.matches(ys.EOF,0,1)?new Ei({state:e.target},t):null;default:return null}}actionTransition(t,e){if(this.debug){let i=e.actionIndex===-1?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+i)}return new Ei({state:e.target},t)}precedenceTransition(t,e,i,r,s){this.debug&&(console.log("PRED (collectPredicates="+i+") "+e.precedence+">=_p, ctx dependent=true"),this.parser!==null&&console.log("context surrounding pred is "+td.arrayToString(this.parser.getRuleInvocationStack())));let a=null;if(i&&r)if(s){let o=this._input.index;this._input.seek(this._startIndex);let l=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(o),l&&(a=new Ei({state:e.target},t))}else{let o=oa.andContext(t.semanticContext,e.getPredicate());a=new Ei({state:e.target,semanticContext:o},t)}else a=new Ei({state:e.target},t);return this.debug&&console.log("config from pred transition="+a),a}predTransition(t,e,i,r,s){this.debug&&(console.log("PRED (collectPredicates="+i+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),this.parser!==null&&console.log("context surrounding pred is "+td.arrayToString(this.parser.getRuleInvocationStack())));let a=null;if(i&&(e.isCtxDependent&&r||!e.isCtxDependent))if(s){let o=this._input.index;this._input.seek(this._startIndex);let l=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(o),l&&(a=new Ei({state:e.target},t))}else{let o=oa.andContext(t.semanticContext,e.getPredicate());a=new Ei({state:e.target,semanticContext:o},t)}else a=new Ei({state:e.target},t);return this.debug&&console.log("config from pred transition="+a),a}ruleTransition(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);let i=e.followState,r=Nz.create(t.context,i.stateNumber);return new Ei({state:e.target,context:r},t)}getConflictingAlts(t){let e=mi.getConflictingAltSubsets(t);return mi.getAlts(e)}getConflictingAltsOrUniqueAlt(t){let e=null;return t.uniqueAlt!==hi.INVALID_ALT_NUMBER?(e=new j2,e.add(t.uniqueAlt)):e=t.conflictingAlts,e}getTokenName(t){if(t===ys.EOF)return"EOF";if(this.parser!==null&&this.parser.literalNames!==null)if(t>=this.parser.literalNames.length&&t>=this.parser.symbolicNames.length)console.log(""+t+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens());else return(this.parser.literalNames[t]||this.parser.symbolicNames[t])+"<"+t+">";return""+t}getLookaheadName(t){return this.getTokenName(t.LA(1))}dumpDeadEndConfigs(t){console.log("dead end configs: ");let e=t.getDeadEndConfigs();for(let i=0;i<e.length;i++){let r=e[i],s="no edges";if(r.state.transitions.length>0){let a=r.state.transitions[0];a instanceof AtomTransition?s="Atom "+this.getTokenName(a.label):a instanceof Iz&&(s=(a instanceof Dz?"~":"")+"Set "+a.set)}console.error(r.toString(this.parser,!0)+":"+s)}}noViableAlt(t,e,i,r){return new Oz(this.parser,t,t.get(r),t.LT(1),i,e)}getUniqueAlt(t){let e=hi.INVALID_ALT_NUMBER;for(let i=0;i<t.items.length;i++){let r=t.items[i];if(e===hi.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return hi.INVALID_ALT_NUMBER}return e}addDFAEdge(t,e,i,r){if(this.debug&&console.log("EDGE "+e+" -> "+r+" upon "+this.getTokenName(i)),r===null)return null;if(r=this.addDFAState(t,r),e===null||i<-1||i>this.atn.maxTokenType)return r;if(e.edges===null&&(e.edges=[]),e.edges[i+1]=r,this.debug){let s=this.parser===null?null:this.parser.literalNames,a=this.parser===null?null:this.parser.symbolicNames;console.log(`DFA=
`+t.toString(s,a))}return r}addDFAState(t,e){if(e===ed.ERROR)return e;let i=t.states.get(e);return i!==null?i:(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}reportAttemptingFullContext(t,e,i,r,s){if(this.debug||this.retry_debug){let a=new Ey(r,s+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+i+", input="+this.parser.getTokenStream().getText(a))}this.parser!==null&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,t,r,s,e,i)}reportContextSensitivity(t,e,i,r,s){if(this.debug||this.retry_debug){let a=new Ey(r,s+1);console.log("reportContextSensitivity decision="+t.decision+":"+i+", input="+this.parser.getTokenStream().getText(a))}this.parser!==null&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,t,r,s,e,i)}reportAmbiguity(t,e,i,r,s,a,o){if(this.debug||this.retry_debug){let l=new Ey(i,r+1);console.log("reportAmbiguity "+a+":"+o+", input="+this.parser.getTokenStream().getText(l))}this.parser!==null&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,t,i,r,s,a,o)}};G2.exports=Ay});var Y2=Q(jl=>{jl.ATN=Ja();jl.ATNDeserializer=ay();jl.LexerATNSimulator=N2();jl.ParserATNSimulator=K2();jl.PredictionMode=ky()});var Iy=Q(()=>{String.prototype.codePointAt||function(){"use strict";var n=function(){let e;try{let i={},r=Object.defineProperty;e=r(i,i,i)&&r}catch{}return e}();let t=function(e){if(this==null)throw TypeError();let i=String(this),r=i.length,s=e?Number(e):0;if(s!==s&&(s=0),s<0||s>=r)return;let a=i.charCodeAt(s),o;return a>=55296&&a<=56319&&r>s+1&&(o=i.charCodeAt(s+1),o>=56320&&o<=57343)?(a-55296)*1024+o-56320+65536:a};n?n(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t}()});var id=Q((Uce,Q2)=>{var Pz=ki(),Bf=class{constructor(t,e,i){this.dfa=t,this.literalNames=e||[],this.symbolicNames=i||[]}toString(){if(this.dfa.s0===null)return null;let t="",e=this.dfa.sortedStates();for(let i=0;i<e.length;i++){let r=e[i];if(r.edges!==null){let s=r.edges.length;for(let a=0;a<s;a++){let o=r.edges[a]||null;o!==null&&o.stateNumber!==2147483647&&(t=t.concat(this.getStateString(r)),t=t.concat("-"),t=t.concat(this.getEdgeLabel(a)),t=t.concat("->"),t=t.concat(this.getStateString(o)),t=t.concat(`
`))}}}return t.length===0?null:t}getEdgeLabel(t){return t===0?"EOF":this.literalNames!==null||this.symbolicNames!==null?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}getStateString(t){let e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?t.predicates!==null?e+"=>"+Pz.arrayToString(t.predicates):e+"=>"+t.prediction.toString():e}},Dy=class extends Bf{constructor(t){super(t,null)}getEdgeLabel(t){return"'"+String.fromCharCode(t)+"'"}};Q2.exports={DFASerializer:Bf,LexerDFASerializer:Dy}});var tA=Q(($ce,eA)=>{var{Set:Z2}=ki(),{DFAState:X2}=zl(),{StarLoopEntryState:Uz}=gs(),{ATNConfigSet:J2}=io(),{DFASerializer:$z}=id(),{LexerDFASerializer:Vz}=id(),Ry=class{constructor(t,e){if(e===void 0&&(e=0),this.atnStartState=t,this.decision=e,this._states=new Z2,this.s0=null,this.precedenceDfa=!1,t instanceof Uz&&t.isPrecedenceDecision){this.precedenceDfa=!0;let i=new X2(null,new J2);i.edges=[],i.isAcceptState=!1,i.requiresFullContext=!1,this.s0=i}}getPrecedenceStartState(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}setPrecedenceStartState(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}setPrecedenceDfa(t){if(this.precedenceDfa!==t){if(this._states=new Z2,t){let e=new X2(null,new J2);e.edges=[],e.isAcceptState=!1,e.requiresFullContext=!1,this.s0=e}else this.s0=null;this.precedenceDfa=t}}sortedStates(){return this._states.values().sort(function(e,i){return e.stateNumber-i.stateNumber})}toString(t,e){return t=t||null,e=e||null,this.s0===null?"":new $z(this,t,e).toString()}toLexerString(){return this.s0===null?"":new Vz(this).toString()}get states(){return this._states}};eA.exports=Ry});var iA=Q(nd=>{nd.DFA=tA();nd.DFASerializer=id().DFASerializer;nd.LexerDFASerializer=id().LexerDFASerializer;nd.PredPrediction=zl().PredPrediction});var Ly=Q(()=>{String.fromCodePoint||function(){let n=function(){let r;try{let s={},a=Object.defineProperty;r=a(s,s,s)&&a}catch{}return r}(),t=String.fromCharCode,e=Math.floor,i=function(r){let a=[],o,l,c=-1,u=arguments.length;if(!u)return"";let d="";for(;++c<u;){let h=Number(arguments[c]);if(!isFinite(h)||h<0||h>1114111||e(h)!==h)throw RangeError("Invalid code point: "+h);h<=65535?a.push(h):(h-=65536,o=(h>>10)+55296,l=h%1024+56320,a.push(o,l)),(c+1===u||a.length>16384)&&(d+=t.apply(null,a),a.length=0)}return d};n?n(String,"fromCodePoint",{value:i,configurable:!0,writable:!0}):String.fromCodePoint=i}()});var rA=Q((Hce,nA)=>{var Bz=Za(),zz=Pv();nA.exports=Le(H({},Bz),{Trees:zz})});var aA=Q((Wce,sA)=>{var{BitSet:Hz}=ki(),{ErrorListener:jz}=Qu(),{Interval:Oy}=Ji(),Ny=class extends jz{constructor(t){super(),t=t||!0,this.exactOnly=t}reportAmbiguity(t,e,i,r,s,a,o){if(this.exactOnly&&!s)return;let l="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(a,o)+", input='"+t.getTokenStream().getText(new Oy(i,r))+"'";t.notifyErrorListeners(l)}reportAttemptingFullContext(t,e,i,r,s,a){let o="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new Oy(i,r))+"'";t.notifyErrorListeners(o)}reportContextSensitivity(t,e,i,r,s,a){let o="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new Oy(i,r))+"'";t.notifyErrorListeners(o)}getDecisionDescription(t,e){let i=e.decision,r=e.atnStartState.ruleIndex,s=t.ruleNames;if(r<0||r>=s.length)return""+i;let a=s[r]||null;return a===null||a.length===0?""+i:`${i} (${a})`}getConflictingAlts(t,e){if(t!==null)return t;let i=new Hz;for(let r=0;r<e.items.length;r++)i.add(e.items[r].alt);return`{${i.values().join(", ")}}`}};sA.exports=Ny});var jf=Q((qce,lA)=>{var{Token:ca}=Qt(),{NoViableAltException:Wz,InputMismatchException:zf,FailedPredicateException:qz,ParseCancellationException:Gz}=ir(),{ATNState:ro}=gs(),{Interval:Kz,IntervalSet:oA}=Ji(),Fy=class{reset(t){}recoverInline(t){}recover(t,e){}sync(t){}inErrorRecoveryMode(t){}reportError(t){}},Hf=class extends Fy{constructor(){super(),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this.nextTokensContext=null,this.nextTokenState=0}reset(t){this.endErrorCondition(t)}beginErrorCondition(t){this.errorRecoveryMode=!0}inErrorRecoveryMode(t){return this.errorRecoveryMode}endErrorCondition(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}reportMatch(t){this.endErrorCondition(t)}reportError(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof Wz?this.reportNoViableAlternative(t,e):e instanceof zf?this.reportInputMismatch(t,e):e instanceof qz?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}recover(t,e){this.lastErrorIndex===t.getInputStream().index&&this.lastErrorStates!==null&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,this.lastErrorStates===null&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);let i=this.getErrorRecoverySet(t);this.consumeUntil(t,i)}sync(t){if(this.inErrorRecoveryMode(t))return;let e=t._interp.atn.states[t.state],i=t.getTokenStream().LA(1),r=t.atn.nextTokens(e);if(r.contains(i)){this.nextTokensContext=null,this.nextTokenState=ro.INVALID_STATE_NUMBER;return}else if(r.contains(ca.EPSILON)){this.nextTokensContext===null&&(this.nextTokensContext=t._ctx,this.nextTokensState=t._stateNumber);return}switch(e.stateType){case ro.BLOCK_START:case ro.STAR_BLOCK_START:case ro.PLUS_BLOCK_START:case ro.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(t)!==null)return;throw new zf(t);case ro.PLUS_LOOP_BACK:case ro.STAR_LOOP_BACK:this.reportUnwantedToken(t);let s=new oA;s.addSet(t.getExpectedTokens());let a=s.addSet(this.getErrorRecoverySet(t));this.consumeUntil(t,a);break;default:}}reportNoViableAlternative(t,e){let i=t.getTokenStream(),r;i!==null?e.startToken.type===ca.EOF?r="<EOF>":r=i.getText(new Kz(e.startToken.tokenIndex,e.offendingToken.tokenIndex)):r="<unknown input>";let s="no viable alternative at input "+this.escapeWSAndQuote(r);t.notifyErrorListeners(s,e.offendingToken,e)}reportInputMismatch(t,e){let i="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(i,e.offendingToken,e)}reportFailedPredicate(t,e){let r="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(r,e.offendingToken,e)}reportUnwantedToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);let e=t.getCurrentToken(),i=this.getTokenErrorDisplay(e),r=this.getExpectedTokens(t),s="extraneous input "+i+" expecting "+r.toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(s,e,null)}reportMissingToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);let e=t.getCurrentToken(),r="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(r,e,null)}recoverInline(t){let e=this.singleTokenDeletion(t);if(e!==null)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new zf(t)}singleTokenInsertion(t){let e=t.getTokenStream().LA(1),i=t._interp.atn,s=i.states[t.state].transitions[0].target;return i.nextTokens(s,t._ctx).contains(e)?(this.reportMissingToken(t),!0):!1}singleTokenDeletion(t){let e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();let r=t.getCurrentToken();return this.reportMatch(t),r}else return null}getMissingSymbol(t){let e=t.getCurrentToken(),r=this.getExpectedTokens(t).first(),s;r===ca.EOF?s="<missing EOF>":s="<missing "+t.literalNames[r]+">";let a=e,o=t.getTokenStream().LT(-1);return a.type===ca.EOF&&o!==null&&(a=o),t.getTokenFactory().create(a.source,r,s,ca.DEFAULT_CHANNEL,-1,-1,a.line,a.column)}getExpectedTokens(t){return t.getExpectedTokens()}getTokenErrorDisplay(t){if(t===null)return"<no token>";let e=t.text;return e===null&&(t.type===ca.EOF?e="<EOF>":e="<"+t.type+">"),this.escapeWSAndQuote(e)}escapeWSAndQuote(t){return t=t.replace(/\n/g,"\\n"),t=t.replace(/\r/g,"\\r"),t=t.replace(/\t/g,"\\t"),"'"+t+"'"}getErrorRecoverySet(t){let e=t._interp.atn,i=t._ctx,r=new oA;for(;i!==null&&i.invokingState>=0;){let a=e.states[i.invokingState].transitions[0],o=e.nextTokens(a.followState);r.addSet(o),i=i.parentCtx}return r.removeOne(ca.EPSILON),r}consumeUntil(t,e){let i=t.getTokenStream().LA(1);for(;i!==ca.EOF&&!e.contains(i);)t.consume(),i=t.getTokenStream().LA(1)}},Py=class extends Hf{constructor(){super()}recover(t,e){let i=t._ctx;for(;i!==null;)i.exception=e,i=i.parentCtx;throw new Gz(e)}recoverInline(t){this.recover(t,new zf(t))}sync(t){}};lA.exports={BailErrorStrategy:Py,DefaultErrorStrategy:Hf}});var cA=Q((Gce,Ur)=>{Ur.exports.RecognitionException=ir().RecognitionException;Ur.exports.NoViableAltException=ir().NoViableAltException;Ur.exports.LexerNoViableAltException=ir().LexerNoViableAltException;Ur.exports.InputMismatchException=ir().InputMismatchException;Ur.exports.FailedPredicateException=ir().FailedPredicateException;Ur.exports.DiagnosticErrorListener=aA();Ur.exports.BailErrorStrategy=jf().BailErrorStrategy;Ur.exports.DefaultErrorStrategy=jf().DefaultErrorStrategy;Ur.exports.ErrorListener=Qu().ErrorListener});var dA=Q((Kce,uA)=>{var{Token:Yz}=Qt();Iy();Ly();var Uy=class{constructor(t,e){if(this.name="<empty>",this.strdata=t,this.decodeToUnicodeCodePoints=e||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(let i=0;i<this.strdata.length;){let r=this.strdata.codePointAt(i);this.data.push(r),i+=r<=65535?1:2}else{this.data=new Array(this.strdata.length);for(let i=0;i<this.strdata.length;i++){let r=this.strdata.charCodeAt(i);this.data[i]=r}}this._size=this.data.length}reset(){this._index=0}consume(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}LA(t){if(t===0)return 0;t<0&&(t+=1);let e=this._index+t-1;return e<0||e>=this._size?Yz.EOF:this.data[e]}LT(t){return this.LA(t)}mark(){return-1}release(t){}seek(t){if(t<=this._index){this._index=t;return}this._index=Math.min(t,this._size)}getText(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){let i="";for(let r=t;r<=e;r++)i+=String.fromCodePoint(this.data[r]);return i}else return this.strdata.slice(t,e+1)}toString(){return this.strdata}get index(){return this._index}get size(){return this._size}};uA.exports=Uy});var mA=Q((Yce,hA)=>{var{Token:so}=Qt(),$y=Xu(),{Interval:Qz}=Ji(),Vy=class{},By=class extends Vy{constructor(t){super(),this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}mark(){return 0}release(t){}reset(){this.seek(0)}seek(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}get(t){return this.lazyInit(),this.tokens[t]}consume(){let t=!1;if(this.index>=0?this.fetchedEOF?t=this.index<this.tokens.length-1:t=this.index<this.tokens.length:t=!1,!t&&this.LA(1)===so.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}sync(t){let e=t-this.tokens.length+1;return e>0?this.fetch(e)>=e:!0}fetch(t){if(this.fetchedEOF)return 0;for(let e=0;e<t;e++){let i=this.tokenSource.nextToken();if(i.tokenIndex=this.tokens.length,this.tokens.push(i),i.type===so.EOF)return this.fetchedEOF=!0,e+1}return t}getTokens(t,e,i){if(i===void 0&&(i=null),t<0||e<0)return null;this.lazyInit();let r=[];e>=this.tokens.length&&(e=this.tokens.length-1);for(let s=t;s<e;s++){let a=this.tokens[s];if(a.type===so.EOF)break;(i===null||i.contains(a.type))&&r.push(a)}return r}LA(t){return this.LT(t).type}LB(t){return this.index-t<0?null:this.tokens[this.index-t]}LT(t){if(this.lazyInit(),t===0)return null;if(t<0)return this.LB(-t);let e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}adjustSeekIndex(t){return t}lazyInit(){this.index===-1&&this.setup()}setup(){this.sync(0),this.index=this.adjustSeekIndex(0)}setTokenSource(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}nextTokenOnChannel(t,e){if(this.sync(t),t>=this.tokens.length)return-1;let i=this.tokens[t];for(;i.channel!==this.channel;){if(i.type===so.EOF)return-1;t+=1,this.sync(t),i=this.tokens[t]}return t}previousTokenOnChannel(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}getHiddenTokensToRight(t,e){if(e===void 0&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw""+t+" not in 0.."+this.tokens.length-1;let i=this.nextTokenOnChannel(t+1,$y.DEFAULT_TOKEN_CHANNEL),r=t+1,s=i===-1?this.tokens.length-1:i;return this.filterForChannel(r,s,e)}getHiddenTokensToLeft(t,e){if(e===void 0&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw""+t+" not in 0.."+this.tokens.length-1;let i=this.previousTokenOnChannel(t-1,$y.DEFAULT_TOKEN_CHANNEL);if(i===t-1)return null;let r=i+1,s=t-1;return this.filterForChannel(r,s,e)}filterForChannel(t,e,i){let r=[];for(let s=t;s<e+1;s++){let a=this.tokens[s];i===-1?a.channel!==$y.DEFAULT_TOKEN_CHANNEL&&r.push(a):a.channel===i&&r.push(a)}return r.length===0?null:r}getSourceName(){return this.tokenSource.getSourceName()}getText(t){this.lazyInit(),this.fill(),t==null&&(t=new Qz(0,this.tokens.length-1));let e=t.start;e instanceof so&&(e=e.tokenIndex);let i=t.stop;if(i instanceof so&&(i=i.tokenIndex),e===null||i===null||e<0||i<0)return"";i>=this.tokens.length&&(i=this.tokens.length-1);let r="";for(let s=e;s<i+1;s++){let a=this.tokens[s];if(a.type===so.EOF)break;r=r+a.text}return r}fill(){for(this.lazyInit();this.fetch(1e3)===1e3;);}};hA.exports=By});var gA=Q((Qce,pA)=>{var fA=Qt().Token,Zz=mA(),zy=class extends Zz{constructor(t,e){super(t),this.channel=e===void 0?fA.DEFAULT_CHANNEL:e}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}LB(t){if(t===0||this.index-t<0)return null;let e=this.index,i=1;for(;i<=t;)e=this.previousTokenOnChannel(e-1,this.channel),i+=1;return e<0?null:this.tokens[e]}LT(t){if(this.lazyInit(),t===0)return null;if(t<0)return this.LB(-t);let e=this.index,i=1;for(;i<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),i+=1;return this.tokens[e]}getNumberOfOnChannelTokens(){let t=0;this.fill();for(let e=0;e<this.tokens.length;e++){let i=this.tokens[e];if(i.channel===this.channel&&(t+=1),i.type===fA.EOF)break}return t}};pA.exports=zy});var bA=Q((Zce,_A)=>{var{Token:rd}=Qt(),{ParseTreeListener:Xz,TerminalNode:Jz,ErrorNode:e5}=Za(),t5=cy(),{DefaultErrorStrategy:i5}=jf(),n5=ay(),r5=zv(),s5=Xu(),Hy=class extends Xz{constructor(t){super(),this.parser=t}enterEveryRule(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}visitTerminal(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}exitEveryRule(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}},a5=(()=>{class n extends t5{constructor(e){super(),this._input=null,this._errHandler=new i5,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(e)}reset(){this._input!==null&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),this._interp!==null&&this._interp.reset()}match(e){let i=this.getCurrentToken();return i.type===e?(this._errHandler.reportMatch(this),this.consume()):(i=this._errHandler.recoverInline(this),this.buildParseTrees&&i.tokenIndex===-1&&this._ctx.addErrorNode(i)),i}matchWildcard(){let e=this.getCurrentToken();return e.type>0?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this._buildParseTrees&&e.tokenIndex===-1&&this._ctx.addErrorNode(e)),e}getParseListeners(){return this._parseListeners||[]}addParseListener(e){if(e===null)throw"listener";this._parseListeners===null&&(this._parseListeners=[]),this._parseListeners.push(e)}removeParseListener(e){if(this._parseListeners!==null){let i=this._parseListeners.indexOf(e);i>=0&&this._parseListeners.splice(i,1),this._parseListeners.length===0&&(this._parseListeners=null)}}removeParseListeners(){this._parseListeners=null}triggerEnterRuleEvent(){if(this._parseListeners!==null){let e=this._ctx;this._parseListeners.forEach(function(i){i.enterEveryRule(e),e.enterRule(i)})}}triggerExitRuleEvent(){if(this._parseListeners!==null){let e=this._ctx;this._parseListeners.slice(0).reverse().forEach(function(i){e.exitRule(i),i.exitEveryRule(e)})}}getTokenFactory(){return this._input.tokenSource._factory}setTokenFactory(e){this._input.tokenSource._factory=e}getATNWithBypassAlts(){let e=this.getSerializedATN();if(e===null)throw"The current parser does not support an ATN with bypass alternatives.";let i=this.bypassAltsAtnCache[e];if(i===null){let r=new r5;r.generateRuleBypassTransitions=!0,i=new n5(r).deserialize(e),this.bypassAltsAtnCache[e]=i}return i}compileParseTreePattern(e,i,r){if(r=r||null,r===null&&this.getTokenStream()!==null){let a=this.getTokenStream().tokenSource;a instanceof s5&&(r=a)}if(r===null)throw"Parser can't discover a lexer to use";return new ParseTreePatternMatcher(r,this).compile(e,i)}getInputStream(){return this.getTokenStream()}setInputStream(e){this.setTokenStream(e)}getTokenStream(){return this._input}setTokenStream(e){this._input=null,this.reset(),this._input=e}getCurrentToken(){return this._input.LT(1)}notifyErrorListeners(e,i,r){i=i||null,r=r||null,i===null&&(i=this.getCurrentToken()),this._syntaxErrors+=1;let s=i.line,a=i.column;this.getErrorListenerDispatch().syntaxError(this,i,s,a,e,r)}consume(){let e=this.getCurrentToken();e.type!==rd.EOF&&this.getInputStream().consume();let i=this._parseListeners!==null&&this._parseListeners.length>0;if(this.buildParseTrees||i){let r;this._errHandler.inErrorRecoveryMode(this)?r=this._ctx.addErrorNode(e):r=this._ctx.addTokenNode(e),r.invokingState=this.state,i&&this._parseListeners.forEach(function(s){r instanceof e5||r.isErrorNode!==void 0&&r.isErrorNode()?s.visitErrorNode(r):r instanceof Jz&&s.visitTerminal(r)})}return e}addContextToParseTree(){this._ctx.parentCtx!==null&&this._ctx.parentCtx.addChild(this._ctx)}enterRule(e,i,r){this.state=i,this._ctx=e,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}enterOuterAlt(e,i){e.setAltNumber(i),this.buildParseTrees&&this._ctx!==e&&this._ctx.parentCtx!==null&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(e)),this._ctx=e}getPrecedence(){return this._precedenceStack.length===0?-1:this._precedenceStack[this._precedenceStack.length-1]}enterRecursionRule(e,i,r,s){this.state=i,this._precedenceStack.push(s),this._ctx=e,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(e,i,r){let s=this._ctx;s.parentCtx=e,s.invokingState=i,s.stop=this._input.LT(-1),this._ctx=e,this._ctx.start=s.start,this.buildParseTrees&&this._ctx.addChild(s),this.triggerEnterRuleEvent()}unrollRecursionContexts(e){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);let i=this._ctx,r=this.getParseListeners();if(r!==null&&r.length>0)for(;this._ctx!==e;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=e;i.parentCtx=e,this.buildParseTrees&&e!==null&&e.addChild(i)}getInvokingContext(e){let i=this._ctx;for(;i!==null;){if(i.ruleIndex===e)return i;i=i.parentCtx}return null}precpred(e,i){return i>=this._precedenceStack[this._precedenceStack.length-1]}inContext(e){return!1}isExpectedToken(e){let i=this._interp.atn,r=this._ctx,s=i.states[this.state],a=i.nextTokens(s);if(a.contains(e))return!0;if(!a.contains(rd.EPSILON))return!1;for(;r!==null&&r.invokingState>=0&&a.contains(rd.EPSILON);){let l=i.states[r.invokingState].transitions[0];if(a=i.nextTokens(l.followState),a.contains(e))return!0;r=r.parentCtx}return!!(a.contains(rd.EPSILON)&&e===rd.EOF)}getExpectedTokens(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}getExpectedTokensWithinCurrentRule(){let e=this._interp.atn,i=e.states[this.state];return e.nextTokens(i)}getRuleIndex(e){let i=this.getRuleIndexMap()[e];return i!==null?i:-1}getRuleInvocationStack(e){e=e||null,e===null&&(e=this._ctx);let i=[];for(;e!==null;){let r=e.ruleIndex;r<0?i.push("n/a"):i.push(this.ruleNames[r]),e=e.parentCtx}return i}getDFAStrings(){return this._interp.decisionToDFA.toString()}dumpDFA(){let e=!1;for(let i=0;i<this._interp.decisionToDFA.length;i++){let r=this._interp.decisionToDFA[i];r.states.length>0&&(e&&console.log(),this.printer.println("Decision "+r.decision+":"),this.printer.print(r.toString(this.literalNames,this.symbolicNames)),e=!0)}}getSourceName(){return this._input.sourceName}setTrace(e){e?(this._tracer!==null&&this.removeParseListener(this._tracer),this._tracer=new Hy(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}return n.bypassAltsAtnCache={},n})();_A.exports=a5});var sd=Q(ii=>{ii.atn=Y2();ii.codepointat=Iy();ii.dfa=iA();ii.fromcodepoint=Ly();ii.tree=rA();ii.error=cA();ii.Token=Qt().Token;ii.CommonToken=Qt().CommonToken;ii.InputStream=dA();ii.CommonTokenStream=gA();ii.Lexer=Xu();ii.Parser=bA();var o5=bs();ii.PredictionContextCache=o5.PredictionContextCache;ii.ParserRuleContext=My();ii.Interval=Ji().Interval;ii.IntervalSet=Ji().IntervalSet;ii.Utils=ki();ii.LL1Analyzer=Bv().LL1Analyzer});var yA=Q((Jce,vA)=>{var Wl=sd(),l5=["\u608B\uA72A\u8133\uB9ED\u417C\u3BE7\u7786","\u5964A\u0203\b		","			\x07",`	\x07\b	\b			
	
\v	\v`,"\f	\f\r	\r		","				","			","				","\x1B	\x1B		",'		 	 !	!"	"#',"	#$	$%	%&	&'	'(	()	)","*	*+	+,	,-	-.	./	/0	0","1	12	23	34	45	56	67	7","8	89	9:	:;	;<	<=	=>	>","?	?@	@A	AB	BC	CD	D","","\x07\x07\b",`\b				



`,"\v\v\f\f\r\r\r","","","","","","","\x1B","\x1B\x1B\x1B",""," ",' !!!!!"""','"""##$$$$$',"$%%%%%%%&","&&&&&&''((","((())))))*","****++++,,",",,,-------",".......///","/////////0","0000011111","1122222233","3334444445","5555555666","6666677777","7777777788","8888888888",`88\u0183
88\u0185
88\u0187
888\u018A`,`
89999:::::`,`::::::\u019A
:\r::\u019B`,`:\u019E
::\u01A0
::\u01A2
::::`,`:::::\u01AB
:;;\u01AE
;`,`;\x07;\u01B1
;\f;;\u01B4\v;<<<\x07`,`<\u01B9
<\f<<\u01BC\v<<<==`,`=\x07=\u01C3
=\f==\u01C6\v===>`,`>\u01CB
>\r>>\u01CC>>>\u01D1
>\r>>\u01D2`,`>\u01D5
>??\u01D8
?\r??\u01D9?`,`?@@@@\x07@\u01E2
@\f@@\u01E5\v`,"@@@@@@AAAA\x07",`A\u01F0
A\fAA\u01F3\vAAABB`,`BB\u01FA
BCCCCCCD`,"D\u01E3E\x07	\v",`\x07\r\b	
\v\f\r\x1B`,"!#%')+","-/13\x1B579;= ?!A",`"C#E$G%I&K'M(O)Q*S+U,W-Y.[/]0_1a2c3e4g5i6k7m8o9q:su;w<y={>}`,"?\x7F@\x81A\x83\x85\x87\f","2;--//C\\aac|2;C\\aac|",'^^bb))\v\f""',`\f\f
))11^^bbhhppttvv2;CHch\u0214`,"","\x07	","\v\r","","","","\x1B","!","#%","')+","-/","13","57","9;","=?A","CE","GI","KM","OQ","SUW","Y[","]_","ac","eg","ikm","oq","uw","y{","}\x7F","\x81\x89","\x8B\x07\x8D","	\x8F\v\x91","\r\x93\x95","\x97\x9B","\x9F\xA1","\xA3\x1B\xA6","\xA8\xAA","!\xAD#\xB0%\xB3","'\xB5)\xB7","+\xBA-\xBD","/\xC01\xC9","3\xCD5\xD0","7\xD49\xDC;\xDE","=\xE0?\xE2","A\xE4C\xE9","E\xEFG\xF1","I\xF7K\xFE","M\u0105O\u0107Q\u010C","S\u0112U\u0117","W\u011BY\u0120","[\u0127]\u012E","_\u013Aa\u0140","c\u0147e\u014Dg\u0152","i\u0158k\u0160","m\u0168o\u0175","q\u018Bs\u018F","u\u01ADw\u01B5","y\u01BF{\u01CA}\u01D7","\x7F\u01DD\x81\u01EB","\x83\u01F6\x85\u01FB","\x87\u0201\x89\x8A","\x070\x8A\x8B\x8C","\x07]\x8C\x8D\x8E","\x07_\x8E\b\x8F\x90\x07",`-\x90
\x91\x92\x07/`,"\x92\f\x93\x94\x07,","\x94\x95\x96\x071","\x96\x97\x98\x07f","\x98\x99\x07k\x99\x9A\x07x\x9A","\x9B\x9C\x07o\x9C","\x9D\x07q\x9D\x9E\x07f\x9E","\x9F\xA0\x07(\xA0","\xA1\xA2\x07~\xA2","\xA3\xA4\x07>\xA4\xA5","\x07?\xA5\xA6\xA7","\x07>\xA7\xA8\xA9","\x07@\xA9\xAA\xAB","\x07@\xAB\xAC\x07?\xAC ","\xAD\xAE\x07k\xAE\xAF\x07u",'\xAF"\xB0\xB1\x07c',"\xB1\xB2\x07u\xB2$\xB3","\xB4\x07?\xB4&\xB5\xB6","\x07\x80\xB6(\xB7\xB8","\x07#\xB8\xB9\x07?\xB9*","\xBA\xBB\x07#\xBB\xBC\x07\x80","\xBC,\xBD\xBE\x07k","\xBE\xBF\x07p\xBF.","\xC0\xC1\x07e\xC1\xC2\x07q\xC2","\xC3\x07p\xC3\xC4\x07v\xC4\xC5","\x07c\xC5\xC6\x07k\xC6\xC7\x07","p\xC7\xC8\x07u\xC80","\xC9\xCA\x07c\xCA\xCB\x07p","\xCB\xCC\x07f\xCC2\xCD","\xCE\x07q\xCE\xCF\x07t\xCF4","\xD0\xD1\x07z\xD1\xD2\x07","q\xD2\xD3\x07t\xD36","\xD4\xD5\x07k\xD5\xD6\x07o","\xD6\xD7\x07r\xD7\xD8\x07n\xD8","\xD9\x07k\xD9\xDA\x07g\xDA\xDB","\x07u\xDB8\xDC\xDD\x07","*\xDD:\xDE\xDF\x07+","\xDF<\xE0\xE1\x07}","\xE1>\xE2\xE3\x07\x7F","\xE3@\xE4\xE5\x07v\xE5","\xE6\x07t\xE6\xE7\x07w\xE7\xE8","\x07g\xE8B\xE9\xEA\x07","h\xEA\xEB\x07c\xEB\xEC\x07n","\xEC\xED\x07u\xED\xEE\x07g","\xEED\xEF\xF0\x07'\xF0","F\xF1\xF2\x07&\xF2\xF3","\x07v\xF3\xF4\x07j\xF4\xF5\x07","k\xF5\xF6\x07u\xF6H","\xF7\xF8\x07&\xF8\xF9\x07k","\xF9\xFA\x07p\xFA\xFB\x07f\xFB","\xFC\x07g\xFC\xFD\x07z\xFDJ","\xFE\xFF\x07&\xFF\u0100\x07","v\u0100\u0101\x07q\u0101\u0102\x07v","\u0102\u0103\x07c\u0103\u0104\x07n","\u0104L\u0105\u0106\x07.\u0106","N\u0107\u0108\x07{\u0108\u0109","\x07g\u0109\u010A\x07c\u010A\u010B\x07","t\u010BP\u010C\u010D\x07o","\u010D\u010E\x07q\u010E\u010F\x07p","\u010F\u0110\x07v\u0110\u0111\x07j\u0111","R\u0112\u0113\x07y\u0113\u0114","\x07g\u0114\u0115\x07g\u0115\u0116\x07","m\u0116T\u0117\u0118\x07f","\u0118\u0119\x07c\u0119\u011A\x07{","\u011AV\u011B\u011C\x07j\u011C","\u011D\x07q\u011D\u011E\x07w\u011E\u011F","\x07t\u011FX\u0120\u0121\x07","o\u0121\u0122\x07k\u0122\u0123\x07p","\u0123\u0124\x07w\u0124\u0125\x07v","\u0125\u0126\x07g\u0126Z\u0127","\u0128\x07u\u0128\u0129\x07g\u0129\u012A","\x07e\u012A\u012B\x07q\u012B\u012C\x07","p\u012C\u012D\x07f\u012D\\","\u012E\u012F\x07o\u012F\u0130\x07k","\u0130\u0131\x07n\u0131\u0132\x07n\u0132","\u0133\x07k\u0133\u0134\x07u\u0134\u0135","\x07g\u0135\u0136\x07e\u0136\u0137\x07","q\u0137\u0138\x07p\u0138\u0139\x07f","\u0139^\u013A\u013B\x07{","\u013B\u013C\x07g\u013C\u013D\x07c\u013D","\u013E\x07t\u013E\u013F\x07u\u013F`","\u0140\u0141\x07o\u0141\u0142\x07","q\u0142\u0143\x07p\u0143\u0144\x07v","\u0144\u0145\x07j\u0145\u0146\x07u","\u0146b\u0147\u0148\x07y\u0148","\u0149\x07g\u0149\u014A\x07g\u014A\u014B","\x07m\u014B\u014C\x07u\u014Cd","\u014D\u014E\x07f\u014E\u014F\x07c","\u014F\u0150\x07{\u0150\u0151\x07u","\u0151f\u0152\u0153\x07j\u0153","\u0154\x07q\u0154\u0155\x07w\u0155\u0156","\x07t\u0156\u0157\x07u\u0157h","\u0158\u0159\x07o\u0159\u015A\x07k","\u015A\u015B\x07p\u015B\u015C\x07w","\u015C\u015D\x07v\u015D\u015E\x07g\u015E","\u015F\x07u\u015Fj\u0160\u0161","\x07u\u0161\u0162\x07g\u0162\u0163\x07","e\u0163\u0164\x07q\u0164\u0165\x07p","\u0165\u0166\x07f\u0166\u0167\x07u","\u0167l\u0168\u0169\x07o\u0169","\u016A\x07k\u016A\u016B\x07n\u016B\u016C","\x07n\u016C\u016D\x07k\u016D\u016E\x07","u\u016E\u016F\x07g\u016F\u0170\x07e","\u0170\u0171\x07q\u0171\u0172\x07p","\u0172\u0173\x07f\u0173\u0174\x07u\u0174","n\u0175\u0176\x07B\u0176\u0177","	\u0177\u0178	\u0178\u0179	","\u0179\u0186	\u017A\u017B\x07/","\u017B\u017C	\u017C\u0184	","\u017D\u017E\x07/\u017E\u017F	\u017F","\u0182	\u0180\u0181\x07V\u0181\u0183","s:\u0182\u0180\u0182\u0183","\u0183\u0185\u0184\u017D","\u0184\u0185\u0185\u0187","\u0186\u017A\u0186\u0187","\u0187\u0189\u0188\u018A\x07","\\\u0189\u0188\u0189\u018A","\u018Ap\u018B\u018C\x07","B\u018C\u018D\x07V\u018D\u018Es:","\u018Er\u018F\u0190	\u0190","\u01A1	\u0191\u0192\x07<\u0192\u0193","	\u0193\u019F	\u0194\u0195\x07","<\u0195\u0196	\u0196\u019D	","\u0197\u0199\x070\u0198\u019A	","\u0199\u0198\u019A\u019B","\u019B\u0199\u019B\u019C","\u019C\u019E\u019D\u0197","\u019D\u019E\u019E\u01A0","\u019F\u0194\u019F\u01A0","\u01A0\u01A2\u01A1\u0191","\u01A1\u01A2\u01A2\u01AA","\u01A3\u01AB\x07\\\u01A4\u01A5	\u01A5","\u01A6	\u01A6\u01A7	\u01A7\u01A8","\x07<\u01A8\u01A9	\u01A9\u01AB	","\u01AA\u01A3\u01AA\u01A4","\u01AA\u01AB\u01ABt","\u01AC\u01AE	\u01AD\u01AC","\u01AE\u01B2\u01AF\u01B1	","\u01B0\u01AF\u01B1\u01B4","\u01B2\u01B0\u01B2\u01B3","\u01B3v\u01B4\u01B2","\u01B5\u01BA\x07b\u01B6\u01B9\x83",`B\u01B7\u01B9
\u01B8\u01B6`,"\u01B8\u01B7\u01B9\u01BC","\u01BA\u01B8\u01BA\u01BB","\u01BB\u01BD\u01BC\u01BA","\u01BD\u01BE\x07b\u01BEx","\u01BF\u01C4\x07)\u01C0\u01C3\x83B\u01C1",`\u01C3
\x07\u01C2\u01C0\u01C2`,"\u01C1\u01C3\u01C6\u01C4","\u01C2\u01C4\u01C5\u01C5","\u01C7\u01C6\u01C4\u01C7","\u01C8\x07)\u01C8z\u01C9\u01CB","	\u01CA\u01C9\u01CB\u01CC","\u01CC\u01CA\u01CC\u01CD","\u01CD\u01D4\u01CE\u01D0","\x070\u01CF\u01D1	\u01D0\u01CF","\u01D1\u01D2\u01D2\u01D0","\u01D2\u01D3\u01D3\u01D5","\u01D4\u01CE\u01D4\u01D5","\u01D5|\u01D6\u01D8	\b","\u01D7\u01D6\u01D8\u01D9","\u01D9\u01D7\u01D9\u01DA","\u01DA\u01DB\u01DB\u01DC\b?","\u01DC~\u01DD\u01DE\x071\u01DE","\u01DF\x07,\u01DF\u01E3\u01E0","\u01E2\v\u01E1\u01E0\u01E2","\u01E5\u01E3\u01E4\u01E3","\u01E1\u01E4\u01E6\u01E5","\u01E3\u01E6\u01E7\x07,\u01E7","\u01E8\x071\u01E8\u01E9\u01E9","\u01EA\b@\u01EA\x80\u01EB\u01EC","\x071\u01EC\u01ED\x071\u01ED\u01F1",`\u01EE\u01F0
	\u01EF\u01EE`,"\u01F0\u01F3\u01F1\u01EF","\u01F1\u01F2\u01F2\u01F4","\u01F3\u01F1\u01F4\u01F5\bA","\u01F5\x82\u01F6\u01F9\x07^",`\u01F7\u01FA	
\u01F8\u01FA\x85C\u01F9`,"\u01F7\u01F9\u01F8\u01FA","\x84\u01FB\u01FC\x07w\u01FC","\u01FD\x87D\u01FD\u01FE\x87D\u01FE\u01FF","\x87D\u01FF\u0200\x87D\u0200\x86","\u0201\u0202	\v\u0202\x88","\u0182\u0184\u0186\u0189\u019B\u019D\u019F","\u01A1\u01AA\u01AD\u01B0\u01B2\u01B8\u01BA\u01C2\u01C4\u01CC\u01D2\u01D4","\u01D9\u01E3\u01F1\u01F9"].join(""),jy=new Wl.atn.ATNDeserializer().deserialize(l5),c5=jy.decisionToState.map((n,t)=>new Wl.dfa.DFA(n,t)),Ie=class extends Wl.Lexer{static grammarFileName="FHIRPath.g4";static channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];static modeNames=["DEFAULT_MODE"];static literalNames=[null,"'.'","'['","']'","'+'","'-'","'*'","'/'","'div'","'mod'","'&'","'|'","'<='","'<'","'>'","'>='","'is'","'as'","'='","'~'","'!='","'!~'","'in'","'contains'","'and'","'or'","'xor'","'implies'","'('","')'","'{'","'}'","'true'","'false'","'%'","'$this'","'$index'","'$total'","','","'year'","'month'","'week'","'day'","'hour'","'minute'","'second'","'millisecond'","'years'","'months'","'weeks'","'days'","'hours'","'minutes'","'seconds'","'milliseconds'"];static symbolicNames=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"DATETIME","TIME","IDENTIFIER","DELIMITEDIDENTIFIER","STRING","NUMBER","WS","COMMENT","LINE_COMMENT"];static ruleNames=["T__0","T__1","T__2","T__3","T__4","T__5","T__6","T__7","T__8","T__9","T__10","T__11","T__12","T__13","T__14","T__15","T__16","T__17","T__18","T__19","T__20","T__21","T__22","T__23","T__24","T__25","T__26","T__27","T__28","T__29","T__30","T__31","T__32","T__33","T__34","T__35","T__36","T__37","T__38","T__39","T__40","T__41","T__42","T__43","T__44","T__45","T__46","T__47","T__48","T__49","T__50","T__51","T__52","T__53","DATETIME","TIME","TIMEFORMAT","IDENTIFIER","DELIMITEDIDENTIFIER","STRING","NUMBER","WS","COMMENT","LINE_COMMENT","ESC","UNICODE","HEX"];constructor(t){super(t),this._interp=new Wl.atn.LexerATNSimulator(this,jy,c5,new Wl.PredictionContextCache)}get atn(){return jy}};Ie.EOF=Wl.Token.EOF;Ie.T__0=1;Ie.T__1=2;Ie.T__2=3;Ie.T__3=4;Ie.T__4=5;Ie.T__5=6;Ie.T__6=7;Ie.T__7=8;Ie.T__8=9;Ie.T__9=10;Ie.T__10=11;Ie.T__11=12;Ie.T__12=13;Ie.T__13=14;Ie.T__14=15;Ie.T__15=16;Ie.T__16=17;Ie.T__17=18;Ie.T__18=19;Ie.T__19=20;Ie.T__20=21;Ie.T__21=22;Ie.T__22=23;Ie.T__23=24;Ie.T__24=25;Ie.T__25=26;Ie.T__26=27;Ie.T__27=28;Ie.T__28=29;Ie.T__29=30;Ie.T__30=31;Ie.T__31=32;Ie.T__32=33;Ie.T__33=34;Ie.T__34=35;Ie.T__35=36;Ie.T__36=37;Ie.T__37=38;Ie.T__38=39;Ie.T__39=40;Ie.T__40=41;Ie.T__41=42;Ie.T__42=43;Ie.T__43=44;Ie.T__44=45;Ie.T__45=46;Ie.T__46=47;Ie.T__47=48;Ie.T__48=49;Ie.T__49=50;Ie.T__50=51;Ie.T__51=52;Ie.T__52=53;Ie.T__53=54;Ie.DATETIME=55;Ie.TIME=56;Ie.IDENTIFIER=57;Ie.DELIMITEDIDENTIFIER=58;Ie.STRING=59;Ie.NUMBER=60;Ie.WS=61;Ie.COMMENT=62;Ie.LINE_COMMENT=63;vA.exports=Ie});var qy=Q((eue,CA)=>{var u5=sd(),Wy=class extends u5.tree.ParseTreeListener{enterEntireExpression(t){}exitEntireExpression(t){}enterIndexerExpression(t){}exitIndexerExpression(t){}enterPolarityExpression(t){}exitPolarityExpression(t){}enterAdditiveExpression(t){}exitAdditiveExpression(t){}enterMultiplicativeExpression(t){}exitMultiplicativeExpression(t){}enterUnionExpression(t){}exitUnionExpression(t){}enterOrExpression(t){}exitOrExpression(t){}enterAndExpression(t){}exitAndExpression(t){}enterMembershipExpression(t){}exitMembershipExpression(t){}enterInequalityExpression(t){}exitInequalityExpression(t){}enterInvocationExpression(t){}exitInvocationExpression(t){}enterEqualityExpression(t){}exitEqualityExpression(t){}enterImpliesExpression(t){}exitImpliesExpression(t){}enterTermExpression(t){}exitTermExpression(t){}enterTypeExpression(t){}exitTypeExpression(t){}enterInvocationTerm(t){}exitInvocationTerm(t){}enterLiteralTerm(t){}exitLiteralTerm(t){}enterExternalConstantTerm(t){}exitExternalConstantTerm(t){}enterParenthesizedTerm(t){}exitParenthesizedTerm(t){}enterNullLiteral(t){}exitNullLiteral(t){}enterBooleanLiteral(t){}exitBooleanLiteral(t){}enterStringLiteral(t){}exitStringLiteral(t){}enterNumberLiteral(t){}exitNumberLiteral(t){}enterDateTimeLiteral(t){}exitDateTimeLiteral(t){}enterTimeLiteral(t){}exitTimeLiteral(t){}enterQuantityLiteral(t){}exitQuantityLiteral(t){}enterExternalConstant(t){}exitExternalConstant(t){}enterMemberInvocation(t){}exitMemberInvocation(t){}enterFunctionInvocation(t){}exitFunctionInvocation(t){}enterThisInvocation(t){}exitThisInvocation(t){}enterIndexInvocation(t){}exitIndexInvocation(t){}enterTotalInvocation(t){}exitTotalInvocation(t){}enterFunctn(t){}exitFunctn(t){}enterParamList(t){}exitParamList(t){}enterQuantity(t){}exitQuantity(t){}enterUnit(t){}exitUnit(t){}enterDateTimePrecision(t){}exitDateTimePrecision(t){}enterPluralDateTimePrecision(t){}exitPluralDateTimePrecision(t){}enterTypeSpecifier(t){}exitTypeSpecifier(t){}enterQualifiedIdentifier(t){}exitQualifiedIdentifier(t){}enterIdentifier(t){}exitIdentifier(t){}};CA.exports=Wy});var xA=Q((tue,wA)=>{var Ve=sd(),be=qy(),d5=["\u608B\uA72A\u8133\uB9ED\u417C\u3BE7\u7786","\u5964A\x9C		","			\x07	\x07",`\b	\b			
	
\v	\v\f	\f`,"\r	\r			","",`(
`,"","","","","","\x07",`P
\fS\v`,"\\",`
`,`f
`,`k
\x07\x07`,`\x07\x07\x07\x07r
\x07\b`,`\b\b\bw
\b\b\b			\x07`,`	~
	\f		\x81\v	


\x85

`,`\v\v\v\v\x8A
\v`,"\f\f\r\r",`\x07\x95
\f\x98`,"\v",`\b
\f`,"\x07\b\v","\x07\f\f","\x1B",'"#)018',";<\xAD '","[\be",`
g\fqs`,"z\x82","\x89\x8B","\x8D\x8F","\x91\x99",' !!"\x07','"#$\b$(',"%&	&(\r'#","'%(Q",")*\f\f*+	+P\r,-\f\v",`-.	.P\f/0\f
`,"01\x07\r1P\v23\f	",`34	4P
56\f\x076`,"7	7P\b89\f9:","	\x07:P\x07;<\f","<=\x07=P>?\f","?@	\b@PAB\f","BC\x07CPDE\f","EF\x07FP\f\x07GH\f","HI\x07IJJK\x07","KPLM\f\bMN		","NPO)O,","O/O2O5","O8O;","O>OAOD","OGOLPS","QOQRR","SQT\\\f\x07",`U\\\bV\\
WX\x07`,"XYYZ\x07Z\\","[T[U","[V[W\\\x07",`]^\x07 ^f\x07!_f	
`,"`f\x07=af\x07>bf\x079cf\x07",`:df
e]e_`,"e`ea","ebeced","f	gj\x07$hk","ik\x07=jhji","k\vlr","mr\bnr\x07%or\x07&","pr\x07'qlqm","qnqoqp","r\rsttv","\x07uw	vu","vwwxxy\x07","yz\x7F","{|\x07(|~}{","~\x81\x7F}","\x7F\x80\x80","\x81\x7F\x82\x84\x07>","\x83\x85\v\x84\x83","\x84\x85\x85","\x86\x8A\f\x87\x8A\r\x88","\x8A\x07=\x89\x86\x89","\x87\x89\x88\x8A","\x8B\x8C	\v\x8C","\x8D\x8E	\f\x8E","\x8F\x90\x90\x1B","\x91\x96\x92\x93","\x07\x93\x95\x94\x92","\x95\x98\x96\x94","\x96\x97\x97","\x98\x96\x99\x9A","	\r\x9A'OQ[ejqv","\x7F\x84\x89\x96"].join(""),Gy=new Ve.atn.ATNDeserializer().deserialize(d5),h5=Gy.decisionToState.map((n,t)=>new Ve.dfa.DFA(n,t)),m5=new Ve.PredictionContextCache,G=class n extends Ve.Parser{static grammarFileName="FHIRPath.g4";static literalNames=[null,"'.'","'['","']'","'+'","'-'","'*'","'/'","'div'","'mod'","'&'","'|'","'<='","'<'","'>'","'>='","'is'","'as'","'='","'~'","'!='","'!~'","'in'","'contains'","'and'","'or'","'xor'","'implies'","'('","')'","'{'","'}'","'true'","'false'","'%'","'$this'","'$index'","'$total'","','","'year'","'month'","'week'","'day'","'hour'","'minute'","'second'","'millisecond'","'years'","'months'","'weeks'","'days'","'hours'","'minutes'","'seconds'","'milliseconds'"];static symbolicNames=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"DATETIME","TIME","IDENTIFIER","DELIMITEDIDENTIFIER","STRING","NUMBER","WS","COMMENT","LINE_COMMENT"];static ruleNames=["entireExpression","expression","term","literal","externalConstant","invocation","functn","paramList","quantity","unit","dateTimePrecision","pluralDateTimePrecision","typeSpecifier","qualifiedIdentifier","identifier"];constructor(t){super(t),this._interp=new Ve.atn.ParserATNSimulator(this,Gy,h5,m5),this.ruleNames=n.ruleNames,this.literalNames=n.literalNames,this.symbolicNames=n.symbolicNames}get atn(){return Gy}sempred(t,e,i){switch(e){case 1:return this.expression_sempred(t,i);default:throw"No predicate with index:"+e}}expression_sempred(t,e){switch(e){case 0:return this.precpred(this._ctx,10);case 1:return this.precpred(this._ctx,9);case 2:return this.precpred(this._ctx,8);case 3:return this.precpred(this._ctx,7);case 4:return this.precpred(this._ctx,5);case 5:return this.precpred(this._ctx,4);case 6:return this.precpred(this._ctx,3);case 7:return this.precpred(this._ctx,2);case 8:return this.precpred(this._ctx,1);case 9:return this.precpred(this._ctx,13);case 10:return this.precpred(this._ctx,12);case 11:return this.precpred(this._ctx,6);default:throw"No predicate with index:"+e}}entireExpression(){let t=new Wf(this,this._ctx,this.state);this.enterRule(t,0,n.RULE_entireExpression);try{this.enterOuterAlt(t,1),this.state=30,this.expression(0),this.state=31,this.match(n.EOF)}catch(e){if(e instanceof Ve.error.RecognitionException)t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e);else throw e}finally{this.exitRule()}return t}expression(t){t===void 0&&(t=0);let e=this._ctx,i=this.state,r=new Ue(this,this._ctx,i),s=r,a=2;this.enterRecursionRule(r,2,n.RULE_expression,t);var o=0;try{switch(this.enterOuterAlt(r,1),this.state=37,this._errHandler.sync(this),this._input.LA(1)){case n.T__15:case n.T__16:case n.T__21:case n.T__22:case n.T__27:case n.T__29:case n.T__31:case n.T__32:case n.T__33:case n.T__34:case n.T__35:case n.T__36:case n.DATETIME:case n.TIME:case n.IDENTIFIER:case n.DELIMITEDIDENTIFIER:case n.STRING:case n.NUMBER:r=new rp(this,r),this._ctx=r,s=r,this.state=34,this.term();break;case n.T__3:case n.T__4:r=new Gf(this,r),this._ctx=r,s=r,this.state=35,o=this._input.LA(1),o===n.T__3||o===n.T__4?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=36,this.expression(11);break;default:throw new Ve.error.NoViableAltException(this)}this._ctx.stop=this._input.LT(-1),this.state=79,this._errHandler.sync(this);for(var l=this._interp.adaptivePredict(this._input,2,this._ctx);l!=2&&l!=Ve.atn.ATN.INVALID_ALT_NUMBER;){if(l===1){this._parseListeners!==null&&this.triggerExitRuleEvent(),s=r,this.state=77,this._errHandler.sync(this);var c=this._interp.adaptivePredict(this._input,1,this._ctx);switch(c){case 1:if(r=new Yf(this,new Ue(this,e,i)),this.pushNewRecursionContext(r,a,n.RULE_expression),this.state=39,!this.precpred(this._ctx,10))throw new Ve.error.FailedPredicateException(this,"this.precpred(this._ctx, 10)");this.state=40,o=this._input.LA(1),(o&-32)==0&&(1<<o&(1<<n.T__5|1<<n.T__6|1<<n.T__7|1<<n.T__8))!==0?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=41,this.expression(11);break;case 2:if(r=new Kf(this,new Ue(this,e,i)),this.pushNewRecursionContext(r,a,n.RULE_expression),this.state=42,!this.precpred(this._ctx,9))throw new Ve.error.FailedPredicateException(this,"this.precpred(this._ctx, 9)");this.state=43,o=this._input.LA(1),(o&-32)==0&&(1<<o&(1<<n.T__3|1<<n.T__4|1<<n.T__9))!==0?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=44,this.expression(10);break;case 3:if(r=new Qf(this,new Ue(this,e,i)),this.pushNewRecursionContext(r,a,n.RULE_expression),this.state=45,!this.precpred(this._ctx,8))throw new Ve.error.FailedPredicateException(this,"this.precpred(this._ctx, 8)");this.state=46,this.match(n.T__10),this.state=47,this.expression(9);break;case 4:if(r=new ep(this,new Ue(this,e,i)),this.pushNewRecursionContext(r,a,n.RULE_expression),this.state=48,!this.precpred(this._ctx,7))throw new Ve.error.FailedPredicateException(this,"this.precpred(this._ctx, 7)");this.state=49,o=this._input.LA(1),(o&-32)==0&&(1<<o&(1<<n.T__11|1<<n.T__12|1<<n.T__13|1<<n.T__14))!==0?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=50,this.expression(8);break;case 5:if(r=new ip(this,new Ue(this,e,i)),this.pushNewRecursionContext(r,a,n.RULE_expression),this.state=51,!this.precpred(this._ctx,5))throw new Ve.error.FailedPredicateException(this,"this.precpred(this._ctx, 5)");this.state=52,o=this._input.LA(1),(o&-32)==0&&(1<<o&(1<<n.T__17|1<<n.T__18|1<<n.T__19|1<<n.T__20))!==0?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=53,this.expression(6);break;case 6:if(r=new Jf(this,new Ue(this,e,i)),this.pushNewRecursionContext(r,a,n.RULE_expression),this.state=54,!this.precpred(this._ctx,4))throw new Ve.error.FailedPredicateException(this,"this.precpred(this._ctx, 4)");this.state=55,o=this._input.LA(1),o===n.T__21||o===n.T__22?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=56,this.expression(5);break;case 7:if(r=new Xf(this,new Ue(this,e,i)),this.pushNewRecursionContext(r,a,n.RULE_expression),this.state=57,!this.precpred(this._ctx,3))throw new Ve.error.FailedPredicateException(this,"this.precpred(this._ctx, 3)");this.state=58,this.match(n.T__23),this.state=59,this.expression(4);break;case 8:if(r=new Zf(this,new Ue(this,e,i)),this.pushNewRecursionContext(r,a,n.RULE_expression),this.state=60,!this.precpred(this._ctx,2))throw new Ve.error.FailedPredicateException(this,"this.precpred(this._ctx, 2)");this.state=61,o=this._input.LA(1),o===n.T__24||o===n.T__25?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=62,this.expression(3);break;case 9:if(r=new np(this,new Ue(this,e,i)),this.pushNewRecursionContext(r,a,n.RULE_expression),this.state=63,!this.precpred(this._ctx,1))throw new Ve.error.FailedPredicateException(this,"this.precpred(this._ctx, 1)");this.state=64,this.match(n.T__26),this.state=65,this.expression(2);break;case 10:if(r=new tp(this,new Ue(this,e,i)),this.pushNewRecursionContext(r,a,n.RULE_expression),this.state=66,!this.precpred(this._ctx,13))throw new Ve.error.FailedPredicateException(this,"this.precpred(this._ctx, 13)");this.state=67,this.match(n.T__0),this.state=68,this.invocation();break;case 11:if(r=new qf(this,new Ue(this,e,i)),this.pushNewRecursionContext(r,a,n.RULE_expression),this.state=69,!this.precpred(this._ctx,12))throw new Ve.error.FailedPredicateException(this,"this.precpred(this._ctx, 12)");this.state=70,this.match(n.T__1),this.state=71,this.expression(0),this.state=72,this.match(n.T__2);break;case 12:if(r=new sp(this,new Ue(this,e,i)),this.pushNewRecursionContext(r,a,n.RULE_expression),this.state=74,!this.precpred(this._ctx,6))throw new Ve.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=75,o=this._input.LA(1),o===n.T__15||o===n.T__16?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=76,this.typeSpecifier();break}}this.state=81,this._errHandler.sync(this),l=this._interp.adaptivePredict(this._input,2,this._ctx)}}catch(u){if(u instanceof Ve.error.RecognitionException)r.exception=u,this._errHandler.reportError(this,u),this._errHandler.recover(this,u);else throw u}finally{this.unrollRecursionContexts(e)}return r}term(){let t=new Cs(this,this._ctx,this.state);this.enterRule(t,4,n.RULE_term);try{switch(this.state=89,this._errHandler.sync(this),this._input.LA(1)){case n.T__15:case n.T__16:case n.T__21:case n.T__22:case n.T__34:case n.T__35:case n.T__36:case n.IDENTIFIER:case n.DELIMITEDIDENTIFIER:t=new cp(this,t),this.enterOuterAlt(t,1),this.state=82,this.invocation();break;case n.T__29:case n.T__31:case n.T__32:case n.DATETIME:case n.TIME:case n.STRING:case n.NUMBER:t=new op(this,t),this.enterOuterAlt(t,2),this.state=83,this.literal();break;case n.T__33:t=new ap(this,t),this.enterOuterAlt(t,3),this.state=84,this.externalConstant();break;case n.T__27:t=new lp(this,t),this.enterOuterAlt(t,4),this.state=85,this.match(n.T__27),this.state=86,this.expression(0),this.state=87,this.match(n.T__28);break;default:throw new Ve.error.NoViableAltException(this)}}catch(e){if(e instanceof Ve.error.RecognitionException)t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e);else throw e}finally{this.exitRule()}return t}literal(){let t=new Un(this,this._ctx,this.state);this.enterRule(t,6,n.RULE_literal);var e=0;try{this.state=99,this._errHandler.sync(this);var i=this._interp.adaptivePredict(this._input,4,this._ctx);switch(i){case 1:t=new dp(this,t),this.enterOuterAlt(t,1),this.state=91,this.match(n.T__29),this.state=92,this.match(n.T__30);break;case 2:t=new fp(this,t),this.enterOuterAlt(t,2),this.state=93,e=this._input.LA(1),e===n.T__31||e===n.T__32?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case 3:t=new mp(this,t),this.enterOuterAlt(t,3),this.state=94,this.match(n.STRING);break;case 4:t=new pp(this,t),this.enterOuterAlt(t,4),this.state=95,this.match(n.NUMBER);break;case 5:t=new hp(this,t),this.enterOuterAlt(t,5),this.state=96,this.match(n.DATETIME);break;case 6:t=new up(this,t),this.enterOuterAlt(t,6),this.state=97,this.match(n.TIME);break;case 7:t=new gp(this,t),this.enterOuterAlt(t,7),this.state=98,this.quantity();break}}catch(r){if(r instanceof Ve.error.RecognitionException)t.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return t}externalConstant(){let t=new ad(this,this._ctx,this.state);this.enterRule(t,8,n.RULE_externalConstant);try{switch(this.enterOuterAlt(t,1),this.state=101,this.match(n.T__33),this.state=104,this._errHandler.sync(this),this._input.LA(1)){case n.T__15:case n.T__16:case n.T__21:case n.T__22:case n.IDENTIFIER:case n.DELIMITEDIDENTIFIER:this.state=102,this.identifier();break;case n.STRING:this.state=103,this.match(n.STRING);break;default:throw new Ve.error.NoViableAltException(this)}}catch(e){if(e instanceof Ve.error.RecognitionException)t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e);else throw e}finally{this.exitRule()}return t}invocation(){let t=new nr(this,this._ctx,this.state);this.enterRule(t,10,n.RULE_invocation);try{this.state=111,this._errHandler.sync(this);var e=this._interp.adaptivePredict(this._input,6,this._ctx);switch(e){case 1:t=new Cp(this,t),this.enterOuterAlt(t,1),this.state=106,this.identifier();break;case 2:t=new yp(this,t),this.enterOuterAlt(t,2),this.state=107,this.functn();break;case 3:t=new bp(this,t),this.enterOuterAlt(t,3),this.state=108,this.match(n.T__34);break;case 4:t=new vp(this,t),this.enterOuterAlt(t,4),this.state=109,this.match(n.T__35);break;case 5:t=new _p(this,t),this.enterOuterAlt(t,5),this.state=110,this.match(n.T__36);break}}catch(i){if(i instanceof Ve.error.RecognitionException)t.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i);else throw i}finally{this.exitRule()}return t}functn(){let t=new od(this,this._ctx,this.state);this.enterRule(t,12,n.RULE_functn);var e=0;try{this.enterOuterAlt(t,1),this.state=113,this.identifier(),this.state=114,this.match(n.T__27),this.state=116,this._errHandler.sync(this),e=this._input.LA(1),((e&-32)==0&&(1<<e&(1<<n.T__3|1<<n.T__4|1<<n.T__15|1<<n.T__16|1<<n.T__21|1<<n.T__22|1<<n.T__27|1<<n.T__29))!==0||(e-32&-32)==0&&(1<<e-32&(1<<n.T__31-32|1<<n.T__32-32|1<<n.T__33-32|1<<n.T__34-32|1<<n.T__35-32|1<<n.T__36-32|1<<n.DATETIME-32|1<<n.TIME-32|1<<n.IDENTIFIER-32|1<<n.DELIMITEDIDENTIFIER-32|1<<n.STRING-32|1<<n.NUMBER-32))!==0)&&(this.state=115,this.paramList()),this.state=118,this.match(n.T__28)}catch(i){if(i instanceof Ve.error.RecognitionException)t.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i);else throw i}finally{this.exitRule()}return t}paramList(){let t=new ld(this,this._ctx,this.state);this.enterRule(t,14,n.RULE_paramList);var e=0;try{for(this.enterOuterAlt(t,1),this.state=120,this.expression(0),this.state=125,this._errHandler.sync(this),e=this._input.LA(1);e===n.T__37;)this.state=121,this.match(n.T__37),this.state=122,this.expression(0),this.state=127,this._errHandler.sync(this),e=this._input.LA(1)}catch(i){if(i instanceof Ve.error.RecognitionException)t.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i);else throw i}finally{this.exitRule()}return t}quantity(){let t=new cd(this,this._ctx,this.state);this.enterRule(t,16,n.RULE_quantity);try{this.enterOuterAlt(t,1),this.state=128,this.match(n.NUMBER),this.state=130,this._errHandler.sync(this);var e=this._interp.adaptivePredict(this._input,9,this._ctx);e===1&&(this.state=129,this.unit())}catch(i){if(i instanceof Ve.error.RecognitionException)t.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i);else throw i}finally{this.exitRule()}return t}unit(){let t=new ud(this,this._ctx,this.state);this.enterRule(t,18,n.RULE_unit);try{switch(this.state=135,this._errHandler.sync(this),this._input.LA(1)){case n.T__38:case n.T__39:case n.T__40:case n.T__41:case n.T__42:case n.T__43:case n.T__44:case n.T__45:this.enterOuterAlt(t,1),this.state=132,this.dateTimePrecision();break;case n.T__46:case n.T__47:case n.T__48:case n.T__49:case n.T__50:case n.T__51:case n.T__52:case n.T__53:this.enterOuterAlt(t,2),this.state=133,this.pluralDateTimePrecision();break;case n.STRING:this.enterOuterAlt(t,3),this.state=134,this.match(n.STRING);break;default:throw new Ve.error.NoViableAltException(this)}}catch(e){if(e instanceof Ve.error.RecognitionException)t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e);else throw e}finally{this.exitRule()}return t}dateTimePrecision(){let t=new dd(this,this._ctx,this.state);this.enterRule(t,20,n.RULE_dateTimePrecision);var e=0;try{this.enterOuterAlt(t,1),this.state=137,e=this._input.LA(1),(e-39&-32)==0&&(1<<e-39&(1<<n.T__38-39|1<<n.T__39-39|1<<n.T__40-39|1<<n.T__41-39|1<<n.T__42-39|1<<n.T__43-39|1<<n.T__44-39|1<<n.T__45-39))!==0?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(i){if(i instanceof Ve.error.RecognitionException)t.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i);else throw i}finally{this.exitRule()}return t}pluralDateTimePrecision(){let t=new hd(this,this._ctx,this.state);this.enterRule(t,22,n.RULE_pluralDateTimePrecision);var e=0;try{this.enterOuterAlt(t,1),this.state=139,e=this._input.LA(1),(e-47&-32)==0&&(1<<e-47&(1<<n.T__46-47|1<<n.T__47-47|1<<n.T__48-47|1<<n.T__49-47|1<<n.T__50-47|1<<n.T__51-47|1<<n.T__52-47|1<<n.T__53-47))!==0?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(i){if(i instanceof Ve.error.RecognitionException)t.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i);else throw i}finally{this.exitRule()}return t}typeSpecifier(){let t=new md(this,this._ctx,this.state);this.enterRule(t,24,n.RULE_typeSpecifier);try{this.enterOuterAlt(t,1),this.state=141,this.qualifiedIdentifier()}catch(e){if(e instanceof Ve.error.RecognitionException)t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e);else throw e}finally{this.exitRule()}return t}qualifiedIdentifier(){let t=new fd(this,this._ctx,this.state);this.enterRule(t,26,n.RULE_qualifiedIdentifier);try{this.enterOuterAlt(t,1),this.state=143,this.identifier(),this.state=148,this._errHandler.sync(this);for(var e=this._interp.adaptivePredict(this._input,11,this._ctx);e!=2&&e!=Ve.atn.ATN.INVALID_ALT_NUMBER;)e===1&&(this.state=144,this.match(n.T__0),this.state=145,this.identifier()),this.state=150,this._errHandler.sync(this),e=this._interp.adaptivePredict(this._input,11,this._ctx)}catch(i){if(i instanceof Ve.error.RecognitionException)t.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i);else throw i}finally{this.exitRule()}return t}identifier(){let t=new ws(this,this._ctx,this.state);this.enterRule(t,28,n.RULE_identifier);var e=0;try{this.enterOuterAlt(t,1),this.state=151,e=this._input.LA(1),(e&-32)==0&&(1<<e&(1<<n.T__15|1<<n.T__16|1<<n.T__21|1<<n.T__22))!==0||e===n.IDENTIFIER||e===n.DELIMITEDIDENTIFIER?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(i){if(i instanceof Ve.error.RecognitionException)t.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i);else throw i}finally{this.exitRule()}return t}};G.EOF=Ve.Token.EOF;G.T__0=1;G.T__1=2;G.T__2=3;G.T__3=4;G.T__4=5;G.T__5=6;G.T__6=7;G.T__7=8;G.T__8=9;G.T__9=10;G.T__10=11;G.T__11=12;G.T__12=13;G.T__13=14;G.T__14=15;G.T__15=16;G.T__16=17;G.T__17=18;G.T__18=19;G.T__19=20;G.T__20=21;G.T__21=22;G.T__22=23;G.T__23=24;G.T__24=25;G.T__25=26;G.T__26=27;G.T__27=28;G.T__28=29;G.T__29=30;G.T__30=31;G.T__31=32;G.T__32=33;G.T__33=34;G.T__34=35;G.T__35=36;G.T__36=37;G.T__37=38;G.T__38=39;G.T__39=40;G.T__40=41;G.T__41=42;G.T__42=43;G.T__43=44;G.T__44=45;G.T__45=46;G.T__46=47;G.T__47=48;G.T__48=49;G.T__49=50;G.T__50=51;G.T__51=52;G.T__52=53;G.T__53=54;G.DATETIME=55;G.TIME=56;G.IDENTIFIER=57;G.DELIMITEDIDENTIFIER=58;G.STRING=59;G.NUMBER=60;G.WS=61;G.COMMENT=62;G.LINE_COMMENT=63;G.RULE_entireExpression=0;G.RULE_expression=1;G.RULE_term=2;G.RULE_literal=3;G.RULE_externalConstant=4;G.RULE_invocation=5;G.RULE_functn=6;G.RULE_paramList=7;G.RULE_quantity=8;G.RULE_unit=9;G.RULE_dateTimePrecision=10;G.RULE_pluralDateTimePrecision=11;G.RULE_typeSpecifier=12;G.RULE_qualifiedIdentifier=13;G.RULE_identifier=14;var Wf=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_entireExpression}expression(){return this.getTypedRuleContext(Ue,0)}EOF(){return this.getToken(G.EOF,0)}enterRule(t){t instanceof be&&t.enterEntireExpression(this)}exitRule(t){t instanceof be&&t.exitEntireExpression(this)}},Ue=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_expression}copyFrom(t){super.copyFrom(t)}},qf=class extends Ue{constructor(t,e){super(t),super.copyFrom(e)}expression=function(t){return t===void 0&&(t=null),t===null?this.getTypedRuleContexts(Ue):this.getTypedRuleContext(Ue,t)};enterRule(t){t instanceof be&&t.enterIndexerExpression(this)}exitRule(t){t instanceof be&&t.exitIndexerExpression(this)}};G.IndexerExpressionContext=qf;var Gf=class extends Ue{constructor(t,e){super(t),super.copyFrom(e)}expression(){return this.getTypedRuleContext(Ue,0)}enterRule(t){t instanceof be&&t.enterPolarityExpression(this)}exitRule(t){t instanceof be&&t.exitPolarityExpression(this)}};G.PolarityExpressionContext=Gf;var Kf=class extends Ue{constructor(t,e){super(t),super.copyFrom(e)}expression=function(t){return t===void 0&&(t=null),t===null?this.getTypedRuleContexts(Ue):this.getTypedRuleContext(Ue,t)};enterRule(t){t instanceof be&&t.enterAdditiveExpression(this)}exitRule(t){t instanceof be&&t.exitAdditiveExpression(this)}};G.AdditiveExpressionContext=Kf;var Yf=class extends Ue{constructor(t,e){super(t),super.copyFrom(e)}expression=function(t){return t===void 0&&(t=null),t===null?this.getTypedRuleContexts(Ue):this.getTypedRuleContext(Ue,t)};enterRule(t){t instanceof be&&t.enterMultiplicativeExpression(this)}exitRule(t){t instanceof be&&t.exitMultiplicativeExpression(this)}};G.MultiplicativeExpressionContext=Yf;var Qf=class extends Ue{constructor(t,e){super(t),super.copyFrom(e)}expression=function(t){return t===void 0&&(t=null),t===null?this.getTypedRuleContexts(Ue):this.getTypedRuleContext(Ue,t)};enterRule(t){t instanceof be&&t.enterUnionExpression(this)}exitRule(t){t instanceof be&&t.exitUnionExpression(this)}};G.UnionExpressionContext=Qf;var Zf=class extends Ue{constructor(t,e){super(t),super.copyFrom(e)}expression=function(t){return t===void 0&&(t=null),t===null?this.getTypedRuleContexts(Ue):this.getTypedRuleContext(Ue,t)};enterRule(t){t instanceof be&&t.enterOrExpression(this)}exitRule(t){t instanceof be&&t.exitOrExpression(this)}};G.OrExpressionContext=Zf;var Xf=class extends Ue{constructor(t,e){super(t),super.copyFrom(e)}expression=function(t){return t===void 0&&(t=null),t===null?this.getTypedRuleContexts(Ue):this.getTypedRuleContext(Ue,t)};enterRule(t){t instanceof be&&t.enterAndExpression(this)}exitRule(t){t instanceof be&&t.exitAndExpression(this)}};G.AndExpressionContext=Xf;var Jf=class extends Ue{constructor(t,e){super(t),super.copyFrom(e)}expression=function(t){return t===void 0&&(t=null),t===null?this.getTypedRuleContexts(Ue):this.getTypedRuleContext(Ue,t)};enterRule(t){t instanceof be&&t.enterMembershipExpression(this)}exitRule(t){t instanceof be&&t.exitMembershipExpression(this)}};G.MembershipExpressionContext=Jf;var ep=class extends Ue{constructor(t,e){super(t),super.copyFrom(e)}expression=function(t){return t===void 0&&(t=null),t===null?this.getTypedRuleContexts(Ue):this.getTypedRuleContext(Ue,t)};enterRule(t){t instanceof be&&t.enterInequalityExpression(this)}exitRule(t){t instanceof be&&t.exitInequalityExpression(this)}};G.InequalityExpressionContext=ep;var tp=class extends Ue{constructor(t,e){super(t),super.copyFrom(e)}expression(){return this.getTypedRuleContext(Ue,0)}invocation(){return this.getTypedRuleContext(nr,0)}enterRule(t){t instanceof be&&t.enterInvocationExpression(this)}exitRule(t){t instanceof be&&t.exitInvocationExpression(this)}};G.InvocationExpressionContext=tp;var ip=class extends Ue{constructor(t,e){super(t),super.copyFrom(e)}expression=function(t){return t===void 0&&(t=null),t===null?this.getTypedRuleContexts(Ue):this.getTypedRuleContext(Ue,t)};enterRule(t){t instanceof be&&t.enterEqualityExpression(this)}exitRule(t){t instanceof be&&t.exitEqualityExpression(this)}};G.EqualityExpressionContext=ip;var np=class extends Ue{constructor(t,e){super(t),super.copyFrom(e)}expression=function(t){return t===void 0&&(t=null),t===null?this.getTypedRuleContexts(Ue):this.getTypedRuleContext(Ue,t)};enterRule(t){t instanceof be&&t.enterImpliesExpression(this)}exitRule(t){t instanceof be&&t.exitImpliesExpression(this)}};G.ImpliesExpressionContext=np;var rp=class extends Ue{constructor(t,e){super(t),super.copyFrom(e)}term(){return this.getTypedRuleContext(Cs,0)}enterRule(t){t instanceof be&&t.enterTermExpression(this)}exitRule(t){t instanceof be&&t.exitTermExpression(this)}};G.TermExpressionContext=rp;var sp=class extends Ue{constructor(t,e){super(t),super.copyFrom(e)}expression(){return this.getTypedRuleContext(Ue,0)}typeSpecifier(){return this.getTypedRuleContext(md,0)}enterRule(t){t instanceof be&&t.enterTypeExpression(this)}exitRule(t){t instanceof be&&t.exitTypeExpression(this)}};G.TypeExpressionContext=sp;var Cs=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_term}copyFrom(t){super.copyFrom(t)}},ap=class extends Cs{constructor(t,e){super(t),super.copyFrom(e)}externalConstant(){return this.getTypedRuleContext(ad,0)}enterRule(t){t instanceof be&&t.enterExternalConstantTerm(this)}exitRule(t){t instanceof be&&t.exitExternalConstantTerm(this)}};G.ExternalConstantTermContext=ap;var op=class extends Cs{constructor(t,e){super(t),super.copyFrom(e)}literal(){return this.getTypedRuleContext(Un,0)}enterRule(t){t instanceof be&&t.enterLiteralTerm(this)}exitRule(t){t instanceof be&&t.exitLiteralTerm(this)}};G.LiteralTermContext=op;var lp=class extends Cs{constructor(t,e){super(t),super.copyFrom(e)}expression(){return this.getTypedRuleContext(Ue,0)}enterRule(t){t instanceof be&&t.enterParenthesizedTerm(this)}exitRule(t){t instanceof be&&t.exitParenthesizedTerm(this)}};G.ParenthesizedTermContext=lp;var cp=class extends Cs{constructor(t,e){super(t),super.copyFrom(e)}invocation(){return this.getTypedRuleContext(nr,0)}enterRule(t){t instanceof be&&t.enterInvocationTerm(this)}exitRule(t){t instanceof be&&t.exitInvocationTerm(this)}};G.InvocationTermContext=cp;var Un=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_literal}copyFrom(t){super.copyFrom(t)}},up=class extends Un{constructor(t,e){super(t),super.copyFrom(e)}TIME(){return this.getToken(G.TIME,0)}enterRule(t){t instanceof be&&t.enterTimeLiteral(this)}exitRule(t){t instanceof be&&t.exitTimeLiteral(this)}};G.TimeLiteralContext=up;var dp=class extends Un{constructor(t,e){super(t),super.copyFrom(e)}enterRule(t){t instanceof be&&t.enterNullLiteral(this)}exitRule(t){t instanceof be&&t.exitNullLiteral(this)}};G.NullLiteralContext=dp;var hp=class extends Un{constructor(t,e){super(t),super.copyFrom(e)}DATETIME(){return this.getToken(G.DATETIME,0)}enterRule(t){t instanceof be&&t.enterDateTimeLiteral(this)}exitRule(t){t instanceof be&&t.exitDateTimeLiteral(this)}};G.DateTimeLiteralContext=hp;var mp=class extends Un{constructor(t,e){super(t),super.copyFrom(e)}STRING(){return this.getToken(G.STRING,0)}enterRule(t){t instanceof be&&t.enterStringLiteral(this)}exitRule(t){t instanceof be&&t.exitStringLiteral(this)}};G.StringLiteralContext=mp;var fp=class extends Un{constructor(t,e){super(t),super.copyFrom(e)}enterRule(t){t instanceof be&&t.enterBooleanLiteral(this)}exitRule(t){t instanceof be&&t.exitBooleanLiteral(this)}};G.BooleanLiteralContext=fp;var pp=class extends Un{constructor(t,e){super(t),super.copyFrom(e)}NUMBER(){return this.getToken(G.NUMBER,0)}enterRule(t){t instanceof be&&t.enterNumberLiteral(this)}exitRule(t){t instanceof be&&t.exitNumberLiteral(this)}};G.NumberLiteralContext=pp;var gp=class extends Un{constructor(t,e){super(t),super.copyFrom(e)}quantity(){return this.getTypedRuleContext(cd,0)}enterRule(t){t instanceof be&&t.enterQuantityLiteral(this)}exitRule(t){t instanceof be&&t.exitQuantityLiteral(this)}};G.QuantityLiteralContext=gp;var ad=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_externalConstant}identifier(){return this.getTypedRuleContext(ws,0)}STRING(){return this.getToken(G.STRING,0)}enterRule(t){t instanceof be&&t.enterExternalConstant(this)}exitRule(t){t instanceof be&&t.exitExternalConstant(this)}},nr=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_invocation}copyFrom(t){super.copyFrom(t)}},_p=class extends nr{constructor(t,e){super(t),super.copyFrom(e)}enterRule(t){t instanceof be&&t.enterTotalInvocation(this)}exitRule(t){t instanceof be&&t.exitTotalInvocation(this)}};G.TotalInvocationContext=_p;var bp=class extends nr{constructor(t,e){super(t),super.copyFrom(e)}enterRule(t){t instanceof be&&t.enterThisInvocation(this)}exitRule(t){t instanceof be&&t.exitThisInvocation(this)}};G.ThisInvocationContext=bp;var vp=class extends nr{constructor(t,e){super(t),super.copyFrom(e)}enterRule(t){t instanceof be&&t.enterIndexInvocation(this)}exitRule(t){t instanceof be&&t.exitIndexInvocation(this)}};G.IndexInvocationContext=vp;var yp=class extends nr{constructor(t,e){super(t),super.copyFrom(e)}functn(){return this.getTypedRuleContext(od,0)}enterRule(t){t instanceof be&&t.enterFunctionInvocation(this)}exitRule(t){t instanceof be&&t.exitFunctionInvocation(this)}};G.FunctionInvocationContext=yp;var Cp=class extends nr{constructor(t,e){super(t),super.copyFrom(e)}identifier(){return this.getTypedRuleContext(ws,0)}enterRule(t){t instanceof be&&t.enterMemberInvocation(this)}exitRule(t){t instanceof be&&t.exitMemberInvocation(this)}};G.MemberInvocationContext=Cp;var od=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_functn}identifier(){return this.getTypedRuleContext(ws,0)}paramList(){return this.getTypedRuleContext(ld,0)}enterRule(t){t instanceof be&&t.enterFunctn(this)}exitRule(t){t instanceof be&&t.exitFunctn(this)}},ld=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_paramList}expression=function(t){return t===void 0&&(t=null),t===null?this.getTypedRuleContexts(Ue):this.getTypedRuleContext(Ue,t)};enterRule(t){t instanceof be&&t.enterParamList(this)}exitRule(t){t instanceof be&&t.exitParamList(this)}},cd=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_quantity}NUMBER(){return this.getToken(G.NUMBER,0)}unit(){return this.getTypedRuleContext(ud,0)}enterRule(t){t instanceof be&&t.enterQuantity(this)}exitRule(t){t instanceof be&&t.exitQuantity(this)}},ud=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_unit}dateTimePrecision(){return this.getTypedRuleContext(dd,0)}pluralDateTimePrecision(){return this.getTypedRuleContext(hd,0)}STRING(){return this.getToken(G.STRING,0)}enterRule(t){t instanceof be&&t.enterUnit(this)}exitRule(t){t instanceof be&&t.exitUnit(this)}},dd=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_dateTimePrecision}enterRule(t){t instanceof be&&t.enterDateTimePrecision(this)}exitRule(t){t instanceof be&&t.exitDateTimePrecision(this)}},hd=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_pluralDateTimePrecision}enterRule(t){t instanceof be&&t.enterPluralDateTimePrecision(this)}exitRule(t){t instanceof be&&t.exitPluralDateTimePrecision(this)}},md=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_typeSpecifier}qualifiedIdentifier(){return this.getTypedRuleContext(fd,0)}enterRule(t){t instanceof be&&t.enterTypeSpecifier(this)}exitRule(t){t instanceof be&&t.exitTypeSpecifier(this)}},fd=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_qualifiedIdentifier}identifier=function(t){return t===void 0&&(t=null),t===null?this.getTypedRuleContexts(ws):this.getTypedRuleContext(ws,t)};enterRule(t){t instanceof be&&t.enterQualifiedIdentifier(this)}exitRule(t){t instanceof be&&t.exitQualifiedIdentifier(this)}},ws=class extends Ve.ParserRuleContext{constructor(t,e,i){e===void 0&&(e=null),i==null&&(i=-1),super(e,i),this.parser=t,this.ruleIndex=G.RULE_identifier}IDENTIFIER(){return this.getToken(G.IDENTIFIER,0)}DELIMITEDIDENTIFIER(){return this.getToken(G.DELIMITEDIDENTIFIER,0)}enterRule(t){t instanceof be&&t.enterIdentifier(this)}exitRule(t){t instanceof be&&t.exitIdentifier(this)}};G.EntireExpressionContext=Wf;G.ExpressionContext=Ue;G.TermContext=Cs;G.LiteralContext=Un;G.ExternalConstantContext=ad;G.InvocationContext=nr;G.FunctnContext=od;G.ParamListContext=ld;G.QuantityContext=cd;G.UnitContext=ud;G.DateTimePrecisionContext=dd;G.PluralDateTimePrecisionContext=hd;G.TypeSpecifierContext=md;G.QualifiedIdentifierContext=fd;G.IdentifierContext=ws;wA.exports=G});var MA=Q((iue,kA)=>{var wp=sd(),f5=yA(),p5=xA(),SA=qy(),Ky=class extends wp.error.ErrorListener{constructor(t){super(),this.errors=t}syntaxError(t,e,i,r,s,a){this.errors.push([t,e,i,r,s,a])}},g5=function(n){var t=new wp.InputStream(n),e=new f5(t),i=new wp.CommonTokenStream(e),r=new p5(i);r.buildParseTrees=!0;var s=[],a=new Ky(s);e.removeErrorListeners(),e.addErrorListener(a),r.removeErrorListeners(),r.addErrorListener(a);var o=r.entireExpression();class l extends SA{constructor(){super()}}var c={},u,d=[c];for(let f of Object.getOwnPropertyNames(SA.prototype))f.startsWith("enter")?l.prototype[f]=function(p){let g=d[d.length-1];u={type:f.slice(5)},u.text=p.getText(),g.children||(g.children=[]),g.children.push(u),d.push(u),u.terminalNodeText=[];for(let w of p.children)w.symbol&&u.terminalNodeText.push(w.getText())}:f.startsWith("exit")&&(l.prototype[f]=function(){d.pop()});var h=new l;if(wp.tree.ParseTreeWalker.DEFAULT.walk(h,o),s.length>0){let f=[];for(let p=0,g=s.length;p<g;++p){let y=s[p],w="line: "+y[2]+"; column: "+y[3]+"; message: "+y[4];f.push(w)}var m=new Error(f.join(`
`));throw m.errors=s,m}return c};kA.exports={parse:g5}});var AA=Q((nue,EA)=>{var TA=6e4;EA.exports=function(t){var e=new Date(t.getTime()),i=e.getTimezoneOffset();e.setSeconds(0,0);var r=e.getTime()%TA;return i*TA+r}});var DA=Q((rue,IA)=>{function _5(n){return n instanceof Date}IA.exports=_5});var pd=Q((sue,LA)=>{var Yy=AA(),b5=DA(),Qy=36e5,Zy=6e4,v5=2,y5=/[T ]/,C5=/:/,w5=/^(\d{2})$/,x5=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],S5=/^(\d{4})/,k5=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],M5=/^-(\d{2})$/,T5=/^-?(\d{3})$/,E5=/^-?(\d{2})-?(\d{2})$/,A5=/^-?W(\d{2})$/,I5=/^-?W(\d{2})-?(\d{1})$/,D5=/^(\d{2}([.,]\d*)?)$/,R5=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,L5=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,O5=/([Z+-].*)$/,N5=/^(Z)$/,F5=/^([+-])(\d{2})$/,P5=/^([+-])(\d{2}):?(\d{2})$/;function U5(n,t){if(b5(n))return new Date(n.getTime());if(typeof n!="string")return new Date(n);var e=t||{},i=e.additionalDigits;i==null?i=v5:i=Number(i);var r=$5(n),s=V5(r.date,i),a=s.year,o=s.restDateString,l=B5(o,a);if(l){var c=l.getTime(),u=0,d;if(r.time&&(u=z5(r.time)),r.timezone)d=H5(r.timezone)*Zy;else{var h=c+u,m=new Date(h);d=Yy(m);var f=new Date(h);f.setDate(m.getDate()+1);var p=Yy(f)-Yy(m);p>0&&(d+=p)}return new Date(c+u+d)}else return new Date(n)}function $5(n){var t={},e=n.split(y5),i;if(C5.test(e[0])?(t.date=null,i=e[0]):(t.date=e[0],i=e[1]),i){var r=O5.exec(i);r?(t.time=i.replace(r[1],""),t.timezone=r[1]):t.time=i}return t}function V5(n,t){var e=x5[t],i=k5[t],r;if(r=S5.exec(n)||i.exec(n),r){var s=r[1];return{year:parseInt(s,10),restDateString:n.slice(s.length)}}if(r=w5.exec(n)||e.exec(n),r){var a=r[1];return{year:parseInt(a,10)*100,restDateString:n.slice(a.length)}}return{year:null}}function B5(n,t){if(t===null)return null;var e,i,r,s;if(n.length===0)return i=new Date(0),i.setUTCFullYear(t),i;if(e=M5.exec(n),e)return i=new Date(0),r=parseInt(e[1],10)-1,i.setUTCFullYear(t,r),i;if(e=T5.exec(n),e){i=new Date(0);var a=parseInt(e[1],10);return i.setUTCFullYear(t,0,a),i}if(e=E5.exec(n),e){i=new Date(0),r=parseInt(e[1],10)-1;var o=parseInt(e[2],10);return i.setUTCFullYear(t,r,o),i}if(e=A5.exec(n),e)return s=parseInt(e[1],10)-1,RA(t,s);if(e=I5.exec(n),e){s=parseInt(e[1],10)-1;var l=parseInt(e[2],10)-1;return RA(t,s,l)}return null}function z5(n){var t,e,i;if(t=D5.exec(n),t)return e=parseFloat(t[1].replace(",",".")),e%24*Qy;if(t=R5.exec(n),t)return e=parseInt(t[1],10),i=parseFloat(t[2].replace(",",".")),e%24*Qy+i*Zy;if(t=L5.exec(n),t){e=parseInt(t[1],10),i=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return e%24*Qy+i*Zy+r*1e3}return null}function H5(n){var t,e;return t=N5.exec(n),t?0:(t=F5.exec(n),t?(e=parseInt(t[2],10)*60,t[1]==="+"?-e:e):(t=P5.exec(n),t?(e=parseInt(t[2],10)*60+parseInt(t[3],10),t[1]==="+"?-e:e):0))}function RA(n,t,e){t=t||0,e=e||0;var i=new Date(0);i.setUTCFullYear(n,0,4);var r=i.getUTCDay()||7,s=t*7+e+1-r;return i.setUTCDate(i.getUTCDate()+s),i}LA.exports=U5});var gd=Q((aue,OA)=>{var j5=pd();function W5(n,t){var e=j5(n).getTime(),i=Number(t);return new Date(e+i)}OA.exports=W5});var Xy=Q((oue,NA)=>{var q5=gd(),G5=6e4;function K5(n,t){var e=Number(t);return q5(n,e*G5)}NA.exports=K5});var ua=Q(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.Ucum=void 0;var Y5={dimLen_:7,validOps_:[".","/"],codeSep_:": ",valMsgStart_:"Did you mean ",valMsgEnd_:"?",cnvMsgStart_:"We assumed you meant ",cnvMsgEnd_:".",openEmph_:" ->",closeEmph_:"<- ",openEmphHTML_:' <span class="emphSpan">',closeEmphHTML_:"</span> ",bracesMsg_:"FYI - annotations (text in curly braces {}) are ignored, except that an annotation without a leading symbol implies the default unit 1 (the unity).",needMoleWeightMsg_:"Did you wish to convert between mass and moles?  The molecular weight of the substance represented by the units is required to perform the conversion.",csvCols_:{"case-sensitive code":"csCode_","LOINC property":"loincProperty_","name (display)":"name_",synonyms:"synonyms_",source:"source_",category:"category_",Guidance:"guidance_"},inputKey_:"case-sensitive code",specUnits_:{"B[10.nV]":"specialUnitOne","[m/s2/Hz^(1/2)]":"specialUnitTwo"}};xp.Ucum=Y5});var FA=Q(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.Prefix=void 0;var cue=ua(),Jy=class{constructor(t){if(t.code_===void 0||t.code_===null||t.name_===void 0||t.name_===null||t.value_===void 0||t.value_===null||t.exp_===void 0)throw new Error("Prefix constructor called missing one or more parameters.  Prefix codes (cs or ci), name, value and exponent must all be specified and all but the exponent must not be null.");this.code_=t.code_,this.ciCode_=t.ciCode_,this.name_=t.name_,this.printSymbol_=t.printSymbol_,typeof t.value_=="string"?this.value_=parseFloat(t.value_):this.value_=t.value_,this.exp_=t.exp_}getValue(){return this.value_}getCode(){return this.code_}getCiCode(){return this.ciCode_}getName(){return this.name_}getPrintSymbol(){return this.printSymbol_}getExp(){return this.exp_}equals(t){return this.code_===t.code_&&this.ciCode_===t.ciCode_&&this.name_===t.name_&&this.printSymbol_===t.printSymbol_&&this.value_===t.value_&&this.exp_===t.exp_}};Sp.Prefix=Jy});var e1=Q(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.PrefixTables=ql.PrefixTablesFactory=void 0;var kp=class{constructor(){this.byCode_={},this.byValue_={}}prefixCount(){return Object.keys(this.byCode_).length}allPrefixesByValue(){let t="",e=Object.keys(this.byValue_),i=e.length;for(let r=0;r<i;r++){let s=this.getPrefixByValue(e[r]);t+=s.code_+","+s.name_+",,"+s.value_+`\r
`}return t}allPrefixesByCode(){let t=[],e=Object.keys(this.byCode_);e.sort();let i=e.length;for(let r=0;r<i;r++)t.push(this.getPrefixByCode(e[r]));return t}add(t){this.byCode_[t.getCode()]=t,this.byValue_[t.getValue()]=t}isDefined(t){return this.byCode_[t]!==null&&this.byCode_[t]!==void 0}getPrefixByCode(t){return this.byCode_[t]}getPrefixByValue(t){return this.byValue_[t]}};ql.PrefixTablesFactory=kp;var Q5=new kp,Z5={getInstance:function(){return Q5}};ql.PrefixTables=Z5});var PA=Q(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.default=void 0;var t1=class{constructor(){this.funcs={},this.funcs.cel={cnvTo:function(t){return t-273.15},cnvFrom:function(t){return t+273.15}},this.funcs.degf={cnvTo:function(t){return t-459.67},cnvFrom:function(t){return t+459.67}},this.funcs.degre={cnvTo:function(t){return t-273.15},cnvFrom:function(t){return t+273.15}},this.funcs.ph={cnvTo:function(t){return-Math.log(t)/Math.LN10},cnvFrom:function(t){return Math.pow(10,-t)}},this.funcs.ln={cnvTo:function(t){return Math.log(t)},cnvFrom:function(t){return Math.exp(t)}},this.funcs["2ln"]={cnvTo:function(t){return 2*Math.log(t)},cnvFrom:function(t){return Math.exp(t/2)}},this.funcs.lg={cnvTo:function(t){return Math.log(t)/Math.LN10},cnvFrom:function(t){return Math.pow(10,t)}},this.funcs["10lg"]={cnvTo:function(t){return 10*Math.log(t)/Math.LN10},cnvFrom:function(t){return Math.pow(10,t/10)}},this.funcs["20lg"]={cnvTo:function(t){return 20*Math.log(t)/Math.LN10},cnvFrom:function(t){return Math.pow(10,t/20)}},this.funcs["2lg"]={cnvTo:function(t){return 2*Math.log(t)/Math.LN10},cnvFrom:function(t){return Math.pow(10,t/2)}},this.funcs.lgtimes2=this.funcs["2lg"],this.funcs.ld={cnvTo:function(t){return Math.log(t)/Math.LN2},cnvFrom:function(t){return Math.pow(2,t)}},this.funcs["100tan"]={cnvTo:function(t){return Math.tan(t)*100},cnvFrom:function(t){return Math.atan(t/100)}},this.funcs.tanTimes100=this.funcs["100tan"],this.funcs.sqrt={cnvTo:function(t){return Math.sqrt(t)},cnvFrom:function(t){return t*t}},this.funcs.inv={cnvTo:function(t){return 1/t},cnvFrom:function(t){return 1/t}},this.funcs.hpX={cnvTo:function(t){return-this.funcs.lg(t)},cnvFrom:function(t){return Math.pow(10,-t)}},this.funcs.hpC={cnvTo:function(t){return-this.func.ln(t)/this.funcs.ln(100)},cnvFrom:function(t){return Math.pow(100,-t)}},this.funcs.hpM={cnvTo:function(t){return-this.funcs.ln(t)/this.funcs.ln(1e3)},cnvFrom:function(t){return Math.pow(1e3,-t)}},this.funcs.hpQ={cnvTo:function(t){return-this.funcs.ln(t)/this.funcs.ln(5e4)},cnvFrom:function(t){return Math.pow(5e4,-t)}}}forName(t){t=t.toLowerCase();let e=this.funcs[t];if(e===null)throw new Error(`Requested function ${t} is not defined`);return e}isDefined(t){return t=t.toLowerCase(),this.funcs[t]!==null}},X5=new t1;Mp.default=X5});var ao=Q(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.UnitTables=void 0;var Tp=ua().Ucum,i1=class{constructor(){this.unitNames_={},this.unitCodes_={},this.codeOrder_=[],this.unitStrings_={},this.unitDimensions_={},this.unitSynonyms_={},this.massDimIndex_=0,this.dimVecIndexToBaseUnit_={}}unitsCount(){return Object.keys(this.unitCodes_).length}addUnit(t){t.name_&&this.addUnitName(t),this.addUnitCode(t),this.addUnitString(t);try{t.dim_.getProperty("dimVec_")&&this.addUnitDimension(t)}catch{}if(t.isBase_){let i=t.dim_.dimVec_,r;for(let s=0,a=i.length;r==null&&s<a;++s)i[s]!=0&&(r=s);this.dimVecIndexToBaseUnit_[r]=t.csCode_}}addUnitName(t){let e=t.name_;if(e)this.unitNames_[e]?this.unitNames_[e].push(t):this.unitNames_[e]=[t];else throw new Error(`UnitTables.addUnitName called for a unit with no name.  Unit code = ${t.csCode_}.`)}addUnitCode(t){let e=t.csCode_;if(e){if(this.unitCodes_[e])throw new Error(`UnitTables.addUnitCode called, already contains entry for unit with code = ${e}`);if(this.unitCodes_[e]=t,this.codeOrder_.push(e),e=="g"){let i=t.dim_.dimVec_,r=0;for(;r<i.length&&i[r]<1;r++);this.massDimIndex_=r}}else throw new Error("UnitTables.addUnitCode called for unit that has no code.")}addUnitString(t){let e=null;if(Tp.caseSensitive_==!0?e=t.csUnitString_:e=t.ciUnitString_,e){let i={mag:t.baseFactorStr_,unit:t};this.unitStrings_[e]?this.unitStrings_[e].push(i):this.unitStrings_[e]=[i]}}addUnitDimension(t){let e=t.dim_.getProperty("dimVec_");if(e)this.unitDimensions_[e]?this.unitDimensions_[e].push(t):this.unitDimensions_[e]=[t];else throw new Error(`UnitTables.addUnitDimension called for a unit with no dimension.  Unit code = ${t.csCode_}.`)}buildUnitSynonyms(){for(let t in this.unitCodes_){let e=this.unitCodes_[t],i=e.synonyms_;if(i){let r=i.split(";");if(r[0]!==""){let s=r.length;for(let a=0;a<s;a++){let o=r[a].trim();this.addSynonymCodes(t,o)}}}this.addSynonymCodes(t,e.name_)}}addSynonymCodes(t,e){let i=e.split(" "),r=i.length;for(let s=0;s<r;s++){let a=i[s];this.unitSynonyms_[a]?this.unitSynonyms_[a].indexOf(t)===-1&&this.unitSynonyms_[a].push(t):this.unitSynonyms_[a]=[t]}}getUnitByCode(t){let e=null;return t&&(e=this.unitCodes_[t]),e}getUnitByName(t){if(t==null)throw new Error("Unable to find unit by name because no name was provided.");let e=t.indexOf(Tp.codeSep_),i=null;e>=1&&(i=t.substr(e+Tp.codeSep_.length),t=t.substr(0,e));let r=this.unitNames_[t];if(r){let s=r.length;if(i&&s>1){let a=0;for(;r[a].csCode_!==i&&a<s;a++);a<s?r=[r[a]]:r=null}}return r}getUnitByString(t){let e=null;return t&&(e=this.unitStrings_[t],e===void 0&&(e=null)),e}getUnitsByDimension(t){let e=null;if(t==null)throw new Error("Unable to find unit by because no dimension vector was provided.");return e=this.unitDimensions_[t],e==null&&console.log(`Unable to find unit with dimension = ${t}`),e}getUnitBySynonym(t){let e={},i=[];try{if(t==null)throw e.status="error",new Error("Unable to find unit by synonym because no synonym was provided.");Object.keys(this.unitSynonyms_).length===0&&this.buildUnitSynonyms();let r=[];if(r=this.unitSynonyms_[t],r){e.status="succeeded";let s=r.length;for(let a=0;a<s;a++)i.push(this.unitCodes_[r[a]]);e.units=i}i.length===0&&(e.status="failed",e.msg=`Unable to find any units with synonym = ${t}`)}catch(r){e.msg=r.message}return e}getAllUnitNames(){return Object.keys(this.unitNames_)}getUnitNamesList(){let t=[],e=Object.keys(this.unitCodes_);e.sort(this.compareCodes);let i=e.length;for(let r=0;r<i;r++)t[r]=e[r]+Tp.codeSep_+this.unitCodes_[e[r]].name_;return t}getMassDimensionIndex(){return this.massDimIndex_}compareCodes(t,e){return t=t.replace(/[\[\]]/g,""),t=t.toLowerCase(),e=e.replace(/[\[\]]/g,""),e=e.toLowerCase(),t<e?-1:1}getAllUnitCodes(){return Object.keys(this.unitCodes_)}allUnitsByDef(){let t=[],e=this.codeOrder_.length;for(let i=0;i<e;i++)t.push(this.getUnitByCode(this.codeOrder_[i]));return t}allUnitsByName(t,e){e==null&&(e="|");let i="",r=this.getAllUnitNames(),s=r.length,a=t.length;for(let o=0;o<s;o++){let l=this.getUnitByName(r[o]);for(let c=0;c<l.length;c++){let u=l[c];for(let d=0;d<a;d++)if(d>0&&(i+=e),t[d]==="dim_")u.dim_!==null&&u.dim_!==void 0&&u.dim_.dimVec_ instanceof Array?i+="["+u.dim_.dimVec_.join(",")+"]":i+="";else{let h=u[t[d]];typeof h=="string"?i+=h.replace(/[\n\r]/g," "):i+=h}i+=`\r
`}}return i}printUnits(t,e){t===void 0&&(t=!1),e===void 0&&(e="|");let i="",r=this.codeOrder_.length,s="csCode"+e;t&&(s+="ciCode"+e),s+="name"+e,t&&(s+="isBase"+e),s+="magnitude"+e+"dimension"+e+"from unit(s)"+e+"value"+e+"function"+e,t&&(s+="property"+e+"printSymbol"+e+"synonyms"+e+"source"+e+"class"+e+"isMetric"+e+"variable"+e+"isSpecial"+e+"isAbitrary"+e),s+="comment",i=s+`
`;for(let a=0;a<r;a++){let o=this.getUnitByCode(this.codeOrder_[a]);s=this.codeOrder_[a]+e,t&&(s+=o.getProperty("ciCode_")+e),s+=o.getProperty("name_")+e,t&&(o.getProperty("isBase_")?s+="true"+e:s+="false"+e),s+=o.getProperty("magnitude_")+e;let l=o.getProperty("dim_");l?s+=l.dimVec_+e:s+="null"+e,o.csUnitString_?s+=o.csUnitString_+e+o.baseFactor_+e:s+="null"+e+"null"+e,o.cnv_?s+=o.cnv_+e:s+="null"+e,t&&(s+=o.getProperty("property_")+e+o.getProperty("printSymbol_")+e+o.getProperty("synonyms_")+e+o.getProperty("source_")+e+o.getProperty("class_")+e+o.getProperty("isMetric_")+e+o.getProperty("variable_")+e+o.getProperty("isSpecial_")+e+o.getProperty("isArbitrary_")+e),o.defError_&&(s+="problem parsing this one, deferred to later."),i+=s+`
`}return i}},J5=new i1,eH={getInstance:function(){return J5}};Ep.UnitTables=eH});var Ap=Q(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.isNumericString=iH;_d.isIntegerUnit=nH;_d.getSynonyms=rH;var tH=ao().UnitTables;function iH(n){let t=""+n;return!isNaN(t)&&!isNaN(parseFloat(t))}function nH(n){return/^\d+$/.test(n)}function rH(n){let t={},e=tH.getInstance(),i={};if(i=e.getUnitBySynonym(n),!i.units)t.status=i.status,t.msg=i.msg;else{t.status="succeeded";let r=i.units.length;t.units=[];for(let s=0;s<r;s++){let a=i.units[s];t.units[s]={code:a.csCode_,name:a.name_,guidance:a.guidance_}}}return t}});var $A=Q((pue,UA)=>{"use strict";UA.exports=Number.isFinite||function(n){return!(typeof n!="number"||n!==n||n===1/0||n===-1/0)}});var n1=Q((gue,VA)=>{var sH=$A();VA.exports=Number.isInteger||function(n){return typeof n=="number"&&sH(n)&&Math.floor(n)===n}});var BA=Q(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.Dimension=void 0;var en=ua(),Ip=n1(),r1=class n{constructor(t){if(en.Ucum.dimLen_===0)throw new Error("Dimension.setDimensionLen must be called before Dimension constructor");if(t==null)this.assignZero();else if(t instanceof Array){if(t.length!==en.Ucum.dimLen_)throw new Error(`Parameter error, incorrect length of vector passed to Dimension constructor, vector = ${JSON.stringify(t)}`);this.dimVec_=[];for(let e=0;e<en.Ucum.dimLen_;e++)this.dimVec_.push(t[e])}else if(Ip(t)){if(t<0||t>=en.Ucum.dimLen_)throw new Error("Parameter error, invalid element number specified for Dimension constructor");this.assignZero(),this.dimVec_[t]=1}}setElementAt(t,e){if(!Ip(t)||t<0||t>=en.Ucum.dimLen_)throw new Error(`Dimension.setElementAt called with an invalid index position (${t})`);this.dimVec_||this.assignZero(),e==null&&(e=1),this.dimVec_[t]=e}getElementAt(t){if(!Ip(t)||t<0||t>=en.Ucum.dimLen_)throw new Error(`Dimension.getElementAt called with an invalid index position (${t})`);let e=null;return this.dimVec_&&(e=this.dimVec_[t]),e}getProperty(t){let e=t.charAt(t.length-1)==="_"?t:t+"_";return this[e]}toString(){let t=null;return this.dimVec_&&(t="["+this.dimVec_.join(", ")+"]"),t}add(t){if(!t instanceof n)throw new Error(`Dimension.add called with an invalid parameter - ${typeof t} instead of a Dimension object`);if(this.dimVec_&&t.dimVec_)for(let e=0;e<en.Ucum.dimLen_;e++)this.dimVec_[e]+=t.dimVec_[e];return this}sub(t){if(!t instanceof n)throw new Error(`Dimension.sub called with an invalid parameter - ${typeof t} instead of a Dimension object`);if(this.dimVec_&&t.dimVec_)for(let e=0;e<en.Ucum.dimLen_;e++)this.dimVec_[e]-=t.dimVec_[e];return this}minus(){if(this.dimVec_)for(let t=0;t<en.Ucum.dimLen_;t++)this.dimVec_[t]=-this.dimVec_[t];return this}mul(t){if(!Ip(t))throw new Error(`Dimension.sub called with an invalid parameter - ${typeof dim2} instead of a number`);if(this.dimVec_)for(let e=0;e<en.Ucum.dimLen_;e++)this.dimVec_[e]*=t;return this}equals(t){if(!t instanceof n)throw new Error(`Dimension.equals called with an invalid parameter - ${typeof t} instead of a Dimension object`);let e=!0,i=t.dimVec_;if(this.dimVec_&&i)for(let r=0;e&&r<en.Ucum.dimLen_;r++)e=this.dimVec_[r]===i[r];else e=this.dimVec_===null&&i===null;return e}assignDim(t){if(!t instanceof n)throw new Error(`Dimension.assignDim called with an invalid parameter - ${typeof t} instead of a Dimension object`);if(t.dimVec_===null)this.dimVec_=null;else{this.dimVec_===null&&(this.dimVec_=[]);for(let e=0;e<en.Ucum.dimLen_;e++)this.dimVec_[e]=t.dimVec_[e]}return this}assignZero(){(this.dimVec_===null||this.dimVec_===void 0)&&(this.dimVec_=[]);for(let t=0;t<en.Ucum.dimLen_;t++)this.dimVec_.push(0);return this}isZero(){let t=this.dimVec_!==null;if(this.dimVec_)for(let e=0;t&&e<en.Ucum.dimLen_;e++)t=this.dimVec_[e]===0;return t}isNull(){return this.dimVec_===null}clone(){let t=new n;return t.assignDim(this),t}};Dp.Dimension=r1});var l1=Q(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.Unit=void 0;var zA=lH(PA()),aH=oH(Ap());function HA(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return HA=function(){return n},n}function oH(n){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=HA();if(t&&t.has(n))return t.get(n);var e={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var s=i?Object.getOwnPropertyDescriptor(n,r):null;s&&(s.get||s.set)?Object.defineProperty(e,r,s):e[r]=n[r]}return e.default=n,t&&t.set(n,e),e}function lH(n){return n&&n.__esModule?n:{default:n}}var cH=ua().Ucum,xs=BA().Dimension,s1,a1=n1(),o1=class n{constructor(t={}){this.isBase_=t.isBase_||!1,this.name_=t.name_||"",this.csCode_=t.csCode_||"",this.ciCode_=t.ciCode_||"",this.property_=t.property_||"",this.magnitude_=t.magnitude_||1,t.dim_===void 0||t.dim_===null?this.dim_=new xs:t.dim_.dimVec_!==void 0?this.dim_=new xs(t.dim_.dimVec_):t.dim_ instanceof xs?this.dim_=t.dim_:t.dim_ instanceof Array||a1(t.dim_)?this.dim_=new xs(t.dim_):this.dim_=new xs,this.printSymbol_=t.printSymbol_||null,this.class_=t.class_||null,this.isMetric_=t.isMetric_||!1,this.variable_=t.variable_||null,this.cnv_=t.cnv_||null,this.cnvPfx_=t.cnvPfx_||1,this.isSpecial_=t.isSpecial_||!1,this.isArbitrary_=t.isArbitrary_||!1,this.moleExp_=t.moleExp_||0,this.synonyms_=t.synonyms_||null,this.source_=t.source_||null,this.loincProperty_=t.loincProperty_||null,this.category_=t.category_||null,this.guidance_=t.guidance_||null,this.csUnitString_=t.csUnitString_||null,this.ciUnitString_=t.ciUnitString_||null,this.baseFactorStr_=t.baseFactorStr_||null,this.baseFactor_=t.baseFactor_||null,this.defError_=t.defError_||!1}assignUnity(){return this.name_="",this.magnitude_=1,this.dim_||(this.dim_=new xs),this.dim_.assignZero(),this.cnv_=null,this.cnvPfx_=1,this}assignVals(t){for(let e in t){let i=!e.charAt(e.length-1)==="_"?e+"_":e;if(this.hasOwnProperty(i))this[i]=t[e];else throw new Error(`Parameter error; ${e} is not a property of a Unit`)}}clone(){let t=new n;return Object.getOwnPropertyNames(this).forEach(e=>{e==="dim_"?this.dim_?t.dim_=this.dim_.clone():t.dim_=null:t[e]=this[e]}),t}assign(t){Object.getOwnPropertyNames(t).forEach(e=>{e==="dim_"?t.dim_?this.dim_=t.dim_.clone():this.dim_=null:this[e]=t[e]})}equals(t){return this.magnitude_===t.magnitude_&&this.cnv_===t.cnv_&&this.cnvPfx_===t.cnvPfx_&&(this.dim_===null&&t.dim_===null||this.dim_.equals(t.dim_))}fullEquals(t){let e=Object.keys(this).sort(),i=Object.keys(t).sort(),r=e.length,s=r===i.length;for(let a=0;a<r&&s;a++)e[a]===i[a]?e[a]==="dim_"?s=this.dim_.equals(t.dim_):s=this[e[a]]===t[e[a]]:s=!1;return s}getProperty(t){let e=t.charAt(t.length-1)==="_"?t:t+"_";return this[e]}convertFrom(t,e){let i=0;if(this.isArbitrary_)throw new Error(`Attempt to convert to arbitrary unit "${this.csCode_}"`);if(e.isArbitrary_)throw new Error(`Attempt to convert arbitrary unit "${e.csCode_}"`);if(e.dim_&&this.dim_&&!e.dim_.equals(this.dim_))throw this.isMoleMassCommensurable(e)?new Error(cH.needMoleWeightMsg_):new Error(`Sorry.  ${e.csCode_} cannot be converted to ${this.csCode_}.`);if(e.dim_&&(!this.dim_||this.dim_.isNull()))throw new Error(`Sorry.  ${e.csCode_} cannot be converted to ${this.csCode_}.`);if(this.dim_&&(!e.dim_||e.dim_.isNull()))throw new Error(`Sorry.  ${e.csCode_} cannot be converted to ${this.csCode_}.`);let r=e.cnv_,s=e.magnitude_,a;return r!=null?a=zA.default.forName(r).cnvFrom(t*e.cnvPfx_)*s:a=t*s,this.cnv_!=null?i=zA.default.forName(this.cnv_).cnvTo(a/this.magnitude_)/this.cnvPfx_:i=a/this.magnitude_,i}convertTo(t,e){return e.convertFrom(t,this)}convertCoherent(t){return this.cnv_!==null&&(t=this.cnv_.f_from(t/this.cnvPfx_)*this.magnitude_),t}mutateCoherent(t){t=this.convertCoherent(t),this.magnitude_=1,this.cnv_=null,this.cnvPfx_=1,this.name_="";for(let e=0,i=xs.getMax();e<i;e++){let r=this.dim_.getElementAt(e),a=this._getUnitTables().getUnitsByDimension(new xs(e));if(a==null)throw new Error(`Can't find base unit for dimension ${e}`);this.name_=a.name+r}return t}convertMassToMol(t,e,i){let r=this.magnitude_*t/i,a=this._getUnitTables().getUnitByCode("mol").magnitude_,o=e.magnitude_/a;return r/o}convertMolToMass(t,e,i){let s=this._getUnitTables().getUnitByCode("mol").magnitude_;return this.magnitude_/s*t*i/e.magnitude_}mutateRatio(t){return this.cnv_==null?this.mutateCoherent(t):t}multiplyThis(t){let e=this.clone();e.cnv_!=null?e.cnvPfx_*=t:e.magnitude_*=t;let i=t.toString();return e.name_=this._concatStrs(i,"*",this.name_,"[","]"),e.csCode_=this._concatStrs(i,".",this.csCode_,"(",")"),e.ciCode_=this._concatStrs(i,".",this.ciCode_,"(",")"),e.printSymbol_=this._concatStrs(i,".",this.printSymbol_,"(",")"),e}multiplyThese(t){var e=this.clone();if(e.cnv_!=null)if(t.cnv_==null&&(!t.dim_||t.dim_.isZero()))e.cnvPfx_*=t.magnitude_;else throw new Error(`Attempt to multiply non-ratio unit ${e.name_} failed.`);else if(t.cnv_!=null)if(!e.dim_||e.dim_.isZero())e.cnvPfx_=t.cnvPfx_*e.magnitude_,e.magnitude_=t.magnitude_,e.cnv_=t.cnv_;else throw new Error(`Attempt to multiply non-ratio unit ${t.name_}`);else e.magnitude_*=t.magnitude_;return!e.dim_||e.dim_&&!e.dim_.dimVec_?t.dim_?e.dim_=t.dim_.clone():e.dim_=t.dim_:t.dim_&&t.dim_ instanceof xs&&e.dim_.add(t.dim_),e.name_=this._concatStrs(e.name_,"*",t.name_,"[","]"),e.csCode_=this._concatStrs(e.csCode_,".",t.csCode_,"(",")"),e.ciCode_&&t.ciCode_?e.ciCode_=this._concatStrs(e.ciCode_,".",t.ciCode_,"(",")"):t.ciCode_&&(e.ciCode_=t.ciCode_),e.resetFieldsForDerivedUnit(),e.printSymbol_&&t.printSymbol_?e.printSymbol_=this._concatStrs(e.printSymbol_,".",t.printSymbol_,"(",")"):t.printSymbol_&&(e.printSymbol_=t.printSymbol_),e.moleExp_=e.moleExp_+t.moleExp_,e.isArbitrary_||(e.isArbitrary_=t.isArbitrary_),e.isSpecial_||(e.isSpecial_=t.isSpecial_),e}resetFieldsForDerivedUnit(){this.guidance_="",this.synonyms_=null,this.isBase_=!1}divide(t){var e=this.clone();if(e.cnv_!=null)throw new Error(`Attempt to divide non-ratio unit ${e.name_}`);if(t.cnv_!=null)throw new Error(`Attempt to divide by non-ratio unit ${t.name_}`);return e.name_&&t.name_?e.name_=this._concatStrs(e.name_,"/",t.name_,"[","]"):t.name_&&(e.name_=t.invertString(t.name_)),e.csCode_=this._concatStrs(e.csCode_,"/",t.csCode_,"(",")"),e.ciCode_&&t.ciCode_?e.ciCode_=this._concatStrs(e.ciCode_,"/",t.ciCode_,"(",")"):t.ciCode_&&(e.ciCode_=t.invertString(t.ciCode_)),e.resetFieldsForDerivedUnit(),e.magnitude_/=t.magnitude_,e.printSymbol_&&t.printSymbol_?e.printSymbol_=this._concatStrs(e.printSymbol_,"/",t.printSymbol_,"(",")"):t.printSymbol_&&(e.printSymbol_=t.invertString(t.printSymbol_)),t.dim_&&(e.dim_?(e.dim_.isNull()&&e.dim_.assignZero(),e.dim_=e.dim_.sub(t.dim_)):e.dim_=t.dim_.clone().minus()),e.moleExp_=e.moleExp_-t.moleExp_,e.isArbitrary_||(e.isArbitrary_=t.isArbitrary_),e}invert(){if(this.cnv_!=null)throw new Error(`Attempt to invert a non-ratio unit - ${this.name_}`);return this.name_=this.invertString(this.name_),this.magnitude_=1/this.magnitude_,this.dim_.minus(),this}invertString(t){if(t.length>0){let e=t.replace("/","!").replace(".","/").replace("<!","</").replace("!",".");switch(e.charAt(0)){case".":t=e.substr(1);break;case"/":t=e;break;default:t="/"+e}}return t}_concatStrs(t,e,i,r,s){return this._buildOneString(t,r,s)+e+this._buildOneString(i,r,s)}_buildOneString(t,e,i){let r="";return aH.isNumericString(t)||t.charAt(0)==="("&&t.endsWith(")")||t.charAt(0)==="["&&t.endsWith("]")?r=t:/[./* ]/.test(t)?r=e+t+i:r=t,r}power(t){if(this.cnv_!=null)throw new Error(`Attempt to raise a non-ratio unit, ${this.name_}, to a power.`);let i=this.csCode_.match(/([./]|[^./]+)/g),r=i.length;for(let s=0;s<r;s++){let a=i[s];if(a!=="/"&&a!=="."){let o=parseInt(a);if(a1(o))i[s]=Math.pow(o,t).toString();else{let l=a.length;for(let c=l-1;c>=0;c--){let u=parseInt(a[c]);if(!a1(u)){if((a[c]==="-"||a[c]==="+")&&c--,c<l-1){let d=parseInt(a.substr(c));d=Math.pow(d,t),i[s]=a.substr(0,c)+d.toString(),c=-1}else i[s]+=t.toString(),c=-1;c=-1}}}}}return this.csCode_=i.join(""),this.magnitude_=Math.pow(this.magnitude_,t),this.dim_&&this.dim_.mul(t),this}isMoleMassCommensurable(t){let i=this._getUnitTables().getMassDimensionIndex(),r=!1;if(this.moleExp_===1&&t.moleExp_===0){let s=this.dim_.clone(),a=s.getElementAt(i);s.setElementAt(i,a+this.moleExp_),r=s.equals(t.dim_)}else if(t.moleExp_===1&&this.moleExp_===0){let s=t.dim_.clone(),a=s.getElementAt(i);s.setElementAt(i,a+t.moleExp_),r=s.equals(this.dim_)}return r}_getUnitTables(){return s1||(s1=ao().UnitTables),s1.getInstance()}};Rp.Unit=o1});var jA=Q(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.packArray=fH;Lp.unpackArray=pH;var uH=Array.prototype.push;function dH(n){return Object.prototype.toString.call(n)==="[object Object]"}function c1(n){return Object.keys(n).reduce((t,e)=>(dH(n[e])?uH.apply(t,c1(n[e]).map(i=>[e,...[].concat(i)])):t.push(e),t),[])}function u1(n){return n.map(t=>Array.isArray(t)?t:[t])}function hH(n,t){if(n.join()!==u1(c1(t)).join())throw new Error("Object of unusual structure");return n.map(e=>{let i=t;return e.forEach(r=>{if(i=i[r],i===void 0)throw new Error("Object of unusual structure")}),i})}function mH(n,t){let e={};return n.forEach((i,r)=>{let s=e;for(let a=0;a<i.length-1;a++)s=s[i[a]]=s[i[a]]||{};s[i[i.length-1]]=t[r]}),e}function fH(n){if(n&&n.length){let t=c1(n[0]),e=u1(t);if(t.length)return{config:t,data:n.map(hH.bind(null,e))}}return{config:[],data:n}}function pH(n){let t=n&&n.config;if(t)if(t.length&&n.data){let e=u1(t);return n.data.map(mH.bind(null,e))}else return n.data;return n}});var WA=Q((yue,gH)=>{gH.exports={license:"The following data (prefixes and units) was generated by the UCUM LHC code from the UCUM data and selected LOINC combinations of UCUM units.  The license for the UCUM LHC code (demo and library code as well as the combined units) is located at https://github.com/lhncbc/ucum-lhc/blob/LICENSE.md.",prefixes:{config:["code_","ciCode_","name_","printSymbol_","value_","exp_"],data:[["E","EX","exa","E",1e18,"18"],["G","GA","giga","G",1e9,"9"],["Gi","GIB","gibi","Gi",1073741824,null],["Ki","KIB","kibi","Ki",1024,null],["M","MA","mega","M",1e6,"6"],["Mi","MIB","mebi","Mi",1048576,null],["P","PT","peta","P",1e15,"15"],["T","TR","tera","T",1e12,"12"],["Ti","TIB","tebi","Ti",1099511627776,null],["Y","YA","yotta","Y",1e24,"24"],["Z","ZA","zetta","Z",1e21,"21"],["a","A","atto","a",1e-18,"-18"],["c","C","centi","c",.01,"-2"],["d","D","deci","d",.1,"-1"],["da","DA","deka","da",10,"1"],["f","F","femto","f",1e-15,"-15"],["h","H","hecto","h",100,"2"],["k","K","kilo","k",1e3,"3"],["m","M","milli","m",.001,"-3"],["n","N","nano","n",1e-9,"-9"],["p","P","pico","p",1e-12,"-12"],["u","U","micro","\u03BC",1e-6,"-6"],["y","YO","yocto","y",1e-24,"-24"],["z","ZO","zepto","z",1e-21,"-21"]]},units:{config:["isBase_","name_","csCode_","ciCode_","property_","magnitude_",["dim_","dimVec_"],"printSymbol_","class_","isMetric_","variable_","cnv_","cnvPfx_","isSpecial_","isArbitrary_","moleExp_","synonyms_","source_","loincProperty_","category_","guidance_","csUnitString_","ciUnitString_","baseFactorStr_","baseFactor_","defError_"],data:[[!0,"meter","m","M","length",1,[1,0,0,0,0,0,0],"m",null,!1,"L",null,1,!1,!1,0,"meters; metres; distance","UCUM","Len","Clinical","unit of length = 1.09361 yards",null,null,null,null,!1],[!0,"second - time","s","S","time",1,[0,1,0,0,0,0,0],"s",null,!1,"T",null,1,!1,!1,0,"seconds","UCUM","Time","Clinical","",null,null,null,null,!1],[!0,"gram","g","G","mass",1,[0,0,1,0,0,0,0],"g",null,!1,"M",null,1,!1,!1,0,"grams; gm","UCUM","Mass","Clinical","",null,null,null,null,!1],[!0,"radian","rad","RAD","plane angle",1,[0,0,0,1,0,0,0],"rad",null,!1,"A",null,1,!1,!1,0,"radians","UCUM","Angle","Clinical","unit of angular measure where 1 radian = 1/2\u03C0 turn =  57.296 degrees. ",null,null,null,null,!1],[!0,"degree Kelvin","K","K","temperature",1,[0,0,0,0,1,0,0],"K",null,!1,"C",null,1,!1,!1,0,"Kelvin; degrees","UCUM","Temp","Clinical","absolute, thermodynamic temperature scale ",null,null,null,null,!1],[!0,"coulomb","C","C","electric charge",1,[0,0,0,0,0,1,0],"C",null,!1,"Q",null,1,!1,!1,0,"coulombs","UCUM","","Clinical","defined as amount of 1 electron charge = 6.2415093\xD710^18 e, and equivalent to 1 Ampere-second",null,null,null,null,!1],[!0,"candela","cd","CD","luminous intensity",1,[0,0,0,0,0,0,1],"cd",null,!1,"F",null,1,!1,!1,0,"candelas","UCUM","","Clinical","SI base unit of luminous intensity",null,null,null,null,!1],[!1,"the number ten for arbitrary powers","10*","10*","number",10,[0,0,0,0,0,0,0],"10","dimless",!1,null,null,1,!1,!1,0,"10^; 10 to the arbitrary powers","UCUM","Num","Clinical","10* by itself is the same as 10, but users can add digits after the *. For example, 10*3 = 1000.","1","1","10",10,!1],[!1,"the number ten for arbitrary powers","10^","10^","number",10,[0,0,0,0,0,0,0],"10","dimless",!1,null,null,1,!1,!1,0,"10*; 10 to the arbitrary power","UCUM","Num","Clinical","10* by itself is the same as 10, but users can add digits after the *. For example, 10*3 = 1000.","1","1","10",10,!1],[!1,"the number pi","[pi]","[PI]","number",3.141592653589793,[0,0,0,0,0,0,0],"\u03C0","dimless",!1,null,null,1,!1,!1,0,"\u03C0","UCUM","","Constant","a mathematical constant; the ratio of a circle's circumference to its diameter \u2248 3.14159","1","1","3.1415926535897932384626433832795028841971693993751058209749445923",3.141592653589793,!1],[!1,"","%","%","fraction",.01,[0,0,0,0,0,0,0],"%","dimless",!1,null,null,1,!1,!1,0,"percents","UCUM","FR; NFR; MFR; CFR; SFR Rto; etc. ","Clinical","","10*-2","10*-2","1",1,!1],[!1,"parts per thousand","[ppth]","[PPTH]","fraction",.001,[0,0,0,0,0,0,0],"ppth","dimless",!1,null,null,1,!1,!1,0,"ppth; 10^-3","UCUM","MCnc; MCnt","Clinical",`[ppth] is often used in solution concentrations as 1 g/L or 1 g/kg.

Can be ambigous and would be better if the metric units was used directly. `,"10*-3","10*-3","1",1,!1],[!1,"parts per million","[ppm]","[PPM]","fraction",1e-6,[0,0,0,0,0,0,0],"ppm","dimless",!1,null,null,1,!1,!1,0,"ppm; 10^-6","UCUM","MCnt; MCnc; SFr","Clinical",`[ppm] is often used in solution concentrations as 1 mg/L  or 1 mg/kg. Also used to express mole fractions as 1 mmol/mol.

[ppm] is also used in nuclear magnetic resonance (NMR) to represent chemical shift - the difference of a measured frequency in parts per million from the reference frequency.

Can be ambigous and would be better if the metric units was used directly. `,"10*-6","10*-6","1",1,!1],[!1,"parts per billion","[ppb]","[PPB]","fraction",1e-9,[0,0,0,0,0,0,0],"ppb","dimless",!1,null,null,1,!1,!1,0,"ppb; 10^-9","UCUM","MCnt; MCnc; SFr","Clinical",`[ppb] is often used in solution concentrations as 1 ug/L  or 1 ug/kg. Also used to express mole fractions as 1 umol/mol.

Can be ambigous and would be better if the metric units was used directly. `,"10*-9","10*-9","1",1,!1],[!1,"parts per trillion","[pptr]","[PPTR]","fraction",1e-12,[0,0,0,0,0,0,0],"pptr","dimless",!1,null,null,1,!1,!1,0,"pptr; 10^-12","UCUM","MCnt; MCnc; SFr","Clinical",`[pptr] is often used in solution concentrations as 1 ng/L or 1 ng/kg. Also used to express mole fractions as 1 nmol/mol.

Can be ambigous and would be better if the metric units was used directly. `,"10*-12","10*-12","1",1,!1],[!1,"mole","mol","MOL","amount of substance",60221367e16,[0,0,0,0,0,0,0],"mol","si",!0,null,null,1,!1,!1,1,"moles","UCUM","Sub","Clinical","Measure the number of molecules ","10*23","10*23","6.0221367",6.0221367,!1],[!1,"steradian - solid angle","sr","SR","solid angle",1,[0,0,0,2,0,0,0],"sr","si",!0,null,null,1,!1,!1,0,"square radian; rad2; rad^2","UCUM","Angle","Clinical","unit of solid angle in three-dimensional geometry analagous to radian; used in photometry which measures the perceived brightness of object by human eye (e.g. radiant intensity = watt/steradian)","rad2","RAD2","1",1,!1],[!1,"hertz","Hz","HZ","frequency",1,[0,-1,0,0,0,0,0],"Hz","si",!0,null,null,1,!1,!1,0,"Herz; frequency; frequencies","UCUM","Freq; Num","Clinical","equal to one cycle per second","s-1","S-1","1",1,!1],[!1,"newton","N","N","force",1e3,[1,-2,1,0,0,0,0],"N","si",!0,null,null,1,!1,!1,0,"Newtons","UCUM","Force","Clinical","unit of force with base units kg.m/s2","kg.m/s2","KG.M/S2","1",1,!1],[!1,"pascal","Pa","PAL","pressure",1e3,[-1,-2,1,0,0,0,0],"Pa","si",!0,null,null,1,!1,!1,0,"pascals","UCUM","Pres","Clinical","standard unit of pressure equal to 1 newton per square meter (N/m2)","N/m2","N/M2","1",1,!1],[!1,"joule","J","J","energy",1e3,[2,-2,1,0,0,0,0],"J","si",!0,null,null,1,!1,!1,0,"joules","UCUM","Enrg","Clinical","unit of energy defined as the work required to move an object 1 m with a force of 1 N (N.m) or an electric charge of 1 C through 1 V (C.V), or to produce 1 W for 1 s (W.s) ","N.m","N.M","1",1,!1],[!1,"watt","W","W","power",1e3,[2,-3,1,0,0,0,0],"W","si",!0,null,null,1,!1,!1,0,"watts","UCUM","EngRat","Clinical","unit of power equal to 1 Joule per second (J/s) =  kg\u22C5m2\u22C5s\u22123","J/s","J/S","1",1,!1],[!1,"Ampere","A","A","electric current",1,[0,-1,0,0,0,1,0],"A","si",!0,null,null,1,!1,!1,0,"Amperes","UCUM","ElpotRat","Clinical","unit of electric current equal to flow rate of electrons equal to 6.2415\xD710^18 elementary charges moving past a boundary in one second or 1 Coulomb/second","C/s","C/S","1",1,!1],[!1,"volt","V","V","electric potential",1e3,[2,-2,1,0,0,-1,0],"V","si",!0,null,null,1,!1,!1,0,"volts","UCUM","Elpot","Clinical","unit of electric potential (voltage) = 1 Joule per Coulomb (J/C)","J/C","J/C","1",1,!1],[!1,"farad","F","F","electric capacitance",.001,[-2,2,-1,0,0,2,0],"F","si",!0,null,null,1,!1,!1,0,"farads; electric capacitance","UCUM","","Clinical","CGS unit of electric capacitance with base units C/V (Coulomb per Volt)","C/V","C/V","1",1,!1],[!1,"ohm","Ohm","OHM","electric resistance",1e3,[2,-1,1,0,0,-2,0],"\u03A9","si",!0,null,null,1,!1,!1,0,"\u03A9; resistance; ohms","UCUM","","Clinical","unit of electrical resistance with units of Volt per Ampere","V/A","V/A","1",1,!1],[!1,"siemens","S","SIE","electric conductance",.001,[-2,1,-1,0,0,2,0],"S","si",!0,null,null,1,!1,!1,0,"Reciprocal ohm; mho; \u03A9\u22121; conductance","UCUM","","Clinical","unit of electric conductance (the inverse of electrical resistance) equal to ohm^-1","Ohm-1","OHM-1","1",1,!1],[!1,"weber","Wb","WB","magnetic flux",1e3,[2,-1,1,0,0,-1,0],"Wb","si",!0,null,null,1,!1,!1,0,"magnetic flux; webers","UCUM","","Clinical","unit of magnetic flux equal to Volt second","V.s","V.S","1",1,!1],[!1,"degree Celsius","Cel","CEL","temperature",1,[0,0,0,0,1,0,0],"\xB0C","si",!0,null,"Cel",1,!0,!1,0,"\xB0C; degrees","UCUM","Temp","Clinical","","K",null,null,1,!1],[!1,"tesla","T","T","magnetic flux density",1e3,[0,-1,1,0,0,-1,0],"T","si",!0,null,null,1,!1,!1,0,"Teslas; magnetic field","UCUM","","Clinical","SI unit of magnetic field strength for magnetic field B equal to 1 Weber/square meter =  1 kg/(s2*A)","Wb/m2","WB/M2","1",1,!1],[!1,"henry","H","H","inductance",1e3,[2,0,1,0,0,-2,0],"H","si",!0,null,null,1,!1,!1,0,"henries; inductance","UCUM","","Clinical","unit of electrical inductance; usually expressed in millihenrys (mH) or microhenrys (uH).","Wb/A","WB/A","1",1,!1],[!1,"lumen","lm","LM","luminous flux",1,[0,0,0,2,0,0,1],"lm","si",!0,null,null,1,!1,!1,0,"luminous flux; lumens","UCUM","","Clinical","unit of luminous flux defined as 1 lm = 1 cd\u22C5sr (candela times sphere)","cd.sr","CD.SR","1",1,!1],[!1,"lux","lx","LX","illuminance",1,[-2,0,0,2,0,0,1],"lx","si",!0,null,null,1,!1,!1,0,"illuminance; luxes","UCUM","","Clinical","unit of illuminance equal to one lumen per square meter. ","lm/m2","LM/M2","1",1,!1],[!1,"becquerel","Bq","BQ","radioactivity",1,[0,-1,0,0,0,0,0],"Bq","si",!0,null,null,1,!1,!1,0,"activity; radiation; becquerels","UCUM","","Clinical","measure of the atomic radiation rate with units s^-1","s-1","S-1","1",1,!1],[!1,"gray","Gy","GY","energy dose",1,[2,-2,0,0,0,0,0],"Gy","si",!0,null,null,1,!1,!1,0,"absorbed doses; ionizing radiation doses; kerma; grays","UCUM","EngCnt","Clinical","unit of ionizing radiation dose with base units of 1 joule of radiation energy per kilogram of matter","J/kg","J/KG","1",1,!1],[!1,"sievert","Sv","SV","dose equivalent",1,[2,-2,0,0,0,0,0],"Sv","si",!0,null,null,1,!1,!1,0,"sieverts; radiation dose quantities; equivalent doses; effective dose; operational dose; committed dose","UCUM","","Clinical","SI unit for radiation dose equivalent equal to 1 Joule/kilogram.","J/kg","J/KG","1",1,!1],[!1,"degree - plane angle","deg","DEG","plane angle",.017453292519943295,[0,0,0,1,0,0,0],"\xB0","iso1000",!1,null,null,1,!1,!1,0,"\xB0; degree of arc; arc degree; arcdegree; angle","UCUM","Angle","Clinical","one degree is equivalent to \u03C0/180 radians.","[pi].rad/360","[PI].RAD/360","2",2,!1],[!1,"gon","gon","GON","plane angle",.015707963267948967,[0,0,0,1,0,0,0],"\u25A1<sup>g</sup>","iso1000",!1,null,null,1,!1,!1,0,"gon (grade); gons","UCUM","Angle","Nonclinical","unit of plane angle measurement equal to 1/400 circle","deg","DEG","0.9",.9,!1],[!1,"arc minute","'","'","plane angle",.0002908882086657216,[0,0,0,1,0,0,0],"'","iso1000",!1,null,null,1,!1,!1,0,"arcminutes; arcmin; arc minutes; arc mins","UCUM","Angle","Clinical","equal to 1/60 degree; used in optometry and opthamology (e.g. visual acuity tests)","deg/60","DEG/60","1",1,!1],[!1,"arc second","''","''","plane angle",484813681109536e-20,[0,0,0,1,0,0,0],"''","iso1000",!1,null,null,1,!1,!1,0,"arcseconds; arcsecs","UCUM","Angle","Clinical","equal to 1/60 arcminute = 1/3600 degree; used in optometry and opthamology (e.g. visual acuity tests)","'/60","'/60","1",1,!1],[!1,"Liters","l","L","volume",.001,[3,0,0,0,0,0,0],"l","iso1000",!0,null,null,1,!1,!1,0,"cubic decimeters; decimeters cubed; decimetres; dm3; dm^3; litres; liters, LT ","UCUM","Vol","Clinical",'Because lower case "l" can be read as the number "1", though this is a valid UCUM units. UCUM strongly reccomends using  "L"',"dm3","DM3","1",1,!1],[!1,"Liters","L","L","volume",.001,[3,0,0,0,0,0,0],"L","iso1000",!0,null,null,1,!1,!1,0,"cubic decimeters; decimeters cubed; decimetres; dm3; dm^3; litres; liters, LT ","UCUM","Vol","Clinical",'Because lower case "l" can be read as the number "1", though this is a valid UCUM units. UCUM strongly reccomends using  "L"',"l",null,"1",1,!1],[!1,"are","ar","AR","area",100,[2,0,0,0,0,0,0],"a","iso1000",!0,null,null,1,!1,!1,0,"100 m2; 100 m^2; 100 square meter; meters squared; metres","UCUM","Area","Clinical","metric base unit for area defined as 100 m^2","m2","M2","100",100,!1],[!1,"minute","min","MIN","time",60,[0,1,0,0,0,0,0],"min","iso1000",!1,null,null,1,!1,!1,0,"minutes","UCUM","Time","Clinical","","s","S","60",60,!1],[!1,"hour","h","HR","time",3600,[0,1,0,0,0,0,0],"h","iso1000",!1,null,null,1,!1,!1,0,"hours; hrs; age","UCUM","Time","Clinical","","min","MIN","60",60,!1],[!1,"day","d","D","time",86400,[0,1,0,0,0,0,0],"d","iso1000",!1,null,null,1,!1,!1,0,"days; age; dy; 24 hours; 24 hrs","UCUM","Time","Clinical","","h","HR","24",24,!1],[!1,"tropical year","a_t","ANN_T","time",31556925216e-3,[0,1,0,0,0,0,0],"a<sub>t</sub>","iso1000",!1,null,null,1,!1,!1,0,"solar years; a tropical; years","UCUM","Time","Clinical","has an average of 365.242181 days but is constantly changing.","d","D","365.24219",365.24219,!1],[!1,"mean Julian year","a_j","ANN_J","time",31557600,[0,1,0,0,0,0,0],"a<sub>j</sub>","iso1000",!1,null,null,1,!1,!1,0,"mean Julian yr; a julian; years","UCUM","Time","Clinical","has an average of 365.25 days, and in everyday use, has been replaced by the Gregorian year. However, this unit is used in astronomy to calculate light year. ","d","D","365.25",365.25,!1],[!1,"mean Gregorian year","a_g","ANN_G","time",31556952,[0,1,0,0,0,0,0],"a<sub>g</sub>","iso1000",!1,null,null,1,!1,!1,0,"mean Gregorian yr; a gregorian; years","UCUM","Time","Clinical","has an average of 365.2425 days and is the most internationally used civil calendar.","d","D","365.2425",365.2425,!1],[!1,"year","a","ANN","time",31557600,[0,1,0,0,0,0,0],"a","iso1000",!1,null,null,1,!1,!1,0,"years; a; yr, yrs; annum","UCUM","Time","Clinical","","a_j","ANN_J","1",1,!1],[!1,"week","wk","WK","time",604800,[0,1,0,0,0,0,0],"wk","iso1000",!1,null,null,1,!1,!1,0,"weeks; wks","UCUM","Time","Clinical","","d","D","7",7,!1],[!1,"synodal month","mo_s","MO_S","time",2551442976e-3,[0,1,0,0,0,0,0],"mo<sub>s</sub>","iso1000",!1,null,null,1,!1,!1,0,"Moon; synodic month; lunar month; mo-s; mo s; months; moons","UCUM","Time","Nonclinical","has an average of 29.53 days per month, unit used in astronomy","d","D","29.53059",29.53059,!1],[!1,"mean Julian month","mo_j","MO_J","time",2629800,[0,1,0,0,0,0,0],"mo<sub>j</sub>","iso1000",!1,null,null,1,!1,!1,0,"mo-julian; mo Julian; months","UCUM","Time","Clinical","has an average of 30.435 days per month","a_j/12","ANN_J/12","1",1,!1],[!1,"mean Gregorian month","mo_g","MO_G","time",2629746,[0,1,0,0,0,0,0],"mo<sub>g</sub>","iso1000",!1,null,null,1,!1,!1,0,"months; month-gregorian; mo-gregorian","UCUM","Time","Clinical","has an average 30.436875 days per month and is from the most internationally used civil calendar.","a_g/12","ANN_G/12","1",1,!1],[!1,"month","mo","MO","time",2629800,[0,1,0,0,0,0,0],"mo","iso1000",!1,null,null,1,!1,!1,0,"months; duration","UCUM","Time","Clinical","based on Julian calendar which has an average of 30.435 days per month (this unit is used in astronomy but not in everyday life - see mo_g)","mo_j","MO_J","1",1,!1],[!1,"metric ton","t","TNE","mass",1e6,[0,0,1,0,0,0,0],"t","iso1000",!0,null,null,1,!1,!1,0,"tonnes; megagrams; tons","UCUM","Mass","Nonclinical","equal to 1000 kg used in the US (recognized by NIST as metric ton), and internationally (recognized as tonne)","kg","KG","1e3",1e3,!1],[!1,"bar","bar","BAR","pressure",1e8,[-1,-2,1,0,0,0,0],"bar","iso1000",!0,null,null,1,!1,!1,0,"bars","UCUM","Pres","Nonclinical","unit of pressure equal to 10^5 Pascals, primarily used by meteorologists and in weather forecasting","Pa","PAL","1e5",1e5,!1],[!1,"unified atomic mass unit","u","AMU","mass",16605402e-31,[0,0,1,0,0,0,0],"u","iso1000",!0,null,null,1,!1,!1,0,"unified atomic mass units; amu; Dalton; Da","UCUM","Mass","Clinical","the mass of 1/12 of an unbound Carbon-12 atom nuclide equal to 1.6606x10^-27 kg ","g","G","1.6605402e-24",16605402e-31,!1],[!1,"astronomic unit","AU","ASU","length",149597870691,[1,0,0,0,0,0,0],"AU","iso1000",!1,null,null,1,!1,!1,0,"AU; units","UCUM","Len","Clinical","unit of length used in astronomy for measuring distance in Solar system","Mm","MAM","149597.870691",149597.870691,!1],[!1,"parsec","pc","PRS","length",3085678e10,[1,0,0,0,0,0,0],"pc","iso1000",!0,null,null,1,!1,!1,0,"parsecs","UCUM","Len","Clinical","unit of length equal to 3.26 light years, and used to measure large distances to objects outside our Solar System","m","M","3.085678e16",3085678e10,!1],[!1,"velocity of light in a vacuum","[c]","[C]","velocity",299792458,[1,-1,0,0,0,0,0],"<i>c</i>","const",!0,null,null,1,!1,!1,0,"speed of light","UCUM","Vel","Constant","equal to 299792458 m/s (approximately 3 x 10^8 m/s)","m/s","M/S","299792458",299792458,!1],[!1,"Planck constant","[h]","[H]","action",66260755e-38,[2,-1,1,0,0,0,0],"<i>h</i>","const",!0,null,null,1,!1,!1,0,"Planck's constant","UCUM","","Constant","constant = 6.62607004 \xD7 10-34 m2.kg/s; defined as quantum of action","J.s","J.S","6.6260755e-34",66260755e-41,!1],[!1,"Boltzmann constant","[k]","[K]","(unclassified)",1380658e-26,[2,-2,1,0,-1,0,0],"<i>k</i>","const",!0,null,null,1,!1,!1,0,"k; kB","UCUM","","Constant","physical constant relating energy at the individual particle level with temperature = 1.38064852 \xD710^\u221223 J/K","J/K","J/K","1.380658e-23",1380658e-29,!1],[!1,"permittivity of vacuum - electric","[eps_0]","[EPS_0]","electric permittivity",8854187817000001e-30,[-3,2,-1,0,0,2,0],"<i>\u03B5<sub><r>0</r></sub></i>","const",!0,null,null,1,!1,!1,0,"\u03B50; Electric Constant; vacuum permittivity; permittivity of free space ","UCUM","","Constant","approximately equal to 8.854\u2009\xD7 10^\u221212 F/m (farads per meter)","F/m","F/M","8.854187817e-12",8854187817e-21,!1],[!1,"permeability of vacuum - magnetic","[mu_0]","[MU_0]","magnetic permeability",.0012566370614359172,[1,0,1,0,0,-2,0],"<i>\u03BC<sub><r>0</r></sub></i>","const",!0,null,null,1,!1,!1,0,"\u03BC0; vacuum permeability; permeability of free space; magnetic constant","UCUM","","Constant","equal to 4\u03C0\xD710^\u22127 N/A2 (Newtons per square ampere) \u2248 1.2566\xD710^\u22126 H/m (Henry per meter)","N/A2","4.[PI].10*-7.N/A2","1",12566370614359173e-22,!1],[!1,"elementary charge","[e]","[E]","electric charge",160217733e-27,[0,0,0,0,0,1,0],"<i>e</i>","const",!0,null,null,1,!1,!1,0,"e; q; electric charges","UCUM","","Constant","the magnitude of the electric charge carried by a single electron or proton \u2248 1.60217\xD710^-19 Coulombs","C","C","1.60217733e-19",160217733e-27,!1],[!1,"electronvolt","eV","EV","energy",160217733e-24,[2,-2,1,0,0,0,0],"eV","iso1000",!0,null,null,1,!1,!1,0,"Electron Volts; electronvolts","UCUM","Eng","Clinical","unit of kinetic energy = 1 V * 1.602\xD710^\u221219 C = 1.6\xD710\u221219 Joules","[e].V","[E].V","1",1,!1],[!1,"electron mass","[m_e]","[M_E]","mass",91093897e-35,[0,0,1,0,0,0,0],"<i>m<sub><r>e</r></sub></i>","const",!0,null,null,1,!1,!1,0,"electron rest mass; me","UCUM","Mass","Constant","approximately equal to 9.10938356 \xD7 10-31 kg; defined as the mass of a stationary electron","g","g","9.1093897e-28",91093897e-35,!1],[!1,"proton mass","[m_p]","[M_P]","mass",16726231e-31,[0,0,1,0,0,0,0],"<i>m<sub><r>p</r></sub></i>","const",!0,null,null,1,!1,!1,0,"mp; masses","UCUM","Mass","Constant","approximately equal to 1.672622\xD710\u221227 kg","g","g","1.6726231e-24",16726231e-31,!1],[!1,"Newtonian constant of gravitation","[G]","[GC]","(unclassified)",667259e-19,[3,-2,-1,0,0,0,0],"<i>G</i>","const",!0,null,null,1,!1,!1,0,"G; gravitational constant; Newton's constant","UCUM","","Constant","gravitational constant = 6.674\xD710\u221211 N\u22C5m2/kg2","m3.kg-1.s-2","M3.KG-1.S-2","6.67259e-11",667259e-16,!1],[!1,"standard acceleration of free fall","[g]","[G]","acceleration",9.80665,[1,-2,0,0,0,0,0],"<i>g<sub>n</sub></i>","const",!0,null,null,1,!1,!1,0,"standard gravity; g; \u02610; \u0261n","UCUM","Accel","Constant","defined by standard = 9.80665 m/s2","m/s2","M/S2","980665e-5",9.80665,!1],[!1,"Torr","Torr","Torr","pressure",133322,[-1,-2,1,0,0,0,0],"Torr","const",!1,null,null,1,!1,!1,0,"torrs","UCUM","Pres","Clinical","1 torr = 1 mmHg; unit used to measure blood pressure","Pa","PAL","133.322",133.322,!1],[!1,"standard atmosphere","atm","ATM","pressure",101325e3,[-1,-2,1,0,0,0,0],"atm","const",!1,null,null,1,!1,!1,0,"reference pressure; atmos; std atmosphere","UCUM","Pres","Clinical","defined as being precisely equal to 101,325 Pa","Pa","PAL","101325",101325,!1],[!1,"light-year","[ly]","[LY]","length",9460730472580800,[1,0,0,0,0,0,0],"l.y.","const",!0,null,null,1,!1,!1,0,"light years; ly","UCUM","Len","Constant","unit of astronomal distance = 5.88\xD710^12 mi","[c].a_j","[C].ANN_J","1",1,!1],[!1,"gram-force","gf","GF","force",9.80665,[1,-2,1,0,0,0,0],"gf","const",!0,null,null,1,!1,!1,0,"Newtons; gram forces","UCUM","Force","Clinical","May be specific to unit related to cardiac output","g.[g]","G.[G]","1",1,!1],[!1,"Kayser","Ky","KY","lineic number",100,[-1,0,0,0,0,0,0],"K","cgs",!0,null,null,1,!1,!1,0,"wavenumbers; kaysers","UCUM","InvLen","Clinical","unit of wavelength equal to cm^-1","cm-1","CM-1","1",1,!1],[!1,"Gal","Gal","GL","acceleration",.01,[1,-2,0,0,0,0,0],"Gal","cgs",!0,null,null,1,!1,!1,0,"galileos; Gals","UCUM","Accel","Clinical","unit of acceleration used in gravimetry; equivalent to cm/s2 ","cm/s2","CM/S2","1",1,!1],[!1,"dyne","dyn","DYN","force",.01,[1,-2,1,0,0,0,0],"dyn","cgs",!0,null,null,1,!1,!1,0,"dynes","UCUM","Force","Clinical","unit of force equal to 10^-5 Newtons","g.cm/s2","G.CM/S2","1",1,!1],[!1,"erg","erg","ERG","energy",1e-4,[2,-2,1,0,0,0,0],"erg","cgs",!0,null,null,1,!1,!1,0,"10^-7 Joules, 10-7 Joules; 100 nJ; 100 nanoJoules; 1 dyne cm; 1 g.cm2/s2","UCUM","Eng","Clinical","unit of energy = 1 dyne centimeter = 10^-7 Joules","dyn.cm","DYN.CM","1",1,!1],[!1,"Poise","P","P","dynamic viscosity",100.00000000000001,[-1,-1,1,0,0,0,0],"P","cgs",!0,null,null,1,!1,!1,0,"dynamic viscosity; poises","UCUM","Visc","Clinical","unit of dynamic viscosity where 1 Poise = 1/10 Pascal second","dyn.s/cm2","DYN.S/CM2","1",1,!1],[!1,"Biot","Bi","BI","electric current",10,[0,-1,0,0,0,1,0],"Bi","cgs",!0,null,null,1,!1,!1,0,"Bi; abamperes; abA","UCUM","ElpotRat","Clinical","equal to 10 amperes","A","A","10",10,!1],[!1,"Stokes","St","ST","kinematic viscosity",9999999999999999e-20,[2,-1,0,0,0,0,0],"St","cgs",!0,null,null,1,!1,!1,0,"kinematic viscosity","UCUM","Visc","Clinical","unit of kimematic viscosity with units cm2/s","cm2/s","CM2/S","1",1,!1],[!1,"Maxwell","Mx","MX","flux of magnetic induction",1e-5,[2,-1,1,0,0,-1,0],"Mx","cgs",!0,null,null,1,!1,!1,0,"magnetix flux; Maxwells","UCUM","","Clinical","unit of magnetic flux","Wb","WB","1e-8",1e-8,!1],[!1,"Gauss","G","GS","magnetic flux density",.1,[0,-1,1,0,0,-1,0],"Gs","cgs",!0,null,null,1,!1,!1,0,"magnetic fields; magnetic flux density; induction; B","UCUM","magnetic","Clinical","CGS unit of magnetic flux density, known as magnetic field B; defined as one maxwell unit per square centimeter (see Oersted for CGS unit for H field)","T","T","1e-4",1e-4,!1],[!1,"Oersted","Oe","OE","magnetic field intensity",79.57747154594767,[-1,-1,0,0,0,1,0],"Oe","cgs",!0,null,null,1,!1,!1,0,"H magnetic B field; Oersteds","UCUM","","Clinical","CGS unit of the auxiliary magnetic field H defined as 1 dyne per unit pole = 1000/4\u03C0 amperes per meter (see Gauss for CGS unit for B field)","A/m","/[PI].A/M","250",79.57747154594767,!1],[!1,"Gilbert","Gb","GB","magnetic tension",.7957747154594768,[0,-1,0,0,0,1,0],"Gb","cgs",!0,null,null,1,!1,!1,0,"Gi; magnetomotive force; Gilberts","UCUM","","Clinical","unit of magnetomotive force (magnetic potential)","Oe.cm","OE.CM","1",1,!1],[!1,"stilb","sb","SB","lum. intensity density",1e4,[-2,0,0,0,0,0,1],"sb","cgs",!0,null,null,1,!1,!1,0,"stilbs","UCUM","","Obsolete","unit of luminance; equal to and replaced by unit candela per square centimeter (cd/cm2)","cd/cm2","CD/CM2","1",1,!1],[!1,"Lambert","Lmb","LMB","brightness",3183.098861837907,[-2,0,0,0,0,0,1],"L","cgs",!0,null,null,1,!1,!1,0,"luminance; lamberts","UCUM","","Clinical","unit of luminance defined as 1 lambert = 1/ \u03C0 candela per square meter","cd/cm2/[pi]","CD/CM2/[PI]","1",1,!1],[!1,"phot","ph","PHT","illuminance",1e-4,[-2,0,0,2,0,0,1],"ph","cgs",!0,null,null,1,!1,!1,0,"phots","UCUM","","Clinical","CGS photometric unit of illuminance, or luminous flux through an area equal to 10000 lumens per square meter = 10000 lux","lx","LX","1e-4",1e-4,!1],[!1,"Curie","Ci","CI","radioactivity",37e9,[0,-1,0,0,0,0,0],"Ci","cgs",!0,null,null,1,!1,!1,0,"curies","UCUM","","Obsolete","unit for measuring atomic disintegration rate; replaced by the Bequerel (Bq) unit","Bq","BQ","37e9",37e9,!1],[!1,"Roentgen","R","ROE","ion dose",258e-9,[0,0,-1,0,0,1,0],"R","cgs",!0,null,null,1,!1,!1,0,"r\xF6ntgen; Roentgens","UCUM","","Clinical","unit of exposure of X-rays and gamma rays in air; unit used primarily in the US but strongly discouraged by NIST","C/kg","C/KG","2.58e-4",258e-6,!1],[!1,"radiation absorbed dose","RAD","[RAD]","energy dose",.01,[2,-2,0,0,0,0,0],"RAD","cgs",!0,null,null,1,!1,!1,0,"doses","UCUM","","Clinical","unit of radiation absorbed dose used primarily in the US with base units 100 ergs per gram of material. Also see the SI unit Gray (Gy).","erg/g","ERG/G","100",100,!1],[!1,"radiation equivalent man","REM","[REM]","dose equivalent",.01,[2,-2,0,0,0,0,0],"REM","cgs",!0,null,null,1,!1,!1,0,"Roentgen Equivalent in Man; rems; dose equivalents","UCUM","","Clinical","unit of equivalent dose which measures the effect of radiation on humans equal to 0.01 sievert. Used primarily in the US. Also see SI unit Sievert (Sv)","RAD","[RAD]","1",1,!1],[!1,"inch","[in_i]","[IN_I]","length",.025400000000000002,[1,0,0,0,0,0,0],"in","intcust",!1,null,null,1,!1,!1,0,"inches; in; international inch; body height","UCUM","Len","Clinical","standard unit for inch in the US and internationally","cm","CM","254e-2",2.54,!1],[!1,"foot","[ft_i]","[FT_I]","length",.3048,[1,0,0,0,0,0,0],"ft","intcust",!1,null,null,1,!1,!1,0,"ft; fts; foot; international foot; feet; international feet; height","UCUM","Len","Clinical","unit used in the US and internationally","[in_i]","[IN_I]","12",12,!1],[!1,"yard","[yd_i]","[YD_I]","length",.9144000000000001,[1,0,0,0,0,0,0],"yd","intcust",!1,null,null,1,!1,!1,0,"international yards; yds; distance","UCUM","Len","Clinical","standard unit used in the US and internationally","[ft_i]","[FT_I]","3",3,!1],[!1,"mile","[mi_i]","[MI_I]","length",1609.344,[1,0,0,0,0,0,0],"mi","intcust",!1,null,null,1,!1,!1,0,"international miles; mi I; statute mile","UCUM","Len","Clinical","standard unit used in the US and internationally","[ft_i]","[FT_I]","5280",5280,!1],[!1,"fathom","[fth_i]","[FTH_I]","depth of water",1.8288000000000002,[1,0,0,0,0,0,0],"fth","intcust",!1,null,null,1,!1,!1,0,"international fathoms","UCUM","Len","Nonclinical","unit used in the US and internationally to measure depth of water; same length as the US fathom","[ft_i]","[FT_I]","6",6,!1],[!1,"nautical mile","[nmi_i]","[NMI_I]","length",1852,[1,0,0,0,0,0,0],"n.mi","intcust",!1,null,null,1,!1,!1,0,"nautical mile; nautical miles; international nautical mile; international nautical miles; nm; n.m.; nmi","UCUM","Len","Nonclinical","standard unit used in the US and internationally","m","M","1852",1852,!1],[!1,"knot","[kn_i]","[KN_I]","velocity",.5144444444444445,[1,-1,0,0,0,0,0],"knot","intcust",!1,null,null,1,!1,!1,0,"kn; kt; international knots","UCUM","Vel","Nonclinical","defined as equal to one nautical mile (1.852 km) per hour","[nmi_i]/h","[NMI_I]/H","1",1,!1],[!1,"square inch","[sin_i]","[SIN_I]","area",.0006451600000000001,[2,0,0,0,0,0,0],null,"intcust",!1,null,null,1,!1,!1,0,"in2; in^2; inches squared; sq inch; inches squared; international","UCUM","Area","Clinical","standard unit used in the US and internationally","[in_i]2","[IN_I]2","1",1,!1],[!1,"square foot","[sft_i]","[SFT_I]","area",.09290304,[2,0,0,0,0,0,0],null,"intcust",!1,null,null,1,!1,!1,0,"ft2; ft^2; ft squared; sq ft; feet; international","UCUM","Area","Clinical","standard unit used in the US and internationally","[ft_i]2","[FT_I]2","1",1,!1],[!1,"square yard","[syd_i]","[SYD_I]","area",.8361273600000002,[2,0,0,0,0,0,0],null,"intcust",!1,null,null,1,!1,!1,0,"yd2; yd^2; sq. yds; yards squared; international","UCUM","Area","Clinical","standard unit used in the US and internationally","[yd_i]2","[YD_I]2","1",1,!1],[!1,"cubic inch","[cin_i]","[CIN_I]","volume",16387064000000006e-21,[3,0,0,0,0,0,0],null,"intcust",!1,null,null,1,!1,!1,0,"in3; in^3; in*3; inches^3; inches*3; cu. in; cu in; cubic inches; inches cubed; cin","UCUM","Vol","Clinical","standard unit used in the US and internationally","[in_i]3","[IN_I]3","1",1,!1],[!1,"cubic foot","[cft_i]","[CFT_I]","volume",.028316846592000004,[3,0,0,0,0,0,0],null,"intcust",!1,null,null,1,!1,!1,0,"ft3; ft^3; ft*3; cu. ft; cubic feet; cubed; [ft_i]3; international","UCUM","Vol","Clinical","","[ft_i]3","[FT_I]3","1",1,!1],[!1,"cubic yard","[cyd_i]","[CYD_I]","volume",.7645548579840002,[3,0,0,0,0,0,0],"cu.yd","intcust",!1,null,null,1,!1,!1,0,"cubic yards; cubic yds; cu yards; CYs; yards^3; yd^3; yds^3; yd3; yds3","UCUM","Vol","Nonclinical","standard unit used in the US and internationally","[yd_i]3","[YD_I]3","1",1,!1],[!1,"board foot","[bf_i]","[BF_I]","volume",.0023597372160000006,[3,0,0,0,0,0,0],null,"intcust",!1,null,null,1,!1,!1,0,"BDFT; FBM; BF; board feet; international","UCUM","Vol","Nonclinical","unit of volume used to measure lumber","[in_i]3","[IN_I]3","144",144,!1],[!1,"cord","[cr_i]","[CR_I]","volume",3.6245563637760005,[3,0,0,0,0,0,0],null,"intcust",!1,null,null,1,!1,!1,0,"crd I; international cords","UCUM","Vol","Nonclinical","unit of measure of dry volume used to measure firewood equal 128 ft3","[ft_i]3","[FT_I]3","128",128,!1],[!1,"mil","[mil_i]","[MIL_I]","length",25400000000000004e-21,[1,0,0,0,0,0,0],"mil","intcust",!1,null,null,1,!1,!1,0,"thou, thousandth; mils; international","UCUM","Len","Clinical","equal to 0.001 international inch","[in_i]","[IN_I]","1e-3",.001,!1],[!1,"circular mil","[cml_i]","[CML_I]","area",5067074790974979e-25,[2,0,0,0,0,0,0],"circ.mil","intcust",!1,null,null,1,!1,!1,0,"circular mils; cml I; international","UCUM","Area","Clinical","","[pi]/4.[mil_i]2","[PI]/4.[MIL_I]2","1",1,!1],[!1,"hand","[hd_i]","[HD_I]","height of horses",.10160000000000001,[1,0,0,0,0,0,0],"hd","intcust",!1,null,null,1,!1,!1,0,"hands; international","UCUM","Len","Nonclinical","used to measure horse height","[in_i]","[IN_I]","4",4,!1],[!1,"foot - US","[ft_us]","[FT_US]","length",.3048006096012192,[1,0,0,0,0,0,0],"ft<sub>us</sub>","us-lengths",!1,null,null,1,!1,!1,0,"US foot; foot US; us ft; ft us; height; visual distance; feet","UCUM","Len","Obsolete","Better to use [ft_i] which refers to the length used worldwide, including in the US;  [ft_us] may be confused with land survey units. ","m/3937","M/3937","1200",1200,!1],[!1,"yard - US","[yd_us]","[YD_US]","length",.9144018288036575,[1,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"US yards; us yds; distance","UCUM","Len; Nrat","Obsolete","Better to use [yd_i] which refers to the length used worldwide, including in the US; [yd_us] refers to unit used in land surveys in the US","[ft_us]","[FT_US]","3",3,!1],[!1,"inch - US","[in_us]","[IN_US]","length",.0254000508001016,[1,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"US inches; in us; us in; inch US","UCUM","Len","Obsolete","Better to use [in_i] which refers to the length used worldwide, including in the US","[ft_us]/12","[FT_US]/12","1",1,!1],[!1,"rod - US","[rd_us]","[RD_US]","length",5.029210058420117,[1,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"US rod; US rods; rd US; US rd","UCUM","Len","Obsolete","","[ft_us]","[FT_US]","16.5",16.5,!1],[!1,"Gunter's chain - US","[ch_us]","[CH_US]","length",20.116840233680467,[1,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"surveyor's chain; Surveyor's chain USA; Gunter\u2019s measurement; surveyor\u2019s measurement; Gunter's Chain USA","UCUM","Len","Obsolete","historical unit used for land survey used only in the US","[rd_us]","[RD_US]","4",4,!1],[!1,"link for Gunter's chain - US","[lk_us]","[LK_US]","length",.20116840233680466,[1,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"Links for Gunter's Chain USA","UCUM","Len","Obsolete","","[ch_us]/100","[CH_US]/100","1",1,!1],[!1,"Ramden's chain - US","[rch_us]","[RCH_US]","length",30.480060960121918,[1,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"Ramsden's chain; engineer's chains","UCUM","Len","Obsolete","distance measuring device used for\xA0land survey","[ft_us]","[FT_US]","100",100,!1],[!1,"link for Ramden's chain - US","[rlk_us]","[RLK_US]","length",.3048006096012192,[1,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"links for Ramsden's chain","UCUM","Len","Obsolete","","[rch_us]/100","[RCH_US]/100","1",1,!1],[!1,"fathom - US","[fth_us]","[FTH_US]","length",1.828803657607315,[1,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"US fathoms; fathom USA; fth us","UCUM","Len","Obsolete","same length as the international fathom - better to use international fathom ([fth_i])","[ft_us]","[FT_US]","6",6,!1],[!1,"furlong - US","[fur_us]","[FUR_US]","length",201.16840233680466,[1,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"US furlongs; fur us","UCUM","Len","Nonclinical","distance unit in horse racing","[rd_us]","[RD_US]","40",40,!1],[!1,"mile - US","[mi_us]","[MI_US]","length",1609.3472186944373,[1,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"U.S. Survey Miles; US statute miles; survey mi; US mi; distance","UCUM","Len","Nonclinical","Better to use [mi_i] which refers to the length used worldwide, including in the US","[fur_us]","[FUR_US]","8",8,!1],[!1,"acre - US","[acr_us]","[ACR_US]","area",4046.872609874252,[2,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"Acre USA Survey; Acre USA; survey acres","UCUM","Area","Nonclinical","an older unit based on pre 1959 US statute lengths that is still sometimes used in the US only for land survey purposes. ","[rd_us]2","[RD_US]2","160",160,!1],[!1,"square rod - US","[srd_us]","[SRD_US]","area",25.292953811714074,[2,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"rod2; rod^2; sq. rod; rods squared","UCUM","Area","Nonclinical","Used only in the US to measure land area, based on US statute land survey length units","[rd_us]2","[RD_US]2","1",1,!1],[!1,"square mile - US","[smi_us]","[SMI_US]","area",2589998470319521e-9,[2,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"mi2; mi^2; sq mi; miles squared","UCUM","Area","Nonclinical","historical unit used only in the US for land survey purposes (based on the US survey mile), not the internationally recognized [mi_i]","[mi_us]2","[MI_US]2","1",1,!1],[!1,"section","[sct]","[SCT]","area",2589998470319521e-9,[2,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"sct; sections","UCUM","Area","Nonclinical","tract of land approximately equal to 1 mile square containing 640 acres","[mi_us]2","[MI_US]2","1",1,!1],[!1,"township","[twp]","[TWP]","area",9323994493150276e-8,[2,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"twp; townships","UCUM","Area","Nonclinical","land measurement equal to 6 mile square","[sct]","[SCT]","36",36,!1],[!1,"mil - US","[mil_us]","[MIL_US]","length",254000508001016e-19,[1,0,0,0,0,0,0],null,"us-lengths",!1,null,null,1,!1,!1,0,"thou, thousandth; mils","UCUM","Len","Obsolete","better to use [mil_i] which is based on the internationally recognized inch","[in_us]","[IN_US]","1e-3",.001,!1],[!1,"inch - British","[in_br]","[IN_BR]","length",.025399980000000003,[1,0,0,0,0,0,0],null,"brit-length",!1,null,null,1,!1,!1,0,"imperial inches; imp in; br in; british inches","UCUM","Len","Obsolete","","cm","CM","2.539998",2.539998,!1],[!1,"foot - British","[ft_br]","[FT_BR]","length",.30479976000000003,[1,0,0,0,0,0,0],null,"brit-length",!1,null,null,1,!1,!1,0,"British Foot; Imperial Foot; feet; imp fts; br fts","UCUM","Len","Obsolete","","[in_br]","[IN_BR]","12",12,!1],[!1,"rod - British","[rd_br]","[RD_BR]","length",5.02919604,[1,0,0,0,0,0,0],null,"brit-length",!1,null,null,1,!1,!1,0,"British rods; br rd","UCUM","Len","Obsolete","","[ft_br]","[FT_BR]","16.5",16.5,!1],[!1,"Gunter's chain - British","[ch_br]","[CH_BR]","length",20.11678416,[1,0,0,0,0,0,0],null,"brit-length",!1,null,null,1,!1,!1,0,"Gunter's Chain British; Gunters Chain British; Surveyor's Chain British","UCUM","Len","Obsolete","historical unit used for land survey used only in Great Britain","[rd_br]","[RD_BR]","4",4,!1],[!1,"link for Gunter's chain - British","[lk_br]","[LK_BR]","length",.2011678416,[1,0,0,0,0,0,0],null,"brit-length",!1,null,null,1,!1,!1,0,"Links for Gunter's Chain British","UCUM","Len","Obsolete","","[ch_br]/100","[CH_BR]/100","1",1,!1],[!1,"fathom - British","[fth_br]","[FTH_BR]","length",1.82879856,[1,0,0,0,0,0,0],null,"brit-length",!1,null,null,1,!1,!1,0,"British fathoms; imperial fathoms; br fth; imp fth","UCUM","Len","Obsolete","","[ft_br]","[FT_BR]","6",6,!1],[!1,"pace - British","[pc_br]","[PC_BR]","length",.7619994000000001,[1,0,0,0,0,0,0],null,"brit-length",!1,null,null,1,!1,!1,0,"British paces; br pc","UCUM","Len","Nonclinical","traditional unit of length equal to 152.4 centimeters, or 1.52 meter. ","[ft_br]","[FT_BR]","2.5",2.5,!1],[!1,"yard - British","[yd_br]","[YD_BR]","length",.91439928,[1,0,0,0,0,0,0],null,"brit-length",!1,null,null,1,!1,!1,0,"British yards; Br yds; distance","UCUM","Len","Obsolete","","[ft_br]","[FT_BR]","3",3,!1],[!1,"mile - British","[mi_br]","[MI_BR]","length",1609.3427328000002,[1,0,0,0,0,0,0],null,"brit-length",!1,null,null,1,!1,!1,0,"imperial miles; British miles; English statute miles; imp mi, br mi","UCUM","Len","Obsolete","","[ft_br]","[FT_BR]","5280",5280,!1],[!1,"nautical mile - British","[nmi_br]","[NMI_BR]","length",1853.1825408000002,[1,0,0,0,0,0,0],null,"brit-length",!1,null,null,1,!1,!1,0,"British nautical miles; Imperial nautical miles; Admiralty miles; n.m. br; imp nm","UCUM","Len","Obsolete","","[ft_br]","[FT_BR]","6080",6080,!1],[!1,"knot - British","[kn_br]","[KN_BR]","velocity",.5147729280000001,[1,-1,0,0,0,0,0],null,"brit-length",!1,null,null,1,!1,!1,0,"British knots; kn br; kt","UCUM","Vel","Obsolete","based on obsolete British nautical mile ","[nmi_br]/h","[NMI_BR]/H","1",1,!1],[!1,"acre","[acr_br]","[ACR_BR]","area",4046.850049400269,[2,0,0,0,0,0,0],null,"brit-length",!1,null,null,1,!1,!1,0,"Imperial acres; British; a; ac; ar; acr","UCUM","Area","Nonclinical","the standard unit for acre used in the US and internationally","[yd_br]2","[YD_BR]2","4840",4840,!1],[!1,"gallon - US","[gal_us]","[GAL_US]","fluid volume",.0037854117840000014,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"US gallons; US liquid gallon; gal us; Queen Anne's wine gallon","UCUM","Vol","Nonclinical","only gallon unit used in the US; [gal_us] is only used in some other countries in South American and Africa to measure gasoline volume","[in_i]3","[IN_I]3","231",231,!1],[!1,"barrel - US","[bbl_us]","[BBL_US]","fluid volume",.15898729492800007,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"bbl","UCUM","Vol","Nonclinical","[bbl_us] is the standard unit for oil barrel, which is a unit only used in the US to measure the volume oil. ","[gal_us]","[GAL_US]","42",42,!1],[!1,"quart - US","[qt_us]","[QT_US]","fluid volume",.0009463529460000004,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"US quarts; us qts","UCUM","Vol","Clinical","Used only in the US","[gal_us]/4","[GAL_US]/4","1",1,!1],[!1,"pint - US","[pt_us]","[PT_US]","fluid volume",.0004731764730000002,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"US pints; pint US; liquid pint; pt us; us pt","UCUM","Vol","Clinical","Used only in the US","[qt_us]/2","[QT_US]/2","1",1,!1],[!1,"gill - US","[gil_us]","[GIL_US]","fluid volume",.00011829411825000005,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"US gills; gil us","UCUM","Vol","Nonclinical","only used in the context of alcohol volume in the US","[pt_us]/4","[PT_US]/4","1",1,!1],[!1,"fluid ounce - US","[foz_us]","[FOZ_US]","fluid volume",2957352956250001e-20,[3,0,0,0,0,0,0],"oz fl","us-volumes",!1,null,null,1,!1,!1,0,"US fluid ounces; fl ozs; FO; fl. oz.; foz us","UCUM","Vol","Clinical","unit used only in the US","[gil_us]/4","[GIL_US]/4","1",1,!1],[!1,"fluid dram - US","[fdr_us]","[FDR_US]","fluid volume",36966911953125014e-22,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"US fluid drams; fdr us","UCUM","Vol","Nonclinical","equal to 1/8 US fluid ounce = 3.69 mL; used informally to mean small amount of liquor, especially Scotch whiskey","[foz_us]/8","[FOZ_US]/8","1",1,!1],[!1,"minim - US","[min_us]","[MIN_US]","fluid volume",6161151992187503e-23,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"min US; US min; \u264F US","UCUM","Vol","Obsolete","","[fdr_us]/60","[FDR_US]/60","1",1,!1],[!1,"cord - US","[crd_us]","[CRD_US]","fluid volume",3.6245563637760005,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"US cord; US cords; crd us; us crd","UCUM","Vol","Nonclinical","unit of measure of dry volume used to measure firewood equal 128 ft3 (the same as international cord [cr_i])","[ft_i]3","[FT_I]3","128",128,!1],[!1,"bushel - US","[bu_us]","[BU_US]","dry volume",.035239070166880014,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"US bushels; US bsh; US bu","UCUM","Vol","Obsolete","Historical unit of dry volume that is rarely used today","[in_i]3","[IN_I]3","2150.42",2150.42,!1],[!1,"gallon - historical","[gal_wi]","[GAL_WI]","dry volume",.004404883770860002,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"Corn Gallon British; Dry Gallon US; Gallons Historical; Grain Gallon British; Winchester Corn Gallon; historical winchester gallons; wi gal","UCUM","Vol","Obsolete","historical unit of dry volume no longer used","[bu_us]/8","[BU_US]/8","1",1,!1],[!1,"peck - US","[pk_us]","[PK_US]","dry volume",.008809767541720004,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"US pecks; US pk","UCUM","Vol","Nonclinical","unit of dry volume rarely used today (can be used to measure volume of apples)","[bu_us]/4","[BU_US]/4","1",1,!1],[!1,"dry quart - US","[dqt_us]","[DQT_US]","dry volume",.0011012209427150004,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"dry quarts; dry quart US; US dry quart; dry qt; us dry qt; dqt; dqt us","UCUM","Vol","Nonclinical","historical unit of dry volume only in the US, but is rarely used today","[pk_us]/8","[PK_US]/8","1",1,!1],[!1,"dry pint - US","[dpt_us]","[DPT_US]","dry volume",.0005506104713575002,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"dry pints; dry pint US; US dry pint; dry pt; dpt; dpt us","UCUM","Vol","Nonclinical","historical unit of dry volume only in the US, but is rarely used today","[dqt_us]/2","[DQT_US]/2","1",1,!1],[!1,"tablespoon - US","[tbs_us]","[TBS_US]","volume",14786764781250006e-21,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"Tbs; tbsp; tbs us; US tablespoons","UCUM","Vol","Clinical","unit defined as 0.5 US fluid ounces or 3 teaspoons - used only in the US. See [tbs_m] for the unit used internationally and in the US for nutrional labelling. ","[foz_us]/2","[FOZ_US]/2","1",1,!1],[!1,"teaspoon - US","[tsp_us]","[TSP_US]","volume",4928921593750002e-21,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"tsp; t; US teaspoons","UCUM","Vol","Nonclinical","unit defined as 1/6 US fluid ounces - used only in the US. See [tsp_m] for the unit used internationally and in the US for nutrional labelling. ","[tbs_us]/3","[TBS_US]/3","1",1,!1],[!1,"cup - US customary","[cup_us]","[CUP_US]","volume",.0002365882365000001,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"cup us; us cups","UCUM","Vol","Nonclinical","Unit defined as 1/2 US pint or 16 US tablespoons \u2248 236.59 mL, which is not the standard unit defined by the FDA of 240 mL - see [cup_m] (metric cup)","[tbs_us]","[TBS_US]","16",16,!1],[!1,"fluid ounce - metric","[foz_m]","[FOZ_M]","fluid volume",29999999999999997e-21,[3,0,0,0,0,0,0],"oz fl","us-volumes",!1,null,null,1,!1,!1,0,"metric fluid ounces; fozs m; fl ozs m","UCUM","Vol","Clinical","unit used only in the US for nutritional labelling, as set by the FDA","mL","ML","30",30,!1],[!1,"cup - US legal","[cup_m]","[CUP_M]","volume",.00023999999999999998,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"cup m; metric cups","UCUM","Vol","Clinical","standard unit equal to 240 mL used in the US for nutritional labelling, as defined by the FDA. Note that this is different from the US customary cup (236.59 mL) and the metric cup used in Commonwealth nations (250 mL).","mL","ML","240",240,!1],[!1,"teaspoon - metric","[tsp_m]","[TSP_M]","volume",49999999999999996e-22,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"tsp; t; metric teaspoons","UCUM","Vol","Clinical","standard unit used in the US and internationally","mL","mL","5",5,!1],[!1,"tablespoon - metric","[tbs_m]","[TBS_M]","volume",14999999999999999e-21,[3,0,0,0,0,0,0],null,"us-volumes",!1,null,null,1,!1,!1,0,"metric tablespoons; Tbs; tbsp; T; tbs m","UCUM","Vol","Clinical","standard unit used in the US and internationally","mL","mL","15",15,!1],[!1,"gallon- British","[gal_br]","[GAL_BR]","volume",.004546090000000001,[3,0,0,0,0,0,0],null,"brit-volumes",!1,null,null,1,!1,!1,0,"imperial gallons, UK gallons; British gallons; br gal; imp gal","UCUM","Vol","Nonclinical","Used only in Great Britain and other Commonwealth countries","l","L","4.54609",4.54609,!1],[!1,"peck - British","[pk_br]","[PK_BR]","volume",.009092180000000002,[3,0,0,0,0,0,0],null,"brit-volumes",!1,null,null,1,!1,!1,0,"imperial pecks; British pecks; br pk; imp pk","UCUM","Vol","Nonclinical","unit of dry volume rarely used today (can be used to measure volume of apples)","[gal_br]","[GAL_BR]","2",2,!1],[!1,"bushel - British","[bu_br]","[BU_BR]","volume",.03636872000000001,[3,0,0,0,0,0,0],null,"brit-volumes",!1,null,null,1,!1,!1,0,"British bushels; imperial; br bsh; br bu; imp","UCUM","Vol","Obsolete","Historical unit of dry volume that is rarely used today","[pk_br]","[PK_BR]","4",4,!1],[!1,"quart - British","[qt_br]","[QT_BR]","volume",.0011365225000000002,[3,0,0,0,0,0,0],null,"brit-volumes",!1,null,null,1,!1,!1,0,"British quarts; imperial quarts; br qts","UCUM","Vol","Clinical","Used only in Great Britain and other Commonwealth countries","[gal_br]/4","[GAL_BR]/4","1",1,!1],[!1,"pint - British","[pt_br]","[PT_BR]","volume",.0005682612500000001,[3,0,0,0,0,0,0],null,"brit-volumes",!1,null,null,1,!1,!1,0,"British pints; imperial pints; pt br; br pt; imp pt; pt imp","UCUM","Vol","Clinical","Used only in Great Britain and other Commonwealth countries","[qt_br]/2","[QT_BR]/2","1",1,!1],[!1,"gill - British","[gil_br]","[GIL_BR]","volume",.00014206531250000003,[3,0,0,0,0,0,0],null,"brit-volumes",!1,null,null,1,!1,!1,0,"imperial gills; British gills; imp gill, br gill","UCUM","Vol","Nonclinical","only used in the context of alcohol volume in Great Britain","[pt_br]/4","[PT_BR]/4","1",1,!1],[!1,"fluid ounce - British","[foz_br]","[FOZ_BR]","volume",28413062500000005e-21,[3,0,0,0,0,0,0],null,"brit-volumes",!1,null,null,1,!1,!1,0,"British fluid ounces; Imperial fluid ounces; br fozs; imp fozs; br fl ozs","UCUM","Vol","Clinical","Used only in Great Britain and other Commonwealth countries","[gil_br]/5","[GIL_BR]/5","1",1,!1],[!1,"fluid dram - British","[fdr_br]","[FDR_BR]","volume",35516328125000006e-22,[3,0,0,0,0,0,0],null,"brit-volumes",!1,null,null,1,!1,!1,0,"British fluid drams; fdr br","UCUM","Vol","Nonclinical","equal to 1/8 Imperial fluid ounce = 3.55 mL; used informally to mean small amount of liquor, especially Scotch whiskey","[foz_br]/8","[FOZ_BR]/8","1",1,!1],[!1,"minim - British","[min_br]","[MIN_BR]","volume",5919388020833334e-23,[3,0,0,0,0,0,0],null,"brit-volumes",!1,null,null,1,!1,!1,0,"min br; br min; \u264F br","UCUM","Vol","Obsolete","","[fdr_br]/60","[FDR_BR]/60","1",1,!1],[!1,"grain","[gr]","[GR]","mass",.06479891,[0,0,1,0,0,0,0],null,"avoirdupois",!1,null,null,1,!1,!1,0,"gr; grains","UCUM","Mass","Nonclinical","an apothecary measure of mass rarely used today","mg","MG","64.79891",64.79891,!1],[!1,"pound","[lb_av]","[LB_AV]","mass",453.59237,[0,0,1,0,0,0,0],"lb","avoirdupois",!1,null,null,1,!1,!1,0,"avoirdupois pounds, international pounds; av lbs; pounds","UCUM","Mass","Clinical","standard unit used in the US and internationally","[gr]","[GR]","7000",7e3,!1],[!1,"pound force - US","[lbf_av]","[LBF_AV]","force",4448.2216152605,[1,-2,1,0,0,0,0],"lbf","const",!1,null,null,1,!1,!1,0,"lbfs; US lbf; US pound forces","UCUM","Force","Clinical","only rarely needed in health care - see [lb_av] which is the more common unit to express weight","[lb_av].[g]","[LB_AV].[G]","1",1,!1],[!1,"ounce","[oz_av]","[OZ_AV]","mass",28.349523125,[0,0,1,0,0,0,0],"oz","avoirdupois",!1,null,null,1,!1,!1,0,"ounces; international ounces; avoirdupois ounces; av ozs","UCUM","Mass","Clinical","standard unit used in the US and internationally","[lb_av]/16","[LB_AV]/16","1",1,!1],[!1,"Dram mass unit","[dr_av]","[DR_AV]","mass",1.7718451953125,[0,0,1,0,0,0,0],null,"avoirdupois",!1,null,null,1,!1,!1,0,"Dram; drams avoirdupois; avoidupois dram; international dram","UCUM","Mass","Clinical","unit from the avoirdupois system, which is used in the US and internationally","[oz_av]/16","[OZ_AV]/16","1",1,!1],[!1,"short hundredweight","[scwt_av]","[SCWT_AV]","mass",45359.237,[0,0,1,0,0,0,0],null,"avoirdupois",!1,null,null,1,!1,!1,0,"hundredweights; s cwt; scwt; avoirdupois","UCUM","Mass","Nonclinical","Used only in the US to equal 100 pounds","[lb_av]","[LB_AV]","100",100,!1],[!1,"long hundredweight","[lcwt_av]","[LCWT_AV]","mass",50802.345440000005,[0,0,1,0,0,0,0],null,"avoirdupois",!1,null,null,1,!1,!1,0,"imperial hundredweights; imp cwt; lcwt; avoirdupois","UCUM","Mass","Obsolete","","[lb_av]","[LB_AV]","112",112,!1],[!1,"short ton - US","[ston_av]","[STON_AV]","mass",907184.74,[0,0,1,0,0,0,0],null,"avoirdupois",!1,null,null,1,!1,!1,0,"ton; US tons; avoirdupois tons","UCUM","Mass","Clinical","Used only in the US","[scwt_av]","[SCWT_AV]","20",20,!1],[!1,"long ton - British","[lton_av]","[LTON_AV]","mass",1.0160469088000001e6,[0,0,1,0,0,0,0],null,"avoirdupois",!1,null,null,1,!1,!1,0,"imperial tons; weight tons; British long tons; long ton avoirdupois","UCUM","Mass","Nonclinical","Used only in Great Britain and other Commonwealth countries","[lcwt_av]","[LCWT_AV]","20",20,!1],[!1,"stone - British","[stone_av]","[STONE_AV]","mass",6350.293180000001,[0,0,1,0,0,0,0],null,"avoirdupois",!1,null,null,1,!1,!1,0,"British stones; avoirdupois","UCUM","Mass","Nonclinical","Used primarily in the UK and Ireland to measure body weight","[lb_av]","[LB_AV]","14",14,!1],[!1,"pennyweight - troy","[pwt_tr]","[PWT_TR]","mass",1.5551738400000001,[0,0,1,0,0,0,0],null,"troy",!1,null,null,1,!1,!1,0,"dwt; denarius weights","UCUM","Mass","Obsolete","historical unit used to measure mass and cost of precious metals","[gr]","[GR]","24",24,!1],[!1,"ounce - troy","[oz_tr]","[OZ_TR]","mass",31.103476800000003,[0,0,1,0,0,0,0],null,"troy",!1,null,null,1,!1,!1,0,"troy ounces; tr ozs","UCUM","Mass","Nonclinical","unit of mass for precious metals and gemstones only","[pwt_tr]","[PWT_TR]","20",20,!1],[!1,"pound - troy","[lb_tr]","[LB_TR]","mass",373.2417216,[0,0,1,0,0,0,0],null,"troy",!1,null,null,1,!1,!1,0,"troy pounds; tr lbs","UCUM","Mass","Nonclinical","only used for weighing precious metals","[oz_tr]","[OZ_TR]","12",12,!1],[!1,"scruple","[sc_ap]","[SC_AP]","mass",1.2959782,[0,0,1,0,0,0,0],null,"apoth",!1,null,null,1,!1,!1,0,"scruples; sc ap","UCUM","Mass","Obsolete","","[gr]","[GR]","20",20,!1],[!1,"dram - apothecary","[dr_ap]","[DR_AP]","mass",3.8879346,[0,0,1,0,0,0,0],null,"apoth",!1,null,null,1,!1,!1,0,"\u0292; drachm; apothecaries drams; dr ap; dram ap","UCUM","Mass","Nonclinical","unit still used in the US occasionally to measure amount of drugs in pharmacies","[sc_ap]","[SC_AP]","3",3,!1],[!1,"ounce - apothecary","[oz_ap]","[OZ_AP]","mass",31.1034768,[0,0,1,0,0,0,0],null,"apoth",!1,null,null,1,!1,!1,0,"apothecary ounces; oz ap; ap ozs; ozs ap","UCUM","Mass","Obsolete","","[dr_ap]","[DR_AP]","8",8,!1],[!1,"pound - apothecary","[lb_ap]","[LB_AP]","mass",373.2417216,[0,0,1,0,0,0,0],null,"apoth",!1,null,null,1,!1,!1,0,"apothecary pounds; apothecaries pounds; ap lb; lb ap; ap lbs; lbs ap","UCUM","Mass","Obsolete","","[oz_ap]","[OZ_AP]","12",12,!1],[!1,"ounce - metric","[oz_m]","[OZ_M]","mass",28,[0,0,1,0,0,0,0],null,"apoth",!1,null,null,1,!1,!1,0,"metric ounces; m ozs","UCUM","Mass","Clinical","see [oz_av] (the avoirdupois ounce) for the standard ounce used internationally; [oz_m] is equal to 28 grams and is based on the apothecaries' system of mass units which is used in some US pharmacies. ","g","g","28",28,!1],[!1,"line","[lne]","[LNE]","length",.002116666666666667,[1,0,0,0,0,0,0],null,"typeset",!1,null,null,1,!1,!1,0,"British lines; br L; L; l","UCUM","Len","Obsolete","","[in_i]/12","[IN_I]/12","1",1,!1],[!1,"point (typography)","[pnt]","[PNT]","length",.0003527777777777778,[1,0,0,0,0,0,0],null,"typeset",!1,null,null,1,!1,!1,0,"DTP points; desktop publishing point; pt; pnt","UCUM","Len","Nonclinical","typography unit for typesetter's length","[lne]/6","[LNE]/6","1",1,!1],[!1,"pica (typography)","[pca]","[PCA]","length",.004233333333333334,[1,0,0,0,0,0,0],null,"typeset",!1,null,null,1,!1,!1,0,"picas","UCUM","Len","Nonclinical","typography unit for typesetter's length","[pnt]","[PNT]","12",12,!1],[!1,"Printer's point (typography)","[pnt_pr]","[PNT_PR]","length",.00035145980000000004,[1,0,0,0,0,0,0],null,"typeset",!1,null,null,1,!1,!1,0,"pnt pr","UCUM","Len","Nonclinical","typography unit for typesetter's length","[in_i]","[IN_I]","0.013837",.013837,!1],[!1,"Printer's pica  (typography)","[pca_pr]","[PCA_PR]","length",.004217517600000001,[1,0,0,0,0,0,0],null,"typeset",!1,null,null,1,!1,!1,0,"pca pr; Printer's picas","UCUM","Len","Nonclinical","typography unit for typesetter's length","[pnt_pr]","[PNT_PR]","12",12,!1],[!1,"pied","[pied]","[PIED]","length",.3248,[1,0,0,0,0,0,0],null,"typeset",!1,null,null,1,!1,!1,0,"pieds du roi; Paris foot; royal; French; feet","UCUM","Len","Obsolete","","cm","CM","32.48",32.48,!1],[!1,"pouce","[pouce]","[POUCE]","length",.027066666666666666,[1,0,0,0,0,0,0],null,"typeset",!1,null,null,1,!1,!1,0,"historical French inches; French royal inches","UCUM","Len","Obsolete","","[pied]/12","[PIED]/12","1",1,!1],[!1,"ligne","[ligne]","[LIGNE]","length",.0022555555555555554,[1,0,0,0,0,0,0],null,"typeset",!1,null,null,1,!1,!1,0,"Paris lines; lignes","UCUM","Len","Obsolete","","[pouce]/12","[POUCE]/12","1",1,!1],[!1,"didot","[didot]","[DIDOT]","length",.0003759259259259259,[1,0,0,0,0,0,0],null,"typeset",!1,null,null,1,!1,!1,0,"Didot point; dd; Didots Point; didots; points","UCUM","Len","Obsolete","typography unit for typesetter's length","[ligne]/6","[LIGNE]/6","1",1,!1],[!1,"cicero","[cicero]","[CICERO]","length",.004511111111111111,[1,0,0,0,0,0,0],null,"typeset",!1,null,null,1,!1,!1,0,"Didot's pica; ciceros; picas","UCUM","Len","Obsolete","typography unit for typesetter's length","[didot]","[DIDOT]","12",12,!1],[!1,"degrees Fahrenheit","[degF]","[DEGF]","temperature",.5555555555555556,[0,0,0,0,1,0,0],"\xB0F","heat",!1,null,"degF",1,!0,!1,0,"\xB0F; deg F","UCUM","Temp","Clinical","","K",null,null,.5555555555555556,!1],[!1,"degrees Rankine","[degR]","[degR]","temperature",.5555555555555556,[0,0,0,0,1,0,0],"\xB0R","heat",!1,null,null,1,!1,!1,0,"\xB0R; \xB0Ra; Rankine","UCUM","Temp","Obsolete","Replaced by Kelvin","K/9","K/9","5",5,!1],[!1,"degrees R\xE9aumur","[degRe]","[degRe]","temperature",1.25,[0,0,0,0,1,0,0],"\xB0R\xE9","heat",!1,null,"degRe",1,!0,!1,0,"\xB0R\xE9, \xB0Re, \xB0r; R\xE9aumur; degree Reaumur; Reaumur","UCUM","Temp","Obsolete","replaced by Celsius","K",null,null,1.25,!1],[!1,"calorie at 15\xB0C","cal_[15]","CAL_[15]","energy",4185.8,[2,-2,1,0,0,0,0],"cal<sub>15\xB0C</sub>","heat",!0,null,null,1,!1,!1,0,"calorie 15 C; cals 15 C; calories at 15 C","UCUM","Enrg","Nonclinical","equal to 4.1855 joules; calorie most often used in engineering","J","J","4.18580",4.1858,!1],[!1,"calorie at 20\xB0C","cal_[20]","CAL_[20]","energy",4181.9,[2,-2,1,0,0,0,0],"cal<sub>20\xB0C</sub>","heat",!0,null,null,1,!1,!1,0,"calorie 20 C; cal 20 C; calories at 20 C","UCUM","Enrg","Clinical","equal to 4.18190  joules. ","J","J","4.18190",4.1819,!1],[!1,"mean calorie","cal_m","CAL_M","energy",4190.0199999999995,[2,-2,1,0,0,0,0],"cal<sub>m</sub>","heat",!0,null,null,1,!1,!1,0,"mean cals; mean calories","UCUM","Enrg","Clinical","equal to 4.19002 joules. ","J","J","4.19002",4.19002,!1],[!1,"international table calorie","cal_IT","CAL_IT","energy",4186.8,[2,-2,1,0,0,0,0],"cal<sub>IT</sub>","heat",!0,null,null,1,!1,!1,0,"calories IT; IT cals; international steam table calories","UCUM","Enrg","Nonclinical","used in engineering steam tables and defined as 1/860 international watt-hour; equal to 4.1868 joules","J","J","4.1868",4.1868,!1],[!1,"thermochemical calorie","cal_th","CAL_TH","energy",4184,[2,-2,1,0,0,0,0],"cal<sub>th</sub>","heat",!0,null,null,1,!1,!1,0,"thermochemical calories; th cals","UCUM","Enrg","Clinical","equal to 4.184 joules; used as the unit in medicine and biochemistry (equal to cal)","J","J","4.184",4.184,!1],[!1,"calorie","cal","CAL","energy",4184,[2,-2,1,0,0,0,0],"cal","heat",!0,null,null,1,!1,!1,0,"gram calories; small calories","UCUM","Enrg","Clinical","equal to 4.184 joules (the same value as the thermochemical calorie, which is the most common calorie used in medicine and biochemistry)","cal_th","CAL_TH","1",1,!1],[!1,"nutrition label Calories","[Cal]","[CAL]","energy",4184e3,[2,-2,1,0,0,0,0],"Cal","heat",!1,null,null,1,!1,!1,0,"food calories; Cal; kcal","UCUM","Eng","Clinical","","kcal_th","KCAL_TH","1",1,!1],[!1,"British thermal unit at 39\xB0F","[Btu_39]","[BTU_39]","energy",1059670,[2,-2,1,0,0,0,0],"Btu<sub>39\xB0F</sub>","heat",!1,null,null,1,!1,!1,0,"BTU 39F; BTU 39 F; B.T.U. 39 F; B.Th.U. 39 F; BThU 39 F; British thermal units","UCUM","Eng","Nonclinical","equal to 1.05967 kJ; used as a measure of power in the electric power, steam generation, heating, and air conditioning industries","kJ","kJ","1.05967",1.05967,!1],[!1,"British thermal unit at 59\xB0F","[Btu_59]","[BTU_59]","energy",1054800,[2,-2,1,0,0,0,0],"Btu<sub>59\xB0F</sub>","heat",!1,null,null,1,!1,!1,0,"BTU 59 F; BTU 59F; B.T.U. 59 F; B.Th.U. 59 F; BThU 59F; British thermal units","UCUM","Eng","Nonclinical","equal to  1.05480 kJ; used as a measure of power in the electric power, steam generation, heating, and air conditioning industries","kJ","kJ","1.05480",1.0548,!1],[!1,"British thermal unit at 60\xB0F","[Btu_60]","[BTU_60]","energy",1054680,[2,-2,1,0,0,0,0],"Btu<sub>60\xB0F</sub>","heat",!1,null,null,1,!1,!1,0,"BTU 60 F; BTU 60F; B.T.U. 60 F; B.Th.U. 60 F; BThU 60 F; British thermal units 60 F","UCUM","Eng","Nonclinical","equal to 1.05468 kJ; used as a measure of power in the electric power, steam generation, heating, and air conditioning industries","kJ","kJ","1.05468",1.05468,!1],[!1,"mean British thermal unit","[Btu_m]","[BTU_M]","energy",1055870,[2,-2,1,0,0,0,0],"Btu<sub>m</sub>","heat",!1,null,null,1,!1,!1,0,"BTU mean; B.T.U. mean; B.Th.U. mean; BThU mean; British thermal units mean; ","UCUM","Eng","Nonclinical","equal to 1.05587 kJ; used as a measure of power in the electric power, steam generation, heating, and air conditioning industries","kJ","kJ","1.05587",1.05587,!1],[!1,"international table British thermal unit","[Btu_IT]","[BTU_IT]","energy",105505585262e-5,[2,-2,1,0,0,0,0],"Btu<sub>IT</sub>","heat",!1,null,null,1,!1,!1,0,"BTU IT; B.T.U. IT; B.Th.U. IT; BThU IT; British thermal units IT","UCUM","Eng","Nonclinical","equal to 1.055 kJ; used as a measure of power in the electric power, steam generation, heating, and air conditioning industries","kJ","kJ","1.05505585262",1.05505585262,!1],[!1,"thermochemical British thermal unit","[Btu_th]","[BTU_TH]","energy",1054350,[2,-2,1,0,0,0,0],"Btu<sub>th</sub>","heat",!1,null,null,1,!1,!1,0,"BTU Th; B.T.U. Th; B.Th.U. Th; BThU Th; thermochemical British thermal units","UCUM","Eng","Nonclinical","equal to 1.054350 kJ; used as a measure of power in the electric power, steam generation, heating, and air conditioning industries","kJ","kJ","1.054350",1.05435,!1],[!1,"British thermal unit","[Btu]","[BTU]","energy",1054350,[2,-2,1,0,0,0,0],"btu","heat",!1,null,null,1,!1,!1,0,"BTU; B.T.U. ; B.Th.U.; BThU; British thermal units","UCUM","Eng","Nonclinical","equal to the thermochemical British thermal unit equal to 1.054350 kJ; used as a measure of power in the electric power, steam generation, heating, and air conditioning industries","[Btu_th]","[BTU_TH]","1",1,!1],[!1,"horsepower - mechanical","[HP]","[HP]","power",745699.8715822703,[2,-3,1,0,0,0,0],null,"heat",!1,null,null,1,!1,!1,0,"imperial horsepowers","UCUM","EngRat","Nonclinical","refers to mechanical horsepower, which is unit used to measure engine power primarily in the US. ","[ft_i].[lbf_av]/s","[FT_I].[LBF_AV]/S","550",550,!1],[!1,"tex","tex","TEX","linear mass density (of textile thread)",.001,[-1,0,1,0,0,0,0],"tex","heat",!0,null,null,1,!1,!1,0,"linear mass density; texes","UCUM","","Clinical","unit of linear mass density for fibers equal to gram per 1000 meters","g/km","G/KM","1",1,!1],[!1,"Denier (linear mass density)","[den]","[DEN]","linear mass density (of textile thread)",.0001111111111111111,[-1,0,1,0,0,0,0],"den","heat",!1,null,null,1,!1,!1,0,"den; deniers","UCUM","","Nonclinical","equal to the mass in grams per 9000 meters of the fiber (1 denier = 1 strand of silk)","g/9/km","G/9/KM","1",1,!1],[!1,"meter of water column","m[H2O]","M[H2O]","pressure",9806650,[-1,-2,1,0,0,0,0],"m\xA0HO<sub><r>2</r></sub>","clinical",!0,null,null,1,!1,!1,0,"mH2O; m H2O; meters of water column; metres; pressure","UCUM","Pres","Clinical","","kPa","KPAL","980665e-5",9.80665,!1],[!1,"meter of mercury column","m[Hg]","M[HG]","pressure",133322e3,[-1,-2,1,0,0,0,0],"m\xA0Hg","clinical",!0,null,null,1,!1,!1,0,"mHg; m Hg; meters of mercury column; metres; pressure","UCUM","Pres","Clinical","","kPa","KPAL","133.3220",133.322,!1],[!1,"inch of water column","[in_i'H2O]","[IN_I'H2O]","pressure",249088.91000000003,[-1,-2,1,0,0,0,0],"in\xA0HO<sub><r>2</r></sub>","clinical",!1,null,null,1,!1,!1,0,"inches WC; inAq; in H2O; inch of water gauge; iwg; pressure","UCUM","Pres","Clinical","unit of pressure, especially in respiratory and ventilation care","m[H2O].[in_i]/m","M[H2O].[IN_I]/M","1",1,!1],[!1,"inch of mercury column","[in_i'Hg]","[IN_I'HG]","pressure",3.3863788000000003e6,[-1,-2,1,0,0,0,0],"in\xA0Hg","clinical",!1,null,null,1,!1,!1,0,"inHg; in Hg; pressure; inches","UCUM","Pres","Clinical","unit of pressure used in US to measure barometric pressure and occasionally blood pressure (see mm[Hg] for unit used internationally)","m[Hg].[in_i]/m","M[HG].[IN_I]/M","1",1,!1],[!1,"peripheral vascular resistance unit","[PRU]","[PRU]","fluid resistance",133322e6,[-4,-1,1,0,0,0,0],"P.R.U.","clinical",!1,null,null,1,!1,!1,0,"peripheral vascular resistance units; peripheral resistance unit; peripheral resistance units; PRU","UCUM","FldResist","Clinical","used to assess blood flow in the capillaries; equal to 1 mmH.min/mL = 133.3 Pa\xB7min/mL","mm[Hg].s/ml","MM[HG].S/ML","1",1,!1],[!1,"Wood unit","[wood'U]","[WOOD'U]","fluid resistance",799932e4,[-4,-1,1,0,0,0,0],"Wood U.","clinical",!1,null,null,1,!1,!1,0,"hybrid reference units; HRU; mmHg.min/L; vascular resistance","UCUM","Pres","Clinical","simplified unit of measurement for for measuring pulmonary vascular resistance that uses pressure; equal to mmHg.min/L","mm[Hg].min/L","MM[HG].MIN/L","1",1,!1],[!1,"diopter (lens)","[diop]","[DIOP]","refraction of a lens",1,[1,0,0,0,0,0,0],"dpt","clinical",!1,null,"inv",1,!1,!1,0,"diopters; diop; dioptre; dpt; refractive power","UCUM","InvLen","Clinical","unit of optical power of lens represented by inverse meters (m^-1)","m","/M","1",1,!1],[!1,"prism diopter (magnifying power)","[p'diop]","[P'DIOP]","refraction of a prism",1,[0,0,0,1,0,0,0],"PD","clinical",!1,null,"tanTimes100",1,!0,!1,0,"diopters; dioptres; p diops; pdiop; dpt; pdptr; \u0394; cm/m; centimeter per meter; centimetre; metre","UCUM","Angle","Clinical","unit for prism correction in eyeglass prescriptions","rad",null,null,1,!1],[!1,"percent of slope","%[slope]","%[SLOPE]","slope",.017453292519943295,[0,0,0,1,0,0,0],"%","clinical",!1,null,"100tan",1,!0,!1,0,"% slope; %slope; percents slopes","UCUM","VelFr; ElpotRatFr; VelRtoFr; AccelFr","Clinical","","deg",null,null,1,!1],[!1,"mesh","[mesh_i]","[MESH_I]","lineic number",.025400000000000002,[1,0,0,0,0,0,0],null,"clinical",!1,null,"inv",1,!1,!1,0,"meshes","UCUM","NLen (lineic number)","Clinical","traditional unit of length defined as the number of strands or particles per inch","[in_i]","/[IN_I]","1",1,!1],[!1,"French (catheter gauge) ","[Ch]","[CH]","gauge of catheters",.0003333333333333333,[1,0,0,0,0,0,0],"Ch","clinical",!1,null,null,1,!1,!1,0,"Charri\xE8res, French scales; French gauges; Fr, Fg, Ga, FR, Ch","UCUM","Len; Circ; Diam","Clinical","","mm/3","MM/3","1",1,!1],[!1,"drop - metric (1/20 mL)","[drp]","[DRP]","volume",5e-8,[3,0,0,0,0,0,0],"drp","clinical",!1,null,null,1,!1,!1,0,"drop dosing units; metric drops; gtt","UCUM","Vol","Clinical","standard unit used in the US and internationally for clinical medicine but note that although [drp] is defined as 1/20 milliliter, in practice, drop sizes will vary due to external factors","ml/20","ML/20","1",1,!1],[!1,"Hounsfield unit","[hnsf'U]","[HNSF'U]","x-ray attenuation",1,[0,0,0,0,0,0,0],"HF","clinical",!1,null,null,1,!1,!1,0,"HU; units","UCUM","","Clinical","used to measure X-ray attenuation, especially in CT scans.","1","1","1",1,!1],[!1,"Metabolic Equivalent of Task ","[MET]","[MET]","metabolic cost of physical activity",5833333333333334e-26,[3,-1,-1,0,0,0,0],"MET","clinical",!1,null,null,1,!1,!1,0,"metabolic equivalents","UCUM","RelEngRat","Clinical","unit used to measure rate of energy expenditure per power in treadmill and other functional tests","mL/min/kg","ML/MIN/KG","3.5",3.5,!1],[!1,"homeopathic potency of decimal series (retired)","[hp'_X]","[HP'_X]","homeopathic potency (retired)",1,[0,0,0,0,0,0,0],"X","clinical",!1,null,"hpX",1,!0,!1,0,null,"UCUM",null,null,null,"1",null,null,1,!1],[!1,"homeopathic potency of centesimal series (retired)","[hp'_C]","[HP'_C]","homeopathic potency (retired)",1,[0,0,0,0,0,0,0],"C","clinical",!1,null,"hpC",1,!0,!1,0,null,"UCUM",null,null,null,"1",null,null,1,!1],[!1,"homeopathic potency of millesimal series (retired)","[hp'_M]","[HP'_M]","homeopathic potency (retired)",1,[0,0,0,0,0,0,0],"M","clinical",!1,null,"hpM",1,!0,!1,0,null,"UCUM",null,null,null,"1",null,null,1,!1],[!1,"homeopathic potency of quintamillesimal series (retired)","[hp'_Q]","[HP'_Q]","homeopathic potency (retired)",1,[0,0,0,0,0,0,0],"Q","clinical",!1,null,"hpQ",1,!0,!1,0,null,"UCUM",null,null,null,"1",null,null,1,!1],[!1,"homeopathic potency of decimal hahnemannian series","[hp_X]","[HP_X]","homeopathic potency (Hahnemann)",1,[0,0,0,0,0,0,0],"X","clinical",!1,null,null,1,!1,!0,0,null,"UCUM",null,null,null,"1","1","1",1,!1],[!1,"homeopathic potency of centesimal hahnemannian series","[hp_C]","[HP_C]","homeopathic potency (Hahnemann)",1,[0,0,0,0,0,0,0],"C","clinical",!1,null,null,1,!1,!0,0,null,"UCUM",null,null,null,"1","1","1",1,!1],[!1,"homeopathic potency of millesimal hahnemannian series","[hp_M]","[HP_M]","homeopathic potency (Hahnemann)",1,[0,0,0,0,0,0,0],"M","clinical",!1,null,null,1,!1,!0,0,null,"UCUM",null,null,null,"1","1","1",1,!1],[!1,"homeopathic potency of quintamillesimal hahnemannian series","[hp_Q]","[HP_Q]","homeopathic potency (Hahnemann)",1,[0,0,0,0,0,0,0],"Q","clinical",!1,null,null,1,!1,!0,0,null,"UCUM",null,null,null,"1","1","1",1,!1],[!1,"homeopathic potency of decimal korsakovian series","[kp_X]","[KP_X]","homeopathic potency (Korsakov)",1,[0,0,0,0,0,0,0],"X","clinical",!1,null,null,1,!1,!0,0,null,"UCUM",null,null,null,"1","1","1",1,!1],[!1,"homeopathic potency of centesimal korsakovian series","[kp_C]","[KP_C]","homeopathic potency (Korsakov)",1,[0,0,0,0,0,0,0],"C","clinical",!1,null,null,1,!1,!0,0,null,"UCUM",null,null,null,"1","1","1",1,!1],[!1,"homeopathic potency of millesimal korsakovian series","[kp_M]","[KP_M]","homeopathic potency (Korsakov)",1,[0,0,0,0,0,0,0],"M","clinical",!1,null,null,1,!1,!0,0,null,"UCUM",null,null,null,"1","1","1",1,!1],[!1,"homeopathic potency of quintamillesimal korsakovian series","[kp_Q]","[KP_Q]","homeopathic potency (Korsakov)",1,[0,0,0,0,0,0,0],"Q","clinical",!1,null,null,1,!1,!0,0,null,"UCUM",null,null,null,"1","1","1",1,!1],[!1,"equivalent","eq","EQ","amount of substance",60221367e16,[0,0,0,0,0,0,0],"eq","chemical",!0,null,null,1,!1,!1,1,"equivalents","UCUM","Sub","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"osmole","osm","OSM","amount of substance (dissolved particles)",60221367e16,[0,0,0,0,0,0,0],"osm","chemical",!0,null,null,1,!1,!1,1,"osmoles; osmols","UCUM","Osmol","Clinical","the number of moles of solute that contribute to the osmotic pressure of a solution","mol","MOL","1",1,!1],[!1,"pH","[pH]","[PH]","acidity",60221366999999994e10,[-3,0,0,0,0,0,0],"pH","chemical",!1,null,"pH",1,!0,!1,0,"pH scale","UCUM","LogCnc","Clinical","Log concentration of H+","mol/l",null,null,1,!1],[!1,"gram percent","g%","G%","mass concentration",1e4,[-3,0,1,0,0,0,0],"g%","chemical",!0,null,null,1,!1,!1,0,"gram %; gram%; grams per deciliter; g/dL; gm per dL; gram percents","UCUM","MCnc","Clinical","equivalent to unit gram per deciliter (g/dL), a unit often used in medical tests to represent solution concentrations","g/dl","G/DL","1",1,!1],[!1,"Svedberg unit","[S]","[S]","sedimentation coefficient",1e-13,[0,1,0,0,0,0,0],"S","chemical",!1,null,null,1,!1,!1,0,"Sv; 10^-13 seconds; 100 fs; 100 femtoseconds","UCUM","Time","Clinical","unit of time used in measuring particle's sedimentation rate, usually after centrifugation. ","s","10*-13.S","1",1e-13,!1],[!1,"high power field (microscope)","[HPF]","[HPF]","view area in microscope",1,[0,0,0,0,0,0,0],"HPF","chemical",!1,null,null,1,!1,!1,0,"HPF","UCUM","Area","Clinical",`area visible under the maximum magnification power of the objective in microscopy (usually 400x)
`,"1","1","1",1,!1],[!1,"low power field (microscope)","[LPF]","[LPF]","view area in microscope",1,[0,0,0,0,0,0,0],"LPF","chemical",!1,null,null,1,!1,!1,0,"LPF; fields","UCUM","Area","Clinical",`area visible under the low magnification of the objective in microscopy (usually 100 x)
`,"1","1","100",100,!1],[!1,"katal","kat","KAT","catalytic activity",60221367e16,[0,-1,0,0,0,0,0],"kat","chemical",!0,null,null,1,!1,!1,1,"mol/secs; moles per second; mol*sec-1; mol*s-1; mol.s-1; katals; catalytic activity; enzymatic; enzyme units; activities","UCUM","CAct","Clinical","kat is a unit of catalytic activity with base units = mol/s. Rarely used because its units are too large to practically express catalytic activity. See enzyme unit [U] which is the standard unit for catalytic activity.","mol/s","MOL/S","1",1,!1],[!1,"enzyme unit","U","U","catalytic activity",100368945e8,[0,-1,0,0,0,0,0],"U","chemical",!0,null,null,1,!1,!1,1,"micromoles per minute; umol/min; umol per minute; umol min-1; enzymatic activity; enzyme activity","UCUM","CAct","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"international unit - arbitrary","[iU]","[IU]","arbitrary",1,[0,0,0,0,0,0,0],"IU","chemical",!0,null,null,1,!1,!0,0,"international units; IE; F2","UCUM","Arb","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","1","1","1",1,!1],[!1,"international unit - arbitrary","[IU]","[IU]","arbitrary",1,[0,0,0,0,0,0,0],"i.U.","chemical",!0,null,null,1,!1,!0,0,"international units; IE; F2","UCUM","Arb","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"arbitary unit","[arb'U]","[ARB'U]","arbitrary",1,[0,0,0,0,0,0,0],"arb. U","chemical",!1,null,null,1,!1,!0,0,"arbitary units; arb units; arbU","UCUM","Arb","Clinical","relative unit of measurement to show the ratio of test measurement to reference measurement","1","1","1",1,!1],[!1,"United States Pharmacopeia unit","[USP'U]","[USP'U]","arbitrary",1,[0,0,0,0,0,0,0],"U.S.P.","chemical",!1,null,null,1,!1,!0,0,"USP U; USP'U","UCUM","Arb","Clinical","a dose unit to express potency of drugs and vitamins defined by the United States Pharmacopoeia; usually 1 USP = 1 IU","1","1","1",1,!1],[!1,"GPL unit","[GPL'U]","[GPL'U]","biologic activity of anticardiolipin IgG",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"GPL Units; GPL U; IgG anticardiolipin units; IgG Phospholipid","UCUM","ACnc; AMass","Clinical","Units for an antiphospholipid test","1","1","1",1,!1],[!1,"MPL unit","[MPL'U]","[MPL'U]","biologic activity of anticardiolipin IgM",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"MPL units; MPL U; MPL'U; IgM anticardiolipin units; IgM Phospholipid Units ","UCUM","ACnc","Clinical","units for antiphospholipid test","1","1","1",1,!1],[!1,"APL unit","[APL'U]","[APL'U]","biologic activity of anticardiolipin IgA",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"APL units; APL U; IgA anticardiolipin; IgA Phospholipid; biologic activity of","UCUM","AMass; ACnc","Clinical","Units for an anti phospholipid syndrome test","1","1","1",1,!1],[!1,"Bethesda unit","[beth'U]","[BETH'U]","biologic activity of factor VIII inhibitor",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"BU","UCUM","ACnc","Clinical","measures of blood coagulation inhibitior for many blood factors","1","1","1",1,!1],[!1,"anti factor Xa unit","[anti'Xa'U]","[ANTI'XA'U]","biologic activity of factor Xa inhibitor (heparin)",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"units","UCUM","ACnc","Clinical","[anti'Xa'U] unit is equivalent to and can be converted to IU/mL. ","1","1","1",1,!1],[!1,"Todd unit","[todd'U]","[TODD'U]","biologic activity antistreptolysin O",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"units","UCUM","InvThres; RtoThres","Clinical","the unit for the results of the testing for antistreptolysin O (ASO)","1","1","1",1,!1],[!1,"Dye unit","[dye'U]","[DYE'U]","biologic activity of amylase",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"units","UCUM","CCnc","Obsolete","equivalent to the Somogyi unit, which is an enzyme unit for amylase but better to use U, the standard enzyme unit for measuring catalytic activity","1","1","1",1,!1],[!1,"Somogyi unit","[smgy'U]","[SMGY'U]","biologic activity of amylase",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"Somogyi units; smgy U","UCUM","CAct","Clinical","measures the enzymatic activity of amylase in blood serum - better to use base units mg/mL ","1","1","1",1,!1],[!1,"Bodansky unit","[bdsk'U]","[BDSK'U]","biologic activity of phosphatase",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"","UCUM","ACnc","Obsolete","Enzyme unit specific to alkaline phosphatase - better to use standard enzyme unit of U","1","1","1",1,!1],[!1,"King-Armstrong unit","[ka'U]","[KA'U]","biologic activity of phosphatase",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"King-Armstrong Units; King units","UCUM","AMass","Obsolete","enzyme units for acid phosphatase - better to use enzyme unit [U]","1","1","1",1,!1],[!1,"Kunkel unit","[knk'U]","[KNK'U]","arbitrary biologic activity",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,null,"UCUM",null,null,null,"1","1","1",1,!1],[!1,"Mac Lagan unit","[mclg'U]","[MCLG'U]","arbitrary biologic activity",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"galactose index; galactose tolerance test; thymol turbidity test unit; mclg U; units; indexes","UCUM","ACnc","Obsolete","unit for liver tests - previously used in thymol turbidity tests for liver disease diagnoses, and now is sometimes referred to in the oral galactose tolerance test","1","1","1",1,!1],[!1,"tuberculin unit","[tb'U]","[TB'U]","biologic activity of tuberculin",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"TU; units","UCUM","Arb","Clinical","amount of tuberculin antigen -usually in reference to a TB skin test ","1","1","1",1,!1],[!1,"50% cell culture infectious dose","[CCID_50]","[CCID_50]","biologic activity (infectivity) of an infectious agent preparation",1,[0,0,0,0,0,0,0],"CCID<sub>50</sub>","chemical",!1,null,null,1,!1,!0,0,"CCID50; 50% cell culture infective doses","UCUM","NumThres","Clinical","","1","1","1",1,!1],[!1,"50% tissue culture infectious dose","[TCID_50]","[TCID_50]","biologic activity (infectivity) of an infectious agent preparation",1,[0,0,0,0,0,0,0],"TCID<sub>50</sub>","chemical",!1,null,null,1,!1,!0,0,"TCID50; 50% tissue culture infective dose","UCUM","NumThres","Clinical","","1","1","1",1,!1],[!1,"50% embryo infectious dose","[EID_50]","[EID_50]","biologic activity (infectivity) of an infectious agent preparation",1,[0,0,0,0,0,0,0],"EID<sub>50</sub>","chemical",!1,null,null,1,!1,!0,0,"EID50; 50% embryo infective doses; EID50 Egg Infective Dosage","UCUM","thresNum","Clinical","","1","1","1",1,!1],[!1,"plaque forming units","[PFU]","[PFU]","amount of an infectious agent",1,[0,0,0,0,0,0,0],"PFU","chemical",!1,null,null,1,!1,!0,0,"PFU","UCUM","ACnc","Clinical","tests usually report unit as number of PFU per unit volume","1","1","1",1,!1],[!1,"focus forming units (cells)","[FFU]","[FFU]","amount of an infectious agent",1,[0,0,0,0,0,0,0],"FFU","chemical",!1,null,null,1,!1,!0,0,"FFU","UCUM","EntNum","Clinical","","1","1","1",1,!1],[!1,"colony forming units","[CFU]","[CFU]","amount of a proliferating organism",1,[0,0,0,0,0,0,0],"CFU","chemical",!1,null,null,1,!1,!0,0,"CFU","UCUM","Num","Clinical","","1","1","1",1,!1],[!1,"index of reactivity (allergen)","[IR]","[IR]","amount of an allergen callibrated through in-vivo testing using the Stallergenes\xAE method.",1,[0,0,0,0,0,0,0],"IR","chemical",!1,null,null,1,!1,!0,0,"IR; indexes","UCUM","Acnc","Clinical","amount of an allergen callibrated through in-vivo testing using the Stallergenes method. Usually reported in tests as IR/mL","1","1","1",1,!1],[!1,"bioequivalent allergen unit","[BAU]","[BAU]","amount of an allergen callibrated through in-vivo testing based on the ID50EAL method of (intradermal dilution for 50mm sum of erythema diameters",1,[0,0,0,0,0,0,0],"BAU","chemical",!1,null,null,1,!1,!0,0,"BAU; Bioequivalent Allergy Units; bioequivalent allergen units","UCUM","Arb","Clinical","","1","1","1",1,!1],[!1,"allergy unit","[AU]","[AU]","procedure defined amount of an allergen using some reference standard",1,[0,0,0,0,0,0,0],"AU","chemical",!1,null,null,1,!1,!0,0,"allergy units; allergen units; AU","UCUM","Arb","Clinical","Most standard test allergy units are reported as [IU] or as %. ","1","1","1",1,!1],[!1,"allergen unit for Ambrosia artemisiifolia","[Amb'a'1'U]","[AMB'A'1'U]","procedure defined amount of the major allergen of ragweed.",1,[0,0,0,0,0,0,0],"Amb a 1 U","chemical",!1,null,null,1,!1,!0,0,"Amb a 1 unit; Antigen E; AgE U; allergen units","UCUM","Arb","Clinical","Amb a 1 is the major allergen in short ragweed, and can be converted Bioequivalent allergen units (BAU) where 350 Amb a 1 U/mL = 100,000 BAU/mL","1","1","1",1,!1],[!1,"protein nitrogen unit (allergen testing)","[PNU]","[PNU]","procedure defined amount of a protein substance",1,[0,0,0,0,0,0,0],"PNU","chemical",!1,null,null,1,!1,!0,0,"protein nitrogen units; PNU","UCUM","Mass","Clinical","defined as 0.01 ug of phosphotungstic acid-precipitable protein nitrogen. Being replaced by bioequivalent allergy units (BAU).","1","1","1",1,!1],[!1,"Limit of flocculation","[Lf]","[LF]","procedure defined amount of an antigen substance",1,[0,0,0,0,0,0,0],"Lf","chemical",!1,null,null,1,!1,!0,0,"Lf doses","UCUM","Arb","Clinical","the antigen content  forming 1:1 ratio against 1 unit of antitoxin","1","1","1",1,!1],[!1,"D-antigen unit (polio)","[D'ag'U]","[D'AG'U]","procedure defined amount of a poliomyelitis d-antigen substance",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"DAgU; units","UCUM","Acnc","Clinical","unit of potency of poliovirus vaccine used for poliomyelitis prevention reported as D antigen units/mL. The unit is poliovirus type-specific.","1","1","1",1,!1],[!1,"fibrinogen equivalent units","[FEU]","[FEU]","amount of fibrinogen broken down into the measured d-dimers",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"FEU","UCUM","MCnc","Clinical","Note both the FEU and DDU units are used to report D-dimer measurements. 1 DDU = 1/2 FFU","1","1","1",1,!1],[!1,"ELISA unit","[ELU]","[ELU]","arbitrary ELISA unit",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"Enzyme-Linked Immunosorbent Assay Units; ELU; EL. U","UCUM","ACnc","Clinical","","1","1","1",1,!1],[!1,"Ehrlich units (urobilinogen)","[EU]","[EU]","Ehrlich unit",1,[0,0,0,0,0,0,0],null,"chemical",!1,null,null,1,!1,!0,0,"EU/dL; mg{urobilinogen}/dL","UCUM","ACnc","Clinical","","1","1","1",1,!1],[!1,"neper","Np","NEP","level",1,[0,0,0,0,0,0,0],"Np","levels",!0,null,"ln",1,!0,!1,0,"nepers","UCUM","LogRto","Clinical","logarithmic unit for ratios of measurements of physical field and power quantities, such as gain and loss of electronic signals","1",null,null,1,!1],[!1,"bel","B","B","level",1,[0,0,0,0,0,0,0],"B","levels",!0,null,"lg",1,!0,!1,0,"bels","UCUM","LogRto","Clinical","Logarithm of the ratio of power- or field-type quantities; usually expressed in decibels ","1",null,null,1,!1],[!1,"bel sound pressure","B[SPL]","B[SPL]","pressure level",.019999999999999997,[-1,-2,1,0,0,0,0],"B(SPL)","levels",!0,null,"lgTimes2",1,!0,!1,0,"bel SPL; B SPL; sound pressure bels","UCUM","LogRto","Clinical","used to measure sound level in acoustics","Pa",null,null,19999999999999998e-21,!1],[!1,"bel volt","B[V]","B[V]","electric potential level",1e3,[2,-2,1,0,0,-1,0],"B(V)","levels",!0,null,"lgTimes2",1,!0,!1,0,"bel V; B V; volts bels","UCUM","LogRtoElp","Clinical","used to express power gain in electrical circuits","V",null,null,1,!1],[!1,"bel millivolt","B[mV]","B[MV]","electric potential level",1,[2,-2,1,0,0,-1,0],"B(mV)","levels",!0,null,"lgTimes2",1,!0,!1,0,"bel mV; B mV; millivolt bels; 10^-3V bels; 10*-3V ","UCUM","LogRtoElp","Clinical","used to express power gain in electrical circuits","mV",null,null,1,!1],[!1,"bel microvolt","B[uV]","B[UV]","electric potential level",.001,[2,-2,1,0,0,-1,0],"B(\u03BCV)","levels",!0,null,"lgTimes2",1,!0,!1,0,"bel uV; B uV; microvolts bels; 10^-6V bel; 10*-6V bel","UCUM","LogRto","Clinical","used to express power gain in electrical circuits","uV",null,null,1,!1],[!1,"bel 10 nanovolt","B[10.nV]","B[10.NV]","electric potential level",10000000000000003e-21,[2,-2,1,0,0,-1,0],"B(10 nV)","levels",!0,null,"lgTimes2",1,!0,!1,0,"bel 10 nV; B 10 nV; 10 nanovolts bels","UCUM","LogRtoElp","Clinical","used to express power gain in electrical circuits","nV",null,null,10,!1],[!1,"bel watt","B[W]","B[W]","power level",1e3,[2,-3,1,0,0,0,0],"B(W)","levels",!0,null,"lg",1,!0,!1,0,"bel W; b W; b Watt; Watts bels","UCUM","LogRto","Clinical","used to express power","W",null,null,1,!1],[!1,"bel kilowatt","B[kW]","B[KW]","power level",1e6,[2,-3,1,0,0,0,0],"B(kW)","levels",!0,null,"lg",1,!0,!1,0,"bel kW; B kW; kilowatt bel; kW bel; kW B","UCUM","LogRto","Clinical","used to express power","kW",null,null,1,!1],[!1,"stere","st","STR","volume",1,[3,0,0,0,0,0,0],"st","misc",!0,null,null,1,!1,!1,0,"st\xE8re; m3; cubic meter; m^3; meters cubed; metre","UCUM","Vol","Nonclinical","equal to one cubic meter, usually used for measuring firewood","m3","M3","1",1,!1],[!1,"\xC5ngstr\xF6m","Ao","AO","length",10000000000000002e-26,[1,0,0,0,0,0,0],"\xC5","misc",!1,null,null,1,!1,!1,0,"\xC5; Angstroms; Ao; \xC5ngstr\xF6ms","UCUM","Len","Clinical","equal to 10^-10 meters; used to express wave lengths and atom scaled differences ","nm","NM","0.1",.1,!1],[!1,"barn","b","BRN","action area",10000000000000001e-44,[2,0,0,0,0,0,0],"b","misc",!1,null,null,1,!1,!1,0,"barns","UCUM","Area","Clinical","used in high-energy physics to express cross-sectional areas","fm2","FM2","100",100,!1],[!1,"technical atmosphere","att","ATT","pressure",98066500,[-1,-2,1,0,0,0,0],"at","misc",!1,null,null,1,!1,!1,0,"at; tech atm; tech atmosphere; kgf/cm2; atms; atmospheres","UCUM","Pres","Obsolete","non-SI unit of pressure equal to one kilogram-force per square centimeter","kgf/cm2","KGF/CM2","1",1,!1],[!1,"mho","mho","MHO","electric conductance",.001,[-2,1,-1,0,0,2,0],"mho","misc",!0,null,null,1,!1,!1,0,"siemens; ohm reciprocals; \u03A9^\u22121; \u03A9-1 ","UCUM","","Obsolete","unit of electric conductance (the inverse of electrical resistance) equal to ohm^-1","S","S","1",1,!1],[!1,"pound per square inch","[psi]","[PSI]","pressure",6894757293168359e-9,[-1,-2,1,0,0,0,0],"psi","misc",!1,null,null,1,!1,!1,0,"psi; lb/in2; lb per in2","UCUM","Pres","Clinical","","[lbf_av]/[in_i]2","[LBF_AV]/[IN_I]2","1",1,!1],[!1,"circle - plane angle","circ","CIRC","plane angle",6.283185307179586,[0,0,0,1,0,0,0],"circ","misc",!1,null,null,1,!1,!1,0,"angles; circles","UCUM","Angle","Clinical","","[pi].rad","[PI].RAD","2",2,!1],[!1,"spere - solid angle","sph","SPH","solid angle",12.566370614359172,[0,0,0,2,0,0,0],"sph","misc",!1,null,null,1,!1,!1,0,"speres","UCUM","Angle","Clinical","equal to the solid angle of an entire sphere = 4\u03C0sr (sr = steradian) ","[pi].sr","[PI].SR","4",4,!1],[!1,"metric carat","[car_m]","[CAR_M]","mass",.2,[0,0,1,0,0,0,0],"ct<sub>m</sub>","misc",!1,null,null,1,!1,!1,0,"carats; ct; car m","UCUM","Mass","Nonclinical","unit of mass for gemstones","g","G","2e-1",.2,!1],[!1,"carat of gold alloys","[car_Au]","[CAR_AU]","mass fraction",.041666666666666664,[0,0,0,0,0,0,0],"ct<sub><r>Au</r></sub>","misc",!1,null,null,1,!1,!1,0,"karats; k; kt; car au; carats","UCUM","MFr","Nonclinical","unit of purity for gold alloys","/24","/24","1",1,!1],[!1,"Smoot","[smoot]","[SMOOT]","length",1.7018000000000002,[1,0,0,0,0,0,0],null,"misc",!1,null,null,1,!1,!1,0,"","UCUM","Len","Nonclinical","prank unit of length from MIT","[in_i]","[IN_I]","67",67,!1],[!1,"meter per square seconds per square root of hertz","[m/s2/Hz^(1/2)]","[M/S2/HZ^(1/2)]","amplitude spectral density",1,[2,-3,0,0,0,0,0],null,"misc",!1,null,"sqrt",1,!0,!1,0,"m/s2/(Hz^.5); m/s2/(Hz^(1/2)); m per s2 per Hz^1/2","UCUM","","Constant",`measures amplitude spectral density, and is equal to the square root of power spectral density
 `,"m2/s4/Hz",null,null,1,!1],[!1,"bit - logarithmic","bit_s","BIT_S","amount of information",1,[0,0,0,0,0,0,0],"bit<sub>s</sub>","infotech",!1,null,"ld",1,!0,!1,0,"bit-s; bit s; bit logarithmic","UCUM","LogA","Nonclinical",`defined as the log base 2 of the number of distinct signals; cannot practically be used to express more than 1000 bits

In information theory, the definition of the amount of self-information and information entropy is often expressed with the binary logarithm (log base 2)`,"1",null,null,1,!1],[!1,"bit","bit","BIT","amount of information",1,[0,0,0,0,0,0,0],"bit","infotech",!0,null,null,1,!1,!1,0,"bits","UCUM","","Nonclinical","dimensionless information unit of 1 used in computing and digital communications","1","1","1",1,!1],[!1,"byte","By","BY","amount of information",8,[0,0,0,0,0,0,0],"B","infotech",!0,null,null,1,!1,!1,0,"bytes","UCUM","","Nonclinical","equal to 8 bits","bit","bit","8",8,!1],[!1,"baud","Bd","BD","signal transmission rate",1,[0,1,0,0,0,0,0],"Bd","infotech",!0,null,"inv",1,!1,!1,0,"Bd; bauds","UCUM","Freq","Nonclinical","unit to express rate in symbols per second or pulses per second. ","s","/s","1",1,!1],[!1,"per twelve hour","/(12.h)","1/(12.HR)","",23148148148148147e-21,[0,-1,0,0,0,0,0],"/h",null,!1,null,null,1,!1,!1,0,"per 12 hours; 12hrs; 12 hrs; /12hrs","LOINC","Rat","Clinical","",null,null,null,null,!1],[!1,"per arbitrary unit","/[arb'U]","1/[ARB'U]","",1,[0,0,0,0,0,0,0],"/arb/ U",null,!1,null,null,1,!1,!0,0,"/arbU","LOINC","InvA ","Clinical","",null,null,null,null,!1],[!1,"per high power field","/[HPF]","1/[HPF]","",1,[0,0,0,0,0,0,0],"/HPF",null,!1,null,null,1,!1,!1,0,"/HPF; per HPF","LOINC","Naric","Clinical","",null,null,null,null,!1],[!1,"per international unit","/[IU]","1/[IU]","",1,[0,0,0,0,0,0,0],"/i/U.",null,!1,null,null,1,!1,!0,0,"international units; /IU; per IU","LOINC","InvA","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)",null,null,null,null,!1],[!1,"per low power field","/[LPF]","1/[LPF]","",1,[0,0,0,0,0,0,0],"/LPF",null,!1,null,null,1,!1,!1,0,"/LPF; per LPF","LOINC","Naric","Clinical","",null,null,null,null,!1],[!1,"per 10 billion  ","/10*10","1/(10*10)","",1e-10,[0,0,0,0,0,0,0],"/10<sup>10</sup>",null,!1,null,null,1,!1,!1,0,"/10^10; per 10*10","LOINC","NFr","Clinical","used for counting entities, e.g. blood cells; usually these kinds of terms have numerators such as moles or milligrams, and counting that amount per the number in the denominator",null,null,null,null,!1],[!1,"per trillion ","/10*12","1/(10*12)","",1e-12,[0,0,0,0,0,0,0],"/10<sup>12</sup>",null,!1,null,null,1,!1,!1,0,"/10^12; per 10*12","LOINC","NFr","Clinical","used for counting entities, e.g. blood cells; usually these kinds of terms have numerators such as moles or milligrams, and counting that amount per the number in the denominator",null,null,null,null,!1],[!1,"per thousand","/10*3","1/(10*3)","",.001,[0,0,0,0,0,0,0],"/10<sup>3</sup>",null,!1,null,null,1,!1,!1,0,"/10^3; per 10*3","LOINC","NFr","Clinical","used for counting entities, e.g. blood cells; usually these kinds of terms have numerators such as moles or milligrams, and counting that amount per the number in the denominator",null,null,null,null,!1],[!1,"per million","/10*6","1/(10*6)","",1e-6,[0,0,0,0,0,0,0],"/10<sup>6</sup>",null,!1,null,null,1,!1,!1,0,"/10^6; per 10*6;","LOINC","NFr","Clinical","used for counting entities, e.g. blood cells; usually these kinds of terms have numerators such as moles or milligrams, and counting that amount per the number in the denominator",null,null,null,null,!1],[!1,"per billion","/10*9","1/(10*9)","",1e-9,[0,0,0,0,0,0,0],"/10<sup>9</sup>",null,!1,null,null,1,!1,!1,0,"/10^9; per 10*9","LOINC","NFr","Clinical","used for counting entities, e.g. blood cells; usually these kinds of terms have numerators such as moles or milligrams, and counting that amount per the number in the denominator",null,null,null,null,!1],[!1,"per 100","/100","1/100","",.01,[0,0,0,0,0,0,0],null,null,!1,null,null,1,!1,!1,0,"per hundred; 10^2; 10*2","LOINC","NFr","Clinical","used for counting entities, e.g. blood cells; usually these kinds of terms have numerators such as moles or milligrams, and counting that amount per the number in the denominator",null,null,null,null,!1],[!1,"per 100 cells","/100{cells}","1/100","",.01,[0,0,0,0,0,0,0],null,null,!1,null,null,1,!1,!1,0,"/100 cells; /100cells; per hundred","LOINC","EntMass; EntNum; NFr","Clinical","",null,null,null,null,!1],[!1,"per 100 neutrophils","/100{neutrophils}","1/100","",.01,[0,0,0,0,0,0,0],null,null,!1,null,null,1,!1,!1,0,"/100 neutrophils; /100neutrophils; per hundred","LOINC","EntMass; EntNum; NFr","Clinical","",null,null,null,null,!1],[!1,"per 100 spermatozoa","/100{spermatozoa}","1/100","",.01,[0,0,0,0,0,0,0],null,null,!1,null,null,1,!1,!1,0,"/100 spermatozoa; /100spermatozoa; per hundred","LOINC","NFr","Clinical","",null,null,null,null,!1],[!1,"per 100 white blood cells","/100{WBCs}","1/100","",.01,[0,0,0,0,0,0,0],null,null,!1,null,null,1,!1,!1,0,"/100 WBCs; /100WBCs; per hundred","LOINC","Ratio; NFr","Clinical","",null,null,null,null,!1],[!1,"per year","/a","1/ANN","",3168808781402895e-23,[0,-1,0,0,0,0,0],"/a",null,!1,null,null,1,!1,!1,0,"/Years; /yrs; yearly","LOINC","NRat","Clinical","",null,null,null,null,!1],[!1,"per centimeter of water","/cm[H2O]","1/CM[H2O]","",10197162129779282e-21,[1,2,-1,0,0,0,0],"/cm\xA0HO<sub><r>2</r></sub>",null,!1,null,null,1,!1,!1,0,"/cmH2O; /cm H2O; centimeters; centimetres","LOINC","InvPress","Clinical","",null,null,null,null,!1],[!1,"per day","/d","1/D","",11574074074074073e-21,[0,-1,0,0,0,0,0],"/d",null,!1,null,null,1,!1,!1,0,"/dy; per day","LOINC","NRat","Clinical","",null,null,null,null,!1],[!1,"per deciliter","/dL","1/DL","",1e4,[-3,0,0,0,0,0,0],"/dL",null,!1,null,null,1,!1,!1,0,"per dL; /deciliter; decilitre","LOINC","NCnc","Clinical","",null,null,null,null,!1],[!1,"per gram","/g","1/G","",1,[0,0,-1,0,0,0,0],"/g",null,!1,null,null,1,!1,!1,0,"/gm; /gram; per g","LOINC","NCnt","Clinical","",null,null,null,null,!1],[!1,"per hour","/h","1/HR","",.0002777777777777778,[0,-1,0,0,0,0,0],"/h",null,!1,null,null,1,!1,!1,0,"/hr; /hour; per hr","LOINC","NRat","Clinical","",null,null,null,null,!1],[!1,"per kilogram","/kg","1/KG","",.001,[0,0,-1,0,0,0,0],"/kg",null,!1,null,null,1,!1,!1,0,"per kg; per kilogram","LOINC","NCnt","Clinical","",null,null,null,null,!1],[!1,"per liter","/L","1/L","",1e3,[-3,0,0,0,0,0,0],"/L",null,!1,null,null,1,!1,!1,0,"/liter; litre","LOINC","NCnc","Clinical","",null,null,null,null,!1],[!1,"per square meter","/m2","1/M2","",1,[-2,0,0,0,0,0,0],"/m<sup>2</sup>",null,!1,null,null,1,!1,!1,0,"/m^2; /m*2; /sq. m; per square meter; meter squared; metre","LOINC","Naric","Clinical","",null,null,null,null,!1],[!1,"per cubic meter","/m3","1/M3","",1,[-3,0,0,0,0,0,0],"/m<sup>3</sup>",null,!1,null,null,1,!1,!1,0,"/m^3; /m*3; /cu. m; per cubic meter; meter cubed; per m3; metre","LOINC","NCncn","Clinical","",null,null,null,null,!1],[!1,"per milligram","/mg","1/MG","",1e3,[0,0,-1,0,0,0,0],"/mg",null,!1,null,null,1,!1,!1,0,"/milligram; per mg","LOINC","NCnt","Clinical","",null,null,null,null,!1],[!1,"per minute","/min","1/MIN","",.016666666666666666,[0,-1,0,0,0,0,0],"/min",null,!1,null,null,1,!1,!1,0,"/minute; per mins; breaths beats per minute","LOINC","NRat","Clinical","",null,null,null,null,!1],[!1,"per milliliter","/mL","1/ML","",1e6,[-3,0,0,0,0,0,0],"/mL",null,!1,null,null,1,!1,!1,0,"/milliliter; per mL; millilitre","LOINC","NCncn","Clinical","",null,null,null,null,!1],[!1,"per millimeter","/mm","1/MM","",1e3,[-1,0,0,0,0,0,0],"/mm",null,!1,null,null,1,!1,!1,0,"/millimeter; per mm; millimetre","LOINC","InvLen","Clinical","",null,null,null,null,!1],[!1,"per month","/mo","1/MO","",3802570537683474e-22,[0,-1,0,0,0,0,0],"/mo",null,!1,null,null,1,!1,!1,0,"/month; per mo; monthly; month","LOINC","NRat","Clinical","",null,null,null,null,!1],[!1,"per second","/s","1/S","",1,[0,-1,0,0,0,0,0],"/s",null,!1,null,null,1,!1,!1,0,"/second; /sec; per sec; frequency; Hertz; Herz; Hz; becquerels; Bq; s-1; s^-1","LOINC","NRat","Clinical","",null,null,null,null,!1],[!1,"per enzyme unit","/U","1/U","",9963241120049633e-32,[0,1,0,0,0,0,0],"/U",null,!1,null,null,1,!1,!1,-1,"/enzyme units; per U","LOINC","InvC; NCat","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)",null,null,null,null,!1],[!1,"per microliter","/uL","1/UL","",9999999999999999e-7,[-3,0,0,0,0,0,0],"/\u03BCL",null,!1,null,null,1,!1,!1,0,"/microliter; microlitre; /mcl; per uL","LOINC","ACnc","Clinical","",null,null,null,null,!1],[!1,"per week","/wk","1/WK","",16534391534391535e-22,[0,-1,0,0,0,0,0],"/wk",null,!1,null,null,1,!1,!1,0,"/week; per wk; weekly, weeks","LOINC","NRat","Clinical","",null,null,null,null,!1],[!1,"APL unit per milliliter","[APL'U]/mL","[APL'U]/ML","biologic activity of anticardiolipin IgA",1e6,[-3,0,0,0,0,0,0],"/mL","chemical",!1,null,null,1,!1,!0,0,"APL/mL; APL'U/mL; APL U/mL; APL/milliliter; IgA anticardiolipin units per milliliter; IgA Phospholipid Units; millilitre; biologic activity of","LOINC","ACnc","Clinical","Units for an anti phospholipid syndrome test","1","1","1",1,!1],[!1,"arbitrary unit per milliliter","[arb'U]/mL","[ARB'U]/ML","arbitrary",1e6,[-3,0,0,0,0,0,0],"(arb. U)/mL","chemical",!1,null,null,1,!1,!0,0,"arb'U/mL; arbU/mL; arb U/mL; arbitrary units per milliliter; millilitre","LOINC","ACnc","Clinical","relative unit of measurement to show the ratio of test measurement to reference measurement","1","1","1",1,!1],[!1,"colony forming units per liter","[CFU]/L","[CFU]/L","amount of a proliferating organism",1e3,[-3,0,0,0,0,0,0],"CFU/L","chemical",!1,null,null,1,!1,!0,0,"CFU per Liter; CFU/L","LOINC","NCnc","Clinical","","1","1","1",1,!1],[!1,"colony forming units per milliliter","[CFU]/mL","[CFU]/ML","amount of a proliferating organism",1e6,[-3,0,0,0,0,0,0],"CFU/mL","chemical",!1,null,null,1,!1,!0,0,"CFU per mL; CFU/mL","LOINC","NCnc","Clinical","","1","1","1",1,!1],[!1,"foot per foot - US","[ft_us]/[ft_us]","[FT_US]/[FT_US]","length",1,[0,0,0,0,0,0,0],"(ft<sub>us</sub>)/(ft<sub>us</sub>)","us-lengths",!1,null,null,1,!1,!1,0,"ft/ft; ft per ft; feet per feet; visual acuity","","LenRto","Clinical","distance ratio to measure 20:20 vision","m/3937","M/3937","1200",1200,!1],[!1,"GPL unit per milliliter","[GPL'U]/mL","[GPL'U]/ML","biologic activity of anticardiolipin IgG",1e6,[-3,0,0,0,0,0,0],"/mL","chemical",!1,null,null,1,!1,!0,0,"GPL U/mL; GPL'U/mL; GPL/mL; GPL U per mL; IgG Phospholipid Units per milliliters; IgG anticardiolipin units; millilitres ","LOINC","ACnc; AMass","Clinical","Units for an antiphospholipid test","1","1","1",1,!1],[!1,"international unit per 2 hour","[IU]/(2.h)","[IU]/(2.HR)","arbitrary",.0001388888888888889,[0,-1,0,0,0,0,0],"(i.U.)/h","chemical",!0,null,null,1,!1,!0,0,"IU/2hrs; IU/2 hours; IU per 2 hrs; international units per 2 hours","LOINC","ARat","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"international unit per 24 hour","[IU]/(24.h)","[IU]/(24.HR)","arbitrary",11574074074074073e-21,[0,-1,0,0,0,0,0],"(i.U.)/h","chemical",!0,null,null,1,!1,!0,0,"IU/24hr; IU/24 hours; IU per 24 hrs; international units per 24 hours","LOINC","ARat","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"international unit per day","[IU]/d","[IU]/D","arbitrary",11574074074074073e-21,[0,-1,0,0,0,0,0],"(i.U.)/d","chemical",!0,null,null,1,!1,!0,0,"IU/dy; IU/days; IU per dys; international units per day","LOINC","ARat","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"international unit per deciliter","[IU]/dL","[IU]/DL","arbitrary",1e4,[-3,0,0,0,0,0,0],"(i.U.)/dL","chemical",!0,null,null,1,!1,!0,0,"IU/dL; IU per dL; international units per deciliters; decilitres","LOINC","ACnc","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"international unit per gram","[IU]/g","[IU]/G","arbitrary",1,[0,0,-1,0,0,0,0],"(i.U.)/g","chemical",!0,null,null,1,!1,!0,0,"IU/gm; IU/gram; IU per gm; IU per g; international units per gram","LOINC","ACnt","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"international unit per hour","[IU]/h","[IU]/HR","arbitrary",.0002777777777777778,[0,-1,0,0,0,0,0],"(i.U.)/h","chemical",!0,null,null,1,!1,!0,0,"IU/hrs; IU per hours; international units per hour","LOINC","ARat","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"international unit per kilogram","[IU]/kg","[IU]/KG","arbitrary",.001,[0,0,-1,0,0,0,0],"(i.U.)/kg","chemical",!0,null,null,1,!1,!0,0,"IU/kg; IU/kilogram; IU per kg; units","LOINC","ACnt","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"international unit per kilogram per day","[IU]/kg/d","([IU]/KG)/D","arbitrary",11574074074074074e-24,[0,-1,-1,0,0,0,0],"((i.U.)/kg)/d","chemical",!0,null,null,1,!1,!0,0,"IU/kg/dy; IU/kg/day; IU/kilogram/day; IU per kg per day; units","LOINC","ACntRat","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"international unit per liter","[IU]/L","[IU]/L","arbitrary",1e3,[-3,0,0,0,0,0,0],"(i.U.)/L","chemical",!0,null,null,1,!1,!0,0,"IU/L; IU/liter; IU per liter; units; litre","LOINC","ACnc","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"international unit per minute","[IU]/min","[IU]/MIN","arbitrary",.016666666666666666,[0,-1,0,0,0,0,0],"(i.U.)/min","chemical",!0,null,null,1,!1,!0,0,"IU/min; IU/minute; IU per minute; international units","LOINC","ARat","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"international unit per milliliter","[IU]/mL","[IU]/ML","arbitrary",1e6,[-3,0,0,0,0,0,0],"(i.U.)/mL","chemical",!0,null,null,1,!1,!0,0,"IU/mL; IU per mL; international units per milliliter; millilitre","LOINC","ACnc","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"MPL unit per milliliter","[MPL'U]/mL","[MPL'U]/ML","biologic activity of anticardiolipin IgM",1e6,[-3,0,0,0,0,0,0],"/mL","chemical",!1,null,null,1,!1,!0,0,"MPL/mL; MPL U/mL; MPL'U/mL; IgM anticardiolipin units; IgM Phospholipid Units; millilitre ","LOINC","ACnc","Clinical",`units for antiphospholipid test
`,"1","1","1",1,!1],[!1,"number per high power field","{#}/[HPF]","{#}/[HPF]","",1,[0,0,0,0,0,0,0],"/HPF",null,!1,null,null,1,!1,!1,0,"#/HPF; # per HPF; number/HPF; numbers per high power field","LOINC","Naric","Clinical","",null,null,null,null,!1],[!1,"number per low power field","{#}/[LPF]","{#}/[LPF]","",1,[0,0,0,0,0,0,0],"/LPF",null,!1,null,null,1,!1,!1,0,"#/LPF; # per LPF; number/LPF; numbers per low power field","LOINC","Naric","Clinical","",null,null,null,null,!1],[!1,"IgA antiphosphatidylserine unit ","{APS'U}","{APS'U}","",1,[0,0,0,0,0,0,0],null,null,!1,null,null,1,!1,!1,0,"APS Unit; Phosphatidylserine Antibody IgA Units","LOINC","ACnc","Clinical","unit for antiphospholipid test",null,null,null,null,!1],[!1,"EIA index","{EIA_index}","{EIA_index}","",1,[0,0,0,0,0,0,0],null,null,!1,null,null,1,!1,!1,0,"enzyme immunoassay index","LOINC","ACnc","Clinical","",null,null,null,null,!1],[!1,"kaolin clotting time","{KCT'U}","{KCT'U}","",1,[0,0,0,0,0,0,0],null,null,!1,null,null,1,!1,!1,0,"KCT","LOINC","Time","Clinical","sensitive\xA0test to detect\xA0lupus anticoagulants; measured in seconds",null,null,null,null,!1],[!1,"IgM antiphosphatidylserine unit","{MPS'U}","{MPS'U}","",1,[0,0,0,0,0,0,0],null,null,!1,null,null,1,!1,!1,0,"Phosphatidylserine Antibody IgM Measurement ","LOINC","ACnc","Clinical","",null,null,null,null,!1],[!1,"trillion per liter","10*12/L","(10*12)/L","number",1e15,[-3,0,0,0,0,0,0],"(10<sup>12</sup>)/L","dimless",!1,null,null,1,!1,!1,0,"10^12/L; 10*12 per Liter; trillion per liter; litre","LOINC","NCncn","Clinical","","1","1","10",10,!1],[!1,"10^3 (used for cell count)","10*3","10*3","number",1e3,[0,0,0,0,0,0,0],"10<sup>3</sup>","dimless",!1,null,null,1,!1,!1,0,"10^3; thousand","LOINC","Num","Clinical","usually used for counting entities (e.g. blood cells) per volume","1","1","10",10,!1],[!1,"thousand per liter","10*3/L","(10*3)/L","number",1e6,[-3,0,0,0,0,0,0],"(10<sup>3</sup>)/L","dimless",!1,null,null,1,!1,!1,0,"10^3/L; 10*3 per liter; litre","LOINC","NCncn","Clinical","","1","1","10",10,!1],[!1,"thousand per milliliter","10*3/mL","(10*3)/ML","number",1e9,[-3,0,0,0,0,0,0],"(10<sup>3</sup>)/mL","dimless",!1,null,null,1,!1,!1,0,"10^3/mL; 10*3 per mL; thousand per milliliter; millilitre","LOINC","NCncn","Clinical","","1","1","10",10,!1],[!1,"thousand per microliter","10*3/uL","(10*3)/UL","number",9999999999999999e-4,[-3,0,0,0,0,0,0],"(10<sup>3</sup>)/\u03BCL","dimless",!1,null,null,1,!1,!1,0,"10^3/uL; 10*3 per uL; thousand per microliter; microlitre","LOINC","NCncn","Clinical","","1","1","10",10,!1],[!1,"10 thousand per microliter","10*4/uL","(10*4)/UL","number",1e13,[-3,0,0,0,0,0,0],"(10<sup>4</sup>)/\u03BCL","dimless",!1,null,null,1,!1,!1,0,"10^4/uL; 10*4 per uL; microlitre","LOINC","NCncn","Clinical","","1","1","10",10,!1],[!1,"10^5 ","10*5","10*5","number",1e5,[0,0,0,0,0,0,0],"10<sup>5</sup>","dimless",!1,null,null,1,!1,!1,0,"one hundred thousand","LOINC","Num","Clinical","","1","1","10",10,!1],[!1,"10^6","10*6","10*6","number",1e6,[0,0,0,0,0,0,0],"10<sup>6</sup>","dimless",!1,null,null,1,!1,!1,0,"","LOINC","Num","Clinical","","1","1","10",10,!1],[!1,"million colony forming unit per liter","10*6.[CFU]/L","((10*6).[CFU])/L","number",1e9,[-3,0,0,0,0,0,0],"((10<sup>6</sup>).CFU)/L","dimless",!1,null,null,1,!1,!0,0,"10*6 CFU/L; 10^6 CFU/L; 10^6CFU; 10^6 CFU per liter; million colony forming units; litre","LOINC","ACnc","Clinical","","1","1","10",10,!1],[!1,"million international unit","10*6.[IU]","(10*6).[IU]","number",1e6,[0,0,0,0,0,0,0],"(10<sup>6</sup>).(i.U.)","dimless",!1,null,null,1,!1,!0,0,"10*6 IU; 10^6 IU; international units","LOINC","arb","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","1","1","10",10,!1],[!1,"million per 24 hour","10*6/(24.h)","(10*6)/(24.HR)","number",11.574074074074074,[0,-1,0,0,0,0,0],"(10<sup>6</sup>)/h","dimless",!1,null,null,1,!1,!1,0,"10*6/24hrs; 10^6/24 hrs; 10*6 per 24 hrs; 10^6 per 24 hours","LOINC","NRat","Clinical","","1","1","10",10,!1],[!1,"million per kilogram","10*6/kg","(10*6)/KG","number",1e3,[0,0,-1,0,0,0,0],"(10<sup>6</sup>)/kg","dimless",!1,null,null,1,!1,!1,0,"10^6/kg; 10*6 per kg; 10*6 per kilogram; millions","LOINC","NCnt","Clinical","","1","1","10",10,!1],[!1,"million per liter","10*6/L","(10*6)/L","number",1e9,[-3,0,0,0,0,0,0],"(10<sup>6</sup>)/L","dimless",!1,null,null,1,!1,!1,0,"10^6/L; 10*6 per Liter; 10^6 per Liter; litre","LOINC","NCncn","Clinical","","1","1","10",10,!1],[!1,"million per milliliter","10*6/mL","(10*6)/ML","number",1e12,[-3,0,0,0,0,0,0],"(10<sup>6</sup>)/mL","dimless",!1,null,null,1,!1,!1,0,"10^6/mL; 10*6 per mL; 10*6 per milliliter; millilitre","LOINC","NCncn","Clinical","","1","1","10",10,!1],[!1,"million per microliter","10*6/uL","(10*6)/UL","number",1e15,[-3,0,0,0,0,0,0],"(10<sup>6</sup>)/\u03BCL","dimless",!1,null,null,1,!1,!1,0,"10^6/uL; 10^6 per uL; 10^6/mcl; 10^6 per mcl; 10^6 per microliter; microlitre","LOINC","NCncn","Clinical","","1","1","10",10,!1],[!1,"10^8","10*8","10*8","number",1e8,[0,0,0,0,0,0,0],"10<sup>8</sup>","dimless",!1,null,null,1,!1,!1,0,"100 million; one hundred million; 10^8","LOINC","Num","Clinical","","1","1","10",10,!1],[!1,"billion per liter","10*9/L","(10*9)/L","number",1e12,[-3,0,0,0,0,0,0],"(10<sup>9</sup>)/L","dimless",!1,null,null,1,!1,!1,0,"10^9/L; 10*9 per Liter; litre","LOINC","NCncn","Clinical","","1","1","10",10,!1],[!1,"billion per milliliter","10*9/mL","(10*9)/ML","number",1e15,[-3,0,0,0,0,0,0],"(10<sup>9</sup>)/mL","dimless",!1,null,null,1,!1,!1,0,"10^9/mL; 10*9 per mL; 10^9 per mL; 10*9 per milliliter; millilitre","LOINC","NCncn","Clinical","","1","1","10",10,!1],[!1,"billion per microliter","10*9/uL","(10*9)/UL","number",1e18,[-3,0,0,0,0,0,0],"(10<sup>9</sup>)/\u03BCL","dimless",!1,null,null,1,!1,!1,0,"10^9/uL; 10^9 per uL; 10^9/mcl; 10^9 per mcl; 10*9 per uL; 10*9 per mcl; 10*9/mcl; 10^9 per microliter; microlitre","LOINC","NCncn","Clinical","","1","1","10",10,!1],[!1,"10 liter per minute per square meter","10.L/(min.m2)","(10.L)/(MIN.M2)","",.00016666666666666666,[1,-1,0,0,0,0,0],"L/(min.(m<sup>2</sup>))",null,!1,null,null,1,!1,!1,0,"10 liters per minutes per square meter; 10 L per min per m2; m^2; 10 L/(min*m2); 10L/(min*m^2); litres; sq. meter; metre; meters squared","LOINC","ArVRat","Clinical","",null,null,null,null,!1],[!1,"10 liter per minute","10.L/min","(10.L)/MIN","",.00016666666666666666,[3,-1,0,0,0,0,0],"L/min",null,!1,null,null,1,!1,!1,0,"10 liters per minute; 10 L per min; 10L; 10 L/min; litre","LOINC","VRat","Clinical","",null,null,null,null,!1],[!1,"10 micronewton second per centimeter to the fifth power per square meter","10.uN.s/(cm5.m2)","((10.UN).S)/(CM5.M2)","",1e8,[-6,-1,1,0,0,0,0],"(\u03BCN.s)/(cm<sup>5</sup>).(m<sup>2</sup>)",null,!1,null,null,1,!1,!1,0,"dyne seconds per centimeter5 and square meter; dyn.s/(cm5.m2); dyn.s/cm5/m2; cm^5; m^2","LOINC","","Clinical","unit to measure systemic vascular resistance per body surface area",null,null,null,null,!1],[!1,"24 hour","24.h","24.HR","",86400,[0,1,0,0,0,0,0],"h",null,!1,null,null,1,!1,!1,0,"24hrs; 24 hrs; 24 hours; days; dy","LOINC","Time","Clinical","",null,null,null,null,!1],[!1,"ampere per meter","A/m","A/M","electric current",1,[-1,-1,0,0,0,1,0],"A/m","si",!0,null,null,1,!1,!1,0,"A/m; amp/meter; magnetic field strength; H; B; amperes per meter; metre","LOINC","","Clinical","unit of magnetic field strength","C/s","C/S","1",1,!1],[!1,"centigram","cg","CG","mass",.01,[0,0,1,0,0,0,0],"cg",null,!1,"M",null,1,!1,!1,0,"centigrams; cg; cgm","LOINC","Mass","Clinical","",null,null,null,null,!1],[!1,"centiliter","cL","CL","volume",1e-5,[3,0,0,0,0,0,0],"cL","iso1000",!0,null,null,1,!1,!1,0,"centiliters; centilitres","LOINC","Vol","Clinical","","l",null,"1",1,!1],[!1,"centimeter","cm","CM","length",.01,[1,0,0,0,0,0,0],"cm",null,!1,"L",null,1,!1,!1,0,"centimeters; centimetres","LOINC","Len","Clinical","",null,null,null,null,!1],[!1,"centimeter of water","cm[H2O]","CM[H2O]","pressure",98066.5,[-1,-2,1,0,0,0,0],"cm\xA0HO<sub><r>2</r></sub>","clinical",!0,null,null,1,!1,!1,0,"cm H2O; cmH2O; centimetres; pressure","LOINC","Pres","Clinical","unit of pressure mostly applies to blood pressure","kPa","KPAL","980665e-5",9.80665,!1],[!1,"centimeter of water per liter per second","cm[H2O]/L/s","(CM[H2O]/L)/S","pressure",98066500,[-4,-3,1,0,0,0,0],"((cm\xA0HO<sub><r>2</r></sub>)/L)/s","clinical",!0,null,null,1,!1,!1,0,"cm[H2O]/(L/s); cm[H2O].s/L; cm H2O/L/sec; cmH2O/L/sec; cmH2O/Liter; cmH2O per L per secs; centimeters of water per liters per second; centimetres; litres; cm[H2O]/(L/s)","LOINC","PresRat","Clinical","unit used to measure mean pulmonary resistance","kPa","KPAL","980665e-5",9.80665,!1],[!1,"centimeter of water per second per meter","cm[H2O]/s/m","(CM[H2O]/S)/M","pressure",98066.5,[-2,-3,1,0,0,0,0],"((cm\xA0HO<sub><r>2</r></sub>)/s)/m","clinical",!0,null,null,1,!1,!1,0,"cm[H2O]/(s.m); cm H2O/s/m; cmH2O; cmH2O/sec/m; cmH2O per secs per meters; centimeters of water per seconds per meter; centimetres; metre","LOINC","PresRat","Clinical","unit used to measure pulmonary pressure time product","kPa","KPAL","980665e-5",9.80665,!1],[!1,"centimeter of mercury","cm[Hg]","CM[HG]","pressure",1333220,[-1,-2,1,0,0,0,0],"cm\xA0Hg","clinical",!0,null,null,1,!1,!1,0,"centimeters of mercury; centimetres; cmHg; cm Hg","LOINC","Pres","Clinical","unit of pressure where 1 cmHg = 10 torr","kPa","KPAL","133.3220",133.322,!1],[!1,"square centimeter","cm2","CM2","length",1e-4,[2,0,0,0,0,0,0],"cm<sup>2</sup>",null,!1,"L",null,1,!1,!1,0,"cm^2; sq cm; centimeters squared; square centimeters; centimetre; area","LOINC","Area","Clinical","",null,null,null,null,!1],[!1,"square centimeter per second","cm2/s","CM2/S","length",1e-4,[2,-1,0,0,0,0,0],"(cm<sup>2</sup>)/s",null,!1,"L",null,1,!1,!1,0,"cm^2/sec; square centimeters per second; sq cm per sec; cm2; centimeters squared; centimetres","LOINC","AreaRat","Clinical","",null,null,null,null,!1],[!1,"centipoise","cP","CP","dynamic viscosity",1.0000000000000002,[-1,-1,1,0,0,0,0],"cP","cgs",!0,null,null,1,!1,!1,0,"cps; centiposes","LOINC","Visc","Clinical","unit of dynamic viscosity in the CGS system with base units: 10^\u22123 Pa.s = 1 mPa\xB7.s (1 millipascal second)","dyn.s/cm2","DYN.S/CM2","1",1,!1],[!1,"centistoke","cSt","CST","kinematic viscosity",1e-6,[2,-1,0,0,0,0,0],"cSt","cgs",!0,null,null,1,!1,!1,0,"centistokes","LOINC","Visc","Clinical","unit for kinematic viscosity with base units of mm^2/s (square millimeter per second)","cm2/s","CM2/S","1",1,!1],[!1,"dekaliter per minute","daL/min","DAL/MIN","volume",.00016666666666666666,[3,-1,0,0,0,0,0],"daL/min","iso1000",!0,null,null,1,!1,!1,0,"dekalitres; dekaliters per minute; per min","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"dekaliter per minute per square meter","daL/min/m2","(DAL/MIN)/M2","volume",.00016666666666666666,[1,-1,0,0,0,0,0],"(daL/min)/(m<sup>2</sup>)","iso1000",!0,null,null,1,!1,!1,0,"daL/min/m^2; daL/minute/m2; sq. meter; dekaliters per minutes per square meter; meter squared; dekalitres; metre","LOINC","ArVRat","Clinical","The area usually is the body surface area used to normalize cardiovascular measures for patient's size","l",null,"1",1,!1],[!1,"decibel","dB","DB","level",1,[0,0,0,0,0,0,0],"dB","levels",!0,null,"lg",.1,!0,!1,0,"decibels","LOINC","LogRto","Clinical","unit most commonly used in acoustics as unit of sound pressure level. (also see B[SPL] or bel sound pressure level). ","1",null,null,1,!1],[!1,"degree per second","deg/s","DEG/S","plane angle",.017453292519943295,[0,-1,0,1,0,0,0],"\xB0/s","iso1000",!1,null,null,1,!1,!1,0,"deg/sec; deg per sec; \xB0/sec; twist rate; angular speed; rotational speed","LOINC","ARat","Clinical","unit of angular (rotational) speed used to express turning rate","[pi].rad/360","[PI].RAD/360","2",2,!1],[!1,"decigram","dg","DG","mass",.1,[0,0,1,0,0,0,0],"dg",null,!1,"M",null,1,!1,!1,0,"decigrams; dgm; 0.1 grams; 1/10 gm","LOINC","Mass","Clinical","equal to 1/10 gram",null,null,null,null,!1],[!1,"deciliter","dL","DL","volume",1e-4,[3,0,0,0,0,0,0],"dL","iso1000",!0,null,null,1,!1,!1,0,"deciliters; decilitres; 0.1 liters; 1/10 L","LOINC","Vol","Clinical","equal to 1/10 liter","l",null,"1",1,!1],[!1,"decimeter","dm","DM","length",.1,[1,0,0,0,0,0,0],"dm",null,!1,"L",null,1,!1,!1,0,"decimeters; decimetres; 0.1 meters; 1/10 m; 10 cm; centimeters","LOINC","Len","Clinical","equal to 1/10 meter or 10 centimeters",null,null,null,null,!1],[!1,"square decimeter per square second","dm2/s2","DM2/S2","length",.010000000000000002,[2,-2,0,0,0,0,0],"(dm<sup>2</sup>)/(s<sup>2</sup>)",null,!1,"L",null,1,!1,!1,0,"dm2 per s2; dm^2/s^2; decimeters squared per second squared; sq dm; sq sec","LOINC","EngMass (massic energy)","Clinical","units for energy per unit mass or Joules per kilogram (J/kg = kg.m2/s2/kg = m2/s2) ",null,null,null,null,!1],[!1,"dyne second per centimeter per square meter","dyn.s/(cm.m2)","(DYN.S)/(CM.M2)","force",1,[-2,-1,1,0,0,0,0],"(dyn.s)/(cm.(m<sup>2</sup>))","cgs",!0,null,null,1,!1,!1,0,"(dyn*s)/(cm*m2); (dyn*s)/(cm*m^2); dyn s per cm per m2; m^2; dyne seconds per centimeters per square meter; centimetres; sq. meter; squared","LOINC","","Clinical","","g.cm/s2","G.CM/S2","1",1,!1],[!1,"dyne second per centimeter","dyn.s/cm","(DYN.S)/CM","force",1,[0,-1,1,0,0,0,0],"(dyn.s)/cm","cgs",!0,null,null,1,!1,!1,0,"(dyn*s)/cm; dyn sec per cm; seconds; centimetre; dyne seconds","LOINC","","Clinical","","g.cm/s2","G.CM/S2","1",1,!1],[!1,"equivalent per liter","eq/L","EQ/L","amount of substance",60221366999999994e10,[-3,0,0,0,0,0,0],"eq/L","chemical",!0,null,null,1,!1,!1,1,"eq/liter; eq/litre; eqs; equivalents per liter; litre","LOINC","SCnc","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"equivalent per milliliter","eq/mL","EQ/ML","amount of substance",60221367e22,[-3,0,0,0,0,0,0],"eq/mL","chemical",!0,null,null,1,!1,!1,1,"equivalent/milliliter; equivalents per milliliter; eq per mL; millilitre","LOINC","SCnc","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"equivalent per millimole","eq/mmol","EQ/MMOL","amount of substance",1e3,[0,0,0,0,0,0,0],"eq/mmol","chemical",!0,null,null,1,!1,!1,0,"equivalent/millimole; equivalents per millimole; eq per mmol","LOINC","SRto","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"equivalent per micromole","eq/umol","EQ/UMOL","amount of substance",1e6,[0,0,0,0,0,0,0],"eq/\u03BCmol","chemical",!0,null,null,1,!1,!1,0,"equivalent/micromole; equivalents per micromole; eq per umol","LOINC","SRto","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"femtogram","fg","FG","mass",1e-15,[0,0,1,0,0,0,0],"fg",null,!1,"M",null,1,!1,!1,0,"fg; fgm; femtograms; weight","LOINC","Mass","Clinical","equal to 10^-15 grams",null,null,null,null,!1],[!1,"femtoliter","fL","FL","volume",1e-18,[3,0,0,0,0,0,0],"fL","iso1000",!0,null,null,1,!1,!1,0,"femtolitres; femtoliters","LOINC","Vol; EntVol","Clinical","equal to 10^-15 liters","l",null,"1",1,!1],[!1,"femtometer","fm","FM","length",1e-15,[1,0,0,0,0,0,0],"fm",null,!1,"L",null,1,!1,!1,0,"femtometres; femtometers","LOINC","Len","Clinical","equal to 10^-15 meters",null,null,null,null,!1],[!1,"femtomole","fmol","FMOL","amount of substance",602213670,[0,0,0,0,0,0,0],"fmol","si",!0,null,null,1,!1,!1,1,"femtomoles","LOINC","EntSub","Clinical","equal to 10^-15 moles","10*23","10*23","6.0221367",6.0221367,!1],[!1,"femtomole per gram","fmol/g","FMOL/G","amount of substance",602213670,[0,0,-1,0,0,0,0],"fmol/g","si",!0,null,null,1,!1,!1,1,"femtomoles; fmol/gm; fmol per gm","LOINC","SCnt","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"femtomole per liter","fmol/L","FMOL/L","amount of substance",60221367e4,[-3,0,0,0,0,0,0],"fmol/L","si",!0,null,null,1,!1,!1,1,"femtomoles; fmol per liter; litre","LOINC","SCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"femtomole per milligram","fmol/mg","FMOL/MG","amount of substance",60221367e4,[0,0,-1,0,0,0,0],"fmol/mg","si",!0,null,null,1,!1,!1,1,"fmol per mg; femtomoles","LOINC","SCnt","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"femtomole per milliliter","fmol/mL","FMOL/ML","amount of substance",60221367e7,[-3,0,0,0,0,0,0],"fmol/mL","si",!0,null,null,1,!1,!1,1,"femtomoles; millilitre; fmol per mL; fmol per milliliter","LOINC","SCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"gram meter","g.m","G.M","mass",1,[1,0,1,0,0,0,0],"g.m",null,!1,"M",null,1,!1,!1,0,"g*m; gxm; meters; metres","LOINC","Enrg","Clinical","Unit for measuring stroke work (heart work)",null,null,null,null,!1],[!1,"gram per 100 gram","g/(100.g)","G/(100.G)","mass",.01,[0,0,0,0,0,0,0],"g/g",null,!1,"M",null,1,!1,!1,0,"g/100 gm; 100gm; grams per 100 grams; gm per 100 gm","LOINC","MCnt","Clinical","",null,null,null,null,!1],[!1,"gram per 12 hour","g/(12.h)","G/(12.HR)","mass",23148148148148147e-21,[0,-1,1,0,0,0,0],"g/h",null,!1,"M",null,1,!1,!1,0,"gm/12hrs; 12 hrs; gm per 12 hrs; 12hrs; grams per 12 hours","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"gram per 24 hour","g/(24.h)","G/(24.HR)","mass",11574074074074073e-21,[0,-1,1,0,0,0,0],"g/h",null,!1,"M",null,1,!1,!1,0,"gm/24hrs; gm/24 hrs; gm per 24 hrs; 24hrs; grams per 24 hours; gm/dy; gm per dy; grams per day","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"gram per 3 days","g/(3.d)","G/(3.D)","mass",3858024691358025e-21,[0,-1,1,0,0,0,0],"g/d",null,!1,"M",null,1,!1,!1,0,"gm/3dy; gm/3 dy; gm per 3 days; grams","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"gram per 4 hour","g/(4.h)","G/(4.HR)","mass",6944444444444444e-20,[0,-1,1,0,0,0,0],"g/h",null,!1,"M",null,1,!1,!1,0,"gm/4hrs; gm/4 hrs; gm per 4 hrs; 4hrs; grams per 4 hours","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"gram per 48 hour","g/(48.h)","G/(48.HR)","mass",5787037037037037e-21,[0,-1,1,0,0,0,0],"g/h",null,!1,"M",null,1,!1,!1,0,"gm/48hrs; gm/48 hrs; gm per 48 hrs; 48hrs; grams per 48 hours","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"gram per 5 hour","g/(5.h)","G/(5.HR)","mass",5555555555555556e-20,[0,-1,1,0,0,0,0],"g/h",null,!1,"M",null,1,!1,!1,0,"gm/5hrs; gm/5 hrs; gm per 5 hrs; 5hrs; grams per 5 hours","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"gram per 6 hour","g/(6.h)","G/(6.HR)","mass",46296296296296294e-21,[0,-1,1,0,0,0,0],"g/h",null,!1,"M",null,1,!1,!1,0,"gm/6hrs; gm/6 hrs; gm per 6 hrs; 6hrs; grams per 6 hours","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"gram per 72 hour","g/(72.h)","G/(72.HR)","mass",3858024691358025e-21,[0,-1,1,0,0,0,0],"g/h",null,!1,"M",null,1,!1,!1,0,"gm/72hrs; gm/72 hrs; gm per 72 hrs; 72hrs; grams per 72 hours","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"gram per cubic centimeter","g/cm3","G/CM3","mass",999999.9999999999,[-3,0,1,0,0,0,0],"g/(cm<sup>3</sup>)",null,!1,"M",null,1,!1,!1,0,"g/cm^3; gm per cm3; g per cm^3; grams per centimeter cubed; cu. cm; centimetre; g/mL; gram per milliliter; millilitre","LOINC","MCnc","Clinical","g/cm3 = g/mL",null,null,null,null,!1],[!1,"gram per day","g/d","G/D","mass",11574074074074073e-21,[0,-1,1,0,0,0,0],"g/d",null,!1,"M",null,1,!1,!1,0,"gm/dy; gm per dy; grams per day; gm/24hrs; gm/24 hrs; gm per 24 hrs; 24hrs; grams per 24 hours; serving","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"gram per deciliter","g/dL","G/DL","mass",1e4,[-3,0,1,0,0,0,0],"g/dL",null,!1,"M",null,1,!1,!1,0,"gm/dL; gm per dL; grams per deciliter; decilitre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"gram per gram","g/g","G/G","mass",1,[0,0,0,0,0,0,0],"g/g",null,!1,"M",null,1,!1,!1,0,"gm; grams","LOINC","MRto ","Clinical","",null,null,null,null,!1],[!1,"gram per hour","g/h","G/HR","mass",.0002777777777777778,[0,-1,1,0,0,0,0],"g/h",null,!1,"M",null,1,!1,!1,0,"gm/hr; gm per hr; grams; intake; output","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"gram per hour per square meter","g/h/m2","(G/HR)/M2","mass",.0002777777777777778,[-2,-1,1,0,0,0,0],"(g/h)/(m<sup>2</sup>)",null,!1,"M",null,1,!1,!1,0,"gm/hr/m2; gm/h/m2; /m^2; sq. m; g per hr per m2; grams per hours per square meter; meter squared; metre","LOINC","ArMRat","Clinical","",null,null,null,null,!1],[!1,"gram per kilogram","g/kg ","G/KG","mass",.001,[0,0,0,0,0,0,0],"g/kg",null,!1,"M",null,1,!1,!1,0,"g per kg; gram per kilograms","LOINC","MCnt","Clinical","",null,null,null,null,!1],[!1,"gram per kilogram per 8 hour ","g/kg/(8.h)","(G/KG)/(8.HR)","mass",3472222222222222e-23,[0,-1,0,0,0,0,0],"(g/kg)/h",null,!1,"M",null,1,!1,!1,0,"g/(8.kg.h); gm/kg/8hrs; 8 hrs; g per kg per 8 hrs; 8hrs; grams per kilograms per 8 hours; shift","LOINC","MCntRat; RelMRat","Clinical","unit often used to describe mass in grams of protein consumed in a 8 hours, divided by the subject's body weight in kilograms. Also used to measure mass dose rate per body mass",null,null,null,null,!1],[!1,"gram per kilogram per day","g/kg/d","(G/KG)/D","mass",11574074074074074e-24,[0,-1,0,0,0,0,0],"(g/kg)/d",null,!1,"M",null,1,!1,!1,0,"g/(kg.d); gm/kg/dy; gm per kg per dy; grams per kilograms per day","LOINC","RelMRat","Clinical","unit often used to describe mass in grams of protein consumed in a day, divided by the subject's body weight in kilograms. Also used to measure mass dose rate per body mass",null,null,null,null,!1],[!1,"gram per kilogram per hour","g/kg/h","(G/KG)/HR","mass",27777777777777776e-23,[0,-1,0,0,0,0,0],"(g/kg)/h",null,!1,"M",null,1,!1,!1,0,"g/(kg.h); g/kg/hr; g per kg per hrs; grams per kilograms per hour","LOINC","MCntRat; RelMRat","Clinical","unit used to measure mass dose rate per body mass",null,null,null,null,!1],[!1,"gram per kilogram per minute","g/kg/min","(G/KG)/MIN","mass",16666666666666667e-21,[0,-1,0,0,0,0,0],"(g/kg)/min",null,!1,"M",null,1,!1,!1,0,"g/(kg.min); g/kg/min; g per kg per min; grams per kilograms per minute","LOINC","MCntRat; RelMRat","Clinical","unit used to measure mass dose rate per body mass",null,null,null,null,!1],[!1,"gram per liter","g/L","G/L","mass",1e3,[-3,0,1,0,0,0,0],"g/L",null,!1,"M",null,1,!1,!1,0,"gm per liter; g/liter; grams per liter; litre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"gram per square meter","g/m2","G/M2","mass",1,[-2,0,1,0,0,0,0],"g/(m<sup>2</sup>)",null,!1,"M",null,1,!1,!1,0,"g/m^2; gram/square meter; g/sq m; g per m2; g per m^2; grams per square meter; meters squared; metre","LOINC","ArMass","Clinical","Tests measure myocardial mass (heart ventricle system) per body surface area; unit used to measure mass dose per body surface area",null,null,null,null,!1],[!1,"gram per milligram","g/mg","G/MG","mass",1e3,[0,0,0,0,0,0,0],"g/mg",null,!1,"M",null,1,!1,!1,0,"g per mg; grams per milligram","LOINC","MCnt; MRto","Clinical","",null,null,null,null,!1],[!1,"gram per minute","g/min","G/MIN","mass",.016666666666666666,[0,-1,1,0,0,0,0],"g/min",null,!1,"M",null,1,!1,!1,0,"g per min; grams per minute; gram/minute","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"gram per milliliter","g/mL","G/ML","mass",1e6,[-3,0,1,0,0,0,0],"g/mL",null,!1,"M",null,1,!1,!1,0,"g per mL; grams per milliliter; millilitre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"gram per millimole","g/mmol","G/MMOL","mass",16605401866749388e-37,[0,0,1,0,0,0,0],"g/mmol",null,!1,"M",null,1,!1,!1,-1,"grams per millimole; g per mmol","LOINC","Ratio","Clinical","",null,null,null,null,!1],[!1,"joule per liter","J/L","J/L","energy",1e6,[-1,-2,1,0,0,0,0],"J/L","si",!0,null,null,1,!1,!1,0,"joules per liter; litre; J per L","LOINC","EngCnc","Clinical","","N.m","N.M","1",1,!1],[!1,"degree Kelvin per Watt","K/W","K/W","temperature",.001,[-2,3,-1,0,1,0,0],"K/W",null,!1,"C",null,1,!1,!1,0,"degree Kelvin/Watt; K per W; thermal ohm; thermal resistance; degrees","LOINC","TempEngRat","Clinical","unit for absolute thermal resistance equal to the reciprocal of thermal conductance. Unit used for tests to measure work of breathing",null,null,null,null,!1],[!1,"kilo international unit per liter","k[IU]/L","K[IU]/L","arbitrary",1e6,[-3,0,0,0,0,0,0],"(ki.U.)/L","chemical",!0,null,null,1,!1,!0,0,"kIU/L; kIU per L; kIU per liter; kilo international units; litre; allergens; allergy units","LOINC","ACnc","Clinical","IgE has an WHO reference standard so IgE allergen testing can be reported as k[IU]/L","[iU]","[IU]","1",1,!1],[!1,"kilo international unit per milliliter","k[IU]/mL","K[IU]/ML","arbitrary",1e9,[-3,0,0,0,0,0,0],"(ki.U.)/mL","chemical",!0,null,null,1,!1,!0,0,"kIU/mL; kIU per mL; kIU per milliliter; kilo international units; millilitre; allergens; allergy units","LOINC","ACnc","Clinical","IgE has an WHO reference standard so IgE allergen testing can be reported as k[IU]/mL","[iU]","[IU]","1",1,!1],[!1,"katal per kilogram","kat/kg","KAT/KG","catalytic activity",60221367e13,[0,-1,-1,0,0,0,0],"kat/kg","chemical",!0,null,null,1,!1,!1,1,"kat per kg; katals per kilogram; mol/s/kg; moles per seconds per kilogram","LOINC","CCnt","Clinical","kat is a unit of catalytic activity with base units = mol/s. Rarely used because its units are too large to practically express catalytic activity. See enzyme unit [U] which is the standard unit for catalytic activity.","mol/s","MOL/S","1",1,!1],[!1,"katal per liter","kat/L","KAT/L","catalytic activity",60221366999999994e10,[-3,-1,0,0,0,0,0],"kat/L","chemical",!0,null,null,1,!1,!1,1,"kat per L; katals per liter; litre; mol/s/L; moles per seconds per liter","LOINC","CCnc","Clinical","kat is a unit of catalytic activity with base units = mol/s. Rarely used because its units are too large to practically express catalytic activity. See enzyme unit [U] which is the standard unit for catalytic activity.","mol/s","MOL/S","1",1,!1],[!1,"kilocalorie","kcal","KCAL","energy",4184e3,[2,-2,1,0,0,0,0],"kcal","heat",!0,null,null,1,!1,!1,0,"kilogram calories; large calories; food calories; kcals","LOINC","EngRat","Clinical","It is equal to 1000 calories (equal to 4.184 kJ). But in practical usage, kcal refers to food calories which excludes caloric content in fiber and other constitutes that is not digestible by humans. Also see nutrition label Calories ([Cal])","cal_th","CAL_TH","1",1,!1],[!1,"kilocalorie per 24 hour","kcal/(24.h)","KCAL/(24.HR)","energy",48.425925925925924,[2,-3,1,0,0,0,0],"kcal/h","heat",!0,null,null,1,!1,!1,0,"kcal/24hrs; kcal/24 hrs; kcal per 24hrs; kilocalories per 24 hours; kilojoules; kJ/24hr; kJ/(24.h); kJ/dy; kilojoules per days; intake; calories burned; metabolic rate; food calories","","EngRat","Clinical","","cal_th","CAL_TH","1",1,!1],[!1,"kilocalorie per ounce","kcal/[oz_av]","KCAL/[OZ_AV]","energy",147586.25679704445,[2,-2,0,0,0,0,0],"kcal/oz","heat",!0,null,null,1,!1,!1,0,"kcal/oz; kcal per ozs; large calories per ounces; food calories; servings; international","LOINC","EngCnt","Clinical","used in nutrition to represent calorie of food","cal_th","CAL_TH","1",1,!1],[!1,"kilocalorie per day","kcal/d","KCAL/D","energy",48.425925925925924,[2,-3,1,0,0,0,0],"kcal/d","heat",!0,null,null,1,!1,!1,0,"kcal/dy; kcal per day; kilocalories per days; kilojoules; kJ/dy; kilojoules per days; intake; calories burned; metabolic rate; food calories","LOINC","EngRat","Clinical","unit in nutrition for food intake (measured in calories) in a day","cal_th","CAL_TH","1",1,!1],[!1,"kilocalorie per hour","kcal/h","KCAL/HR","energy",1162.2222222222222,[2,-3,1,0,0,0,0],"kcal/h","heat",!0,null,null,1,!1,!1,0,"kcal/hrs; kcals per hr; intake; kilocalories per hours; kilojoules","LOINC","EngRat","Clinical","used in nutrition to represent caloric requirement or consumption","cal_th","CAL_TH","1",1,!1],[!1,"kilocalorie per kilogram per 24 hour","kcal/kg/(24.h)","(KCAL/KG)/(24.HR)","energy",.04842592592592593,[2,-3,0,0,0,0,0],"(kcal/kg)/h","heat",!0,null,null,1,!1,!1,0,"kcal/kg/24hrs; 24 hrs; kcal per kg per 24hrs; kilocalories per kilograms per 24 hours; kilojoules","LOINC","EngCntRat","Clinical","used in nutrition to represent caloric requirement per day based on subject's body weight in kilograms","cal_th","CAL_TH","1",1,!1],[!1,"kilogram","kg","KG","mass",1e3,[0,0,1,0,0,0,0],"kg",null,!1,"M",null,1,!1,!1,0,"kilograms; kgs","LOINC","Mass","Clinical","",null,null,null,null,!1],[!1,"kilogram meter per second","kg.m/s","(KG.M)/S","mass",1e3,[1,-1,1,0,0,0,0],"(kg.m)/s",null,!1,"M",null,1,!1,!1,0,"kg*m/s; kg.m per sec; kg*m per sec; p; momentum","LOINC","","Clinical","unit for momentum =  mass times velocity",null,null,null,null,!1],[!1,"kilogram per second per square meter","kg/(s.m2)","KG/(S.M2)","mass",1e3,[-2,-1,1,0,0,0,0],"kg/(s.(m<sup>2</sup>))",null,!1,"M",null,1,!1,!1,0,"kg/(s*m2); kg/(s*m^2); kg per s per m2; per sec; per m^2; kilograms per seconds per square meter; meter squared; metre","LOINC","ArMRat","Clinical","",null,null,null,null,!1],[!1,"kilogram per hour","kg/h","KG/HR","mass",.2777777777777778,[0,-1,1,0,0,0,0],"kg/h",null,!1,"M",null,1,!1,!1,0,"kg/hr; kg per hr; kilograms per hour","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"kilogram per liter","kg/L","KG/L","mass",1e6,[-3,0,1,0,0,0,0],"kg/L",null,!1,"M",null,1,!1,!1,0,"kg per liter; litre; kilograms","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"kilogram per square meter","kg/m2","KG/M2","mass",1e3,[-2,0,1,0,0,0,0],"kg/(m<sup>2</sup>)",null,!1,"M",null,1,!1,!1,0,"kg/m^2; kg/sq. m; kg per m2; per m^2; per sq. m; kilograms; meter squared; metre; BMI","LOINC","Ratio","Clinical","units for body mass index (BMI)",null,null,null,null,!1],[!1,"kilogram per cubic meter","kg/m3","KG/M3","mass",1e3,[-3,0,1,0,0,0,0],"kg/(m<sup>3</sup>)",null,!1,"M",null,1,!1,!1,0,"kg/m^3; kg/cu. m; kg per m3; per m^3; per cu. m; kilograms; meters cubed; metre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"kilogram per minute","kg/min","KG/MIN","mass",16.666666666666668,[0,-1,1,0,0,0,0],"kg/min",null,!1,"M",null,1,!1,!1,0,"kilogram/minute; kg per min; kilograms per minute","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"kilogram per mole","kg/mol","KG/MOL","mass",16605401866749388e-37,[0,0,1,0,0,0,0],"kg/mol",null,!1,"M",null,1,!1,!1,-1,"kilogram/mole; kg per mol; kilograms per mole","LOINC","SCnt","Clinical","",null,null,null,null,!1],[!1,"kilogram per second","kg/s","KG/S","mass",1e3,[0,-1,1,0,0,0,0],"kg/s",null,!1,"M",null,1,!1,!1,0,"kg/sec; kilogram/second; kg per sec; kilograms; second","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"kiloliter","kL","KL","volume",1,[3,0,0,0,0,0,0],"kL","iso1000",!0,null,null,1,!1,!1,0,"kiloliters; kilolitres; m3; m^3; meters cubed; metre","LOINC","Vol","Clinical","","l",null,"1",1,!1],[!1,"kilometer","km","KM","length",1e3,[1,0,0,0,0,0,0],"km",null,!1,"L",null,1,!1,!1,0,"kilometers; kilometres; distance","LOINC","Len","Clinical","",null,null,null,null,!1],[!1,"kilopascal","kPa","KPAL","pressure",1e6,[-1,-2,1,0,0,0,0],"kPa","si",!0,null,null,1,!1,!1,0,"kilopascals; pressure","LOINC","Pres; PPresDiff","Clinical","","N/m2","N/M2","1",1,!1],[!1,"kilosecond","ks","KS","time",1e3,[0,1,0,0,0,0,0],"ks",null,!1,"T",null,1,!1,!1,0,"kiloseconds; ksec","LOINC","Time","Clinical","",null,null,null,null,!1],[!1,"kilo enzyme unit","kU","KU","catalytic activity",100368945e11,[0,-1,0,0,0,0,0],"kU","chemical",!0,null,null,1,!1,!1,1,"units; mmol/min; millimoles per minute","LOINC","CAct","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min); 1 kU = 1 mmol/min","umol/min","UMOL/MIN","1",1,!1],[!1,"kilo enzyme unit per gram","kU/g","KU/G","catalytic activity",100368945e11,[0,-1,-1,0,0,0,0],"kU/g","chemical",!0,null,null,1,!1,!1,1,"units per grams; kU per gm","LOINC","CCnt","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min); 1 kU = 1 mmol/min","umol/min","UMOL/MIN","1",1,!1],[!1,"kilo enzyme unit per liter","kU/L","KU/L","catalytic activity",100368945e14,[-3,-1,0,0,0,0,0],"kU/L","chemical",!0,null,null,1,!1,!1,1,"units per liter; litre; enzymatic activity; enzyme activity per volume; activities","LOINC","ACnc; CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min); 1 kU = 1 mmol/min","umol/min","UMOL/MIN","1",1,!1],[!1,"kilo enzyme unit per milliliter","kU/mL","KU/ML","catalytic activity",100368945e17,[-3,-1,0,0,0,0,0],"kU/mL","chemical",!0,null,null,1,!1,!1,1,"kU per mL; units per milliliter; millilitre; enzymatic activity per volume; enzyme activities","LOINC","CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min); 1 kU = 1 mmol/min","umol/min","UMOL/MIN","1",1,!1],[!1,"Liters per 24 hour","L/(24.h)","L/(24.HR)","volume",11574074074074074e-24,[3,-1,0,0,0,0,0],"L/h","iso1000",!0,null,null,1,!1,!1,0,"L/24hrs; L/24 hrs; L per 24hrs; liters per 24 hours; day; dy; litres; volume flow rate","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"Liters per 8 hour","L/(8.h)","L/(8.HR)","volume",3472222222222222e-23,[3,-1,0,0,0,0,0],"L/h","iso1000",!0,null,null,1,!1,!1,0,"L/8hrs; L/8 hrs; L per 8hrs; liters per 8 hours; litres; volume flow rate; shift","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"Liters per minute per square meter","L/(min.m2) ","L/(MIN.M2)","volume",16666666666666667e-21,[1,-1,0,0,0,0,0],"L/(min.(m<sup>2</sup>))","iso1000",!0,null,null,1,!1,!1,0,"L/(min.m2); L/min/m^2; L/min/sq. meter; L per min per m2; m^2; liters per minutes per square meter; meter squared; litres; metre ","LOINC","ArVRat","Clinical","unit for tests that measure cardiac output per body surface area (cardiac index)","l",null,"1",1,!1],[!1,"Liters per day","L/d","L/D","volume",11574074074074074e-24,[3,-1,0,0,0,0,0],"L/d","iso1000",!0,null,null,1,!1,!1,0,"L/dy; L per day; 24hrs; 24 hrs; 24 hours; liters; litres","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"Liters per hour","L/h","L/HR","volume",27777777777777776e-23,[3,-1,0,0,0,0,0],"L/h","iso1000",!0,null,null,1,!1,!1,0,"L/hr; L per hr; litres","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"Liters per kilogram","L/kg","L/KG","volume",1e-6,[3,0,-1,0,0,0,0],"L/kg","iso1000",!0,null,null,1,!1,!1,0,"L per kg; litre","LOINC","VCnt","Clinical","","l",null,"1",1,!1],[!1,"Liters per liter","L/L","L/L","volume",1,[0,0,0,0,0,0,0],"L/L","iso1000",!0,null,null,1,!1,!1,0,"L per L; liter/liter; litre","LOINC","VFr","Clinical","","l",null,"1",1,!1],[!1,"Liters per minute","L/min","L/MIN","volume",16666666666666667e-21,[3,-1,0,0,0,0,0],"L/min","iso1000",!0,null,null,1,!1,!1,0,"liters per minute; litre","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"Liters per minute per square meter","L/min/m2","(L/MIN)/M2","volume",16666666666666667e-21,[1,-1,0,0,0,0,0],"(L/min)/(m<sup>2</sup>)","iso1000",!0,null,null,1,!1,!1,0,"L/(min.m2); L/min/m^2; L/min/sq. meter; L per min per m2; m^2; liters per minutes per square meter; meter squared; litres; metre ","","ArVRat","Clinical","unit for tests that measure cardiac output per body surface area (cardiac index)","l",null,"1",1,!1],[!1,"Liters per second","L/s","L/S","volume",.001,[3,-1,0,0,0,0,0],"L/s","iso1000",!0,null,null,1,!1,!1,0,"L per sec; litres","LOINC","VRat","Clinical","unit used often to measure gas flow and peak expiratory flow","l",null,"1",1,!1],[!1,"Liters per second per square second","L/s/s2","(L/S)/S2","volume",.001,[3,-3,0,0,0,0,0],"(L/s)/(s<sup>2</sup>)","iso1000",!0,null,null,1,!1,!1,0,"L/s/s^2; L/sec/sec2; L/sec/sec^2; L/sec/sq. sec; L per s per s2; L per sec per sec2; s^2; sec^2; liters per seconds per square second; second squared; litres ","LOINC","ArVRat","Clinical","unit for tests that measure cardiac output/body surface area","l",null,"1",1,!1],[!1,"lumen square meter","lm.m2","LM.M2","luminous flux",1,[2,0,0,2,0,0,1],"lm.(m<sup>2</sup>)","si",!0,null,null,1,!1,!1,0,"lm*m2; lm*m^2; lumen meters squared; lumen sq. meters; metres","LOINC","","Clinical","","cd.sr","CD.SR","1",1,!1],[!1,"meter per second","m/s","M/S","length",1,[1,-1,0,0,0,0,0],"m/s",null,!1,"L",null,1,!1,!1,0,"meter/second; m per sec; meters per second; metres; velocity; speed","LOINC","Vel","Clinical","unit of velocity",null,null,null,null,!1],[!1,"meter per square second","m/s2","M/S2","length",1,[1,-2,0,0,0,0,0],"m/(s<sup>2</sup>)",null,!1,"L",null,1,!1,!1,0,"m/s^2; m/sq. sec; m per s2; per s^2; meters per square second; second squared; sq second; metres; acceleration","LOINC","Accel","Clinical","unit of acceleration",null,null,null,null,!1],[!1,"milli international unit per liter","m[IU]/L","M[IU]/L","arbitrary",1,[-3,0,0,0,0,0,0],"(mi.U.)/L","chemical",!0,null,null,1,!1,!0,0,"mIU/L; m IU/L; mIU per liter; units; litre","LOINC","ACnc","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"milli  international unit per milliliter","m[IU]/mL","M[IU]/ML","arbitrary",1000.0000000000001,[-3,0,0,0,0,0,0],"(mi.U.)/mL","chemical",!0,null,null,1,!1,!0,0,"mIU/mL; m IU/mL; mIU per mL; milli international units per milliliter; millilitre","LOINC","ACnc","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"square meter","m2","M2","length",1,[2,0,0,0,0,0,0],"m<sup>2</sup>",null,!1,"L",null,1,!1,!1,0,"m^2; sq m; square meters; meters squared; metres","LOINC","Area","Clinical","unit often used to represent body surface area",null,null,null,null,!1],[!1,"square meter per second","m2/s","M2/S","length",1,[2,-1,0,0,0,0,0],"(m<sup>2</sup>)/s",null,!1,"L",null,1,!1,!1,0,"m^2/sec; m2 per sec; m^2 per sec; sq m/sec; meters squared/seconds; sq m per sec; meters squared; metres","LOINC","ArRat","Clinical","",null,null,null,null,!1],[!1,"cubic meter per second","m3/s","M3/S","length",1,[3,-1,0,0,0,0,0],"(m<sup>3</sup>)/s",null,!1,"L",null,1,!1,!1,0,"m^3/sec; m3 per sec; m^3 per sec; cu m/sec; cubic meters per seconds; meters cubed; metres","LOINC","VRat","Clinical","",null,null,null,null,!1],[!1,"milliampere","mA","MA","electric current",.001,[0,-1,0,0,0,1,0],"mA","si",!0,null,null,1,!1,!1,0,"mamp; milliamperes","LOINC","ElpotRat","Clinical","unit of electric current","C/s","C/S","1",1,!1],[!1,"millibar","mbar","MBAR","pressure",1e5,[-1,-2,1,0,0,0,0],"mbar","iso1000",!0,null,null,1,!1,!1,0,"millibars","LOINC","Pres","Clinical","unit of pressure","Pa","PAL","1e5",1e5,!1],[!1,"millibar second per liter","mbar.s/L","(MBAR.S)/L","pressure",1e8,[-4,-1,1,0,0,0,0],"(mbar.s)/L","iso1000",!0,null,null,1,!1,!1,0,"mbar*s/L; mbar.s per L; mbar*s per L; millibar seconds per liter; millibar second per litre","LOINC","","Clinical","unit to measure expiratory resistance","Pa","PAL","1e5",1e5,!1],[!1,"millibar per liter per second","mbar/L/s","(MBAR/L)/S","pressure",1e8,[-4,-3,1,0,0,0,0],"(mbar/L)/s","iso1000",!0,null,null,1,!1,!1,0,"mbar/(L.s); mbar/L/sec; mbar/liter/second; mbar per L per sec; mbar per liter per second; millibars per liters per seconds; litres","LOINC","PresCncRat","Clinical","unit to measure expiratory resistance","Pa","PAL","1e5",1e5,!1],[!1,"milliequivalent","meq","MEQ","amount of substance",60221367e13,[0,0,0,0,0,0,0],"meq","chemical",!0,null,null,1,!1,!1,1,"milliequivalents; meqs","LOINC","Sub","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"milliequivalent per 2 hour","meq/(2.h)","MEQ/(2.HR)","amount of substance",836407875e8,[0,-1,0,0,0,0,0],"meq/h","chemical",!0,null,null,1,!1,!1,1,"meq/2hrs; meq/2 hrs; meq per 2 hrs; milliequivalents per 2 hours","LOINC","SRat","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"milliequivalent per 24 hour","meq/(24.h)","MEQ/(24.HR)","amount of substance",6970065625e6,[0,-1,0,0,0,0,0],"meq/h","chemical",!0,null,null,1,!1,!1,1,"meq/24hrs; meq/24 hrs; meq per 24 hrs; milliequivalents per 24 hours","LOINC","SRat","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"milliequivalent per 8 hour","meq/(8.h)","MEQ/(8.HR)","amount of substance",20910196875e6,[0,-1,0,0,0,0,0],"meq/h","chemical",!0,null,null,1,!1,!1,1,"meq/8hrs; meq/8 hrs; meq per 8 hrs; milliequivalents per 8 hours; shift","LOINC","SRat","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"milliequivalent per day","meq/d","MEQ/D","amount of substance",6970065625e6,[0,-1,0,0,0,0,0],"meq/d","chemical",!0,null,null,1,!1,!1,1,"meq/dy; meq per day; milliquivalents per days; meq/24hrs; meq/24 hrs; meq per 24 hrs; milliequivalents per 24 hours","LOINC","SRat","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"milliequivalent per deciliter","meq/dL","MEQ/DL","amount of substance",6022136699999999e9,[-3,0,0,0,0,0,0],"meq/dL","chemical",!0,null,null,1,!1,!1,1,"meq per dL; milliequivalents per deciliter; decilitre","LOINC","SCnc","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"milliequivalent per gram","meq/g","MEQ/G","amount of substance",60221367e13,[0,0,-1,0,0,0,0],"meq/g","chemical",!0,null,null,1,!1,!1,1,"mgq/gm; meq per gm; milliequivalents per gram","LOINC","MCnt","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"milliequivalent per hour","meq/h","MEQ/HR","amount of substance",167281575e9,[0,-1,0,0,0,0,0],"meq/h","chemical",!0,null,null,1,!1,!1,1,"meq/hrs; meq per hrs; milliequivalents per hour","LOINC","SRat","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"milliequivalent per kilogram","meq/kg","MEQ/KG","amount of substance",60221367e10,[0,0,-1,0,0,0,0],"meq/kg","chemical",!0,null,null,1,!1,!1,1,"meq per kg; milliequivalents per kilogram","LOINC","SCnt","Clinical","equivalence equals moles per valence; used to measure dose per patient body mass","mol","MOL","1",1,!1],[!1,"milliequivalent per kilogram per hour","meq/kg/h","(MEQ/KG)/HR","amount of substance",167281575e6,[0,-1,-1,0,0,0,0],"(meq/kg)/h","chemical",!0,null,null,1,!1,!1,1,"meq/(kg.h); meq/kg/hr; meq per kg per hr; milliequivalents per kilograms per hour","LOINC","SCntRat","Clinical","equivalence equals moles per valence; unit used to measure dose rate per patient body mass","mol","MOL","1",1,!1],[!1,"milliequivalent per liter","meq/L","MEQ/L","amount of substance",60221367e16,[-3,0,0,0,0,0,0],"meq/L","chemical",!0,null,null,1,!1,!1,1,"milliequivalents per liter; litre; meq per l; acidity","LOINC","SCnc","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"milliequivalent per square meter","meq/m2","MEQ/M2","amount of substance",60221367e13,[-2,0,0,0,0,0,0],"meq/(m<sup>2</sup>)","chemical",!0,null,null,1,!1,!1,1,"meq/m^2; meq/sq. m; milliequivalents per square meter; meter squared; metre","LOINC","ArSub","Clinical","equivalence equals moles per valence; note that the use of m2 in clinical units ofter refers to body surface area","mol","MOL","1",1,!1],[!1,"milliequivalent per minute","meq/min","MEQ/MIN","amount of substance",100368945e11,[0,-1,0,0,0,0,0],"meq/min","chemical",!0,null,null,1,!1,!1,1,"meq per min; milliequivalents per minute","LOINC","SRat","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"milliequivalent per milliliter","meq/mL","MEQ/ML","amount of substance",60221367e19,[-3,0,0,0,0,0,0],"meq/mL","chemical",!0,null,null,1,!1,!1,1,"meq per mL; milliequivalents per milliliter; millilitre","LOINC","SCnc","Clinical","equivalence equals moles per valence","mol","MOL","1",1,!1],[!1,"milligram","mg","MG","mass",.001,[0,0,1,0,0,0,0],"mg",null,!1,"M",null,1,!1,!1,0,"milligrams","LOINC","Mass","Clinical","",null,null,null,null,!1],[!1,"milligram per 10 hour","mg/(10.h)","MG/(10.HR)","mass",27777777777777777e-24,[0,-1,1,0,0,0,0],"mg/h",null,!1,"M",null,1,!1,!1,0,"mg/10hrs; mg/10 hrs; mg per 10 hrs; milligrams per 10 hours","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"milligram per 12 hour","mg/(12.h)","MG/(12.HR)","mass",23148148148148148e-24,[0,-1,1,0,0,0,0],"mg/h",null,!1,"M",null,1,!1,!1,0,"mg/12hrs; mg/12 hrs; per 12 hrs; 12hrs; milligrams per 12 hours","LOINC","MRat","Clinical","units used for tests in urine",null,null,null,null,!1],[!1,"milligram per 2 hour","mg/(2.h)","MG/(2.HR)","mass",13888888888888888e-23,[0,-1,1,0,0,0,0],"mg/h",null,!1,"M",null,1,!1,!1,0,"mg/2hrs; mg/2 hrs; mg per 2 hrs; 2hrs; milligrams per 2 hours","LOINC","MRat","Clinical","units used for tests in urine",null,null,null,null,!1],[!1,"milligram per 24 hour","mg/(24.h)","MG/(24.HR)","mass",11574074074074074e-24,[0,-1,1,0,0,0,0],"mg/h",null,!1,"M",null,1,!1,!1,0,"mg/24hrs; mg/24 hrs; milligrams per 24 hours; mg/kg/dy; mg per kg per day; milligrams per kilograms per days","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"milligram per 6 hour","mg/(6.h)","MG/(6.HR)","mass",46296296296296295e-24,[0,-1,1,0,0,0,0],"mg/h",null,!1,"M",null,1,!1,!1,0,"mg/6hrs; mg/6 hrs; mg per 6 hrs; 6hrs; milligrams per 6 hours","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"milligram per 72 hour","mg/(72.h)","MG/(72.HR)","mass",3858024691358025e-24,[0,-1,1,0,0,0,0],"mg/h",null,!1,"M",null,1,!1,!1,0,"mg/72hrs; mg/72 hrs; 72 hrs; 72hrs; milligrams per 72 hours","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"milligram per 8 hour","mg/(8.h)","MG/(8.HR)","mass",3472222222222222e-23,[0,-1,1,0,0,0,0],"mg/h",null,!1,"M",null,1,!1,!1,0,"mg/8hrs; mg/8 hrs; milligrams per 8 hours; shift","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"milligram per day","mg/d","MG/D","mass",11574074074074074e-24,[0,-1,1,0,0,0,0],"mg/d",null,!1,"M",null,1,!1,!1,0,"mg/24hrs; mg/24 hrs; milligrams per 24 hours; mg/dy; mg per day; milligrams","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"milligram per deciliter","mg/dL","MG/DL","mass",10,[-3,0,1,0,0,0,0],"mg/dL",null,!1,"M",null,1,!1,!1,0,"mg per dL; milligrams per deciliter; decilitre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"milligram per gram","mg/g","MG/G","mass",.001,[0,0,0,0,0,0,0],"mg/g",null,!1,"M",null,1,!1,!1,0,"mg per gm; milligrams per gram","LOINC","MCnt; MRto","Clinical","",null,null,null,null,!1],[!1,"milligram per hour","mg/h","MG/HR","mass",27777777777777776e-23,[0,-1,1,0,0,0,0],"mg/h",null,!1,"M",null,1,!1,!1,0,"mg/hr; mg per hr; milligrams","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"milligram per kilogram","mg/kg","MG/KG","mass",1e-6,[0,0,0,0,0,0,0],"mg/kg",null,!1,"M",null,1,!1,!1,0,"mg per kg; milligrams per kilograms","LOINC","MCnt","Clinical","",null,null,null,null,!1],[!1,"milligram per kilogram per 8 hour","mg/kg/(8.h)","(MG/KG)/(8.HR)","mass",3472222222222222e-26,[0,-1,0,0,0,0,0],"(mg/kg)/h",null,!1,"M",null,1,!1,!1,0,"mg/(8.h.kg); mg/kg/8hrs; mg/kg/8 hrs; mg per kg per 8hrs; 8 hrs; milligrams per kilograms per 8 hours; shift","LOINC","RelMRat; MCntRat","Clinical","unit used to measure mass dose rate per patient body mass",null,null,null,null,!1],[!1,"milligram per kilogram per day","mg/kg/d","(MG/KG)/D","mass",11574074074074074e-27,[0,-1,0,0,0,0,0],"(mg/kg)/d",null,!1,"M",null,1,!1,!1,0,"mg/(kg.d); mg/(kg.24.h)mg/kg/dy; mg per kg per day; milligrams per kilograms per days; mg/kg/(24.h); mg/kg/24hrs; 24 hrs; 24 hours","LOINC","RelMRat ","Clinical","unit used to measure mass dose rate per patient body mass",null,null,null,null,!1],[!1,"milligram per kilogram per hour","mg/kg/h","(MG/KG)/HR","mass",27777777777777777e-26,[0,-1,0,0,0,0,0],"(mg/kg)/h",null,!1,"M",null,1,!1,!1,0,"mg/(kg.h); mg/kg/hr; mg per kg per hr; milligrams per kilograms per hour","LOINC","RelMRat; MCntRat","Clinical","unit used to measure mass dose rate per patient body mass",null,null,null,null,!1],[!1,"milligram per kilogram per minute","mg/kg/min","(MG/KG)/MIN","mass",16666666666666667e-24,[0,-1,0,0,0,0,0],"(mg/kg)/min",null,!1,"M",null,1,!1,!1,0,"mg/(kg.min); mg per kg per min; milligrams per kilograms per minute","LOINC","RelMRat; MCntRat","Clinical","unit used to measure mass dose rate per patient body mass",null,null,null,null,!1],[!1,"milligram per liter","mg/L","MG/L","mass",1,[-3,0,1,0,0,0,0],"mg/L",null,!1,"M",null,1,!1,!1,0,"mg per l; milligrams per liter; litre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"milligram per square meter","mg/m2","MG/M2","mass",.001,[-2,0,1,0,0,0,0],"mg/(m<sup>2</sup>)",null,!1,"M",null,1,!1,!1,0,"mg/m^2; mg/sq. m; mg per m2; mg per m^2; mg per sq. milligrams; meter squared; metre","LOINC","ArMass","Clinical","",null,null,null,null,!1],[!1,"milligram per cubic meter","mg/m3","MG/M3","mass",.001,[-3,0,1,0,0,0,0],"mg/(m<sup>3</sup>)",null,!1,"M",null,1,!1,!1,0,"mg/m^3; mg/cu. m; mg per m3; milligrams per cubic meter; meter cubed; metre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"milligram per milligram","mg/mg","MG/MG","mass",1,[0,0,0,0,0,0,0],"mg/mg",null,!1,"M",null,1,!1,!1,0,"mg per mg; milligrams; milligram/milligram","LOINC","MRto","Clinical","",null,null,null,null,!1],[!1,"milligram per minute","mg/min","MG/MIN","mass",16666666666666667e-21,[0,-1,1,0,0,0,0],"mg/min",null,!1,"M",null,1,!1,!1,0,"mg per min; milligrams per minutes; milligram/minute","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"milligram per milliliter","mg/mL","MG/ML","mass",1000.0000000000001,[-3,0,1,0,0,0,0],"mg/mL",null,!1,"M",null,1,!1,!1,0,"mg per mL; milligrams per milliliters; millilitre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"milligram per millimole","mg/mmol","MG/MMOL","mass",1660540186674939e-39,[0,0,1,0,0,0,0],"mg/mmol",null,!1,"M",null,1,!1,!1,-1,"mg per mmol; milligrams per millimole; ","LOINC","Ratio","Clinical","",null,null,null,null,!1],[!1,"milligram per week","mg/wk","MG/WK","mass",16534391534391535e-25,[0,-1,1,0,0,0,0],"mg/wk",null,!1,"M",null,1,!1,!1,0,"mg/week; mg per wk; milligrams per weeks; milligram/week","LOINC","Mrat","Clinical","",null,null,null,null,!1],[!1,"milliliter","mL","ML","volume",1e-6,[3,0,0,0,0,0,0],"mL","iso1000",!0,null,null,1,!1,!1,0,"milliliters; millilitres","LOINC","Vol","Clinical","","l",null,"1",1,!1],[!1,"milliliter per 10 hour","mL/(10.h)","ML/(10.HR)","volume",27777777777777777e-27,[3,-1,0,0,0,0,0],"mL/h","iso1000",!0,null,null,1,!1,!1,0,"ml/10hrs; ml/10 hrs; mL per 10hrs; 10 hrs; milliliters per 10 hours; millilitres","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"milliliter per 12 hour","mL/(12.h)","ML/(12.HR)","volume",23148148148148147e-27,[3,-1,0,0,0,0,0],"mL/h","iso1000",!0,null,null,1,!1,!1,0,"ml/12hrs; ml/12 hrs; mL per 12hrs; 12 hrs; milliliters per 12 hours; millilitres","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"milliliter per 2 hour","mL/(2.h)","ML/(2.HR)","volume",13888888888888888e-26,[3,-1,0,0,0,0,0],"mL/h","iso1000",!0,null,null,1,!1,!1,0,"ml/2hrs; ml/2 hrs; mL per 2hrs; 2 hrs; milliliters per 2 hours; millilitres ","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"milliliter per 24 hour","mL/(24.h)","ML/(24.HR)","volume",11574074074074074e-27,[3,-1,0,0,0,0,0],"mL/h","iso1000",!0,null,null,1,!1,!1,0,"ml/24hrs; ml/24 hrs; mL per 24hrs; 24 hrs; milliliters per 24 hours; millilitres; ml/dy; /day; ml per dy; days; fluid outputs; fluid inputs; flow rate","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"milliliter per 4 hour","mL/(4.h)","ML/(4.HR)","volume",6944444444444444e-26,[3,-1,0,0,0,0,0],"mL/h","iso1000",!0,null,null,1,!1,!1,0,"ml/4hrs; ml/4 hrs; mL per 4hrs; 4 hrs; milliliters per 4 hours; millilitres","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"milliliter per 5 hour","mL/(5.h)","ML/(5.HR)","volume",55555555555555553e-27,[3,-1,0,0,0,0,0],"mL/h","iso1000",!0,null,null,1,!1,!1,0,"ml/5hrs; ml/5 hrs; mL per 5hrs; 5 hrs; milliliters per 5 hours; millilitres","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"milliliter per 6 hour","mL/(6.h)","ML/(6.HR)","volume",46296296296296294e-27,[3,-1,0,0,0,0,0],"mL/h","iso1000",!0,null,null,1,!1,!1,0,"ml/6hrs; ml/6 hrs; mL per 6hrs; 6 hrs; milliliters per 6 hours; millilitres","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"milliliter per 72 hour","mL/(72.h)","ML/(72.HR)","volume",38580246913580245e-28,[3,-1,0,0,0,0,0],"mL/h","iso1000",!0,null,null,1,!1,!1,0,"ml/72hrs; ml/72 hrs; mL per 72hrs; 72 hrs; milliliters per 72 hours; millilitres","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"milliliter per 8 hour","mL/(8.h)","ML/(8.HR)","volume",3472222222222222e-26,[3,-1,0,0,0,0,0],"mL/h","iso1000",!0,null,null,1,!1,!1,0,"ml/8hrs; ml/8 hrs; mL per 8hrs; 8 hrs; milliliters per 8 hours; millilitres; shift","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"milliliter per 8 hour per kilogram","mL/(8.h)/kg","(ML/(8.HR))/KG","volume",3472222222222222e-29,[3,-1,-1,0,0,0,0],"(mL/h)/kg","iso1000",!0,null,null,1,!1,!1,0,"mL/kg/(8.h); ml/8h/kg; ml/8 h/kg; ml/8hr/kg; ml/8 hr/kgr; mL per 8h per kg; 8 h; 8hr; 8 hr; milliliters per 8 hours per kilogram; millilitres; shift","LOINC","VRatCnt","Clinical","unit used to measure renal excretion volume rate per body mass","l",null,"1",1,!1],[!1,"milliliter per square inch (international)","mL/[sin_i]","ML/[SIN_I]","volume",.0015500031000061998,[1,0,0,0,0,0,0],"mL","iso1000",!0,null,null,1,!1,!1,0,"mL/sin; mL/in2; mL/in^2; mL per sin; in2; in^2; sq. in; milliliters per square inch; inch squared","LOINC","ArVol","Clinical","","l",null,"1",1,!1],[!1,"milliliter per centimeter of water","mL/cm[H2O]","ML/CM[H2O]","volume",10197162129779282e-27,[4,2,-1,0,0,0,0],"mL/(cm\xA0HO<sub><r>2</r></sub>)","iso1000",!0,null,null,1,!1,!1,0,"milliliters per centimeter of water; millilitre per centimetre of water; millilitres per centimetre of water; mL/cmH2O; mL/cm H2O; mL per cmH2O; mL per cm H2O","LOINC","Compli","Clinical","unit used to measure dynamic lung compliance","l",null,"1",1,!1],[!1,"milliliter per day","mL/d","ML/D","volume",11574074074074074e-27,[3,-1,0,0,0,0,0],"mL/d","iso1000",!0,null,null,1,!1,!1,0,"ml/day; ml per day; milliliters per day; 24 hours; 24hrs; millilitre;","LOINC","VRat","Clinical","usually used to measure fluid output or input; flow rate","l",null,"1",1,!1],[!1,"milliliter per deciliter","mL/dL","ML/DL","volume",.009999999999999998,[0,0,0,0,0,0,0],"mL/dL","iso1000",!0,null,null,1,!1,!1,0,"mL per dL; millilitres; decilitre; milliliters","LOINC","VFr; VFrDiff","Clinical","","l",null,"1",1,!1],[!1,"milliliter per hour","mL/h","ML/HR","volume",27777777777777777e-26,[3,-1,0,0,0,0,0],"mL/h","iso1000",!0,null,null,1,!1,!1,0,"mL/hr; mL per hr; milliliters per hour; millilitres; fluid intake; fluid output","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"milliliter per kilogram","mL/kg","ML/KG","volume",9999999999999999e-25,[3,0,-1,0,0,0,0],"mL/kg","iso1000",!0,null,null,1,!1,!1,0,"mL per kg; milliliters per kilogram; millilitres","LOINC","VCnt","Clinical","","l",null,"1",1,!1],[!1,"milliliter per kilogram per 8 hour","mL/kg/(8.h)","(ML/KG)/(8.HR)","volume",3472222222222222e-29,[3,-1,-1,0,0,0,0],"(mL/kg)/h","iso1000",!0,null,null,1,!1,!1,0,"mL/(8.h.kg); mL/kg/8hrs; mL/kg/8 hrs; mL per kg per 8hrs; 8 hrs; milliliters per kilograms per 8 hours; millilitres; shift","LOINC","VCntRat; RelEngRat","Clinical","unit used to measure renal excretion volume rate per body mass","l",null,"1",1,!1],[!1,"milliliter per kilogram per day","mL/kg/d","(ML/KG)/D","volume",11574074074074072e-30,[3,-1,-1,0,0,0,0],"(mL/kg)/d","iso1000",!0,null,null,1,!1,!1,0,"mL/(kg.d); mL/kg/dy; mL per kg per day; milliliters per kilograms per day; mg/kg/24hrs; 24 hrs; per 24 hours millilitres","LOINC","VCntRat; RelEngRat","Clinical","unit used to measure renal excretion volume rate per body mass","l",null,"1",1,!1],[!1,"milliliter per kilogram per hour","mL/kg/h","(ML/KG)/HR","volume",27777777777777774e-29,[3,-1,-1,0,0,0,0],"(mL/kg)/h","iso1000",!0,null,null,1,!1,!1,0,"mL/(kg.h); mL/kg/hr; mL per kg per hr; milliliters per kilograms per hour; millilitres","LOINC","VCntRat; RelEngRat","Clinical","unit used to measure renal excretion volume rate per body mass","l",null,"1",1,!1],[!1,"milliliter per kilogram per minute","mL/kg/min","(ML/KG)/MIN","volume",16666666666666664e-27,[3,-1,-1,0,0,0,0],"(mL/kg)/min","iso1000",!0,null,null,1,!1,!1,0,"mL/(kg.min); mL/kg/dy; mL per kg per day; milliliters per kilograms per day; millilitres","LOINC","RelEngRat","Clinical","used for tests that measure activity metabolic rate compared to standard resting metabolic rate ","l",null,"1",1,!1],[!1,"milliliter per square meter","mL/m2","ML/M2","volume",1e-6,[1,0,0,0,0,0,0],"mL/(m<sup>2</sup>)","iso1000",!0,null,null,1,!1,!1,0,"mL/m^2; mL/sq. meter; mL per m2; m^2; sq. meter; milliliters per square meter; millilitres; meter squared","LOINC","ArVol","Clinical","used for tests that relate to heart work - e.g. ventricular stroke volume; atrial volume per body surface area","l",null,"1",1,!1],[!1,"milliliter per millibar","mL/mbar","ML/MBAR","volume",1e-11,[4,2,-1,0,0,0,0],"mL/mbar","iso1000",!0,null,null,1,!1,!1,0,"mL per mbar; milliliters per millibar; millilitres","LOINC","","Clinical","unit used to measure dynamic lung compliance","l",null,"1",1,!1],[!1,"milliliter per minute","mL/min","ML/MIN","volume",16666666666666667e-24,[3,-1,0,0,0,0,0],"mL/min","iso1000",!0,null,null,1,!1,!1,0,"mL per min; milliliters; millilitres","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"milliliter per minute per square meter","mL/min/m2","(ML/MIN)/M2","volume",16666666666666667e-24,[1,-1,0,0,0,0,0],"(mL/min)/(m<sup>2</sup>)","iso1000",!0,null,null,1,!1,!1,0,"ml/min/m^2; ml/min/sq. meter; mL per min per m2; m^2; sq. meter; milliliters per minutes per square meter; millilitres; metre; meter squared","LOINC","ArVRat","Clinical","unit used to measure volume per body surface area; oxygen consumption index","l",null,"1",1,!1],[!1,"milliliter per millimeter","mL/mm","ML/MM","volume",.001,[2,0,0,0,0,0,0],"mL/mm","iso1000",!0,null,null,1,!1,!1,0,"mL per mm; milliliters per millimeter; millilitres; millimetre","LOINC","Lineic Volume","Clinical","","l",null,"1",1,!1],[!1,"milliliter per second","mL/s","ML/S","volume",1e-6,[3,-1,0,0,0,0,0],"mL/s","iso1000",!0,null,null,1,!1,!1,0,"ml/sec; mL per sec; milliliters per second; millilitres","LOINC","Vel; VelRat; VRat","Clinical","","l",null,"1",1,!1],[!1,"millimeter","mm","MM","length",.001,[1,0,0,0,0,0,0],"mm",null,!1,"L",null,1,!1,!1,0,"millimeters; millimetres; height; length; diameter; thickness; axis; curvature; size","LOINC","Len","Clinical","",null,null,null,null,!1],[!1,"millimeter per hour","mm/h","MM/HR","length",27777777777777776e-23,[1,-1,0,0,0,0,0],"mm/h",null,!1,"L",null,1,!1,!1,0,"mm/hr; mm per hr; millimeters per hour; millimetres","LOINC","Vel","Clinical","unit to measure sedimentation rate",null,null,null,null,!1],[!1,"millimeter per minute","mm/min","MM/MIN","length",16666666666666667e-21,[1,-1,0,0,0,0,0],"mm/min",null,!1,"L",null,1,!1,!1,0,"mm per min; millimeters per minute; millimetres","LOINC","Vel","Clinical","",null,null,null,null,!1],[!1,"millimeter of water","mm[H2O]","MM[H2O]","pressure",9806.65,[-1,-2,1,0,0,0,0],"mm\xA0HO<sub><r>2</r></sub>","clinical",!0,null,null,1,!1,!1,0,"mmH2O; mm H2O; millimeters of water; millimetres","LOINC","Pres","Clinical","","kPa","KPAL","980665e-5",9.80665,!1],[!1,"millimeter of mercury","mm[Hg]","MM[HG]","pressure",133322,[-1,-2,1,0,0,0,0],"mm\xA0Hg","clinical",!0,null,null,1,!1,!1,0,"mmHg; mm Hg; millimeters of mercury; millimetres","LOINC","Pres; PPres; Ratio","Clinical","1 mm[Hg] = 1 torr; unit to measure blood pressure","kPa","KPAL","133.3220",133.322,!1],[!1,"square millimeter","mm2","MM2","length",1e-6,[2,0,0,0,0,0,0],"mm<sup>2</sup>",null,!1,"L",null,1,!1,!1,0,"mm^2; sq. mm.; sq. millimeters; millimeters squared; millimetres","LOINC","Area","Clinical","",null,null,null,null,!1],[!1,"millimole","mmol","MMOL","amount of substance",60221367e13,[0,0,0,0,0,0,0],"mmol","si",!0,null,null,1,!1,!1,1,"millimoles","LOINC","Sub","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per 12 hour","mmol/(12.h)","MMOL/(12.HR)","amount of substance",1394013125e7,[0,-1,0,0,0,0,0],"mmol/h","si",!0,null,null,1,!1,!1,1,"mmol/12hrs; mmol/12 hrs; mmol per 12 hrs; 12hrs; millimoles per 12 hours","LOINC","SRat","Clinical","unit for tests related to urine","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per 2 hour","mmol/(2.h)","MMOL/(2.HR)","amount of substance",836407875e8,[0,-1,0,0,0,0,0],"mmol/h","si",!0,null,null,1,!1,!1,1,"mmol/2hrs; mmol/2 hrs; mmol per 2 hrs; 2hrs; millimoles per 2 hours","LOINC","SRat","Clinical","unit for tests related to urine","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per 24 hour","mmol/(24.h)","MMOL/(24.HR)","amount of substance",6970065625e6,[0,-1,0,0,0,0,0],"mmol/h","si",!0,null,null,1,!1,!1,1,"mmol/24hrs; mmol/24 hrs; mmol per 24 hrs; 24hrs; millimoles per 24 hours","LOINC","SRat","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per 5 hour","mmol/(5.h)","MMOL/(5.HR)","amount of substance",33456315e9,[0,-1,0,0,0,0,0],"mmol/h","si",!0,null,null,1,!1,!1,1,"mmol/5hrs; mmol/5 hrs; mmol per 5 hrs; 5hrs; millimoles per 5 hours","LOINC","SRat","Clinical","unit for tests related to doses","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per 6 hour","mmol/(6.h)","MMOL/(6.HR)","amount of substance",278802625e8,[0,-1,0,0,0,0,0],"mmol/h","si",!0,null,null,1,!1,!1,1,"mmol/6hrs; mmol/6 hrs; mmol per 6 hrs; 6hrs; millimoles per 6 hours","LOINC","SRat","Clinical","unit for tests related to urine","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per 8 hour","mmol/(8.h)","MMOL/(8.HR)","amount of substance",20910196875e6,[0,-1,0,0,0,0,0],"mmol/h","si",!0,null,null,1,!1,!1,1,"mmol/8hrs; mmol/8 hrs; mmol per 8 hrs; 8hrs; millimoles per 8 hours; shift","LOINC","SRat","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per day","mmol/d","MMOL/D","amount of substance",6970065625e6,[0,-1,0,0,0,0,0],"mmol/d","si",!0,null,null,1,!1,!1,1,"mmol/24hrs; mmol/24 hrs; mmol per 24 hrs; 24hrs; millimoles per 24 hours","LOINC","SRat","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per deciliter","mmol/dL","MMOL/DL","amount of substance",6022136699999999e9,[-3,0,0,0,0,0,0],"mmol/dL","si",!0,null,null,1,!1,!1,1,"mmol per dL; millimoles; decilitre","LOINC","SCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per gram","mmol/g","MMOL/G","amount of substance",60221367e13,[0,0,-1,0,0,0,0],"mmol/g","si",!0,null,null,1,!1,!1,1,"mmol per gram; millimoles","LOINC","SCnt","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per hour","mmol/h","MMOL/HR","amount of substance",167281575e9,[0,-1,0,0,0,0,0],"mmol/h","si",!0,null,null,1,!1,!1,1,"mmol/hr; mmol per hr; millimoles per hour","LOINC","SRat","Clinical","unit for tests related to urine","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per kilogram","mmol/kg","MMOL/KG","amount of substance",60221367e10,[0,0,-1,0,0,0,0],"mmol/kg","si",!0,null,null,1,!1,!1,1,"mmol per kg; millimoles per kilogram","LOINC","SCnt","Clinical","unit for tests related to stool","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per kilogram per 8 hour","mmol/kg/(8.h)","(MMOL/KG)/(8.HR)","amount of substance",20910196875e3,[0,-1,-1,0,0,0,0],"(mmol/kg)/h","si",!0,null,null,1,!1,!1,1,"mmol/(8.h.kg); mmol/kg/8hrs; mmol/kg/8 hrs; mmol per kg per 8hrs; 8 hrs; millimoles per kilograms per 8 hours; shift","LOINC","CCnt","Clinical","unit used to measure molar dose rate per patient body mass","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per kilogram per day","mmol/kg/d","(MMOL/KG)/D","amount of substance",6970065625e3,[0,-1,-1,0,0,0,0],"(mmol/kg)/d","si",!0,null,null,1,!1,!1,1,"mmol/kg/dy; mmol/kg/day; mmol per kg per dy; millimoles per kilograms per day","LOINC","RelSRat","Clinical","unit used to measure molar dose rate per patient body mass","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per kilogram per hour","mmol/kg/h","(MMOL/KG)/HR","amount of substance",167281575e6,[0,-1,-1,0,0,0,0],"(mmol/kg)/h","si",!0,null,null,1,!1,!1,1,"mmol/kg/hr; mmol per kg per hr; millimoles per kilograms per hour","LOINC","CCnt","Clinical","unit used to measure molar dose rate per patient body mass","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per kilogram per minute","mmol/kg/min","(MMOL/KG)/MIN","amount of substance",100368945e8,[0,-1,-1,0,0,0,0],"(mmol/kg)/min","si",!0,null,null,1,!1,!1,1,"mmol/(kg.min); mmol/kg/min; mmol per kg per min; millimoles per kilograms per minute","LOINC","CCnt","Clinical","unit used to measure molar dose rate per patient body mass; note that the unit for the enzyme unit U = umol/min. mmol/kg/min = kU/kg; ","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per liter","mmol/L","MMOL/L","amount of substance",60221367e16,[-3,0,0,0,0,0,0],"mmol/L","si",!0,null,null,1,!1,!1,1,"mmol per L; millimoles per liter; litre","LOINC","SCnc","Clinical","unit for tests related to doses","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per square meter","mmol/m2","MMOL/M2","amount of substance",60221367e13,[-2,0,0,0,0,0,0],"mmol/(m<sup>2</sup>)","si",!0,null,null,1,!1,!1,1,"mmol/m^2; mmol/sq. meter; mmol per m2; m^2; sq. meter; millimoles; meter squared; metre","LOINC","ArSub","Clinical","unit used to measure molar dose per patient body surface area","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per minute","mmol/min","MMOL/MIN","amount of substance",100368945e11,[0,-1,0,0,0,0,0],"mmol/min","si",!0,null,null,1,!1,!1,1,"mmol per min; millimoles per minute","LOINC","Srat; CAct","Clinical","unit for the enzyme unit U = umol/min. mmol/min = kU","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per millimole","mmol/mmol","MMOL/MMOL","amount of substance",1,[0,0,0,0,0,0,0],"mmol/mmol","si",!0,null,null,1,!1,!1,0,"mmol per mmol; millimoles per millimole","LOINC","SRto","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per mole","mmol/mol","MMOL/MOL","amount of substance",.001,[0,0,0,0,0,0,0],"mmol/mol","si",!0,null,null,1,!1,!1,0,"mmol per mol; millimoles per mole","LOINC","SRto","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"millimole per second per liter","mmol/s/L","(MMOL/S)/L","amount of substance",60221367e16,[-3,-1,0,0,0,0,0],"(mmol/s)/L","si",!0,null,null,1,!1,!1,1,"mmol/sec/L; mmol per s per L; per sec; millimoles per seconds per liter; litre","LOINC","CCnc ","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"mole per kilogram","mol/kg","MOL/KG","amount of substance",60221367e13,[0,0,-1,0,0,0,0],"mol/kg","si",!0,null,null,1,!1,!1,1,"mol per kg; moles; mols","LOINC","SCnt","Clinical","unit for tests related to stool","10*23","10*23","6.0221367",6.0221367,!1],[!1,"mole per kilogram per second","mol/kg/s","(MOL/KG)/S","amount of substance",60221367e13,[0,-1,-1,0,0,0,0],"(mol/kg)/s","si",!0,null,null,1,!1,!1,1,"mol/kg/sec; mol per kg per sec; moles per kilograms per second; mols","LOINC","CCnt","Clinical","unit of catalytic activity (mol/s) per mass (kg)","10*23","10*23","6.0221367",6.0221367,!1],[!1,"mole per liter","mol/L","MOL/L","amount of substance",60221366999999994e10,[-3,0,0,0,0,0,0],"mol/L","si",!0,null,null,1,!1,!1,1,"mol per L; moles per liter; litre; moles; mols","LOINC","SCnc","Clinical","unit often used in tests measuring oxygen content","10*23","10*23","6.0221367",6.0221367,!1],[!1,"mole per cubic meter","mol/m3","MOL/M3","amount of substance",60221367e16,[-3,0,0,0,0,0,0],"mol/(m<sup>3</sup>)","si",!0,null,null,1,!1,!1,1,"mol/m^3; mol/cu. m; mol per m3; m^3; cu. meter; mols; moles; meters cubed; metre; mole per kiloliter; kilolitre; mol/kL","LOINC","SCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"mole per milliliter","mol/mL","MOL/ML","amount of substance",60221367e22,[-3,0,0,0,0,0,0],"mol/mL","si",!0,null,null,1,!1,!1,1,"mol per mL; moles; millilitre; mols","LOINC","SCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"mole per mole","mol/mol","MOL/MOL","amount of substance",1,[0,0,0,0,0,0,0],"mol/mol","si",!0,null,null,1,!1,!1,0,"mol per mol; moles per mol; mols","LOINC","SRto","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"mole per second","mol/s","MOL/S","amount of substance",60221367e16,[0,-1,0,0,0,0,0],"mol/s","si",!0,null,null,1,!1,!1,1,"mol per sec; moles per second; mols","LOINC","SRat","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"milliosmole","mosm","MOSM","amount of substance (dissolved particles)",60221367e13,[0,0,0,0,0,0,0],"mosm","chemical",!0,null,null,1,!1,!1,1,"milliosmoles","LOINC","Osmol","Clinical","equal to 1/1000 of an osmole","mol","MOL","1",1,!1],[!1,"milliosmole per kilogram","mosm/kg","MOSM/KG","amount of substance (dissolved particles)",60221367e10,[0,0,-1,0,0,0,0],"mosm/kg","chemical",!0,null,null,1,!1,!1,1,"mosm per kg; milliosmoles per kilogram","LOINC","Osmol","Clinical","","mol","MOL","1",1,!1],[!1,"milliosmole per liter","mosm/L","MOSM/L","amount of substance (dissolved particles)",60221367e16,[-3,0,0,0,0,0,0],"mosm/L","chemical",!0,null,null,1,!1,!1,1,"mosm per liter; litre; milliosmoles","LOINC","Osmol","Clinical","","mol","MOL","1",1,!1],[!1,"millipascal","mPa","MPAL","pressure",1,[-1,-2,1,0,0,0,0],"mPa","si",!0,null,null,1,!1,!1,0,"millipascals","LOINC","Pres","Clinical","unit of pressure","N/m2","N/M2","1",1,!1],[!1,"millipascal second","mPa.s","MPAL.S","pressure",1,[-1,-1,1,0,0,0,0],"mPa.s","si",!0,null,null,1,!1,!1,0,"mPa*s; millipoise; mP; dynamic viscosity","LOINC","Visc","Clinical","base units for millipoise, a measurement of dynamic viscosity","N/m2","N/M2","1",1,!1],[!1,"megasecond","Ms","MAS","time",1e6,[0,1,0,0,0,0,0],"Ms",null,!1,"T",null,1,!1,!1,0,"megaseconds","LOINC","Time","Clinical","",null,null,null,null,!1],[!1,"millisecond","ms","MS","time",.001,[0,1,0,0,0,0,0],"ms",null,!1,"T",null,1,!1,!1,0,"milliseconds; duration","LOINC","Time","Clinical","",null,null,null,null,!1],[!1,"milli enzyme unit per gram","mU/g","MU/G","catalytic activity",100368945e5,[0,-1,-1,0,0,0,0],"mU/g","chemical",!0,null,null,1,!1,!1,1,"mU per gm; milli enzyme units per gram; enzyme activity; enzymatic activity per mass","LOINC","CCnt","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min); 1 mU = 1 nmol/min","umol/min","UMOL/MIN","1",1,!1],[!1,"milli enzyme unit per liter","mU/L","MU/L","catalytic activity",100368945e8,[-3,-1,0,0,0,0,0],"mU/L","chemical",!0,null,null,1,!1,!1,1,"mU per liter; litre; milli enzyme units enzymatic activity per volume; enzyme activity","LOINC","CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min); 1 mU = 1 nmol/min","umol/min","UMOL/MIN","1",1,!1],[!1,"milli enzyme unit per milligram","mU/mg","MU/MG","catalytic activity",100368945e8,[0,-1,-1,0,0,0,0],"mU/mg","chemical",!0,null,null,1,!1,!1,1,"mU per mg; milli enzyme units per milligram","LOINC","CCnt","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min); 1 mU = 1 nmol/min","umol/min","UMOL/MIN","1",1,!1],[!1,"milli enzyme unit per milliliter","mU/mL","MU/ML","catalytic activity",100368945e11,[-3,-1,0,0,0,0,0],"mU/mL","chemical",!0,null,null,1,!1,!1,1,"mU per mL; milli enzyme units per milliliter; millilitre; enzymatic activity per volume; enzyme activity","LOINC","CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min); 1 mU = 1 nmol/min","umol/min","UMOL/MIN","1",1,!1],[!1,"milli enzyme unit per milliliter per minute","mU/mL/min","(MU/ML)/MIN","catalytic activity",167281575e9,[-3,-2,0,0,0,0,0],"(mU/mL)/min","chemical",!0,null,null,1,!1,!1,1,"mU per mL per min; mU per milliliters per minute; millilitres; milli enzyme units; enzymatic activity; enzyme activity","LOINC","CCncRat","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min); 1 mU = 1 nmol/min","umol/min","UMOL/MIN","1",1,!1],[!1,"millivolt","mV","MV","electric potential",1,[2,-2,1,0,0,-1,0],"mV","si",!0,null,null,1,!1,!1,0,"millivolts","LOINC","Elpot","Clinical","unit of electric potential (voltage)","J/C","J/C","1",1,!1],[!1,"Newton centimeter","N.cm","N.CM","force",10,[2,-2,1,0,0,0,0],"N.cm","si",!0,null,null,1,!1,!1,0,"N*cm; Ncm; N cm; Newton*centimeters; Newton* centimetres; torque; work","LOINC","","Clinical",`as a measurement of work, N.cm = 1/100 Joules;
note that N.m is the standard unit of measurement for torque (although dimensionally equivalent to Joule), and N.cm can also be thought of as a torqe unit`,"kg.m/s2","KG.M/S2","1",1,!1],[!1,"Newton second","N.s","N.S","force",1e3,[1,-1,1,0,0,0,0],"N.s","si",!0,null,null,1,!1,!1,0,"Newton*seconds; N*s; N s; Ns; impulse; imp","LOINC","","Clinical","standard unit of impulse","kg.m/s2","KG.M/S2","1",1,!1],[!1,"nanogram","ng","NG","mass",1e-9,[0,0,1,0,0,0,0],"ng",null,!1,"M",null,1,!1,!1,0,"nanograms","LOINC","Mass","Clinical","",null,null,null,null,!1],[!1,"nanogram per 24 hour","ng/(24.h)","NG/(24.HR)","mass",11574074074074075e-30,[0,-1,1,0,0,0,0],"ng/h",null,!1,"M",null,1,!1,!1,0,"ng/24hrs; ng/24 hrs; nanograms per 24 hours","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"nanogram per 8 hour","ng/(8.h)","NG/(8.HR)","mass",34722222222222224e-30,[0,-1,1,0,0,0,0],"ng/h",null,!1,"M",null,1,!1,!1,0,"ng/8hrs; ng/8 hrs; nanograms per 8 hours","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"nanogram per million","ng/10*6","NG/(10*6)","mass",1e-15,[0,0,1,0,0,0,0],"ng/(10<sup>6</sup>)",null,!1,"M",null,1,!1,!1,0,"ng/10^6; ng per 10*6; 10^6; nanograms","LOINC","MNum","Clinical","",null,null,null,null,!1],[!1,"nanogram per day","ng/d","NG/D","mass",11574074074074075e-30,[0,-1,1,0,0,0,0],"ng/d",null,!1,"M",null,1,!1,!1,0,"ng/dy; ng per day; nanograms ","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"nanogram per deciliter","ng/dL","NG/DL","mass",1e-5,[-3,0,1,0,0,0,0],"ng/dL",null,!1,"M",null,1,!1,!1,0,"ng per dL; nanograms per deciliter; decilitre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"nanogram per gram","ng/g","NG/G","mass",1e-9,[0,0,0,0,0,0,0],"ng/g",null,!1,"M",null,1,!1,!1,0,"ng/gm; ng per gm; nanograms per gram","LOINC","MCnt","Clinical","",null,null,null,null,!1],[!1,"nanogram per hour","ng/h","NG/HR","mass",2777777777777778e-28,[0,-1,1,0,0,0,0],"ng/h",null,!1,"M",null,1,!1,!1,0,"ng/hr; ng per hr; nanograms per hour","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"nanogram per kilogram","ng/kg","NG/KG","mass",1e-12,[0,0,0,0,0,0,0],"ng/kg",null,!1,"M",null,1,!1,!1,0,"ng per kg; nanograms per kilogram","LOINC","MCnt","Clinical","",null,null,null,null,!1],[!1,"nanogram per kilogram per 8 hour","ng/kg/(8.h)","(NG/KG)/(8.HR)","mass",3472222222222222e-32,[0,-1,0,0,0,0,0],"(ng/kg)/h",null,!1,"M",null,1,!1,!1,0,"ng/(8.h.kg); ng/kg/8hrs; ng/kg/8 hrs; ng per kg per 8hrs; 8 hrs; nanograms per kilograms per 8 hours; shift","LOINC","MRtoRat ","Clinical","unit used to measure mass dose rate per patient body mass",null,null,null,null,!1],[!1,"nanogram per kilogram per hour","ng/kg/h","(NG/KG)/HR","mass",27777777777777775e-32,[0,-1,0,0,0,0,0],"(ng/kg)/h",null,!1,"M",null,1,!1,!1,0,"ng/(kg.h); ng/kg/hr; ng per kg per hr; nanograms per kilograms per hour","LOINC","MRtoRat ","Clinical","unit used to measure mass dose rate per patient body mass",null,null,null,null,!1],[!1,"nanogram per kilogram per minute","ng/kg/min","(NG/KG)/MIN","mass",16666666666666667e-30,[0,-1,0,0,0,0,0],"(ng/kg)/min",null,!1,"M",null,1,!1,!1,0,"ng/(kg.min); ng per kg per min; nanograms per kilograms per minute","LOINC","MRtoRat ","Clinical","unit used to measure mass dose rate per patient body mass",null,null,null,null,!1],[!1,"nanogram per liter","ng/L","NG/L","mass",1e-6,[-3,0,1,0,0,0,0],"ng/L",null,!1,"M",null,1,!1,!1,0,"ng per L; nanograms per liter; litre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"nanogram per square meter","ng/m2","NG/M2","mass",1e-9,[-2,0,1,0,0,0,0],"ng/(m<sup>2</sup>)",null,!1,"M",null,1,!1,!1,0,"ng/m^2; ng/sq. m; ng per m2; m^2; sq. meter; nanograms; meter squared; metre","LOINC","ArMass","Clinical","unit used to measure mass dose per patient body surface area",null,null,null,null,!1],[!1,"nanogram per milligram","ng/mg","NG/MG","mass",1e-6,[0,0,0,0,0,0,0],"ng/mg",null,!1,"M",null,1,!1,!1,0,"ng per mg; nanograms","LOINC","MCnt","Clinical","",null,null,null,null,!1],[!1,"nanogram per milligram per hour","ng/mg/h","(NG/MG)/HR","mass",27777777777777777e-26,[0,-1,0,0,0,0,0],"(ng/mg)/h",null,!1,"M",null,1,!1,!1,0,"ng/mg/hr; ng per mg per hr; nanograms per milligrams per hour","LOINC","MRtoRat ","Clinical","",null,null,null,null,!1],[!1,"nanogram per minute","ng/min","NG/MIN","mass",16666666666666667e-27,[0,-1,1,0,0,0,0],"ng/min",null,!1,"M",null,1,!1,!1,0,"ng per min; nanograms","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"nanogram per millliiter","ng/mL","NG/ML","mass",.001,[-3,0,1,0,0,0,0],"ng/mL",null,!1,"M",null,1,!1,!1,0,"ng per mL; nanograms; millilitre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"nanogram per milliliter per hour","ng/mL/h","(NG/ML)/HR","mass",27777777777777776e-23,[-3,-1,1,0,0,0,0],"(ng/mL)/h",null,!1,"M",null,1,!1,!1,0,"ng/mL/hr; ng per mL per mL; nanograms per milliliter per hour; nanogram per millilitre per hour; nanograms per millilitre per hour; enzymatic activity per volume; enzyme activity per milliliters","LOINC","CCnc","Clinical","tests that measure enzymatic activity",null,null,null,null,!1],[!1,"nanogram per second","ng/s","NG/S","mass",1e-9,[0,-1,1,0,0,0,0],"ng/s",null,!1,"M",null,1,!1,!1,0,"ng/sec; ng per sec; nanograms per second","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"nanogram per enzyme unit","ng/U","NG/U","mass",9963241120049634e-41,[0,1,1,0,0,0,0],"ng/U",null,!1,"M",null,1,!1,!1,-1,"ng per U; nanograms per enzyme unit","LOINC","CMass","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)",null,null,null,null,!1],[!1,"nanokatal","nkat","NKAT","catalytic activity",60221367e7,[0,-1,0,0,0,0,0],"nkat","chemical",!0,null,null,1,!1,!1,1,"nanokatals","LOINC","CAct","Clinical","kat is a unit of catalytic activity with base units = mol/s. Rarely used because its units are too large to practically express catalytic activity. See enzyme unit [U] which is the standard unit for catalytic activity.","mol/s","MOL/S","1",1,!1],[!1,"nanoliter","nL","NL","volume",10000000000000002e-28,[3,0,0,0,0,0,0],"nL","iso1000",!0,null,null,1,!1,!1,0,"nanoliters; nanolitres","LOINC","Vol","Clinical","","l",null,"1",1,!1],[!1,"nanometer","nm","NM","length",1e-9,[1,0,0,0,0,0,0],"nm",null,!1,"L",null,1,!1,!1,0,"nanometers; nanometres","LOINC","Len","Clinical","",null,null,null,null,!1],[!1,"nanometer per second per liter","nm/s/L","(NM/S)/L","length",1e-6,[-2,-1,0,0,0,0,0],"(nm/s)/L",null,!1,"L",null,1,!1,!1,0,"nm/sec/liter; nm/sec/litre; nm per s per l; nm per sec per l; nanometers per second per liter; nanometre per second per litre; nanometres per second per litre","LOINC","VelCnc","Clinical","",null,null,null,null,!1],[!1,"nanomole","nmol","NMOL","amount of substance",60221367e7,[0,0,0,0,0,0,0],"nmol","si",!0,null,null,1,!1,!1,1,"nanomoles","LOINC","Sub","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per 24 hour","nmol/(24.h)","NMOL/(24.HR)","amount of substance",6970065625,[0,-1,0,0,0,0,0],"nmol/h","si",!0,null,null,1,!1,!1,1,"nmol/24hr; nmol/24 hr; nanomoles per 24 hours; nmol/day; nanomoles per day; nmol per day; nanomole/day; nanomol/day","LOINC","SRat","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per day","nmol/d","NMOL/D","amount of substance",6970065625,[0,-1,0,0,0,0,0],"nmol/d","si",!0,null,null,1,!1,!1,1,"nmol/day; nanomoles per day; nmol per day; nanomole/day; nanomol/day; nmol/24hr; nmol/24 hr; nanomoles per 24 hours; ","LOINC","SRat","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per deciliter","nmol/dL","NMOL/DL","amount of substance",60221367e11,[-3,0,0,0,0,0,0],"nmol/dL","si",!0,null,null,1,!1,!1,1,"nmol per dL; nanomoles per deciliter; nanomole per decilitre; nanomoles per decilitre; nanomole/deciliter; nanomole/decilitre; nanomol/deciliter; nanomol/decilitre","LOINC","SCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per gram","nmol/g","NMOL/G","amount of substance",60221367e7,[0,0,-1,0,0,0,0],"nmol/g","si",!0,null,null,1,!1,!1,1,"nmol per gram; nanomoles per gram; nanomole/gram","LOINC","SCnt","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per hour per liter","nmol/h/L","(NMOL/HR)/L","amount of substance",167281575e6,[-3,-1,0,0,0,0,0],"(nmol/h)/L","si",!0,null,null,1,!1,!1,1,"nmol/hrs/L; nmol per hrs per L; nanomoles per hours per liter; litre; enzymatic activity per volume; enzyme activities","LOINC","CCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per liter","nmol/L","NMOL/L","amount of substance",60221367e10,[-3,0,0,0,0,0,0],"nmol/L","si",!0,null,null,1,!1,!1,1,"nmol per L; nanomoles per liter; litre","LOINC","SCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per milligram","nmol/mg","NMOL/MG","amount of substance",60221367e10,[0,0,-1,0,0,0,0],"nmol/mg","si",!0,null,null,1,!1,!1,1,"nmol per mg; nanomoles per milligram","LOINC","SCnt","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per milligram per hour","nmol/mg/h","(NMOL/MG)/HR","amount of substance",167281575e6,[0,-1,-1,0,0,0,0],"(nmol/mg)/h","si",!0,null,null,1,!1,!1,1,"nmol/mg/hr; nmol per mg per hr; nanomoles per milligrams per hour","LOINC","SCntRat","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per milligram of protein","nmol/mg{prot}","NMOL/MG","amount of substance",60221367e10,[0,0,-1,0,0,0,0],"nmol/mg","si",!0,null,null,1,!1,!1,1,"nanomoles; nmol/mg prot; nmol per mg prot","LOINC","Ratio; CCnt","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per minute","nmol/min","NMOL/MIN","amount of substance",100368945e5,[0,-1,0,0,0,0,0],"nmol/min","si",!0,null,null,1,!1,!1,1,"nmol per min; nanomoles per minute; milli enzyme units; enzyme activity per volume; enzymatic activity","LOINC","CCnc","Clinical","unit for the enzyme unit U = umol/min. nmol/min = mU (milli enzyme unit)","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per minute per milliliter","nmol/min/mL","(NMOL/MIN)/ML","amount of substance",100368945e11,[-3,-1,0,0,0,0,0],"(nmol/min)/mL","si",!0,null,null,1,!1,!1,1,"nmol per min per mL; nanomoles per minutes per milliliter; millilitre; milli enzyme units per volume; enzyme activity; enzymatic activity","LOINC","CCnc","Clinical","unit for the enzyme unit U = umol/min. nmol/mL/min = mU/mL","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per milliliter","nmol/mL","NMOL/ML","amount of substance",60221367e13,[-3,0,0,0,0,0,0],"nmol/mL","si",!0,null,null,1,!1,!1,1,"nmol per mL; nanomoles per milliliter; millilitre","LOINC","SCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per milliliter per hour","nmol/mL/h","(NMOL/ML)/HR","amount of substance",167281575e9,[-3,-1,0,0,0,0,0],"(nmol/mL)/h","si",!0,null,null,1,!1,!1,1,"nmol/mL/hr; nmol per mL per hr; nanomoles per milliliters per hour; millilitres; milli enzyme units per volume; enzyme activity; enzymatic activity","LOINC","CCnc","Clinical","unit for the enzyme unit U = umol/min.","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per milliliter per minute","nmol/mL/min","(NMOL/ML)/MIN","amount of substance",100368945e11,[-3,-1,0,0,0,0,0],"(nmol/mL)/min","si",!0,null,null,1,!1,!1,1,"nmol per mL per min; nanomoles per milliliters per min; millilitres; milli enzyme units per volume; enzyme activity; enzymatic activity","LOINC","CCnc","Clinical","unit for the enzyme unit U = umol/min. nmol/mL/min = mU/mL","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per millimole","nmol/mmol","NMOL/MMOL","amount of substance",1e-6,[0,0,0,0,0,0,0],"nmol/mmol","si",!0,null,null,1,!1,!1,0,"nmol per mmol; nanomoles per millimole","LOINC","SRto","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per millimole of creatinine","nmol/mmol{creat}","NMOL/MMOL","amount of substance",1e-6,[0,0,0,0,0,0,0],"nmol/mmol","si",!0,null,null,1,!1,!1,0,"nanomoles","LOINC","SRto","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per mole","nmol/mol","NMOL/MOL","amount of substance",1e-9,[0,0,0,0,0,0,0],"nmol/mol","si",!0,null,null,1,!1,!1,0,"nmol per mole; nanomoles","LOINC","SRto","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per nanomole","nmol/nmol","NMOL/NMOL","amount of substance",1,[0,0,0,0,0,0,0],"nmol/nmol","si",!0,null,null,1,!1,!1,0,"nmol per nmol; nanomoles","LOINC","SRto","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per second","nmol/s","NMOL/S","amount of substance",60221367e7,[0,-1,0,0,0,0,0],"nmol/s","si",!0,null,null,1,!1,!1,1,"nmol/sec; nmol per sec; nanomoles per sercond; milli enzyme units; enzyme activity; enzymatic activity","LOINC","CCnc","Clinical","unit for the enzyme unit U = umol/min.","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanomole per second per liter","nmol/s/L","(NMOL/S)/L","amount of substance",60221367e10,[-3,-1,0,0,0,0,0],"(nmol/s)/L","si",!0,null,null,1,!1,!1,1,"nmol/sec/L; nmol per s per L; nmol per sec per L; nanomoles per seconds per liter; litre; milli enzyme units per volume; enzyme activity; enzymatic activity","LOINC","CCnc","Clinical","unit for the enzyme unit U = umol/min.","10*23","10*23","6.0221367",6.0221367,!1],[!1,"nanosecond","ns","NS","time",1e-9,[0,1,0,0,0,0,0],"ns",null,!1,"T",null,1,!1,!1,0,"nanoseconds","LOINC","Time","Clinical","",null,null,null,null,!1],[!1,"nanoenzyme unit per milliliter","nU/mL","NU/ML","catalytic activity",100368945e5,[-3,-1,0,0,0,0,0],"nU/mL","chemical",!0,null,null,1,!1,!1,1,"nU per mL; nanoenzyme units per milliliter; millilitre; enzymatic activity per volume; enzyme activity","LOINC","CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min); 1 fU = pmol/min","umol/min","UMOL/MIN","1",1,!1],[!1,"Ohm meter","Ohm.m","OHM.M","electric resistance",1e3,[3,-1,1,0,0,-2,0],"\u03A9.m","si",!0,null,null,1,!1,!1,0,"electric resistivity; meters; metres","LOINC","","Clinical","unit of electric resistivity","V/A","V/A","1",1,!1],[!1,"osmole per kilogram","osm/kg","OSM/KG","amount of substance (dissolved particles)",60221367e13,[0,0,-1,0,0,0,0],"osm/kg","chemical",!0,null,null,1,!1,!1,1,"osm per kg; osmoles per kilogram; osmols","LOINC","Osmol","Clinical","","mol","MOL","1",1,!1],[!1,"osmole per liter","osm/L","OSM/L","amount of substance (dissolved particles)",60221366999999994e10,[-3,0,0,0,0,0,0],"osm/L","chemical",!0,null,null,1,!1,!1,1,"osm per L; osmoles per liter; litre; osmols","LOINC","Osmol","Clinical","","mol","MOL","1",1,!1],[!1,"picoampere","pA","PA","electric current",1e-12,[0,-1,0,0,0,1,0],"pA","si",!0,null,null,1,!1,!1,0,"picoamperes","LOINC","","Clinical","equal to 10^-12 amperes","C/s","C/S","1",1,!1],[!1,"picogram","pg","PG","mass",1e-12,[0,0,1,0,0,0,0],"pg",null,!1,"M",null,1,!1,!1,0,"picograms","LOINC","Mass; EntMass","Clinical","",null,null,null,null,!1],[!1,"picogram per deciliter","pg/dL","PG/DL","mass",9999999999999999e-24,[-3,0,1,0,0,0,0],"pg/dL",null,!1,"M",null,1,!1,!1,0,"pg per dL; picograms; decilitre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"picogram per liter","pg/L","PG/L","mass",1e-9,[-3,0,1,0,0,0,0],"pg/L",null,!1,"M",null,1,!1,!1,0,"pg per L; picograms; litre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"picogram per milligram","pg/mg","PG/MG","mass",1e-9,[0,0,0,0,0,0,0],"pg/mg",null,!1,"M",null,1,!1,!1,0,"pg per mg; picograms","LOINC","MCnt","Clinical","",null,null,null,null,!1],[!1,"picogram per milliliter","pg/mL","PG/ML","mass",1e-6,[-3,0,1,0,0,0,0],"pg/mL",null,!1,"M",null,1,!1,!1,0,"pg per mL; picograms per milliliter; millilitre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"picogram per millimeter","pg/mm","PG/MM","mass",1e-9,[-1,0,1,0,0,0,0],"pg/mm",null,!1,"M",null,1,!1,!1,0,"pg per mm; picogram/millimeter; picogram/millimetre; picograms per millimeter; millimetre","LOINC","Lineic Mass","Clinical","",null,null,null,null,!1],[!1,"picokatal","pkat","PKAT","catalytic activity",60221367e4,[0,-1,0,0,0,0,0],"pkat","chemical",!0,null,null,1,!1,!1,1,"pkats; picokatals","LOINC","CAct","Clinical","kat is a unit of catalytic activity with base units = mol/s. Rarely used because its units are too large to practically express catalytic activity. See enzyme unit [U] which is the standard unit for catalytic activity.","mol/s","MOL/S","1",1,!1],[!1,"picoliter","pL","PL","volume",1e-15,[3,0,0,0,0,0,0],"pL","iso1000",!0,null,null,1,!1,!1,0,"picoliters; picolitres","LOINC","Vol","Clinical","","l",null,"1",1,!1],[!1,"picometer","pm","PM","length",1e-12,[1,0,0,0,0,0,0],"pm",null,!1,"L",null,1,!1,!1,0,"picometers; picometres","LOINC","Len","Clinical","",null,null,null,null,!1],[!1,"picomole","pmol","PMOL","amount of substance",60221367e4,[0,0,0,0,0,0,0],"pmol","si",!0,null,null,1,!1,!1,1,"picomoles; pmols","LOINC","Sub","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"picomole per 24 hour","pmol/(24.h)","PMOL/(24.HR)","amount of substance",6970065625e-3,[0,-1,0,0,0,0,0],"pmol/h","si",!0,null,null,1,!1,!1,1,"pmol/24hrs; pmol/24 hrs; pmol per 24 hrs; 24hrs; days; dy; picomoles per 24 hours","LOINC","SRat","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"picomole per day","pmol/d","PMOL/D","amount of substance",6970065625e-3,[0,-1,0,0,0,0,0],"pmol/d","si",!0,null,null,1,!1,!1,1,"pmol/dy; pmol per day; 24 hours; 24hrs; 24 hrs; picomoles","LOINC","SRat","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"picomole per deciliter","pmol/dL","PMOL/DL","amount of substance",60221367e8,[-3,0,0,0,0,0,0],"pmol/dL","si",!0,null,null,1,!1,!1,1,"pmol per dL; picomoles per deciliter; decilitre","LOINC","SCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"picomole per gram","pmol/g","PMOL/G","amount of substance",60221367e4,[0,0,-1,0,0,0,0],"pmol/g","si",!0,null,null,1,!1,!1,1,"pmol per gm; picomoles per gram; picomole/gram","LOINC","SCnt","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"picomole per hour per milliliter ","pmol/h/mL","(PMOL/HR)/ML","amount of substance",167281575e6,[-3,-1,0,0,0,0,0],"(pmol/h)/mL","si",!0,null,null,1,!1,!1,1,"pmol/hrs/mL; pmol per hrs per mL; picomoles per hour per milliliter; millilitre; micro enzyme units per volume; enzymatic activity; enzyme activity","LOINC","CCnc","Clinical","unit for the enzyme unit U = umol/min. ","10*23","10*23","6.0221367",6.0221367,!1],[!1,"picomole per liter","pmol/L","PMOL/L","amount of substance",60221367e7,[-3,0,0,0,0,0,0],"pmol/L","si",!0,null,null,1,!1,!1,1,"picomole/liter; pmol per L; picomoles; litre","LOINC","SCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"picomole per minute","pmol/min","PMOL/MIN","amount of substance",10036894500,[0,-1,0,0,0,0,0],"pmol/min","si",!0,null,null,1,!1,!1,1,"picomole/minute; pmol per min; picomoles per minute; micro enzyme units; enzymatic activity; enzyme activity","LOINC","CCnc","Clinical","unit for the enzyme unit U = umol/min. pmol/min = uU (micro enzyme unit)","10*23","10*23","6.0221367",6.0221367,!1],[!1,"picomole per milliliter","pmol/mL","PMOL/ML","amount of substance",60221367e10,[-3,0,0,0,0,0,0],"pmol/mL","si",!0,null,null,1,!1,!1,1,"picomole/milliliter; picomole/millilitre; pmol per mL; picomoles; millilitre; picomols; pmols","LOINC","SCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"picomole per micromole","pmol/umol","PMOL/UMOL","amount of substance",1e-6,[0,0,0,0,0,0,0],"pmol/\u03BCmol","si",!0,null,null,1,!1,!1,0,"pmol/mcgmol; picomole/micromole; pmol per umol; pmol per mcgmol; picomoles ","LOINC","SRto","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"picosecond","ps","PS","time",1e-12,[0,1,0,0,0,0,0],"ps",null,!1,"T",null,1,!1,!1,0,"picoseconds; psec","LOINC","Time","Clinical","",null,null,null,null,!1],[!1,"picotesla","pT","PT","magnetic flux density",1e-9,[0,-1,1,0,0,-1,0],"pT","si",!0,null,null,1,!1,!1,0,"picoteslas","LOINC","","Clinical","SI unit of magnetic field strength for magnetic field B","Wb/m2","WB/M2","1",1,!1],[!1,"enzyme unit per 12 hour","U/(12.h)","U/(12.HR)","catalytic activity",23233552083333334e-5,[0,-2,0,0,0,0,0],"U/h","chemical",!0,null,null,1,!1,!1,1,"U/12hrs; U/ 12hrs; U per 12 hrs; 12hrs; enzyme units per 12 hours; enzyme activity; enzymatic activity per time; umol per min per 12 hours; micromoles per minute per 12 hours; umol/min/12hr","LOINC","CRat","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per 2 hour","U/(2.h)","U/(2.HR)","catalytic activity",1394013125e3,[0,-2,0,0,0,0,0],"U/h","chemical",!0,null,null,1,!1,!1,1,"U/2hrs; U/ 2hrs; U per 2 hrs; 2hrs; enzyme units per 2 hours; enzyme activity; enzymatic activity per time; umol per minute per 2 hours; micromoles per minute; umol/min/2hr; umol per min per 2hr","LOINC","CRat","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per 24 hour","U/(24.h)","U/(24.HR)","catalytic activity",11616776041666667e-5,[0,-2,0,0,0,0,0],"U/h","chemical",!0,null,null,1,!1,!1,1,"U/24hrs; U/ 24hrs; U per 24 hrs; 24hrs; enzyme units per 24 hours; enzyme activity; enzymatic activity per time; micromoles per minute per 24 hours; umol/min/24hr; umol per min per 24hr","LOINC","CRat","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per 10","U/10","U/10","catalytic activity",100368945e7,[0,-1,0,0,0,0,0],"U","chemical",!0,null,null,1,!1,!1,1,"enzyme unit/10; U per 10; enzyme units per 10; enzymatic activity; enzyme activity; micromoles per minute; umol/min/10","LOINC","CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per 10 billion","U/10*10","U/(10*10)","catalytic activity",100368945e-2,[0,-1,0,0,0,0,0],"U/(10<sup>10</sup>)","chemical",!0,null,null,1,!1,!1,1,"U per 10*10; enzyme units per 10*10; U per 10 billion; enzyme units; enzymatic activity; micromoles per minute per 10 billion; umol/min/10*10","LOINC","CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per trillion","U/10*12","U/(10*12)","catalytic activity",10036.8945,[0,-1,0,0,0,0,0],"U/(10<sup>12</sup>)","chemical",!0,null,null,1,!1,!1,1,"enzyme unit/10*12; U per 10*12; enzyme units per 10*12; enzyme units per trillion; enzymatic activity; micromoles per minute per trillion; umol/min/10*12; umol per min per 10*12","LOINC","CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per million","U/10*6","U/(10*6)","catalytic activity",10036894500,[0,-1,0,0,0,0,0],"U/(10<sup>6</sup>)","chemical",!0,null,null,1,!1,!1,1,"enzyme unit/10*6; U per 10*6; enzyme units per 10*6; enzyme units; enzymatic activity per volume; micromoles per minute per million; umol/min/10*6; umol per min per 10*6","LOINC","CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per billion","U/10*9","U/(10*9)","catalytic activity",100368945e-1,[0,-1,0,0,0,0,0],"U/(10<sup>9</sup>)","chemical",!0,null,null,1,!1,!1,1,"enzyme unit/10*9; U per 10*9; enzyme units per 10*9; enzymatic activity per volume; micromoles per minute per billion; umol/min/10*9; umol per min per 10*9","LOINC","CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per day","U/d","U/D","catalytic activity",11616776041666667e-5,[0,-2,0,0,0,0,0],"U/d","chemical",!0,null,null,1,!1,!1,1,"U/dy; enzyme units per day; enzyme units; enzyme activity; enzymatic activity per time; micromoles per minute per day; umol/min/day; umol per min per day","LOINC","CRat","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per deciliter","U/dL","U/DL","catalytic activity",100368945e12,[-3,-1,0,0,0,0,0],"U/dL","chemical",!0,null,null,1,!1,!1,1,"U per dL; enzyme units per deciliter; decilitre; micromoles per minute per deciliter; umol/min/dL; umol per min per dL","LOINC","CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per gram","U/g","U/G","catalytic activity",100368945e8,[0,-1,-1,0,0,0,0],"U/g","chemical",!0,null,null,1,!1,!1,1,"U/gm; U per gm; enzyme units per gram; micromoles per minute per gram; umol/min/g; umol per min per g","LOINC","CCnt","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per hour","U/h","U/HR","catalytic activity",278802625e4,[0,-2,0,0,0,0,0],"U/h","chemical",!0,null,null,1,!1,!1,1,"U/hr; U per hr; enzyme units per hour; micromoles per minute per hour; umol/min/hr; umol per min per hr","LOINC","CRat","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per liter","U/L","U/L","catalytic activity",100368945e11,[-3,-1,0,0,0,0,0],"U/L","chemical",!0,null,null,1,!1,!1,1,"enzyme unit/liter; enzyme unit/litre; U per L; enzyme units per liter; enzyme unit per litre; micromoles per minute per liter; umol/min/L; umol per min per L","LOINC","CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per minute","U/min","U/MIN","catalytic activity",167281575e6,[0,-2,0,0,0,0,0],"U/min","chemical",!0,null,null,1,!1,!1,1,"enzyme unit/minute; U per min; enzyme units; umol/min/min; micromoles per minute per minute; micromoles per min per min; umol","LOINC","CRat","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per milliliter","U/mL","U/ML","catalytic activity",100368945e14,[-3,-1,0,0,0,0,0],"U/mL","chemical",!0,null,null,1,!1,!1,1,"U per mL; enzyme units per milliliter; millilitre; micromoles per minute per milliliter; umol/min/mL; umol per min per mL","LOINC","CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"enzyme unit per second","U/s","U/S","catalytic activity",100368945e8,[0,-2,0,0,0,0,0],"U/s","chemical",!0,null,null,1,!1,!1,1,"U/sec; U per second; enzyme units per second; micromoles per minute per second; umol/min/sec; umol per min per sec","LOINC","CRat","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min)","umol/min","UMOL/MIN","1",1,!1],[!1,"micro international unit","u[IU]","U[IU]","arbitrary",1e-6,[0,0,0,0,0,0,0],"\u03BCi.U.","chemical",!0,null,null,1,!1,!0,0,"uIU; u IU; microinternational units","LOINC","Arb","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"micro international unit per liter","u[IU]/L","U[IU]/L","arbitrary",.001,[-3,0,0,0,0,0,0],"(\u03BCi.U.)/L","chemical",!0,null,null,1,!1,!0,0,"uIU/L; u IU/L; uIU per L; microinternational units per liter; litre; ","LOINC","ACnc","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"micro international unit per milliliter","u[IU]/mL","U[IU]/ML","arbitrary",1,[-3,0,0,0,0,0,0],"(\u03BCi.U.)/mL","chemical",!0,null,null,1,!1,!0,0,"uIU/mL; u IU/mL; uIU per mL; microinternational units per milliliter; millilitre","LOINC","ACnc","Clinical","International units (IU) are analyte and reference specimen  specific arbitrary units (held at WHO)","[iU]","[IU]","1",1,!1],[!1,"microequivalent","ueq","UEQ","amount of substance",60221367e10,[0,0,0,0,0,0,0],"\u03BCeq","chemical",!0,null,null,1,!1,!1,1,"microequivalents; 10^-6 equivalents; 10-6 equivalents","LOINC","Sub","Clinical","","mol","MOL","1",1,!1],[!1,"microequivalent per liter","ueq/L","UEQ/L","amount of substance",60221367e13,[-3,0,0,0,0,0,0],"\u03BCeq/L","chemical",!0,null,null,1,!1,!1,1,"ueq per liter; litre; microequivalents","LOINC","MCnc","Clinical","","mol","MOL","1",1,!1],[!1,"microequivalent per milliliter","ueq/mL","UEQ/ML","amount of substance",60221367000000003e7,[-3,0,0,0,0,0,0],"\u03BCeq/mL","chemical",!0,null,null,1,!1,!1,1,"ueq per milliliter; millilitre; microequivalents","LOINC","MCnc","Clinical","","mol","MOL","1",1,!1],[!1,"microgram","ug","UG","mass",1e-6,[0,0,1,0,0,0,0],"\u03BCg",null,!1,"M",null,1,!1,!1,0,"mcg; micrograms; 10^-6 grams; 10-6 grams","LOINC","Mass","Clinical","",null,null,null,null,!1],[!1,"microgram per 100 gram","ug/(100.g)","UG/(100.G)","mass",1e-8,[0,0,0,0,0,0,0],"\u03BCg/g",null,!1,"M",null,1,!1,!1,0,"ug/100gm; ug/100 gm; mcg; ug per 100g; 100 gm; mcg per 100g; micrograms per 100 grams","LOINC","MCnt","Clinical","",null,null,null,null,!1],[!1,"microgram per 24 hour","ug/(24.h)","UG/(24.HR)","mass",11574074074074074e-27,[0,-1,1,0,0,0,0],"\u03BCg/h",null,!1,"M",null,1,!1,!1,0,"ug/24hrs; ug/24 hrs; mcg/24hrs; ug per 24hrs; mcg per 24hrs; 24 hrs; micrograms per 24 hours","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"microgram per 8 hour","ug/(8.h)","UG/(8.HR)","mass",3472222222222222e-26,[0,-1,1,0,0,0,0],"\u03BCg/h",null,!1,"M",null,1,!1,!1,0,"ug/8hrs; ug/8 hrs; mcg/8hrs; ug per 8hrs; mcg per 8hrs; 8 hrs; micrograms per 8 hours; shift","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"microgram per square foot (international)","ug/[sft_i]","UG/[SFT_I]","mass",10763910416709721e-21,[-2,0,1,0,0,0,0],"\u03BCg",null,!1,"M",null,1,!1,!1,0,"ug/sft; ug/ft2; ug/ft^2; ug/sq. ft; micrograms; sq. foot; foot squared","LOINC","ArMass","Clinical","",null,null,null,null,!1],[!1,"microgram per day","ug/d","UG/D","mass",11574074074074074e-27,[0,-1,1,0,0,0,0],"\u03BCg/d",null,!1,"M",null,1,!1,!1,0,"ug/dy; mcg/dy; ug per day; mcg; micrograms per day","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"microgram per deciliter","ug/dL","UG/DL","mass",.009999999999999998,[-3,0,1,0,0,0,0],"\u03BCg/dL",null,!1,"M",null,1,!1,!1,0,"ug per dL; mcg/dl; mcg per dl; micrograms per deciliter; decilitre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"microgram per gram","ug/g","UG/G","mass",1e-6,[0,0,0,0,0,0,0],"\u03BCg/g",null,!1,"M",null,1,!1,!1,0,"ug per gm; mcg/gm; mcg per g; micrograms per gram","LOINC","MCnt","Clinical","",null,null,null,null,!1],[!1,"microgram per hour","ug/h","UG/HR","mass",27777777777777777e-26,[0,-1,1,0,0,0,0],"\u03BCg/h",null,!1,"M",null,1,!1,!1,0,"ug/hr; mcg/hr; mcg per hr; ug per hr; ug per hour; micrograms","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"microgram per kilogram","ug/kg","UG/KG","mass",9999999999999999e-25,[0,0,0,0,0,0,0],"\u03BCg/kg",null,!1,"M",null,1,!1,!1,0,"ug per kg; mcg/kg; mcg per kg; micrograms per kilogram","LOINC","MCnt","Clinical","",null,null,null,null,!1],[!1,"microgram per kilogram per 8 hour","ug/kg/(8.h)","(UG/KG)/(8.HR)","mass",3472222222222222e-29,[0,-1,0,0,0,0,0],"(\u03BCg/kg)/h",null,!1,"M",null,1,!1,!1,0,"ug/kg/8hrs; mcg/kg/8hrs; ug/kg/8 hrs; mcg/kg/8 hrs; ug per kg per 8hrs; 8 hrs; mcg per kg per 8hrs; micrograms per kilograms per 8 hours; shift","LOINC","","Clinical","unit used to measure mass dose rate per patient body mass",null,null,null,null,!1],[!1,"microgram per kilogram per day","ug/kg/d","(UG/KG)/D","mass",11574074074074072e-30,[0,-1,0,0,0,0,0],"(\u03BCg/kg)/d",null,!1,"M",null,1,!1,!1,0,"ug/(kg.d); ug/kg/dy; mcg/kg/day; ug per kg per dy; 24 hours; 24hrs; mcg; kilograms; microgram per kilogram and day","LOINC","","Clinical","unit used to measure mass dose rate per patient body mass",null,null,null,null,!1],[!1,"microgram per kilogram per hour","ug/kg/h","(UG/KG)/HR","mass",27777777777777774e-29,[0,-1,0,0,0,0,0],"(\u03BCg/kg)/h",null,!1,"M",null,1,!1,!1,0,"ug/(kg.h); ug/kg/hr; mcg/kg/hr; ug per kg per hr; mcg per kg per hr; kilograms","LOINC","","Clinical","unit used to measure mass dose rate per patient body mass",null,null,null,null,!1],[!1,"microgram per kilogram per minute","ug/kg/min","(UG/KG)/MIN","mass",16666666666666664e-27,[0,-1,0,0,0,0,0],"(\u03BCg/kg)/min",null,!1,"M",null,1,!1,!1,0,"ug/kg/min; ug/kg/min; mcg/kg/min; ug per kg per min; mcg; micrograms per kilograms per minute ","LOINC","","Clinical","unit used to measure mass dose rate per patient body mass",null,null,null,null,!1],[!1,"microgram per liter","ug/L","UG/L","mass",.001,[-3,0,1,0,0,0,0],"\u03BCg/L",null,!1,"M",null,1,!1,!1,0,"mcg/L; ug per L; mcg; micrograms per liter; litre ","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"microgram per liter per 24 hour","ug/L/(24.h)","(UG/L)/(24.HR)","mass",11574074074074074e-24,[-3,-1,1,0,0,0,0],"(\u03BCg/L)/h",null,!1,"M",null,1,!1,!1,0,"ug/L/24hrs; ug/L/24 hrs; mcg/L/24hrs; ug per L per 24hrs; 24 hrs; day; dy mcg; micrograms per liters per 24 hours; litres","LOINC","","Clinical","unit used to measure mass dose rate per patient body mass",null,null,null,null,!1],[!1,"microgram per square meter","ug/m2","UG/M2","mass",1e-6,[-2,0,1,0,0,0,0],"\u03BCg/(m<sup>2</sup>)",null,!1,"M",null,1,!1,!1,0,"ug/m^2; ug/sq. m; mcg/m2; mcg/m^2; mcg/sq. m; ug per m2; m^2; sq. meter; mcg; micrograms per square meter; meter squared; metre","LOINC","ArMass","Clinical","unit used to measure mass dose per patient body surface area",null,null,null,null,!1],[!1,"microgram per cubic meter","ug/m3","UG/M3","mass",1e-6,[-3,0,1,0,0,0,0],"\u03BCg/(m<sup>3</sup>)",null,!1,"M",null,1,!1,!1,0,"ug/m^3; ug/cu. m; mcg/m3; mcg/m^3; mcg/cu. m; ug per m3; ug per m^3; ug per cu. m; mcg; micrograms per cubic meter; meter cubed; metre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"microgram per milligram","ug/mg","UG/MG","mass",.001,[0,0,0,0,0,0,0],"\u03BCg/mg",null,!1,"M",null,1,!1,!1,0,"ug per mg; mcg/mg; mcg per mg; micromilligrams per milligram","LOINC","MCnt","Clinical","",null,null,null,null,!1],[!1,"microgram per minute","ug/min","UG/MIN","mass",16666666666666667e-24,[0,-1,1,0,0,0,0],"\u03BCg/min",null,!1,"M",null,1,!1,!1,0,"ug per min; mcg/min; mcg per min; microminutes per minute","LOINC","MRat","Clinical","",null,null,null,null,!1],[!1,"microgram per milliliter","ug/mL","UG/ML","mass",1,[-3,0,1,0,0,0,0],"\u03BCg/mL",null,!1,"M",null,1,!1,!1,0,"ug per mL; mcg/mL; mcg per mL; micrograms per milliliter; millilitre","LOINC","MCnc","Clinical","",null,null,null,null,!1],[!1,"microgram per millimole","ug/mmol","UG/MMOL","mass",1660540186674939e-42,[0,0,1,0,0,0,0],"\u03BCg/mmol",null,!1,"M",null,1,!1,!1,-1,"ug per mmol; mcg/mmol; mcg per mmol; micrograms per millimole","LOINC","Ratio","Clinical","",null,null,null,null,!1],[!1,"microgram per nanogram","ug/ng","UG/NG","mass",999.9999999999999,[0,0,0,0,0,0,0],"\u03BCg/ng",null,!1,"M",null,1,!1,!1,0,"ug per ng; mcg/ng; mcg per ng; micrograms per nanogram","LOINC","MCnt","Clinical","",null,null,null,null,!1],[!1,"microkatal","ukat","UKAT","catalytic activity",60221367e10,[0,-1,0,0,0,0,0],"\u03BCkat","chemical",!0,null,null,1,!1,!1,1,"microkatals; ukats","LOINC","CAct","Clinical","kat is a unit of catalytic activity with base units = mol/s. Rarely used because its units are too large to practically express catalytic activity. See enzyme unit [U] which is the standard unit for catalytic activity.","mol/s","MOL/S","1",1,!1],[!1,"microliter","uL","UL","volume",1e-9,[3,0,0,0,0,0,0],"\u03BCL","iso1000",!0,null,null,1,!1,!1,0,"microliters; microlitres; mcl","LOINC","Vol","Clinical","","l",null,"1",1,!1],[!1,"microliter per 2 hour","uL/(2.h)","UL/(2.HR)","volume",1388888888888889e-28,[3,-1,0,0,0,0,0],"\u03BCL/h","iso1000",!0,null,null,1,!1,!1,0,"uL/2hrs; uL/2 hrs; mcg/2hr; mcg per 2hr; uL per 2hr; uL per 2 hrs; microliters per 2 hours; microlitres ","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"microliter per hour","uL/h","UL/HR","volume",2777777777777778e-28,[3,-1,0,0,0,0,0],"\u03BCL/h","iso1000",!0,null,null,1,!1,!1,0,"uL/hr; mcg/hr; mcg per hr; uL per hr; microliters per hour; microlitres","LOINC","VRat","Clinical","","l",null,"1",1,!1],[!1,"micrometer","um","UM","length",1e-6,[1,0,0,0,0,0,0],"\u03BCm",null,!1,"L",null,1,!1,!1,0,"micrometers; micrometres; \u03BCm; microns","LOINC","Len","Clinical","Unit of length that is usually used in tests related to the eye",null,null,null,null,!1],[!1,"microns per second","um/s","UM/S","length",1e-6,[1,-1,0,0,0,0,0],"\u03BCm/s",null,!1,"L",null,1,!1,!1,0,"um/sec; micron/second; microns/second; um per sec; micrometers per second; micrometres","LOINC","Vel","Clinical","",null,null,null,null,!1],[!1,"micromole","umol","UMOL","amount of substance",60221367e10,[0,0,0,0,0,0,0],"\u03BCmol","si",!0,null,null,1,!1,!1,1,"micromoles; umols","LOINC","Sub","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per 2 hour","umol/(2.h)","UMOL/(2.HR)","amount of substance",836407875e5,[0,-1,0,0,0,0,0],"\u03BCmol/h","si",!0,null,null,1,!1,!1,1,"umol/2hrs; umol/2 hrs; umol per 2 hrs; 2hrs; micromoles per 2 hours","LOINC","SRat","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per 24 hour","umol/(24.h)","UMOL/(24.HR)","amount of substance",6970065625e3,[0,-1,0,0,0,0,0],"\u03BCmol/h","si",!0,null,null,1,!1,!1,1,"umol/24hrs; umol/24 hrs; umol per 24 hrs; per 24hrs; micromoles per 24 hours","LOINC","SRat","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per 8 hour","umol/(8.h)","UMOL/(8.HR)","amount of substance",20910196875e3,[0,-1,0,0,0,0,0],"\u03BCmol/h","si",!0,null,null,1,!1,!1,1,"umol/8hr; umol/8 hr; umol per 8 hr; umol per 8hr; umols per 8hr; umol per 8 hours; micromoles per 8 hours; shift","LOINC","SRat","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per day","umol/d","UMOL/D","amount of substance",6970065625e3,[0,-1,0,0,0,0,0],"\u03BCmol/d","si",!0,null,null,1,!1,!1,1,"umol/day; umol per day; umols per day; umol per days; micromoles per days; umol/24hr; umol/24 hr; umol per 24 hr; umol per 24hr; umols per 24hr; umol per 24 hours; micromoles per 24 hours","LOINC","SRat","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per deciliter","umol/dL","UMOL/DL","amount of substance",60221367e14,[-3,0,0,0,0,0,0],"\u03BCmol/dL","si",!0,null,null,1,!1,!1,1,"micromole/deciliter; micromole/decilitre; umol per dL; micromoles per deciliters; micromole per decilitres","LOINC","SCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per gram","umol/g","UMOL/G","amount of substance",60221367e10,[0,0,-1,0,0,0,0],"\u03BCmol/g","si",!0,null,null,1,!1,!1,1,"micromole/gram; umol per g; micromoles per gram","LOINC","SCnt; Ratio","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per hour","umol/h","UMOL/HR","amount of substance",167281575e6,[0,-1,0,0,0,0,0],"\u03BCmol/h","si",!0,null,null,1,!1,!1,1,"umol/hr; umol per hr; umol per hour; micromoles per hours","LOINC","SRat","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per kilogram","umol/kg","UMOL/KG","amount of substance",60221367e7,[0,0,-1,0,0,0,0],"\u03BCmol/kg","si",!0,null,null,1,!1,!1,1,"umol per kg; micromoles per kilogram","LOINC","SCnt","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per liter","umol/L","UMOL/L","amount of substance",60221367e13,[-3,0,0,0,0,0,0],"\u03BCmol/L","si",!0,null,null,1,!1,!1,1,"micromole/liter; micromole/litre; umol per liter; micromoles per liter; litre","LOINC","SCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per liter per hour","umol/L/h","(UMOL/L)/HR","amount of substance",167281575e9,[-3,-1,0,0,0,0,0],"(\u03BCmol/L)/h","si",!0,null,null,1,!1,!1,1,"umol/liter/hr; umol/litre/hr; umol per L per hr; umol per liter per hour; micromoles per liters per hour; litre","LOINC","CCnc","Clinical","unit for the enzyme unit U = umol/min; umol/L/h is a derived unit of enzyme units","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per milligram","umol/mg","UMOL/MG","amount of substance",60221367e13,[0,0,-1,0,0,0,0],"\u03BCmol/mg","si",!0,null,null,1,!1,!1,1,"micromole/milligram; umol per mg; micromoles per milligram","LOINC","SCnt","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per minute","umol/min","UMOL/MIN","amount of substance",100368945e8,[0,-1,0,0,0,0,0],"\u03BCmol/min","si",!0,null,null,1,!1,!1,1,"micromole/minute; umol per min; micromoles per minute; enzyme units","LOINC","CAct","Clinical","unit for the enzyme unit U = umol/min","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per minute per gram","umol/min/g","(UMOL/MIN)/G","amount of substance",100368945e8,[0,-1,-1,0,0,0,0],"(\u03BCmol/min)/g","si",!0,null,null,1,!1,!1,1,"umol/min/gm; umol per min per gm; micromoles per minutes per gram; U/g; enzyme units","LOINC","CCnt","Clinical","unit for the enzyme unit U = umol/min. umol/min/g = U/g","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per minute per liter","umol/min/L","(UMOL/MIN)/L","amount of substance",100368945e11,[-3,-1,0,0,0,0,0],"(\u03BCmol/min)/L","si",!0,null,null,1,!1,!1,1,"umol/min/liter; umol/minute/liter; micromoles per minutes per liter; litre; enzyme units; U/L","LOINC","CCnc","Clinical","unit for the enzyme unit U = umol/min. umol/min/L = U/L","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per milliliter","umol/mL","UMOL/ML","amount of substance",60221367000000003e7,[-3,0,0,0,0,0,0],"\u03BCmol/mL","si",!0,null,null,1,!1,!1,1,"umol per mL; micromoles per milliliter; millilitre","LOINC","SCnc","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per milliliter per minute","umol/mL/min","(UMOL/ML)/MIN","amount of substance",100368945e14,[-3,-1,0,0,0,0,0],"(\u03BCmol/mL)/min","si",!0,null,null,1,!1,!1,1,"umol per mL per min; micromoles per milliliters per minute; millilitres","LOINC","CCnc","Clinical","unit for the enzyme unit U = umol/min. umol/mL/min = U/mL","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per millimole","umol/mmol","UMOL/MMOL","amount of substance",.001,[0,0,0,0,0,0,0],"\u03BCmol/mmol","si",!0,null,null,1,!1,!1,0,"umol per mmol; micromoles per millimole","LOINC","SRto","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per mole","umol/mol","UMOL/MOL","amount of substance",1e-6,[0,0,0,0,0,0,0],"\u03BCmol/mol","si",!0,null,null,1,!1,!1,0,"umol per mol; micromoles per mole","LOINC","SRto","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"micromole per micromole","umol/umol","UMOL/UMOL","amount of substance",1,[0,0,0,0,0,0,0],"\u03BCmol/\u03BCmol","si",!0,null,null,1,!1,!1,0,"umol per umol; micromoles per micromole","LOINC","Srto; SFr; EntSRto","Clinical","","10*23","10*23","6.0221367",6.0221367,!1],[!1,"microOhm","uOhm","UOHM","electric resistance",.001,[2,-1,1,0,0,-2,0],"\u03BC\u03A9","si",!0,null,null,1,!1,!1,0,"microOhms; \xB5\u03A9","LOINC","","Clinical","unit of electric resistance","V/A","V/A","1",1,!1],[!1,"microsecond","us","US","time",1e-6,[0,1,0,0,0,0,0],"\u03BCs",null,!1,"T",null,1,!1,!1,0,"microseconds","LOINC","Time","Clinical","",null,null,null,null,!1],[!1,"micro enzyme unit per gram","uU/g","UU/G","catalytic activity",10036894500,[0,-1,-1,0,0,0,0],"\u03BCU/g","chemical",!0,null,null,1,!1,!1,1,"uU per gm; micro enzyme units per gram; micro enzymatic activity per mass; enzyme activity","LOINC","CCnt","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min); 1 uU = 1pmol/min","umol/min","UMOL/MIN","1",1,!1],[!1,"micro enzyme unit per liter","uU/L","UU/L","catalytic activity",100368945e5,[-3,-1,0,0,0,0,0],"\u03BCU/L","chemical",!0,null,null,1,!1,!1,1,"uU per L; micro enzyme units per liter; litre; enzymatic activity per volume; enzyme activity ","LOINC","CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min); 1 uU = 1pmol/min","umol/min","UMOL/MIN","1",1,!1],[!1,"micro enzyme unit per milliliter","uU/mL","UU/ML","catalytic activity",100368945e8,[-3,-1,0,0,0,0,0],"\u03BCU/mL","chemical",!0,null,null,1,!1,!1,1,"uU per mL; micro enzyme units per milliliter; millilitre; enzymatic activity per volume; enzyme activity","LOINC","CCnc","Clinical","1 U is the standard enzyme unit which equals 1 micromole substrate catalyzed per minute (1 umol/min); 1 uU = 1pmol/min","umol/min","UMOL/MIN","1",1,!1],[!1,"microvolt","uV","UV","electric potential",.001,[2,-2,1,0,0,-1,0],"\u03BCV","si",!0,null,null,1,!1,!1,0,"microvolts","LOINC","Elpot","Clinical","unit of electric potential (voltage)","J/C","J/C","1",1,!1]]}}});var KA=Q(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.ucumJsonDefs=Gl.UcumJsonDefs=void 0;var _H=FA(),bH=e1(),vH=l1(),qA=ao(),GA=jA().unpackArray,Op=class{loadJsonDefs(){let t=WA();if(t.prefixes=GA(t.prefixes),t.units=GA(t.units),qA.UnitTables.getInstance().unitsCount()===0){let e=bH.PrefixTables.getInstance(),i=t.prefixes,r=i.length;for(let l=0;l<r;l++){let c=new _H.Prefix(i[l]);e.add(c)}let s=qA.UnitTables.getInstance(),a=t.units,o=a.length;for(let l=0;l<o;l++){let c=new vH.Unit(a[l]);s.addUnit(c)}}}};Gl.UcumJsonDefs=Op;var yH=new Op;Gl.ucumJsonDefs=yH});var ZA=Q(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.UnitString=void 0;var $i=CH(Ap());function YA(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return YA=function(){return n},n}function CH(n){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=YA();if(t&&t.has(n))return t.get(n);var e={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var s=i?Object.getOwnPropertyDescriptor(n,r):null;s&&(s.get||s.set)?Object.defineProperty(e,r,s):e[r]=n[r]}return e.default=n,t&&t.set(n,e),e}function QA(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var fi=ua().Ucum,Kl=l1().Unit,wH=ao().UnitTables,xH=e1().PrefixTables,oo=class n{constructor(){this.utabs_=wH.getInstance(),this.pfxTabs_=xH.getInstance(),this.openEmph_=fi.openEmph_,this.closeEmph_=fi.closeEmph_,this.bracesMsg_="",this.parensFlag_="parens_placeholder",this.pFlagLen_=this.parensFlag_.length,this.braceFlag_="braces_placeholder",this.bFlagLen_=this.braceFlag_.length,this.vcMsgStart_=null,this.vcMsgEnd_=null,this.retMsg_=[],this.parensUnits_=[],this.annotations_=[],this.suggestions=[]}useHTMLInMessages(t){t===void 0||t?(this.openEmph_=fi.openEmphHTML_,this.closeEmph_=fi.closeEmphHTML_):(this.openEmph_=fi.openEmph_,this.closeEmph_=fi.closeEmph_)}useBraceMsgForEachString(t){t===void 0||t?this.bracesMsg_=fi.bracesMsg_:this.bracesMsg_=""}parseString(t,e,i){if(t=t.trim(),t===""||t===null)throw new Error("Please specify a unit expression to be validated.");e==="validate"?(this.vcMsgStart_=fi.valMsgStart_,this.vcMsgEnd_=fi.valMsgEnd_):(this.vcMsgStart_=fi.cnvMsgStart_,this.vcMsgEnd_=fi.cnvMsgEnd_),i===void 0||i===!1?this.suggestions_=null:this.suggestions_=[],this.retMsg_=[],this.parensUnits_=[],this.annotations_=[];let r=t,s=[];if(t=this._getAnnotations(t),this.retMsg_.length>0)s[0]=null,s[1]=null;else{let a=this.retMsg_.length>0,o=null;for(o in fi.specUnits_)for(;t.indexOf(o)!==-1;)t=t.replace(o,fi.specUnits_[o]);if(t.indexOf(" ")>-1)throw new Error("Blank spaces are not allowed in unit expressions.");s=this._parseTheString(t,r);let l=s[0];($i.isIntegerUnit(l)||typeof l=="number")&&(l=new Kl({csCode_:r,ciCode_:r,magnitude_:l,name_:r}),s[0]=l)}return s[2]=this.retMsg_,this.suggestions_&&this.suggestions_.length>0&&(s[3]=this.suggestions_),s}_parseTheString(t,e){let i=null,r=this.retMsg_.length>0,s=this._processParens(t,e);r=s[2];let a=[];if(!r){t=s[0],e=s[1];let o=this._makeUnitsArray(t,e);if(r=o[2],!r){a=o[0],e=o[1];let l=a.length;for(let c=0;c<l;c++){let u=a[c].un;if($i.isIntegerUnit(u))a[c].un=Number(u);else if(u.indexOf(this.parensFlag_)>=0){let d=this._getParensUnit(u,e);r||(r=d[1]),r||(a[c].un=d[0])}else{let d=this._makeUnit(u,e);d[0]===null?r=!0:(a[c].un=d[0],e=d[1])}}}}return r||(a[0]===null||a[0]===" "||a[0].un===void 0||a[0].un===null)&&this.retMsg_.length===0&&(this.retMsg_.push(`Unit string (${e}) did not contain anything that could be used to create a unit, or else something that is not handled yet by this package.  Sorry`),r=!0),r||(i=this._performUnitArithmetic(a,e)),[i,e]}_getAnnotations(t){let e=t.indexOf("{");for(;e>=0;){let i=t.indexOf("}");if(i<0)this.retMsg_.push("Missing closing brace for annotation starting at "+this.openEmph_+t.substr(e)+this.closeEmph_),e=-1;else{let r=t.substring(e,i+1);if(!n.VALID_ANNOTATION_REGEX.test(r))this.retMsg_.push(n.INVALID_ANNOTATION_CHAR_MSG+this.openEmph_+r+this.closeEmph_),e=-1;else{let s=this.annotations_.length.toString();t=t.replace(r,this.braceFlag_+s+this.braceFlag_),this.annotations_.push(r),e=t.indexOf("{")}}}if(this.retMsg_.length==0){let i=t.indexOf("}");i>=0&&this.retMsg_.push("Missing opening brace for closing brace found at "+this.openEmph_+t.substring(0,i+1)+this.closeEmph_)}return t}_processParens(t,e){let i=[],r=0,s=!1,a=this.parensUnits_.length,o=0;for(;t!==""&&!s;){let l=0,c=0,u=t.indexOf("(");if(u<0){let d=t.indexOf(")");if(d>=0){let h=`Missing open parenthesis for close parenthesis at ${t.substring(0,d+o)}${this.openEmph_}${t.substr(d,1)}${this.closeEmph_}`;d<t.length-1&&(h+=`${t.substr(d+1)}`),this.retMsg_.push(h),i[r]=t,s=!0}else i[r]=t,t=""}else{l+=1;let d=t.length;u>0&&(i[r++]=t.substr(0,u));let h=0,m=u+1;for(;m<d&&l!=c;m++)t[m]==="("?l+=1:t[m]===")"&&(c+=1);if(l===c){h=m,i[r++]=this.parensFlag_+a.toString()+this.parensFlag_;let f=this._parseTheString(t.substring(u+1,h-1),e);f[0]===null?s=!0:t[u+1]==="/"?(this.retMsg_.push("Unary operator '/' is only allowed at the beginning of the main term, not inside a parenthesis."),s=!0):(e=f[1],this.parensUnits_[a++]=f[0],t=t.substr(h),o=h)}else i.push(e.substr(u)),this.retMsg_.push(`Missing close parenthesis for open parenthesis at ${e.substring(0,u+o)}${this.openEmph_}${e.substr(u,1)}${this.closeEmph_}${e.substr(u+1)}`),s=!0}}return s&&(this.parensUnits_=[]),[i.join(""),e,s]}_makeUnitsArray(t,e){let i=t.match(/([./]|[^./]+)/g),r=!1,s=[],a=/(^[0-9]+)(\[?[a-zA-Z\_0-9a-zA-Z\_]+\]?$)/;if(i[0]==="/"?i.unshift("1"):i[0]==="."&&(this.retMsg_.push(`${e} is not a valid UCUM code. The multiplication operator at the beginning of the expression is not valid. A multiplication operator must appear only between two codes.`),r=!0),!r){if(!$i.isNumericString(i[0])){let o=i[0].match(a);if(o&&o.length===3&&o[1]!==""&&o[2]!==""&&o[2].indexOf(this.braceFlag_)!==0){let l=o[2];if(!r&&o[2].indexOf(this.parensFlag_)!==-1){let c=this._getParensUnit(o[2],e);o[2]=c[0].csCode_,l=`(${o[2]})`,r=c[1]}r||(this.retMsg_.push(`${o[1]}${l} is not a valid UCUM code.  ${this.vcMsgStart_}${o[1]}.${l}${this.vcMsgEnd_}`),e=e.replace(`${o[1]}${l}`,`${o[1]}.${l}`),i[0]=o[2],i.unshift(o[1],"."))}}if(!r){let o=i.length;s=[{op:"",un:i[0]}];for(let l=1;l<o;l++){let c=i[l++];if(!i[l])this.retMsg_.push(`${e} is not a valid UCUM code. It is terminated with the operator ${this.openEmph_}${c}${this.closeEmph_}.`),l=o,r=!0;else if(fi.validOps_.indexOf(i[l])!==-1)this.retMsg_.push(`${e} is not a valid UCUM code. A unit code is missing between${this.openEmph_}${c}${this.closeEmph_}and${this.openEmph_}${i[l]}${this.closeEmph_}in${this.openEmph_}${c}${i[l]}${this.closeEmph_}.`),l=o,r=!0;else if($i.isNumericString(i[l]))s.push({op:c,un:i[l]});else{let u=i[l].match(a);if(u&&u.length===3&&u[1]!==""&&u[2]!==""&&u[2].indexOf(this.braceFlag_)!==0){let d=u[0];if(!r&&u[2].indexOf(this.parensFlag_)!==-1){let h=this._getParensUnit(u[2],e);if(u[2]=h[0].csCode_,d=`(${u[2]})`,r=h[1],!r){this.retMsg_.push(`${u[1]}${d} is not a valid UCUM code.  ${this.vcMsgStart_}${u[1]}.${d}${this.vcMsgEnd_}`);let m=`(${u[1]}.${d})`;e=e.replace(`${u[1]}${d}`,m);let f=this._processParens(m,e);r=f[2],r||s.push({op:c,un:f[0]})}}else{let h="("+u[1]+"."+u[2]+")",m=this._processParens(h,e);m[2]?(l=o,r=!0):(this.retMsg_.push(`${u[0]} is not a valid UCUM code.  ${this.vcMsgStart_}${u[1]}.${u[2]}${this.vcMsgEnd_}`),e=e.replace(u[0],h),s.push({op:c,un:m[0]}))}}else s.push({op:c,un:i[l]})}}}}return[s,e,r]}_getParensUnit(t,e){let i=!1,r=[],s=null,a=null,o=null,l=t.indexOf(this.parensFlag_),c=null;l>0&&(c=t.substr(0,l-1));let u=t.lastIndexOf(this.parensFlag_),d=null;u+this.pFlagLen_<t.length&&(d=t.substr(u+this.pFlagLen_));let h=t.substring(l+this.pFlagLen_,u);if($i.isNumericString(h))s=this.parensUnits_[Number(h)],$i.isIntegerUnit(s)?t=s:t=s.csCode_;else throw new Error(`Processing error - invalid parens number ${h} found in ${t}.`);if(c)if($i.isNumericString(c)){let m=s.getProperty("magnitude_");m*=Number(c),s.assignVals({magnitude_:m}),t=`${c}.${t}`,this.retMsg_.push(`${c}${t} is not a valid UCUM code.
`+this.vcMsgStart_+t+this.vcMsgEnd_)}else if(c.indexOf(this.braceFlag_)>=0){let m=this._getAnnoText(c,e);if(m[1]||m[2])throw new Error(`Text found before the parentheses (${c}) included an annotation along with other text for parenthetical unit ${s.csCode_}`);t+=m[0],this.retMsg_.push(`The annotation ${m[0]} before the unit code is invalid.
`+this.vcMsgStart_+t+this.vcMsgEnd_)}else this.suggestions_?i=this._getSuggestions(c)!=="succeeded":(this.retMsg_.push(`${c} preceding the unit code ${t} is invalid.  Unable to make a substitution.`),i=!0);if(d)if(d.indexOf(this.braceFlag_)>=0){let m=this._getAnnoText(d,e);if(m[1]||m[2])throw new Error(`Text found after the parentheses (${d}) included an annotation along with other text for parenthetical unit ${s.csCode_}`);t+=m[0]}else if($i.isNumericString(d)){s=null;let m=`An exponent (${d}) following a parenthesis is invalid as of revision 1.9 of the UCUM Specification.`;t.match(/\d$/)||(t+=d,m+=`
  `+this.vcMsgStart_+t+this.vcMsgEnd_),this.retMsg_.push(m),i=!0}else this.suggestions_?i=this._getSuggestions(c)!=="succeeded":(this.retMsg_.push(`Text ${d} following the unit code ${t} is invalid.  Unable to make a substitution.`),i=!0);return i||(s?$i.isIntegerUnit(s)?s=new Kl({csCode_:s,magnitude_:s,name_:s}):s.csCode_=t:s=new Kl({csCode_:t,magnitude_:1,name_:t})),[s,i]}_getAnnoText(t,e){let i=t.indexOf(this.braceFlag_),r=i>0?t.substring(0,i):null;i!==0&&(t=t.substr(i));let s=t.indexOf(this.braceFlag_,1),a=s+this.bFlagLen_<t.length?t.substr(s+this.bFlagLen_):null,o=t.substring(this.bFlagLen_,s),l=Number(o);if(!$i.isNumericString(o)||l>=this.annotations_.length)throw new Error(`Processing Error - invalid annotation index ${o} found in ${t} that was created from ${e}`);return t=this.annotations_[l],[t,r,a]}_getSuggestions(t){let e=$i.getSynonyms(t);if(e.status==="succeeded"){let i={};i.msg=`${t} is not a valid UCUM code.  We found possible units that might be what was meant:`,i.invalidUnit=t;let r=e.units.length;i.units=[];for(let s=0;s<r;s++){let a=e.units[s],o=[a.code,a.name,a.guidance];i.units.push(o)}this.suggestions_.push(i)}else this.retMsg_.push(`${t} is not a valid UCUM code.  No alternatives were found.`);return e.status}_makeUnit(t,e){let i=this.utabs_.getUnitByCode(t);if(i)i=i.clone();else if(t.indexOf(this.braceFlag_)>=0){let r=this._getUnitWithAnnotation(t,e);i=r[0],i&&(e=r[1])}else{if(t.indexOf("^")>-1){let r=t.replace("^","*");i=this.utabs_.getUnitByCode(r),i&&(i=i.clone(),i.csCode_=i.csCode_.replace("*","^"),i.ciCode_=i.ciCode_.replace("*","^"))}if(!i){let r="["+t+"]";i=this.utabs_.getUnitByCode(r),i&&(i=i.clone(),e=e.replace(t,r),this.retMsg_.push(`${t} is not a valid unit expression, but ${r} is.
`+this.vcMsgStart_+`${r} (${i.name_})${this.vcMsgEnd_}`))}if(!i){let r=this.utabs_.getUnitByName(t);if(r&&r.length>0){i=r[0].clone();let s="The UCUM code for "+t+" is "+i.csCode_+`.
`+this.vcMsgStart_+i.csCode_+this.vcMsgEnd_,a=!1;for(let c=0;c<this.retMsg_.length&&!a;c++)a=this.retMsg_[c]===s;a||this.retMsg_.push(s);let o=new RegExp("(^|[./({])("+t+")($|[./)}])"),l=e.match(o);e=e.replace(o,l[1]+i.csCode_+l[3]),t=i.csCode_}}if(!i){let r=null;for(r in fi.specUnits_)t.indexOf(fi.specUnits_[r])!==-1&&(t=t.replace(fi.specUnits_[r],r));i=this.utabs_.getUnitByCode(t),i&&(i=i.clone())}if(!i){let r=t,s=null,a=null,o=null,l=null,c=null,u=null,d=this._isCodeWithExponent(t);if(d&&(t=d[0],a=d[1],s=this.utabs_.getUnitByCode(t)),a&&isNaN(a))i=null,this.retMsg_.push(`${r} is not a valid UCUM code.`);else{if(!s&&(o=t.charAt(0),l=this.pfxTabs_.getPrefixByCode(o),l)){c=l.getValue(),u=l.getExp();let h=o.length;t=t.substr(h),s=this.utabs_.getUnitByCode(t),!s&&o=="d"&&t.substr(0,1)=="a"&&(o="da",l=this.pfxTabs_.getPrefixByCode(o),c=l.getValue(),t=t.substr(1),s=this.utabs_.getUnitByCode(t)),s&&s.source_=="LOINC"&&(s=null)}if(s){i=s.clone(),i.resetFieldsForDerivedUnit();let h=i.getProperty("dim_"),m=i.getProperty("magnitude_"),f=i.getProperty("name_"),p=i.getProperty("ciCode_"),g=i.getProperty("printSymbol_");if(a){a=parseInt(a);let w=a;h&&(h=h.mul(a)),m=Math.pow(m,a),i.assignVals({magnitude_:m}),l&&u&&(w*=l.getExp(),c=Math.pow(10,w))}l&&(i.cnv_?i.assignVals({cnvPfx_:c}):(m*=c,i.assignVals({magnitude_:m})));let y=i.csCode_;if(l&&(f=l.getName()+f,y=o+y,p=l.getCiCode()+p,g=l.getPrintSymbol()+g,i.assignVals({name_:f,csCode_:y,ciCode_:p,printSymbol_:g})),a){let w=a.toString();i.assignVals({name_:f+"<sup>"+w+"</sup>",csCode_:y+w,ciCode_:p+w,printSymbol_:g+"<sup>"+w+"</sup>"})}}else if(i=null,this.suggestions_){let h=this._getSuggestions(r)}else this.retMsg_.push(`${r} is not a valid UCUM code.`)}}}return[i,e]}_getUnitWithAnnotation(t,e){let i=null,r=this._getAnnoText(t,e),s=r[0],a=r[1],o=r[2];this.bracesMsg_&&this.retMsg_.indexOf(this.bracesMsg_)===-1&&this.retMsg_.push(this.bracesMsg_);let l=this.retMsg_.length;if(!a&&!o){let c="["+s.substring(1,s.length-1)+"]",u=this._makeUnit(c,e);u[0]?(i=t,this.retMsg_.push(`${s} is a valid unit expression, but did you mean ${c} (${u[0].name_})?`)):this.retMsg_.length>l&&this.retMsg_.pop(),i=new Kl({csCode_:s,ciCode_:s,magnitude_:1,name_:s})}else if(a&&!o)if($i.isIntegerUnit(a))i=a;else{let c=this._makeUnit(a,e);c[0]?(i=c[0],i.csCode_+=s,e=c[1]):this.retMsg_.push(`Unable to find a unit for ${a} that precedes the annotation ${s}.`)}else if(!a&&o)if($i.isIntegerUnit(o))i=o+s,this.retMsg_.push(`The annotation ${s} before the ``${o} is invalid.\n`+this.vcMsgStart_+i+this.vcMsgEnd_);else{let c=this._makeUnit(o,e);c[0]?(i=c[0],i.csCode_+=s,e=i.csCode_,this.retMsg_.push(`The annotation ${s} before the unit code is invalid.
`+this.vcMsgStart_+i.csCode_+this.vcMsgEnd_)):this.retMsg_.push(`Unable to find a unit for ${a} that follows the annotation ${s}.`)}else this.retMsg_.push(`Unable to find a unit for ${a}${s}${o}.
We are not sure how to interpret text both before and after the annotation.  Sorry`);return[i,e]}_performUnitArithmetic(t,e){let i=t[0].un;$i.isIntegerUnit(i)&&(i=new Kl({csCode_:i,ciCode_:i,magnitude_:Number(i),name_:i}));let r=t.length,s=!1;for(let a=1;a<r&&!s;a++){let o=t[a].un;if($i.isIntegerUnit(o)&&(o=new Kl({csCode_:o,ciCode_:o,magnitude_:Number(o),name_:o})),o===null||typeof o!="number"&&!o.getProperty){let l=`Unit string (${e}) contains unrecognized element`;o&&(l+=` (${this.openEmph_}${o.toString()}${this.closeEmph_})`),l+="; could not parse full string.  Sorry",this.retMsg_.push(l),s=!0}else try{t[a].op==="/"?i=i.divide(o):i=i.multiplyThese(o)}catch(l){this.retMsg_.unshift(l.message),s=!0,i=null}}return i}_isCodeWithExponent(t){let e=[],i=t.match(/(^[^\-\+]+?)([\-\+\d]+)$/);return i&&i[2]&&i[2]!==""?(e.push(i[1]),e.push(i[2])):e=null,e}};Np.UnitString=oo;QA(oo,"INVALID_ANNOTATION_CHAR_MSG","An invalid character was found in the annotation ");QA(oo,"VALID_ANNOTATION_REGEX",/^\{[!-z|~]*\}$/);oo.getInstance=function(){return new oo}});var eI=Q(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.UcumLhcUtils=void 0;var SH=KA(),XA=kH(Ap());function JA(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return JA=function(){return n},n}function kH(n){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=JA();if(t&&t.has(n))return t.get(n);var e={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var s=i?Object.getOwnPropertyDescriptor(n,r):null;s&&(s.get||s.set)?Object.defineProperty(e,r,s):e[r]=n[r]}return e.default=n,t&&t.set(n,e),e}var MH=ua().Ucum,Fp=ao().UnitTables,TH=ZA().UnitString,bd=class{constructor(){Fp.getInstance().unitsCount()===0&&SH.ucumJsonDefs.loadJsonDefs(),this.uStrParser_=TH.getInstance()}useHTMLInMessages(t){t===void 0&&(t=!0),this.uStrParser_.useHTMLInMessages(t)}useBraceMsgForEachString(t){t===void 0&&(t=!0),this.uStrParser_.useBraceMsgForEachString(t)}validateUnitString(t,e,i){e===void 0&&(e=!1),i===void 0&&(i="validate");let r=this.getSpecifiedUnit(t,i,e),s=r.unit,a=s?{ucumCode:r.origString,unit:{code:s.csCode_,name:s.name_,guidance:s.guidance_}}:{ucumCode:null};return a.status=r.status,r.suggestions&&(a.suggestions=r.suggestions),a.msg=r.retMsg,a}convertUnitTo(t,e,i,r,s){r===void 0&&(r=!1),s===void 0&&(s=null);let a={status:"failed",toVal:null,msg:[]};if(t&&(t=t.trim()),(!t||t=="")&&(a.status="error",a.msg.push('No "from" unit expression specified.')),this._checkFromVal(e,a),i&&(i=i.trim()),(!i||i=="")&&(a.status="error",a.msg.push('No "to" unit expression specified.')),a.status!=="error")try{let o=null,l=this.getSpecifiedUnit(t,"convert",r);o=l.unit,l.retMsg&&(a.msg=a.msg.concat(l.retMsg)),l.suggestions&&(a.suggestions={},a.suggestions.from=l.suggestions),o||a.msg.push(`Unable to find a unit for ${t}, so no conversion could be performed.`);let c=null;if(l=this.getSpecifiedUnit(i,"convert",r),c=l.unit,l.retMsg&&(a.msg=a.msg.concat(l.retMsg)),l.suggestions&&(a.suggestions||(a.suggestions={}),a.suggestions.to=l.suggestions),c||a.msg.push(`Unable to find a unit for ${i}, so no conversion could be performed.`),o&&c)try{if(!s)a.toVal=c.convertFrom(e,o);else{if(o.moleExp_!==0&&c.moleExp_!==0)throw new Error("A molecular weight was specified but a mass <-> mole conversion cannot be executed for two mole-based units.  No conversion was attempted.");if(o.moleExp_===0&&c.moleExp_===0)throw new Error("A molecular weight was specified but a mass <-> mole conversion cannot be executed when neither unit is mole-based.  No conversion was attempted.");if(!o.isMoleMassCommensurable(c))throw new Error(`Sorry.  ${t} cannot be converted to ${i}.`);o.moleExp_!==0?a.toVal=o.convertMolToMass(e,c,s):a.toVal=o.convertMassToMol(e,c,s)}a.status="succeeded",a.fromUnit=o,a.toUnit=c}catch(u){a.status="failed",a.msg.push(u.message)}}catch(o){o.message==MH.needMoleWeightMsg_?a.status="failed":a.status="error",a.msg.push(o.message)}return a}convertToBaseUnits(t,e){let i={};if(this._checkFromVal(e,i),!i.status){let r=this.getSpecifiedUnit(t,"validate");i={status:r.status=="valid"?"succeeded":r.status};let s=r.unit;if(i.msg=r.retMsg||[],!s)r.retMsg?.length==0&&i.msg.push("Could not find unit information for "+t);else if(s.isArbitrary_)i.msg.push("Arbitrary units cannot be converted to base units or other units."),i.status="failed";else if(i.status=="succeeded"){let a={},o=s.dim_?.dimVec_,l="1";if(o){let d=Fp.getInstance().dimVecIndexToBaseUnit_;for(let h=0,m=o.length;h<m;++h){let f=o[h];f&&(a[d[h]]=f,l+="."+d[h]+f)}}let c=this.getSpecifiedUnit(l,"validate"),u=c.unit;if(c.status!=="valid")i.msg.push("Unable construct base unit string; tried "+l),i.status="error";else{try{i.magnitude=u.convertFrom(e,s)}catch(d){i.msg.push(d.toString()),i.status="error"}i.status=="succeeded"&&(i.unitToExp=a,i.fromUnitIsSpecial=s.isSpecial_)}}}return i}_checkFromVal(t,e){(t===null||isNaN(t)||typeof t!="number"&&!XA.isNumericString(t))&&(e.status="error",e.msg||(e.msg=[]),e.msg.push('No "from" value, or an invalid "from" value, was specified.'))}checkSynonyms(t){let e={};return t==null?(e.status="error",e.msg="No term specified for synonym search."):e=XA.getSynonyms(t),e}getSpecifiedUnit(t,e,i){i===void 0&&(i=!1);let r={};if(r.retMsg=[],!t)r.retMsg.push("No unit string specified.");else{let s=Fp.getInstance();t=t.trim();let a=s.getUnitByCode(t);if(a)r.unit=a,r.origString=t;else try{let o=this.uStrParser_.parseString(t,e,i);r.unit=o[0],r.origString=o[1],o[2]&&(r.retMsg=o[2]),r.suggestions=o[3]}catch(o){console.log(`Unit requested for unit string ${t}.request unsuccessful; error thrown = `+o.message),r.retMsg.unshift(`${t} is not a valid unit.  ${o.message}`)}}return r.unit?r.status=r.origString===t?"valid":"invalid":r.status=r.origString?"invalid":"error",r}commensurablesList(t){let e=[],i=null,r=this.getSpecifiedUnit(t,"validate",!1),s=r.unit;if(r.retMsg.length>0&&(e=r.retMsg),!s)e.push(`Could not find unit ${t}.`);else{let a=null,o=s.getProperty("dim_");if(!o)e.push("No commensurable units were found for "+t);else{try{a=o.getProperty("dimVec_")}catch(l){e.push(l.message),l.message==="Dimension does not have requested property(dimVec_)"&&(a=null)}a&&(i=Fp.getInstance().getUnitsByDimension(a))}}return[i,e]}};Pp.UcumLhcUtils=bd;bd.getInstance=function(){return new bd}});var Up=Q(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.UnitTables=da.UcumLhcUtils=da.Ucum=void 0;var EH=ua().Ucum;da.Ucum=EH;var AH=eI().UcumLhcUtils;da.UcumLhcUtils=AH;var IH=ao().UnitTables;da.UnitTables=IH});var Vp=Q((kue,sI)=>{var $p={};function tI(n){let t=""+ +n,e=/(\d+)(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/.exec(t);if(!e)return 0;let i=e[2],r=e[3];return Math.max(0,(i==="0"?0:(i||"").length)-(r||0))}function iI(n,t){let e=Math.pow(10,t);return Math.round(n*e)/e}var nI=1e-8,rI=$p.roundToMaxPrecision=function(n){return Math.round(n/nI)*nI};$p.isEquivalent=function(n,t){if(Number.isInteger(n)&&Number.isInteger(t))return n===t;let e=Math.min(tI(n),tI(t));return e===0?Math.round(n)===Math.round(t):iI(n,e)===iI(t,e)};$p.isEqual=function(n,t){return rI(n)===rI(t)};sI.exports=$p});var oI=Q((Mue,aI)=>{var DH=pd();function RH(n){var t=DH(n),e=t.getFullYear(),i=t.getMonth(),r=new Date(0);return r.setFullYear(e,i+1,0),r.setHours(0,0,0,0),r.getDate()}aI.exports=RH});var d1=Q((Tue,lI)=>{var LH=pd(),OH=oI();function NH(n,t){var e=LH(n),i=Number(t),r=e.getMonth()+i,s=new Date(0);s.setFullYear(e.getFullYear(),r,1),s.setHours(0,0,0,0);var a=OH(s);return e.setMonth(r,Math.min(a,e.getDate())),e}lI.exports=NH});var uI=Q((Eue,cI)=>{var FH=d1();function PH(n,t){var e=Number(t);return FH(n,e*12)}cI.exports=PH});var h1=Q((Aue,dI)=>{var UH=pd();function $H(n,t){var e=UH(n),i=Number(t);return e.setDate(e.getDate()+i),e}dI.exports=$H});var mI=Q((Iue,hI)=>{var VH=h1();function BH(n,t){var e=Number(t),i=e*7;return VH(n,i)}hI.exports=BH});var pI=Q((Due,fI)=>{var zH=gd(),HH=36e5;function jH(n,t){var e=Number(t);return zH(n,e*HH)}fI.exports=jH});var _I=Q((Rue,gI)=>{var WH=gd();function qH(n,t){var e=Number(t);return WH(n,e*1e3)}gI.exports=qH});var xn=Q((Lue,SI)=>{var GH=Xy(),Ss=Up().UcumLhcUtils.getInstance(),vd=Vp(),KH="http://unitsofmeasure.org",bI="[0-9][0-9](\\:[0-9][0-9](\\:[0-9][0-9](\\.[0-9]+)?)?)?(Z|(\\+|-)[0-9][0-9]\\:[0-9][0-9])?",vI=new RegExp("^T?"+bI+"$"),yI=new RegExp("^[0-9][0-9][0-9][0-9](-[0-9][0-9](-[0-9][0-9](T"+bI+")?)?)?Z?$"),CI=new RegExp("^[0-9][0-9][0-9][0-9](-[0-9][0-9](-[0-9][0-9])?)?$"),wI=new RegExp("^[0-9][0-9][0-9][0-9](-[0-9][0-9](-[0-9][0-9](T[0-9][0-9](\\:[0-9][0-9](\\:[0-9][0-9](\\.[0-9]+)?))(Z|(\\+|-)[0-9][0-9]\\:[0-9][0-9]))))$"),Yl=class{equals(){return!1}equivalentTo(){return!1}toString(){return this.asStr?this.asStr:super.toString()}toJSON(){return this.toString()}compare(){throw"Comparison not implemented for "+this.constructor.name}plus(){throw"Addition not implemented for "+this.constructor.name}mul(){throw"Multiplication not implemented for "+this.constructor.name}div(){throw"Division not implemented for "+this.constructor.name}},xt=class n extends Yl{constructor(t,e){super(),this.asStr=t+" "+e,this.value=t,this.unit=e}equals(t){if(!(t instanceof this.constructor))return!1;let e=n._calendarDuration2Seconds[this.unit],i=n._calendarDuration2Seconds[t.unit];if(!e!=!i&&(e>1||i>1))return null;if(this.unit===t.unit)return vd.isEqual(this.value,t.value);let r=this._compareYearsAndMonths(t);if(r)return r.isEqual;let s=n.toUcumQuantity(this.value,this.unit),a=n.toUcumQuantity(t.value,t.unit),o=Ss.convertUnitTo(a.unit,a.value,s.unit);return o.status!=="succeeded"?!1:vd.isEqual(s.value,o.toVal)}equivalentTo(t){if(!(t instanceof this.constructor))return!1;if(this.unit===t.unit)return vd.isEquivalent(this.value,t.value);let e=n.getEquivalentUcumUnitCode(this.unit),i=n.getEquivalentUcumUnitCode(t.unit),r=Ss.convertUnitTo(i,t.value,e);return r.status!=="succeeded"?!1:vd.isEquivalent(this.value,r.toVal)}compare(t){if(this.unit===t.unit)return this.value-t.value;let e=n._calendarDuration2Seconds[this.unit],i=n._calendarDuration2Seconds[t.unit];if(!e!=!i&&(e>1||i>1))return null;let r=n.getEquivalentUcumUnitCode(this.unit),s=n.getEquivalentUcumUnitCode(t.unit),a=Ss.convertUnitTo(s,t.value,r);return a.status!=="succeeded"?null:this.value-a.toVal}plus(t){let e=n._yearMonthConversionFactor[this.unit],i=n._yearMonthConversionFactor[t.unit];if(e&&i)return new n(this.value+t.value*i/e,this.unit);let r=n._calendarDuration2Seconds[this.unit],s=n._calendarDuration2Seconds[t.unit];if(!r!=!s&&(r>1||s>1))return null;let a=r?"s":this.unit.replace(yd,""),o=(r||1)*this.value,l=s?"s":t.unit.replace(yd,""),c=(s||1)*t.value,u=Ss.convertUnitTo(l,c,a);return u.status!=="succeeded"||u.fromUnit.isSpecial_||u.toUnit.isSpecial_?null:new n(o+u.toVal,a)}mul(t){let e=n._calendarDuration2Seconds[this.unit],i=n._calendarDuration2Seconds[t.unit];if(e>1&&t.unit!=="'1'"||i>1&&this.unit!=="'1'")return null;let r=this.convToUcumUnits(this,e);if(!r)return null;let s=this.convToUcumUnits(t,i);return s?this.unit==="'1'"?new n(this.value*t.value,t.unit):t.unit==="'1'"?new n(this.value*t.value,this.unit):new n(r.value*s.value,`'(${r.unit}).(${s.unit})'`):null}div(t){if(t.value===0)return null;let e=n._calendarDuration2Seconds[this.unit],i=n._calendarDuration2Seconds[t.unit];if(e)if(i){let l=n._yearMonthConversionFactor[this.unit],c=n._yearMonthConversionFactor[t.unit];if(l&&c)return new n(this.value*l/(t.value*c),"'1'")}else{if(t.unit==="'1'")return new n(this.value/t.value,this.unit);if(e>1)return null}else if(i>1)return null;let r=this.convToUcumUnits(this,e);if(!r)return null;let s=this.convToUcumUnits(t,i);if(!s)return null;let a=s.unit==="1"?r.unit:`(${r.unit})/(${s.unit})`,o=Ss.convertToBaseUnits(a,r.value/s.value);return o.status!=="succeeded"?null:new n(o.magnitude,`'${Object.keys(o.unitToExp).map(l=>l+o.unitToExp[l]).join(".")||"1"}'`)}convToUcumUnits(t,e){if(e)return{value:e*t.value,unit:"s"};{let i=t.unit.replace(yd,""),r=Ss.convertToBaseUnits(i,t.value);return r.status!=="succeeded"||r.fromUnitIsSpecial?null:{value:r.magnitude,unit:Object.keys(r.unitToExp).map(s=>s+r.unitToExp[s]).join(".")||"1"}}}_compareYearsAndMonths(t){let e=n._yearMonthConversionFactor[this.unit],i=n._yearMonthConversionFactor[t.unit];return e&&i?{isEqual:vd.isEqual(this.value*e,t.value*i)}:null}},yd=/^'|'$/g;xt.getEquivalentUcumUnitCode=function(n){return xt.mapTimeUnitsToUCUMCode[n]||n.replace(yd,"")};xt.toUcumQuantity=function(n,t){let e=xt._calendarDuration2Seconds[t];return e?{value:e*n,unit:"s"}:{value:n,unit:t.replace(yd,"")}};xt.convUnitTo=function(n,t,e){let i=xt._yearMonthConversionFactor[n],r=xt._yearMonthConversionFactor[e];if(i&&r)return new xt(i*t/r,e);let s=xt._calendarDuration2Seconds[n],a=xt._calendarDuration2Seconds[e];if(a){if(s)return new xt(s*t/a,e);{let o=Ss.convertUnitTo(n.replace(/^'|'$/g,""),t,"s");if(o.status==="succeeded")return new xt(o.toVal/a,e)}}else{let o=s?Ss.convertUnitTo("s",s*t,e.replace(/^'|'$/g,"")):Ss.convertUnitTo(n.replace(/^'|'$/g,""),t,e.replace(/^'|'$/g,""));if(o.status==="succeeded")return new xt(o.toVal,e)}return null};xt._calendarDuration2Seconds={years:365*24*60*60,months:30*24*60*60,weeks:7*24*60*60,days:24*60*60,hours:60*60,minutes:60,seconds:1,milliseconds:.001,year:365*24*60*60,month:30*24*60*60,week:7*24*60*60,day:24*60*60,hour:60*60,minute:60,second:1,millisecond:.001};xt._yearMonthConversionFactor={years:12,months:1,year:12,month:1};xt.dateTimeArithmeticDurationUnits={years:"year",months:"month",weeks:"week",days:"day",hours:"hour",minutes:"minute",seconds:"second",milliseconds:"millisecond",year:"year",month:"month",week:"week",day:"day",hour:"hour",minute:"minute",second:"second",millisecond:"millisecond","'s'":"second","'ms'":"millisecond"};xt.mapUCUMCodeToTimeUnits={a:"year",mo:"month",wk:"week",d:"day",h:"hour",min:"minute",s:"second",ms:"millisecond"};xt.mapTimeUnitsToUCUMCode=Object.keys(xt.mapUCUMCodeToTimeUnits).reduce(function(n,t){return n[xt.mapUCUMCodeToTimeUnits[t]]=t,n[xt.mapUCUMCodeToTimeUnits[t]+"s"]=t,n},{});var ma=class n extends Yl{constructor(t){super(),this.asStr=t}plus(t){let e=t.unit,i=xt.dateTimeArithmeticDurationUnits[e];if(!i)throw new Error("For date/time arithmetic, the unit of the quantity must be one of the following time-based units: "+Object.keys(xt.dateTimeArithmeticDurationUnits));let r=this.constructor,s=r._timeUnitToDatePrecision[i];if(s===void 0)throw new Error("Unsupported unit for +.  The unit should be one of "+Object.keys(r._timeUnitToDatePrecision).join(", ")+".");let a=t.value,o=r===Cd;if((o?s<2:s<5)&&(a=Math.trunc(a)),this._getPrecision()<s){let d=r._datePrecisionToTimeUnit[this._getPrecision()];if(d!=="second"){let h=xt.convUnitTo(i,a,d);i=h.unit,a=Math.trunc(h.value)}}let l=n.timeUnitToAddFn[i](this._getDateObj(),a),c=this._getPrecision();o&&(c+=3);let u=$n.isoDateTime(l,c);return o&&(u=u.slice(u.indexOf("T")+1)),new r(u)}equals(t){var e;if(!(t instanceof this.constructor)&&!(this instanceof t.constructor))e=!1;else{var i=this._getPrecision(),r=t._getPrecision();if(i==r)e=this._getDateObj().getTime()==t._getDateObj().getTime();else{var s=i<=r?i:r,a=this._getDateObj().toISOString(),o=t._getDateObj().toISOString();this.constructor===Cd&&(s+=3,i+=3,r+=3);for(var l=i>2?new $n(a)._getTimeParts():this._getTimeParts(),c=r>2?new $n(o)._getTimeParts():t._getTimeParts(),u=0;u<=s&&e!==!1;++u)e=l[u]==c[u];e&&(e=void 0)}}return e}equivalentTo(t){var e=t instanceof this.constructor;if(e){var i=this._getPrecision(),r=t._getPrecision();e=i==r,e&&(e=this._getDateObj().getTime()==t._getDateObj().getTime())}return e}compare(t){var e=this._getPrecision(),i=t._getPrecision(),r=e<=i?this._getDateObj().getTime():this._dateAtPrecision(i).getTime(),s=i<=e?t._getDateObj().getTime():t._dateAtPrecision(e).getTime();return e!==i&&r===s?null:r-s}_getPrecision(){return this.precision===void 0&&this._getMatchData(),this.precision}_getMatchData(t,e){if(this.timeMatchData===void 0&&(this.timeMatchData=this.asStr.match(t),this.timeMatchData))for(let i=e;i>=0&&this.precision===void 0;--i)this.timeMatchData[i]&&(this.precision=i);return this.timeMatchData}_getTimeParts(t){var e=[];e=[t[0]];var i=t[4];if(i){let o=e[0];e[0]=o.slice(0,o.length-i.length)}var r=t[1];if(r){let o=e[0];e[0]=o.slice(0,o.length-r.length),e[1]=r;var s=t[2];if(s){e[1]=r.slice(0,r.length-s.length),e[2]=s;var a=t[3];a&&(e[2]=s.slice(0,s.length-a.length),e[3]=a)}}return e}_getDateObj(){if(!this.dateObj){var t=this._getPrecision();this.dateObj=this._dateAtPrecision(t)}return this.dateObj}_createDate(t,e,i,r,s,a,o,l){var c=new Date(t,e,i,r,s,a,o);if(l){var u=c.getTimezoneOffset(),d=0;if(l!="Z"){var h=l.split(":"),m=parseInt(h[0]);d=parseInt(h[1]),m<0&&(d=-d),d+=60*m}c=GH(c,-u-d)}return c}};ma.timeUnitToAddFn={year:uI(),month:d1(),week:mI(),day:h1(),hour:pI(),minute:Xy(),second:_I(),millisecond:gd()};var $n=(()=>{class n extends ma{constructor(e){super(e)}compare(e){if(!(e instanceof n))throw"Invalid comparison of a DateTime with something else";return super.compare(e)}_getMatchData(){return super._getMatchData(yI,5)}_getTimeParts(){if(!this.timeParts){let i=this._getMatchData(),r=i[0];this.timeParts=[r];var e=i[1];if(e){this.timeParts[0]=r.slice(0,r.length-e.length),this.timeParts[1]=e;let s=i[2];if(s){this.timeParts[1]=e.slice(0,e.length-s.length),this.timeParts[2]=s;let a=i[3];a&&(this.timeParts[2]=s.slice(0,s.length-a.length),a[0]==="T"&&(i[3]=a.slice(1)),this.timeParts=this.timeParts.concat(super._getTimeParts(i.slice(3))))}}}return this.timeParts}_dateAtPrecision(e){var i=this._getTimeParts(),r=this._getMatchData()[7],s=this._getPrecision(),a=parseInt(i[0]),o=s>0?parseInt(i[1].slice(1))-1:0,l=s>1?parseInt(i[2].slice(1)):1,c=s>2?parseInt(i[3]):0,u=s>3?parseInt(i[4].slice(1)):0,d=s>4?parseInt(i[5].slice(1)):0,h=i.length>6?parseInt(i[6].slice(1)):0,m=this._createDate(a,o,l,c,u,d,h,r);return e<s&&(a=m.getFullYear(),o=e>0?m.getMonth():0,l=e>1?m.getDate():1,c=e>2?m.getHours():0,u=e>3?m.getMinutes():0,m=new Date(a,o,l,c,u)),m}}return n.checkString=function(t){let e=new n(t);return e._getMatchData()||(e=null),e},n._timeUnitToDatePrecision={year:0,month:1,week:2,day:2,hour:3,minute:4,second:5,millisecond:6},n._datePrecisionToTimeUnit=["year","month","day","hour","minute","second","millisecond"],n})(),Cd=(()=>{class n extends ma{constructor(e){e[0]=="T"&&(e=e.slice(1)),super(e)}compare(e){if(!(e instanceof n))throw"Invalid comparison of a time with something else";return super.compare(e)}_dateAtPrecision(e){var i=this._getTimeParts(),r=this._getMatchData()[4],s=this._getPrecision(),a=2010,o=0,l=1,c=parseInt(i[0]),u=s>0?parseInt(i[1].slice(1)):0,d=s>1?parseInt(i[2].slice(1)):0,h=i.length>3?parseInt(i[3].slice(1)):0,m=this._createDate(a,o,l,c,u,d,h,r);return r&&(m.setYear(a),m.setMonth(o),m.setDate(l)),e<s&&(c=m.getHours(),u=e>0?m.getMinutes():0,m=new Date(a,o,l,c,u)),m}_getMatchData(){return super._getMatchData(vI,2)}_getTimeParts(){return this.timeParts||(this.timeParts=super._getTimeParts(this._getMatchData())),this.timeParts}}return n.checkString=function(t){let e=new n(t);return e._getMatchData()||(e=null),e},n._timeUnitToDatePrecision={hour:0,minute:1,second:2,millisecond:3},n._datePrecisionToTimeUnit=["hour","minute","second","millisecond"],n})();function ha(n,t){var e=n;return t===3&&n<100&&(e="0"+n),n<10&&(e="0"+e),e}$n.isoDateTime=function(n,t){t===void 0&&(t=5);var e=""+n.getFullYear();if(t>0&&(e+="-"+ha(n.getMonth()+1),t>1&&(e+="-"+ha(n.getDate()),t>2&&(e+="T"+$n.isoTime(n,t-3)))),t>2){var i=n.getTimezoneOffset(),r=i<0?"+":"-";i=Math.abs(i);var s=i%60,a=(i-s)/60;e+=r+ha(a)+":"+ha(s)}return e};$n.isoTime=function(n,t){t===void 0&&(t=2);let e=""+ha(n.getHours());return t>0&&(e+=":"+ha(n.getMinutes()),t>1&&(e+=":"+ha(n.getSeconds()),n.getMilliseconds()&&(e+="."+ha(n.getMilliseconds(),3)))),e};var m1=(()=>{class n extends $n{constructor(e){super(e)}_getMatchData(){return ma.prototype._getMatchData.apply(this,[CI,2])}}return n.checkString=function(t){let e=new n(t);return e._getMatchData()||(e=null),e},n.isoDate=function(t,e){return(e===void 0||e>2)&&(e=2),$n.isoDateTime(t,e)},n})(),xI=(()=>{class n extends $n{constructor(e){super(e)}_getMatchData(){return ma.prototype._getMatchData.apply(this,[wI,5])}}return n.checkString=function(t){let e=new n(t);return e._getMatchData()||(e=null),e},n})(),p1=(()=>{class n{constructor(e,i,r,s,a,o){e?.resourceType&&(r=e.resourceType,a=e.resourceType),this.parentResNode=i||null,this.path=r||null,this.data=e,this._data=s||{},this.fhirNodeDataType=a||null,this.model=o||null}getTypeInfo(){if(!this.typeInfo){let e;this.fhirNodeDataType&&(/^System\.(.*)$/.test(this.fhirNodeDataType)?e=new wn({namespace:wn.System,name:RegExp.$1}):e=new wn({namespace:wn.FHIR,name:this.fhirNodeDataType})),this.typeInfo=e||wn.createByValueInSystemNamespace(this.data)}return this.typeInfo}toJSON(){return JSON.stringify(this.data)}convertData(){if(!this.convertedData){var e=this.data;if(e!=null){let i=wn.typeToClassWithCheckString[this.path];if(i)e=i.checkString(e)||e;else if(wn.isType(this.path,"Quantity",this.model)&&e?.system===KH&&typeof e.value=="number"&&typeof e.code=="string"){if(e.comparator!==void 0)throw new Error("Cannot convert a FHIR.Quantity that has a comparator");e=new xt(e.value,xt.mapUCUMCodeToTimeUnits[e.code]||"'"+e.code+"'")}}this.convertedData=e}return this.convertedData}}return n.makeResNode=function(t,e,i,r,s,a){return t instanceof n?t:new n(t,e,i,r,s,a)},n})(),f1=new Set;["Boolean","String","Integer","Decimal","Date","DateTime","Time","Quantity"].forEach(n=>f1.add(n));var wn=(()=>{class n{constructor({name:e,namespace:i}){this.name=e,this.namespace=i}static model=null;is(e,i){return e instanceof n&&(!this.namespace||!e.namespace||this.namespace===e.namespace)?i&&(!this.namespace||this.namespace===n.FHIR)?n.isType(this.name,e.name,i):this.name===e.name:!1}toString(){return(this.namespace?this.namespace+".":"")+this.name}isValid(e){let i=!1;return this.namespace==="System"?i=f1.has(this.name):this.namespace==="FHIR"?i=e.availableTypes.has(this.name):this.namespace||(i=f1.has(this.name)||e.availableTypes.has(this.name)),i}}return n.typeToClassWithCheckString={date:m1,dateTime:$n,instant:xI,time:Cd},n.isType=function(t,e,i){do if(t===e)return!0;while(t=i?.type2Parent[t]);return!1},n.System="System",n.FHIR="FHIR",n.createByValueInSystemNamespace=function(t){let e=typeof t;return Number.isInteger(t)?e="integer":e==="number"?e="decimal":t instanceof m1?e="date":t instanceof $n?e="dateTime":t instanceof Cd?e="time":t instanceof xt&&(e="Quantity"),e=e.replace(/^\w/,i=>i.toUpperCase()),new n({namespace:n.System,name:e})},n.fromValue=function(t){return t instanceof p1?t.getTypeInfo():n.createByValueInSystemNamespace(t)},n})(),g1=new Set;["instant","time","date","dateTime","base64Binary","decimal","integer64","boolean","string","code","markdown","id","integer","unsignedInt","positiveInt","uri","oid","uuid","canonical","url","Integer","Decimal","String","Date","DateTime","Time"].forEach(n=>g1.add(n));wn.isPrimitive=function(n){return g1.has(n.name)};wn.isPrimitiveValue=function(n){return n instanceof p1?g1.has(n.getTypeInfo().name):typeof n!="object"||n instanceof Yl};function YH(n){return n.map(t=>wn.fromValue(t))}function QH(n,t){if(n.length===0)return[];if(n.length>1)throw new Error("Expected singleton on left side of 'is', got "+JSON.stringify(n));let e=this;return wn.fromValue(n[0]).is(t,e.model)}function ZH(n,t){if(n.length===0)return[];if(n.length>1)throw new Error("Expected singleton on left side of 'as', got "+JSON.stringify(n));let e=this;return wn.fromValue(n[0]).is(t,e.model)?n:[]}SI.exports={FP_Type:Yl,FP_TimeBase:ma,FP_Date:m1,FP_DateTime:$n,FP_Instant:xI,FP_Time:Cd,FP_Quantity:xt,timeRE:vI,dateTimeRE:yI,dateRE:CI,instantRE:wI,ResourceNode:p1,TypeInfo:wn,typeFn:YH,isFn:QH,asFn:ZH}});var Vi=Q((Oue,MI)=>{var It={},XH=xn(),{ResourceNode:Zl}=XH;It.raiseError=function(n,t){throw t=t?t+": ":"",t+n};It.assertOnlyOne=function(n,t){n.length!==1&&It.raiseError("Was expecting only one element but got "+JSON.stringify(n),t)};It.assertType=function(n,t,e){let i=this.valData(n);if(t.indexOf(typeof i)<0){let r=t.length>1?"one of "+t.join(", "):t[0];It.raiseError("Found type '"+typeof n+"' but was expecting "+r,e)}return i};It.isEmpty=function(n){return Array.isArray(n)&&n.length===0};It.isSome=function(n){return n!=null&&!It.isEmpty(n)};It.isTrue=function(n){return n!=null&&(n===!0||n.length===1&&It.valData(n[0])===!0)};It.isCapitalized=function(n){return n&&n[0]===n[0].toUpperCase()};It.capitalize=function(n){return n[0].toUpperCase()+n.substring(1)};It.flatten=function(n){return n.some(t=>t instanceof Promise)?Promise.all(n).then(t=>kI(t)):kI(n)};function kI(n){return[].concat(...n)}It.arraify=function(n){return Array.isArray(n)?n:It.isSome(n)?[n]:[]};It.resolveAndArraify=function(n){return n instanceof Promise?n.then(t=>It.arraify(t)):It.arraify(n)};It.valData=function(n){return n instanceof Zl?n.data:n};It.valDataConverted=function(n){return n instanceof Zl&&(n=n.convertData()),n};It.escapeStringForRegExp=function(n){return n.replace(/[-[\]{}()*+?.,\\/^$|#\s]/g,"\\$&")};It.pushFn=Function.prototype.apply.bind(Array.prototype.push);It.makeChildResNodes=function(n,t,e){let i=n.path+"."+t;if(e){let c=e.pathsDefinedElsewhere[i];c&&(i=c)}let r,s,a=e&&e.choiceTypePaths[i];if(a)for(let c of a){let u=t+c;if(r=n.data?.[u],s=n.data?.["_"+u],r!==void 0||s!==void 0){i+=c;break}}else r=n.data?.[t],s=n.data?.["_"+t],r===void 0&&s===void 0&&(r=n._data[t]),t==="extension"&&(i="Extension");let o=null;e&&(o=e.path2Type[i],i=e.path2TypeWithoutElements[i]||i);let l;if(It.isSome(r)||It.isSome(s))if(Array.isArray(r)){l=r.map((u,d)=>Zl.makeResNode(u,n,i,s&&s[d],o,e));let c=s?.length||0;for(let u=r.length;u<c;++u)l.push(Zl.makeResNode(null,n,i,s[u],o,e))}else r==null&&Array.isArray(s)?l=s.map(c=>Zl.makeResNode(null,n,i,c,o,e)):l=[Zl.makeResNode(r,n,i,s,o,e)];else l=[];return l};var Ql={},JH=36e5;It.fetchWithCache=function(n,t){let e=[n,t?JSON.stringify(t):""].join("|"),i=Date.now();for(let r in Ql)i-Ql[r].timestamp>JH&&delete Ql[r];return Ql[e]||(Ql[e]={timestamp:i,promise:Promise.resolve(t?fetch(n,t):fetch(n)).then(r=>{let s=r.headers.get("Content-Type"),a=s.includes("application/json")||s.includes("application/fhir+json");try{return a?r.json().then(o=>r.ok?o:Promise.reject(o)):r.text().then(o=>Promise.reject(o))}catch(o){return Promise.reject(new Error(o))}})}),Ql[e].promise};MI.exports=It});var TI=Q(()=>{var e7=Function.prototype.call.bind(Array.prototype.slice);Number.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n};String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(n,t){return t=t||0,this.indexOf(n,t)===t}});String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(n,t){var e=this.toString();(t===void 0||t>e.length)&&(t=e.length),t-=n.length;var i=e.indexOf(n,t);return i!==-1&&i===t}});String.prototype.includes||Object.defineProperty(String.prototype,"includes",{value:function(){return this.indexOf.apply(this,arguments)!==-1}});Object.assign||Object.defineProperty(Object,"assign",{value:function(n){if(n==null)throw new TypeError("Cannot convert undefined or null to object");return e7(arguments,1).reduce(function(t,e){return Object.keys(Object(e)).forEach(function(i){t[i]=e[i]}),t},Object(n))}});typeof btoa>"u"&&(global.btoa=function(n){return new Buffer.from(n,"binary").toString("base64")});typeof atob>"u"&&(global.atob=function(n){return new Buffer.from(n,"base64").toString("binary")})});var _1=Q((Pue,EI)=>{EI.exports={reset:function(){this.nowDate=new Date,this.today=null,this.now=null,this.timeOfDay=null,this.localTimezoneOffset=null},today:null,now:null,timeOfDay:null}});var Bp=Q((Uue,AI)=>{var t7=Up().UcumLhcUtils.getInstance(),{roundToMaxPrecision:i7}=Vp(),{valDataConverted:n7}=Vi(),{FP_Type:r7,FP_Quantity:b1}=xn();function s7(n){return JSON.stringify(v1(n))}function v1(n){if(n=n7(n),n===null)return null;if(typeof n=="number")return i7(n);if(n instanceof Date)return n.toISOString();if(n instanceof b1){let t=b1._yearMonthConversionFactor[n.unit];if(t)return"_!yearMonth!_:"+t*n.value;{let e=b1.toUcumQuantity(n.value,n.unit),i=t7.getSpecifiedUnit(e.unit).unit;return"_!"+i.property_+"!_:"+i.magnitude_*e.value}}else{if(n instanceof r7)return n.toString();if(typeof n=="object")return Array.isArray(n)?n.map(v1):Object.keys(n).sort().reduce((t,e)=>{let i=n[e];return t[e]=v1(i),t},{})}return n}AI.exports=s7});var Xl=Q(($ue,VI)=>{var{FP_Type:II,FP_Quantity:DI,ResourceNode:RI}=xn(),LI=Vp(),OI=Array.prototype.slice,NI=Object.keys,zp=function(n){return Object.prototype.toString.call(n)==="[object Arguments]"};function FI(n){return typeof n=="string"||n instanceof String}function PI(n){return!isNaN(parseFloat(n))&&isFinite(n)}function UI(n){return n.toUpperCase().replace(/\s+/," ")}function rr(n,t,e){let i=n instanceof RI,r=t instanceof RI,s=i?n.convertData():n,a=r?t.convertData():t;if(e||(e={}),s===a)return e.fuzzy||!i||!r||rr(n._data,t._data);if(e.fuzzy){if(FI(s)&&FI(a))return UI(s)===UI(a);if(PI(s)&&PI(a))return LI.isEquivalent(s,a)}else if(typeof s=="number"&&typeof a=="number")return LI.isEqual(s,a)?i&&r?rr(n._data,t._data,e):!0:!1;if(s instanceof Date&&a instanceof Date)return s.getTime()===a.getTime()&&(e.fuzzy||!i||!r||rr(n._data,t._data));if(!s||!a||typeof s!="object"&&typeof a!="object")return s===a&&(e.fuzzy||!i||!r||rr(n._data,t._data));var o=s instanceof II,l=a instanceof II;if(o&&l){if(e.fuzzy)return s.equivalentTo(a);{let c=s.equals(a);return c&&(!i||!r||rr(n._data,t._data)&&rr(n.data?.id,t.data?.id)&&rr(n.data?.extension,t.data?.extension))}}else if(o||l){let c=!1;return typeof s=="number"&&(s=new DI(s,"'1'"),c=!0),typeof a=="number"&&(a=new DI(a,"'1'"),c=!0),c?e.fuzzy?s.equivalentTo(a):s.equals(a):!1}return a7(s,a,e)}function $I(n){return n==null}function a7(n,t,e){var i,r;if($I(n)||$I(t)||n.prototype!==t.prototype)return!1;if(zp(n)||zp(t))return n=zp(n)?OI.call(n):n,t=zp(t)?OI.call(t):t,rr(n,t,e);try{var s=NI(n),a=NI(t)}catch{return!1}if(s.length!=a.length)return!1;for(s.sort(),a.sort(),i=s.length-1;i>=0;i--)if(s[i]!=a[i])return!1;if(s.length===1)return r=s[0],rr(n[r],t[r],e);for(i=s.length-1;i>=0;i--)if(r=s[i],!rr(n[r],t[r],e))return!1;return typeof n==typeof t}VI.exports={deepEqual:rr,maxCollSizeForDeepEqual:6}});var Hp=Q((Vue,WI)=>{var y1=Vi(),{TypeInfo:C1,ResourceNode:o7}=xn(),zI=Bp(),{deepEqual:HI,maxCollSizeForDeepEqual:jI}=Xl(),Bi={};Bi.whereMacro=function(n,t){return n!==!1&&!n?[]:y1.flatten(n.map((e,i)=>{this.$index=i;let r=t(e);return r instanceof Promise?r.then(s=>s[0]?e:[]):r[0]?e:[]}))};Bi.extension=function(n,t){let e=this;return n!==!1&&!n||!t?[]:y1.flatten(n.map((i,r)=>{this.$index=r;let s=i&&(i.data&&i.data.extension||i._data&&i._data.extension);return s?s.filter(a=>a.url===t).map(a=>o7.makeResNode(a,i,"Extension",null,"Extension",e.model)):[]}))};Bi.selectMacro=function(n,t){return n!==!1&&!n?[]:y1.flatten(n.map((e,i)=>(this.$index=i,t(e))))};Bi.repeatMacro=function(n,t,e={res:[],unique:{},hasPrimitive:!1}){if(n!==!1&&!n)return[];let i=[].concat(...n.map(r=>t(r)));return i.some(r=>r instanceof Promise)?Promise.all(i).then(r=>(r=[].concat(...r),r.length?Bi.repeatMacro(BI(r,e),t,e):e.res)):i.length?Bi.repeatMacro(BI(i,e),t,e):e.res};function BI(n,t){let e;return t.hasPrimitive=t.hasPrimitive||n.some(i=>C1.isPrimitiveValue(i)),!t.hasPrimitive&&n.length+t.res.length>jI?(e=n.filter(i=>{let r=zI(i),s=!t.unique[r];return s&&(t.unique[r]=!0),s}),t.res.push.apply(t.res,e)):e=n.filter(i=>{let r=!t.res.some(s=>HI(s,i));return r&&t.res.push(i),r}),e}Bi.singleFn=function(n){if(n.length===1)return n;if(n.length===0)return[];throw new Error("Expected single")};Bi.firstFn=function(n){return n[0]};Bi.lastFn=function(n){return n[n.length-1]};Bi.tailFn=function(n){return n.slice(1,n.length)};Bi.takeFn=function(n,t){return n.slice(0,t)};Bi.skipFn=function(n,t){return n.slice(t,n.length)};Bi.ofTypeFn=function(n,t){let e=this;return n.filter(i=>C1.fromValue(i).is(t,e.model))};Bi.distinctFn=function(n,t=void 0){let e=[];if(n.length>0)if(t=t??n.some(i=>C1.isPrimitiveValue(i)),!t&&n.length>jI){let i={};for(let r=0,s=n.length;r<s;++r){let a=n[r],o=zI(a);i[o]||(e.push(a),i[o]=!0)}}else{n=n.concat().reverse();do{let i=n.pop();e.push(i),n=n.filter(r=>!HI(i,r))}while(n.length)}return e};WI.exports=Bi});var jp=Q((Bue,YI)=>{var $r=Vi(),GI=xn(),{FP_Quantity:ks,TypeInfo:KI}=GI,zi={};zi.iifMacro=function(n,t,e,i){let r=t(n);return r instanceof Promise?r.then(s=>qI(n,s,e,i)):qI(n,r,e,i)};function qI(n,t,e,i){return $r.isTrue(t)?e(n):i?i(n):[]}zi.traceFn=function(n,t,e){let i=e?e(n):null;return i instanceof Promise?i.then(r=>zi.traceFn(n,t,r)):(this.customTraceFn?e?this.customTraceFn(e(n),t??""):this.customTraceFn(n,t??""):e?console.log("TRACE:["+(t||"")+"]",JSON.stringify(e(n),null," ")):console.log("TRACE:["+(t||"")+"]",JSON.stringify(n,null," ")),n)};zi.defineVariable=function(n,t,e){let i=n;if(e&&(i=e(n)),this.definedVars||(this.definedVars={}),t in this.vars||t in this.processedVars)throw new Error("Environment Variable %"+t+" already defined");if(Object.keys(this.definedVars).includes(t))throw new Error("Variable %"+t+" already defined");return this.definedVars[t]=i,n};var l7=/^[+-]?\d+$/;zi.toInteger=function(n){if(n.length!==1)return[];var t=$r.valData(n[0]);return t===!1?0:t===!0?1:typeof t=="number"?Number.isInteger(t)?t:[]:typeof t=="string"&&l7.test(t)?parseInt(t):[]};var c7=/^((\+|-)?\d+(\.\d+)?)\s*(('[^']+')|([a-zA-Z]+))?$/,w1={value:1,unit:5,time:6};zi.toQuantity=function(n,t){let e;if(n.length>1)throw new Error("Could not convert to quantity: input collection contains multiple items");if(n.length===1){if(t){let s=ks._calendarDuration2Seconds[this.unit],a=ks._calendarDuration2Seconds[t];if(!s!=!a&&(s>1||a>1))return null;ks.mapTimeUnitsToUCUMCode[t]||(t=`'${t}'`)}var i=$r.valDataConverted(n[0]);let r;if(typeof i=="number")e=new ks(i,"'1'");else if(i instanceof ks)e=i;else if(typeof i=="boolean")e=new ks(i?1:0,"'1'");else if(typeof i=="string"&&(r=c7.exec(i))){let s=r[w1.value],a=r[w1.unit],o=r[w1.time];(!o||ks.mapTimeUnitsToUCUMCode[o])&&(e=new ks(Number(s),a||o||"'1'"))}e&&t&&e.unit!==t&&(e=ks.convUnitTo(e.unit,e.value,t))}return e||[]};var u7=/^[+-]?\d+(\.\d+)?$/;zi.toDecimal=function(n){if(n.length!==1)return[];var t=$r.valData(n[0]);return t===!1?0:t===!0?1:typeof t=="number"?t:typeof t=="string"&&u7.test(t)?parseFloat(t):[]};zi.toString=function(n){if(n.length!==1)return[];var t=$r.valDataConverted(n[0]);return t==null?[]:t.toString()};function x1(n){let t=n.slice(3);zi["to"+t]=function(e){var i=[];if(e.length>1)throw Error("to "+t+" called for a collection of length "+e.length);if(e.length===1){var r=$r.valData(e[0]);if(typeof r=="string"){var s=GI[n].checkString(r);s&&(i=s)}}return i}}x1("FP_Date");x1("FP_DateTime");x1("FP_Time");var d7=["true","t","yes","y","1","1.0"].reduce((n,t)=>(n[t]=!0,n),{}),h7=["false","f","no","n","0","0.0"].reduce((n,t)=>(n[t]=!0,n),{});zi.toBoolean=function(n){if(n.length!==1)return[];let t=$r.valData(n[0]);switch(typeof t){case"boolean":return t;case"number":if(t===1)return!0;if(t===0)return!1;break;case"string":let e=t.toLowerCase();if(d7[e])return!0;if(h7[e])return!1}return[]};zi.createConvertsToFn=function(n,t){return typeof t=="string"?function(e){return e.length!==1?[]:typeof n(e)===t}:function(e){return e.length!==1?[]:n(e)instanceof t}};var m7={Integer:function(n){if(Number.isInteger(n))return n},Boolean:function(n){return n===!0||n===!1?n:!0},Number:function(n){if(typeof n=="number")return n},String:function(n){if(typeof n=="string")return n},StringOrNumber:function(n){if(typeof n=="string"||typeof n=="number")return n},AnySingletonAtRoot:function(n){return n}};zi.singleton=function(n,t){if(n.length>1)throw new Error("Unexpected collection"+JSON.stringify(n)+"; expected singleton of type "+t);if(n.length===0)return[];let e=$r.valData(n[0]);if(e==null)return[];let i=m7[t];if(i){let r=i(e);if(r!==void 0)return r;throw new Error(`Expected ${t.toLowerCase()}, but got: ${JSON.stringify(n)}`)}throw new Error("Not supported type "+t)};zi.hasValueFn=function(n){return n.length===1&&$r.valData(n[0])!=null&&KI.isPrimitiveValue(n[0])};zi.getValueFn=function(n){if(n.length===1){let t=n[0],e=$r.valData(t);if(e!=null&&KI.isPrimitiveValue(t))return e}return[]};YI.exports=zi});var eD=Q((zue,JI)=>{var Vr=Vi(),{whereMacro:f7,distinctFn:p7}=Hp(),g7=jp(),QI=Bp(),{deepEqual:_7,maxCollSizeForDeepEqual:b7}=Xl(),{TypeInfo:ZI}=xn(),tn={};tn.emptyFn=Vr.isEmpty;tn.notFn=function(n){let t=g7.singleton(n,"Boolean");return typeof t=="boolean"?!t:[]};tn.existsMacro=function(n,t){if(t){let e=f7.call(this,n,t);return e instanceof Promise?e.then(i=>tn.existsMacro(i)):tn.existsMacro(e)}return!Vr.isEmpty(n)};tn.allMacro=function(n,t){let e=[];for(let i=0,r=n.length;i<r;++i){this.$index=i;let s=t(n[i]);if(s instanceof Promise)e.push(s);else if(!Vr.isTrue(s))return[!1]}return e.length?Promise.all(e).then(i=>i.some(r=>!Vr.isTrue(r))?[!1]:[!0]):[!0]};tn.allTrueFn=function(n){let t=!0;for(let e=0,i=n.length;e<i&&t;++e)t=Vr.assertType(n[e],["boolean"],"allTrue")===!0;return[t]};tn.anyTrueFn=function(n){let t=!1;for(let e=0,i=n.length;e<i&&!t;++e)t=Vr.assertType(n[e],["boolean"],"anyTrue")===!0;return[t]};tn.allFalseFn=function(n){let t=!0;for(let e=0,i=n.length;e<i&&t;++e)t=Vr.assertType(n[e],["boolean"],"allFalse")===!1;return[t]};tn.anyFalseFn=function(n){let t=!1;for(let e=0,i=n.length;e<i&&!t;++e)t=Vr.assertType(n[e],["boolean"],"anyFalse")===!1;return[t]};function XI(n,t){let e=n.length,i=t.length,r=e<=i;if(r)if(!(n.some(a=>ZI.isPrimitiveValue(a))||t.some(a=>ZI.isPrimitiveValue(a)))&&e+i>b7){let a=t.reduce((o,l)=>(o[QI(l)]=!0,o),{});r=!n.some(o=>!a[QI(o)])}else for(let a=0,o=n.length;a<o&&r;++a){let l=Vr.valData(n[a]);r=t.some(c=>_7(l,Vr.valData(c)))}return r}tn.subsetOfFn=function(n,t){return[XI(n,t)]};tn.supersetOfFn=function(n,t){return[XI(t,n)]};tn.isDistinctFn=function(n){return[n.length===p7(n).length]};JI.exports=tn});var S1=Q((Hue,iD)=>{var{FP_Quantity:Xt,FP_Type:wd}=xn(),Br=Vi(),ai={};function Ms(n,t){let e;if(tD(n))e=[];else{if(n.length!==1)throw new Error("Unexpected collection"+JSON.stringify(n)+"; expected singleton of type number");{let i=Br.valData(n[0]);if(i==null)e=[];else if(typeof i=="number")e=t(i);else throw new Error("Expected number, but got "+JSON.stringify(i))}}return e}function tD(n){return typeof n=="number"?!1:n.length===0}ai.amp=function(n,t){return(n||"")+(t||"")};ai.plus=function(n,t){let e;if(n.length===1&&t.length===1){let i=Br.valDataConverted(n[0]),r=Br.valDataConverted(t[0]);i==null||r==null?e=[]:typeof i=="string"&&typeof r=="string"?e=i+r:typeof i=="number"?typeof r=="number"?e=i+r:r instanceof Xt&&(e=new Xt(i,"'1'").plus(r)):i instanceof wd&&(r instanceof Xt?e=i.plus(r):r instanceof wd?e=r.plus(i):typeof r=="number"&&(e=i.plus(new Xt(r,"'1'"))))}if(e===void 0)throw new Error("Cannot "+JSON.stringify(n)+" + "+JSON.stringify(t));return e};ai.minus=function(n,t){if(n.length===1&&t.length===1){let e=Br.valDataConverted(n[0]),i=Br.valDataConverted(t[0]);if(e==null||i==null)return[];if(typeof e=="number"){if(typeof i=="number")return e-i;if(i instanceof Xt)return new Xt(e,"'1'").plus(new Xt(-i.value,i.unit))}if(e instanceof wd){if(i instanceof Xt)return e.plus(new Xt(-i.value,i.unit));if(typeof i=="number")return e.plus(new Xt(-i,"'1'"))}}throw new Error("Cannot "+JSON.stringify(n)+" - "+JSON.stringify(t))};ai.mul=function(n,t){if(n.length===1&&t.length===1){let e=Br.valDataConverted(n[0]),i=Br.valDataConverted(t[0]);if(e==null||i==null)return[];if(typeof e=="number"){if(typeof i=="number")return e*i;if(i instanceof Xt)return new Xt(e,"'1'").mul(i)}if(e instanceof wd){if(i instanceof Xt)return e.mul(i);if(typeof i=="number")return e.mul(new Xt(i,"'1'"))}}throw new Error("Cannot "+JSON.stringify(n)+" * "+JSON.stringify(t))};ai.div=function(n,t){if(n.length===1&&t.length===1){let e=Br.valDataConverted(n[0]),i=Br.valDataConverted(t[0]);if(e==null||i==null)return[];if(typeof e=="number"){if(typeof i=="number")return i===0?[]:e/i;if(i instanceof Xt)return new Xt(e,"'1'").div(i)}if(e instanceof wd){if(i instanceof Xt)return e.div(i);if(typeof i=="number")return e.div(new Xt(i,"'1'"))}}throw new Error("Cannot "+JSON.stringify(n)+" / "+JSON.stringify(t))};ai.intdiv=function(n,t){return t===0?[]:Math.floor(n/t)};ai.mod=function(n,t){return t===0?[]:n%t};ai.abs=function(n){let t;if(tD(n))t=[];else{if(n.length!==1)throw new Error("Unexpected collection"+JSON.stringify(n)+"; expected singleton of type number or Quantity");var e=Br.valData(n[0]);if(e==null)t=[];else if(typeof e=="number")t=Math.abs(e);else if(e instanceof Xt)t=new Xt(Math.abs(e.value),e.unit);else throw new Error("Expected number or Quantity, but got "+JSON.stringify(e||n))}return t};ai.ceiling=function(n){return Ms(n,Math.ceil)};ai.exp=function(n){return Ms(n,Math.exp)};ai.floor=function(n){return Ms(n,Math.floor)};ai.ln=function(n){return Ms(n,Math.log)};ai.log=function(n,t){return Ms(n,e=>Math.log(e)/Math.log(t))};ai.power=function(n,t){return Ms(n,e=>{let i=Math.pow(e,t);return isNaN(i)?[]:i})};ai.round=function(n,t){return Ms(n,e=>{if(t===void 0)return Math.round(e);{let i=Math.pow(10,t);return Math.round(e*i)/i}})};ai.sqrt=function(n){return Ms(n,t=>t<0?[]:Math.sqrt(t))};ai.truncate=function(n){return Ms(n,Math.trunc)};iD.exports=ai});var k1=Q((jue,oD)=>{var sr=Vi(),{deepEqual:nD}=Xl(),rD=xn(),qp=rD.FP_Type,Wp=rD.FP_DateTime,Ts={};function sD(n,t){return sr.isEmpty(n)||sr.isEmpty(t)?[]:nD(n,t)}function aD(n,t){return sr.isEmpty(n)&&sr.isEmpty(t)?[!0]:sr.isEmpty(n)||sr.isEmpty(t)?[]:nD(n,t,{fuzzy:!0})}Ts.equal=function(n,t){return sD(n,t)};Ts.unequal=function(n,t){var e=sD(n,t);return e===void 0?void 0:!e};Ts.equival=function(n,t){return aD(n,t)};Ts.unequival=function(n,t){return!aD(n,t)};function Gp(n,t){if(sr.assertOnlyOne(n,"Singleton was expected"),sr.assertOnlyOne(t,"Singleton was expected"),n=sr.valDataConverted(n[0]),t=sr.valDataConverted(t[0]),n!=null&&t!=null){let e=n instanceof Wp?Wp:n.constructor,i=t instanceof Wp?Wp:t.constructor;e!==i&&sr.raiseError('Type of "'+n+'" ('+e.name+') did not match type of "'+t+'" ('+i.name+")","InequalityExpression")}return[n,t]}Ts.lt=function(n,t){let[e,i]=Gp(n,t);if(e==null||i==null)return[];if(e instanceof qp){let r=e.compare(i);return r===null?[]:r<0}return e<i};Ts.gt=function(n,t){let[e,i]=Gp(n,t);if(e==null||i==null)return[];if(e instanceof qp){let r=e.compare(i);return r===null?[]:r>0}return e>i};Ts.lte=function(n,t){let[e,i]=Gp(n,t);if(e==null||i==null)return[];if(e instanceof qp){let r=e.compare(i);return r===null?[]:r<=0}return e<=i};Ts.gte=function(n,t){let[e,i]=Gp(n,t);if(e==null||i==null)return[];if(e instanceof qp){let r=e.compare(i);return r===null?[]:r>=0}return e>=i};oD.exports=Ts});var hD=Q((Wue,dD)=>{var zr={},lD=S1(),cD=k1(),Es=Vi();zr.aggregateMacro=function(n,t,e){return n.reduce((i,r,s)=>i instanceof Promise?i.then(a=>(this.$index=s,this.$total=a,this.$total=t(r))):(this.$index=s,this.$total=t(r)),this.$total=e)};zr.countFn=function(n){return n&&n.length?n.length:0};zr.sumFn=function(n){return zr.aggregateMacro.apply(this,[n.slice(1),t=>{let e=Es.arraify(t).filter(r=>Es.valData(r)!=null),i=Es.arraify(this.$total).filter(r=>Es.valData(r)!=null);return e.length===0||i.length===0?[]:lD.plus(e,i)},n[0]])};function uD(n,t){let e;if(n.length===0||Es.valData(n[0])==null)e=[];else{e=[n[0]];for(let i=1;i<n.length;i++){if(Es.valData(n[i])==null){e=[];break}let r=[n[i]];e=Es.isTrue(t(r,e))?r:e}}return e}zr.minFn=function(n){return uD(n,cD.lt)};zr.maxFn=function(n){return uD(n,cD.gt)};zr.avgFn=function(n){let t=Es.arraify(zr.sumFn(n)),e=Es.arraify(zr.countFn(n));return t.length===0||e.length===0?[]:lD.div(t,e)};dD.exports=zr});var bD=Q((que,_D)=>{var pD={},T1=Vi();pD.weight=function(n){let t=this;if(!t.model?.score)throw new Error("The weight()/ordinal() function is not supported for the current model.");if(n!==!1&&!n)return[];let e=[],i=this.vars.questionnaire||this.processedVars.questionnaire?.data,r=!1;return n.forEach(s=>{if(s?.data){let{score:a,isQuestionnaireResponse:o,value:l,valueType:c}=v7(t,s);if(a!==void 0)e.push(a);else if(o&&l!=null&&c){let u=E7(s);if(i){let d=I7(t.model?.version,i,u);if(d){let h=y7(t,d,l,c);h.score!==void 0?e.push(h.score):(h.answerOption&&l.system||h.answerValueSet)&&(r=mD(e,t,i,h.answerValueSet,l.code,l.system,s)||r)}else throw new Error("Questionnaire item with this linkId were not found: "+s.parentResNode.data.linkId+".")}else throw new Error("%questionnaire is needed but not specified.")}else c==="Coding"&&l?.system&&(r=mD(e,t,null,null,l.code,l.system,s)||r)}}),r?Promise.all(e):e};function v7(n,t){let e=n.model.score.propertyURI,i=n.model.score.extensionURI,r,s,a,o,l;switch(t.path){case"Coding":s=t.parentResNode?.path==="QuestionnaireResponse.item.answer",r=Hr(t.data,i),a=t.data,o="Coding";break;case"Questionnaire.item.answerOption":r=Hr(t.data,i),a=t.data;break;case"QuestionnaireResponse.item.answer":s=!0,l=t.data&&Object.keys(t.data).find(c=>c.length>5&&c.startsWith("value")),l&&(o=l.substring(5),a=t.data[l],r=Hr(t.data["_"+l]||a,i));break;case"ValueSet.compose.include.concept":n.model.score.propertyURI||(r=Hr(t.data,i)),a={code:t.data.code,system:t.parentResNode?.data.system},o="Coding";break;case"ValueSet.expansion.contains":if(e){let c=Sd(t.parentResNode?.data.property,e);r=Yp(t.data,c),a=t.data,o="Coding"}break;case"CodeSystem.concept":if(e){let c=Sd(t.parentResNode?.data.property,e);r=Yp(t.data,c)}else r=Hr(t.data,i);break;default:s=t.parentResNode?.path==="QuestionnaireResponse.item.answer",s&&(r=Hr(t._data||t.data,i),a=t.data,o=T1.capitalize(t.fhirNodeDataType))}return{score:r,isQuestionnaireResponse:s,value:a,valueType:o}}function Hr(n,t){return t&&n?.extension?.find(e=>t.indexOf(e.url)!==-1)?.valueDecimal}function y7(n,t,e,i){let r,s="value"+i;switch(i){case"Attachment":case"Quantity":case"Reference":r=c=>Object.keys(e).find(u=>u!=="extension"&&c[s][u]!==e[u])===void 0;break;case"Coding":r=c=>c.valueCoding?.code===e.code&&c.valueCoding?.system===e.system;break;default:r=c=>c[s]===e}let a=t?.answerOption?.find(r),o=Hr(a,n.model.score.extensionURI),l=t?.answerValueSet;return{score:o,answerOption:a,answerValueSet:l}}var Kp={},C7=36e5;function w7(n,t){Kp[n]={timestamp:Date.now(),value:t}}function x7(n){return Kp[n]&&Date.now()-Kp[n].timestamp<C7}function S7(n){return Kp[n].value}function mD(n,t,e,i,r,s,a){let o,c=[t.model?.version,e?.url||e?.id,t.processedVars.terminologies?.terminologyUrl,i,r,s].join("|");if(x7(c))o=S7(c);else{if(r){if(i){let u=/^#(.*)/.test(i)?RegExp.$1:null,d=u?m=>m.id===u&&m.resourceType==="ValueSet":m=>m.url===i&&m.resourceType==="ValueSet",h=e?.contained?.find(d);if(h)o=T7(t,h,r,s);else if(u)throw new Error("Cannot find a contained value set with id: "+u+".")}s&&(o==null?o=fD(t,e,a,r,s):o instanceof Promise&&(o=o.then(u=>u??fD(t,e,a,r,s))))}w7(c,o)}return o!==void 0&&n.push(o),o instanceof Promise}function fD(n,t,e,i,r){let s=l=>l.url===r&&l.resourceType==="CodeSystem",a=A7(e)?.find(s)||t?.contained?.find(s),o;if(a){let l=n.model?.score.propertyURI;if(l){let c=Sd(a?.property,l);if(c){let u=xd(a?.concept,i);o=Yp(u,c)}}else{let c=n.model?.score.extensionURI;if(c){let u=xd(a?.concept,i);o=Hr(u,c)}}}else o=k7(n,i,r);return o}function k7(n,t,e){let i=n.model?.score.propertyURI,r=n.model?.score.extensionURI,s=M7(n),a=H({headers:{Accept:"application/fhir+json"}},n.signal?{signal:n.signal}:{});return T1.fetchWithCache(`${s}/CodeSystem?`+new URLSearchParams(H({url:e},i?{_elements:"property"}:{})).toString(),a).then(o=>{if(i){let l=Sd(o?.entry?.[0]?.resource?.property,i);if(l)return T1.fetchWithCache(`${s}/CodeSystem/$lookup?`+new URLSearchParams({code:t,system:e,property:l}).toString(),a).then(c=>c.parameter.find(u=>u.name==="property"&&u.part.find(d=>d.name==="code"&&d.valueCode===l))?.part?.find(u=>u.name==="value")?.valueDecimal)}else{let l=xd(o?.entry?.[0]?.resource.concept,t);return Hr(l,r)}})}function M7(n){if(!n.async)throw new Error('The asynchronous function "weight"/"ordinal" is not allowed. To enable asynchronous functions, use the async=true or async="always" option.');let t=n.processedVars.terminologies?.terminologyUrl;if(!t)throw new Error('Option "terminologyUrl" is not specified.');return t}function gD(n,t,e){let i;if(n)for(let r=0;r<n.length&&!i;r++){let s=n[r];s.code===t&&s.system===e?i=s:i=gD(s.contains,t,e)}return i}function xd(n,t){let e;if(n)for(let i=0;i<n.length&&!e;i++){let r=n[i];r.code===t?e=r:r.concept&&(e=xd(r.concept,t))}return e}function Sd(n,t){return n?.find(e=>e.uri===t)?.code}function Yp(n,t){return n?.property?.find(e=>e.code===t)?.valueDecimal}function T7(n,t,e,i){let r,s,a=n.model?.score.propertyURI;if(a){let o=Sd(t.expansion?.property,a);o&&(s=gD(t.expansion?.contains,e,i),r=Yp(s,o))}else{let o=n.model?.score.extensionURI,l=t.compose?.include,c=l?.length;for(let u=0;u<c&&!s;++u)l[u].system===i&&(s=xd(l[u].concept,e));r=Hr(s,o)}return s?r:null}function E7(n){let t=[];for(;!n.data?.linkId&&n?.parentResNode;)n=n.parentResNode;for(;n?.data?.linkId;)t.push(n.data.linkId),n=n.parentResNode;return t}function A7(n){for(;n;){if(n.data?.resourceType&&n.data?.contained)return n.data?.contained;n=n.parentResNode}}var M1=new WeakMap;function I7(n,t,e){let i,r,s=e.join("|");if(M1.has(t)?(r=M1.get(t),i=r[s]):(r={},M1.set(t,r)),!Object.prototype.hasOwnProperty.call(r,s)){let a=e[e.length-1];if(n==="dstu2"){let o=t.group;for(;o?.length>0&&(i=o.find(l=>l.linkId===a),!i);)o=[].concat(...o.map(l=>[].concat(l.question||[],l.group||[])));for(let l=e.length-2;l>=0&&i;--l)i=i.question?.find(c=>c.linkId===e[l])||i.group?.find(c=>c.linkId===e[l])}else{let o=t.item;for(;o?.length>0&&(i=o.find(l=>l.linkId===a),!i);)o=[].concat(...o.map(l=>l.item||[]));for(let l=e.length-2;l>=0&&i;--l)i=i.item?.find(c=>c.linkId===e[l])}r[s]=i}return i}_D.exports=pD});var xD=Q((Kue,wD)=>{var kd={},{distinctFn:vD}=Hp(),Qp=Bp(),{deepEqual:yD,maxCollSizeForDeepEqual:CD}=Xl(),{TypeInfo:Zp}=xn();kd.union=function(n,t){return vD(n.concat(t))};kd.combineFn=function(n,t){return n.concat(t)};kd.intersect=function(n,t){let e=[],i=n.length,r=t.length;if(i&&r){let s=n.some(a=>Zp.isPrimitiveValue(a))||t.some(a=>Zp.isPrimitiveValue(a));if(!s&&i+r>CD){let a={};t.forEach(o=>{let l=Qp(o);a[l]?r--:a[l]=!0});for(let o=0;o<i&&r>0;++o){let l=n[o],c=Qp(l);a[c]&&(e.push(l),a[c]=!1,r--)}}else e=vD(n,s).filter(a=>t.some(o=>yD(a,o)))}return e};kd.exclude=function(n,t){let e=[],i=n.length,r=t.length;if(!r)return n;if(i)if(!(n.some(a=>Zp.isPrimitiveValue(a))||t.some(a=>Zp.isPrimitiveValue(a)))&&i+r>CD){let a={};t.forEach(o=>{let l=Qp(o);a[l]=!0}),e=n.filter(o=>!a[Qp(o)])}else e=n.filter(a=>!t.some(o=>yD(a,o)));return e};wD.exports=kd});var MD=Q((Yue,kD)=>{var{deepEqual:D7}=Xl(),E1={};function SD(n,t){for(var e=0;e<n.length;e++)if(D7(n[e],t[0]))return!0;return!1}E1.contains=function(n,t){if(t.length==0)return[];if(n.length==0)return!1;if(t.length>1)throw new Error("Expected singleton on right side of contains, got "+JSON.stringify(t));return SD(n,t)};E1.in=function(n,t){if(n.length==0)return[];if(t.length==0)return!1;if(n.length>1)throw new Error("Expected singleton on right side of in, got "+JSON.stringify(t));return SD(t,n)};kD.exports=E1});var ED=Q((Que,TD)=>{var gt=Vi(),pi=jp(),ni={},A1={};function R7(n){return A1[n]||(A1[n]=n.replace(/\./g,(t,e,i)=>{let s=i.substr(0,e).replace(/\\\\/g,"").replace(/\\[\][]/g,""),a=s[s.length-1]==="\\",o=s.lastIndexOf("["),l=s.lastIndexOf("]");return a||o>l?".":"[^]"})),A1[n]}ni.indexOf=function(n,t){let e=pi.singleton(n,"String");return gt.isEmpty(t)||gt.isEmpty(e)?[]:e.indexOf(t)};ni.substring=function(n,t,e){let i=pi.singleton(n,"String");return gt.isEmpty(i)||gt.isEmpty(t)||t<0||t>=i.length?[]:e===void 0||gt.isEmpty(e)?i.substring(t):i.substring(t,t+e)};ni.startsWith=function(n,t){let e=pi.singleton(n,"String");return gt.isEmpty(t)||gt.isEmpty(e)?[]:e.startsWith(t)};ni.endsWith=function(n,t){let e=pi.singleton(n,"String");return gt.isEmpty(t)||gt.isEmpty(e)?[]:e.endsWith(t)};ni.containsFn=function(n,t){let e=pi.singleton(n,"String");return gt.isEmpty(t)||gt.isEmpty(e)?[]:e.includes(t)};ni.upper=function(n){let t=pi.singleton(n,"String");return gt.isEmpty(t)?[]:t.toUpperCase()};ni.lower=function(n){let t=pi.singleton(n,"String");return gt.isEmpty(t)?[]:t.toLowerCase()};ni.joinFn=function(n,t){let e=[];return n.forEach(i=>{let r=gt.valData(i);if(typeof r=="string")e.push(r);else if(r!=null)throw new Error("Join requires a collection of strings.")}),gt.isEmpty(e)?[]:(t===void 0&&(t=""),e.join(t))};ni.splitFn=function(n,t){let e=pi.singleton(n,"String");return gt.isEmpty(e)?[]:e.split(t)};ni.trimFn=function(n){let t=pi.singleton(n,"String");return gt.isEmpty(t)?[]:t.trim()};ni.encodeFn=function(n,t){let e=pi.singleton(n,"String");return gt.isEmpty(e)?[]:t==="urlbase64"||t==="base64url"?btoa(e).replace(/\+/g,"-").replace(/\//g,"_"):t==="base64"?btoa(e):t==="hex"?Array.from(e).map(i=>i.charCodeAt(0)<128?i.charCodeAt(0).toString(16):encodeURIComponent(i).replace(/%/g,"")).join(""):[]};ni.decodeFn=function(n,t){let e=pi.singleton(n,"String");if(gt.isEmpty(e))return[];if(t==="urlbase64"||t==="base64url")return atob(e.replace(/-/g,"+").replace(/_/g,"/"));if(t==="base64")return atob(e);if(t==="hex"){if(e.length%2!==0)throw new Error("Decode 'hex' requires an even number of characters.");return decodeURIComponent("%"+e.match(/.{2}/g).join("%"))}return[]};var L7=new RegExp("").dotAll===!1;L7?ni.matches=function(n,t){let e=pi.singleton(n,"String");return gt.isEmpty(t)||gt.isEmpty(e)?[]:new RegExp(t,"su").test(e)}:ni.matches=function(n,t){let e=pi.singleton(n,"String");return gt.isEmpty(t)||gt.isEmpty(e)?[]:new RegExp(R7(t),"u").test(e)};ni.replace=function(n,t,e){let i=pi.singleton(n,"String");if(gt.isEmpty(t)||gt.isEmpty(e)||gt.isEmpty(i))return[];let r=new RegExp(gt.escapeStringForRegExp(t),"g");return i.replace(r,e)};ni.replaceMatches=function(n,t,e){let i=pi.singleton(n,"String");if(gt.isEmpty(t)||gt.isEmpty(e)||gt.isEmpty(i))return[];let r=new RegExp(t,"gu");return i.replace(r,e)};ni.length=function(n){let t=pi.singleton(n,"String");return gt.isEmpty(t)?[]:t.length};ni.toChars=function(n){let t=pi.singleton(n,"String");return gt.isEmpty(t)?[]:t.split("")};TD.exports=ni});var ID=Q((Zue,AD)=>{var Xp=Vi(),Md={};Md.children=function(n){let t=this.model;return n.reduce(function(e,i){let r=Xp.valData(i);if(r==null)return e;if(typeof r=="object"){for(var s of Object.keys(r))Xp.pushFn(e,Xp.makeChildResNodes(i,s,t));return e}else return e},[])};Md.descendants=function(n){for(var t=Md.children.call(this,n),e=[];t.length>0;)Xp.pushFn(e,t),t=Md.children.call(this,t);return e};AD.exports=Md});var LD=Q((Xue,RD)=>{var Jp={},D1=xn(),Vn=_1(),DD=D1.FP_Date,I1=D1.FP_DateTime,O7=D1.FP_Time;Jp.now=function(){if(!Vn.now){var n=Vn.nowDate,t=I1.isoDateTime(n);Vn.now=new I1(t)}return Vn.now};Jp.today=function(){if(!Vn.today){var n=Vn.nowDate,t=DD.isoDate(n);Vn.today=new DD(t)}return Vn.today};Jp.timeOfDay=function(){if(!Vn.timeOfDay){let n=Vn.nowDate,t=I1.isoTime(n);Vn.timeOfDay=new O7(t)}return Vn.timeOfDay};RD.exports=Jp});var L1=Q((Jue,ND)=>{var e0=Vi(),R1=class n{constructor(t){this.terminologyUrl=t,this.invocationTable=n.invocationTable}static invocationTable={validateVS:{fn:n.validateVS,arity:{2:["String","AnySingletonAtRoot"],3:["String","AnySingletonAtRoot","String"]}}};static validateVS(t,e,i,r=""){let s=this;if(!s.async)throw new Error('The asynchronous function "validateVS" is not allowed. To enable asynchronous functions, use the async=true or async="always" option.');F7(r);let a={Accept:"application/fhir+json; charset=utf-8"},o={Accept:"application/fhir+json; charset=utf-8","Content-Type":"application/fhir+json; charset=utf-8"},l=new Headers(a),c=`${t[0].terminologyUrl}/ValueSet/$validate-code`,u;if(i.coding){let d={resourceType:"Parameters",parameter:[{name:"url",valueUri:e},{name:"codeableConcept",valueCodeableConcept:i}]};l=new Headers(o),u=e0.fetchWithCache(c+(r?"?"+r:""),H({method:"POST",headers:l,body:JSON.stringify(d)},s.signal?{signal:s.signal}:{}))}else if(typeof i=="string"){let d=new URLSearchParams({url:e});u=e0.fetchWithCache(`${t[0].terminologyUrl}/ValueSet?${d.toString()+(r?"&"+r:"")}`,H({headers:l},s.signal?{signal:s.signal}:{})).then(h=>{let m=h?.entry?.length===1&&(OD(h.entry[0].resource.expansion?.contains)||OD(h.entry[0].resource.compose?.include));if(m){let f=new URLSearchParams({url:e,code:i,system:m});return e0.fetchWithCache(`${c}?${f.toString()+(r?"&"+r:"")}`,H({headers:l},s.signal?{signal:s.signal}:{}))}else throw new Error("The valueset does not have a single code system.")})}else if(i.code){let d=new URLSearchParams({url:e??"",system:i.system??"",code:i.code});u=e0.fetchWithCache(`${c}?${d.toString()+(r?"&"+r:"")}`,H({headers:l},s.signal?{signal:s.signal}:{}))}return u.then(d=>{if(d?.parameter)return d;throw new Error(d)}).catch(()=>{let d=N7(i,e);throw new Error("Failed to check membership: "+d)})}};function N7(n,t){if(typeof n=="string")return n+" - "+t;if(n.code)return n.system+"|"+n.code+" - "+t;if(n.coding)return n.coding.map(e=>e.system+"|"+e.code).join(",")+" - "+t}function F7(n){if(n?.split("&").find(t=>{let e=t.split("=");return e.length<=2&&e.find(i=>encodeURIComponent(decodeURIComponent(i))!==i)}))throw new Error(`"${n}" should be a valid URL-encoded string`)}function OD(n,t=void 0){if(n){for(let e=0;e<n.length;++e)if(!t)t=n[e].system;else if(t!==n[e].system){t=void 0;break}}return t}ND.exports=R1});var UD=Q((tde,PD)=>{var P7=Vi(),U7=L1(),FD={};FD.memberOf=function(n,t){if(!this.async)throw new Error('The asynchronous function "memberOf" is not allowed. To enable asynchronous functions, use the async=true or async="always" option.');if(n.length!==1||n[0]==null)return[];if(typeof t=="string"&&/^https?:\/\/.*/.test(t)){let e=this.processedVars.terminologies;if(!e)throw new Error('Option "terminologyUrl" is not specified.');return U7.validateVS.call(this,[e],t,P7.valData(n[0]),"").then(i=>i.parameter.find(r=>r.name==="result").valueBoolean,()=>[])}return[]};PD.exports=FD});var VD=Q((ide,$D)=>{var Td={};Td.orOp=function(n,t){if(Array.isArray(t)){if(n===!0)return!0;if(n===!1)return[];if(Array.isArray(n))return[]}return Array.isArray(n)?t===!0?!0:[]:n||t};Td.andOp=function(n,t){if(Array.isArray(t)){if(n===!0)return[];if(n===!1)return!1;if(Array.isArray(n))return[]}return Array.isArray(n)?t===!0?[]:!1:n&&t};Td.xorOp=function(n,t){return Array.isArray(n)||Array.isArray(t)?[]:n&&!t||!n&&t};Td.impliesOp=function(n,t){if(Array.isArray(t)){if(n===!0)return[];if(n===!1)return!0;if(Array.isArray(n))return[]}return Array.isArray(n)?t===!0?!0:[]:n===!1?!0:n&&t};$D.exports=Td});var zD=Q((nde,BD)=>{var at=Vi(),{ResourceNode:Hi,TypeInfo:fa,instantRE:$7,timeRE:V7,dateRE:B7,dateTimeRE:z7}=xn(),O1=class n{static invocationTable={Extension:{fn:n.Extension,arity:{2:["String","AnyAtRoot"]}},Identifier:{fn:n.Identifier,arity:{1:["String"],2:["String","String"],3:["String","String","String"],4:["String","String","String","Any"]}},HumanName:{fn:n.HumanName,arity:{1:["String"],2:["String","AnyAtRoot"],3:["String","AnyAtRoot","String"],4:["String","AnyAtRoot","String","String"],5:["String","AnyAtRoot","String","String","String"],6:["String","AnyAtRoot","String","String","String","String"]}},ContactPoint:{fn:n.ContactPoint,arity:{1:["String"],2:["String","String"],3:["String","String","String"]}},Address:{fn:n.Address,arity:{1:["AnyAtRoot"],2:["AnyAtRoot","String"],3:["AnyAtRoot","String","String"],4:["AnyAtRoot","String","String","String"],5:["AnyAtRoot","String","String","String","String"],6:["AnyAtRoot","String","String","String","String","String"],7:["AnyAtRoot","String","String","String","String","String","String"]}},Quantity:{fn:n.Quantity,arity:{1:["String"],2:["String","String"],3:["String","String","StringOrNumber"],4:["String","String","StringOrNumber","String"]}},Coding:{fn:n.Coding,arity:{1:["String"],2:["String","String"],3:["String","String","String"],4:["String","String","String","String"]}},CodeableConcept:{fn:n.CodeableConcept,arity:{1:["AnyAtRoot"],2:["AnyAtRoot","String"]}},create:{fn:n.create,arity:{1:["TypeSpecifier"]}},withExtension:{fn:n.withExtension,arity:{3:["AnyAtRoot","String","AnyAtRoot"]}},withProperty:{fn:n.withProperty,arity:{3:["AnyAtRoot","String","AnyAtRoot"]}}};static{[{type:"string",getValue:function(t){if(typeof t=="string"&&/^[\s\S]+$/.test(t))return String(t);throw new Error(`"${t}" is not a string.`)}},{type:"integer",getValue:t=>{let e=Number(t);if(Number.isInteger(e))return e;throw new Error(`"${t}" is not an integer.`)}},{type:"unsignedInt",getValue:t=>{let e=Number(t);if(Number.isInteger(e)&&e>=0)return e;throw new Error(`"${t}" is not an unsignedInt.`)}},{type:"positiveInt",getValue:t=>{let e=Number(t);if(Number.isInteger(e)&&e>0)return e;throw new Error(`"${t}" is not a positiveInt.`)}},{type:"integer64",getValue:t=>{let e=Number(t);if(Number.isInteger(e))return e;throw new Error(`"${t}" is not an integer.`)}},{type:"markdown",getValue(t){if(typeof t=="string"&&/^[\s\S]+$/.test(t))return t;throw new Error(`"${t}" is not a markdown.`)}},{type:"url",getValue(t){if(typeof t=="string"&&/^\S*$/.test(t))return t;throw new Error(`"${t}" is not a url.`)}},{type:"uri",getValue(t){if(typeof t=="string"&&/^\S*$/.test(t))return t;throw new Error(`"${t}" is not a uri.`)}},{type:"instant",getValue(t){if(typeof t=="string"&&$7.test(t))return t;throw new Error(`"${t}" is not an instant.`)}},{type:"time",getValue(t){if(typeof t=="string"&&V7.test(t))return t;throw new Error(`"${t}" is not a time.`)}},{type:"date",getValue(t){if(typeof t=="string"&&B7.test(t))return t;throw new Error(`"${t}" is not a date.`)}},{type:"dateTime",getValue(t){if(typeof t=="string"&&z7.test(t))return t;throw new Error(`"${t}" is not a dateTime.`)}},{type:"base64Binary",getValue(t){if(typeof t=="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return t;throw new Error(`"${t}" is not a base64Binary.`)}},{type:"decimal",getValue(t){let e=Number(t);if(Number.isNaN(e))throw new Error(`"${t}" is not an decimal.`);return e}},{type:"boolean",getValue(t){if(t===!0||t==="true")return!0;if(t===!1||t==="false")return!1;throw new Error(`"${t}" is not a boolean.`)}},{type:"code",getValue(t){if(typeof t=="string"&&/^\S+( \S+)*$/.test(t))return t;throw new Error(`"${t}" is not a code.`)}},{type:"id",getValue(t){if(typeof t=="string"&&/^[A-Za-z0-9\-.]{1,64}$/.test(t))return t;throw new Error(`"${t}" is not an id.`)}},{type:"oid",getValue(t){if(typeof t=="string"&&/^urn:oid:[0-2](\.(0|[1-9][0-9]*))+$/.test(t))return t;throw new Error(`"${t}" is not an oid.`)}},{type:"uuid",getValue(t){if(typeof t=="string"&&/^urn:uuid:[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(t))return t;throw new Error(`"${t}" is not an uuid.`)}},{type:"canonical",getValue(t){if(typeof t=="string"&&/^\S*$/.test(t))return t;throw new Error(`"${t}" is not an canonical.`)}}].forEach(({type:t,getValue:e})=>{n[t]=function(i,r,s){let a;if(r.length>1)throw new Error("Unexpected collection "+JSON.stringify(r)+` as a value for %factory.${t}(value, extensions)`);if(r.length===0)a=null;else{let l=at.valData(r[0]);if(l==null&&(a=null),typeof l!="object")a=e(l);else throw new Error(`"${l}" is not a ${t}`)}let o=null;return s?.length>0&&(o={extension:s.map(l=>{let c=fa.fromValue(l);if(fa.isType(c.name,"Extension"))return at.valData(l);throw new Error(`Expected "FHIR.Extension", got "${c}"`)})}),Hi.makeResNode(a,null,t,o,t)},n.invocationTable[t]={fn:n[t],arity:{1:["AnyAtRoot"],2:["AnyAtRoot","Any"]}}})}static Extension(t,e,i){if(i.length!==1){if(i.length>1)throw new Error("Unexpected collection "+JSON.stringify(i)+" as a value for %factory.Extension(url, value)");if(i.length===0)throw new Error("Unexpected empty collection "+JSON.stringify(i)+" as a value for %factory.Extension(url, value)")}else return Hi.makeResNode(n.createExtensionObject(e,i[0]),null,"Extension",null,"Extension")}static createExtensionObject(t,e){let i="value"+fa.fromValue(e).name.replace(/^\w/,r=>r.toUpperCase());return{url:t,[i]:at.valData(e)}}static Identifier(t,e,i,r,s){if(s?.length>1)throw new Error("Unexpected collection "+JSON.stringify(s)+" as a type for %factory.Identifier{system, value, use, type)");let a={};if(at.isSome(e)&&(a.system=e),at.isSome(i)&&(a.value=i),at.isSome(r)&&(a.use=r),at.isSome(s)){let o=fa.fromValue(s[0]);if(!fa.isType(o.name,"CodeableConcept"))throw new Error(`Expected "FHIR.CodeableConcept", got "${o}"`);a.type=s[0]}return Hi.makeResNode(a,null,"Identifier",null,"Identifier")}static HumanName(t,e,i,r,s,a,o){let l={};return at.isSome(e)&&(l.family=e),at.isSome(i)&&(l.given=i.map(c=>{let u=at.valData(c);if(typeof u=="string")return u;throw new Error(`Expected string, but got: ${JSON.stringify(u)}`)})),at.isSome(r)&&(l.prefix=r),at.isSome(s)&&(l.suffix=s),at.isSome(a)&&(l.text=a),at.isSome(o)&&(l.use=o),Hi.makeResNode(l,null,"HumanName",null,"HumanName")}static ContactPoint(t,e,i,r){let s={};return at.isSome(e)&&(s.system=e),at.isSome(i)&&(s.value=i),at.isSome(r)&&(s.use=r),Hi.makeResNode(s,null,"ContactPoint",null,"ContactPoint")}static Address(t,e,i,r,s,a,o,l){let c={};return at.isSome(e)&&(c.line=e.map(u=>{let d=at.valData(u);if(typeof d=="string")return d;throw new Error(`Expected string, but got: ${JSON.stringify(d)}`)})),at.isSome(i)&&(c.city=i),at.isSome(r)&&(c.state=r),at.isSome(s)&&(c.postalCode=s),at.isSome(a)&&(c.country=a),at.isSome(o)&&(c.use=o),at.isSome(l)&&(c.type=l),Hi.makeResNode(c,null,"Address",null,"Address")}static Quantity(t,e,i,r,s){let a={};return at.isSome(e)&&(a.system=e),at.isSome(i)&&(a.code=i),at.isSome(r)&&(a.value=Number(r)),at.isSome(s)&&(a.unit=s),Hi.makeResNode(a,null,"Quantity",null,"Quantity")}static Coding(t,e,i,r,s){let a={};return at.isSome(e)&&(a.system=e),at.isSome(i)&&(a.code=i),at.isSome(r)&&(a.display=r),at.isSome(s)&&(a.version=s),Hi.makeResNode(a,null,"Coding",null,"Coding")}static CodeableConcept(t,e,i){let r=e?.length>0?{coding:e.map(s=>{if(s instanceof Hi&&s.getTypeInfo().name==="Coding")return at.valData(s);throw new Error("Unexpected value "+JSON.stringify(s)+"; expected value of type Coding")})}:{};return at.isSome(i)&&(r.text=i),Hi.makeResNode(r,null,"CodeableConcept",null,"CodeableConcept")}static create(t,e){if(e.namespace===fa.System)throw new Error("%factory.create(type) doesn't support system types.");return Hi.makeResNode(null,null,e.name,null,e.name)}static withExtension(t,e,i,r){if(e.length>1)throw new Error("Unexpected collection "+JSON.stringify(e)+" as an instance for %factory.withExtension(instance, url, value)");if(r.length!==1){if(r.length>1)throw new Error("Unexpected collection "+JSON.stringify(r)+" as a value for %factory.withExtension(instance, url, value)");if(r.length===0)throw new Error("Unexpected empty collection "+JSON.stringify(r)+" as a value for %factory.withExtension(instance, url, value)")}if(e.length===0)return[];let s=e[0];if(s instanceof Hi){let a=s.data,o=s._data;return fa.isPrimitive(s.getTypeInfo())?o=Le(H({},s._data||{}),{extension:[...s._data?.extension||[],n.createExtensionObject(i,r[0])]}):a=Le(H({},s.data||{}),{extension:[...s.data?.extension||[],n.createExtensionObject(i,r[0])]}),Hi.makeResNode(a,null,s.path,o,s.fhirNodeDataType)}else throw new Error("Expected a ResourceNode.")}static withProperty(t,e,i,r){if(e.length>1)throw new Error("Unexpected collection "+JSON.stringify(e)+" as an instance for %factory.withProperty(instance, name, value)");if(r.length!==1){if(r.length>1)throw new Error("Unexpected collection "+JSON.stringify(r)+" as a value for %factory.withProperty(instance, name, value)");if(r.length===0)throw new Error("Unexpected empty collection "+JSON.stringify(r)+" as a value for %factory.withProperty(instance, name, value)")}if(e.length===0)return[];let s=e[0];if(s instanceof Hi){let a=s.data,o=s._data;return fa.isPrimitive(s.getTypeInfo())?o=H(Le(H({},s._data||{}),{[i]:at.valData(r[0])}),r[0]?._data?{["_"+i]:r[0]._data}:{}):a=H(Le(H({},s.data||{}),{[i]:at.valData(r[0])}),r[0]?._data?{["_"+i]:r[0]._data}:{}),Hi.makeResNode(a,null,s.path,o,s.fhirNodeDataType)}else throw new Error("Expected a ResourceNode.")}};BD.exports=O1});var nR=Q((sde,iR)=>{var{version:H7}=SE(),j7=MA(),oi=Vi();TI();var W7=_1(),fe={},ar=eD(),Bn=Hp(),Jl=hD(),HD=bD(),Ed=xD(),vt=jp(),pa=k1(),jD=MD(),gi=S1(),_i=ED(),WD=ID(),N1=LD(),q7=UD(),t0=VD(),ec=xn(),{FP_Date:G7,FP_DateTime:GD,FP_Time:KD,FP_Quantity:i0,FP_Type:YD,ResourceNode:$1,TypeInfo:QD}=ec,As=$1.makeResNode,K7=L1(),Y7=zD();fe.invocationTable={memberOf:{fn:q7.memberOf,arity:{1:["String"]}},empty:{fn:ar.emptyFn},not:{fn:ar.notFn},exists:{fn:ar.existsMacro,arity:{0:[],1:["Expr"]}},all:{fn:ar.allMacro,arity:{1:["Expr"]}},allTrue:{fn:ar.allTrueFn},anyTrue:{fn:ar.anyTrueFn},allFalse:{fn:ar.allFalseFn},anyFalse:{fn:ar.anyFalseFn},subsetOf:{fn:ar.subsetOfFn,arity:{1:["AnyAtRoot"]}},supersetOf:{fn:ar.supersetOfFn,arity:{1:["AnyAtRoot"]}},isDistinct:{fn:ar.isDistinctFn},distinct:{fn:Bn.distinctFn},count:{fn:Jl.countFn},where:{fn:Bn.whereMacro,arity:{1:["Expr"]}},extension:{fn:Bn.extension,arity:{1:["String"]}},select:{fn:Bn.selectMacro,arity:{1:["Expr"]}},aggregate:{fn:Jl.aggregateMacro,arity:{1:["Expr"],2:["Expr","AnyAtRoot"]}},sum:{fn:Jl.sumFn},min:{fn:Jl.minFn},max:{fn:Jl.maxFn},avg:{fn:Jl.avgFn},weight:{fn:HD.weight},ordinal:{fn:HD.weight},single:{fn:Bn.singleFn},first:{fn:Bn.firstFn},last:{fn:Bn.lastFn},type:{fn:ec.typeFn,arity:{0:[]}},ofType:{fn:Bn.ofTypeFn,arity:{1:["TypeSpecifier"]}},is:{fn:ec.isFn,arity:{1:["TypeSpecifier"]}},as:{fn:ec.asFn,arity:{1:["TypeSpecifier"]}},tail:{fn:Bn.tailFn},take:{fn:Bn.takeFn,arity:{1:["Integer"]}},skip:{fn:Bn.skipFn,arity:{1:["Integer"]}},combine:{fn:Ed.combineFn,arity:{1:["AnyAtRoot"]}},union:{fn:Ed.union,arity:{1:["AnyAtRoot"]}},intersect:{fn:Ed.intersect,arity:{1:["AnyAtRoot"]}},exclude:{fn:Ed.exclude,arity:{1:["AnyAtRoot"]}},iif:{fn:vt.iifMacro,arity:{2:["Expr","Expr"],3:["Expr","Expr","Expr"]}},trace:{fn:vt.traceFn,arity:{1:["String"],2:["String","Expr"]}},defineVariable:{fn:vt.defineVariable,arity:{1:["String"],2:["String","Expr"]}},toInteger:{fn:vt.toInteger},toDecimal:{fn:vt.toDecimal},toString:{fn:vt.toString},toDate:{fn:vt.toDate},toDateTime:{fn:vt.toDateTime},toTime:{fn:vt.toTime},toBoolean:{fn:vt.toBoolean},toQuantity:{fn:vt.toQuantity,arity:{0:[],1:["String"]}},hasValue:{fn:vt.hasValueFn},getValue:{fn:vt.getValueFn},convertsToBoolean:{fn:vt.createConvertsToFn(vt.toBoolean,"boolean")},convertsToInteger:{fn:vt.createConvertsToFn(vt.toInteger,"number")},convertsToDecimal:{fn:vt.createConvertsToFn(vt.toDecimal,"number")},convertsToString:{fn:vt.createConvertsToFn(vt.toString,"string")},convertsToDate:{fn:vt.createConvertsToFn(vt.toDate,G7)},convertsToDateTime:{fn:vt.createConvertsToFn(vt.toDateTime,GD)},convertsToTime:{fn:vt.createConvertsToFn(vt.toTime,KD)},convertsToQuantity:{fn:vt.createConvertsToFn(vt.toQuantity,i0)},indexOf:{fn:_i.indexOf,arity:{1:["String"]}},substring:{fn:_i.substring,arity:{1:["Integer"],2:["Integer","Integer"]}},startsWith:{fn:_i.startsWith,arity:{1:["String"]}},endsWith:{fn:_i.endsWith,arity:{1:["String"]}},contains:{fn:_i.containsFn,arity:{1:["String"]}},upper:{fn:_i.upper},lower:{fn:_i.lower},replace:{fn:_i.replace,arity:{2:["String","String"]}},matches:{fn:_i.matches,arity:{1:["String"]}},replaceMatches:{fn:_i.replaceMatches,arity:{2:["String","String"]}},length:{fn:_i.length},toChars:{fn:_i.toChars},join:{fn:_i.joinFn,arity:{0:[],1:["String"]}},split:{fn:_i.splitFn,arity:{1:["String"]}},trim:{fn:_i.trimFn},encode:{fn:_i.encodeFn,arity:{1:["String"]}},decode:{fn:_i.decodeFn,arity:{1:["String"]}},abs:{fn:gi.abs},ceiling:{fn:gi.ceiling},exp:{fn:gi.exp},floor:{fn:gi.floor},ln:{fn:gi.ln},log:{fn:gi.log,arity:{1:["Number"]},nullable:!0},power:{fn:gi.power,arity:{1:["Number"]},nullable:!0},round:{fn:gi.round,arity:{0:[],1:["Number"]}},sqrt:{fn:gi.sqrt},truncate:{fn:gi.truncate},now:{fn:N1.now},today:{fn:N1.today},timeOfDay:{fn:N1.timeOfDay},repeat:{fn:Bn.repeatMacro,arity:{1:["Expr"]}},children:{fn:WD.children},descendants:{fn:WD.descendants},"|":{fn:Ed.union,arity:{2:["Any","Any"]}},"=":{fn:pa.equal,arity:{2:["Any","Any"]},nullable:!0},"!=":{fn:pa.unequal,arity:{2:["Any","Any"]},nullable:!0},"~":{fn:pa.equival,arity:{2:["Any","Any"]}},"!~":{fn:pa.unequival,arity:{2:["Any","Any"]}},"<":{fn:pa.lt,arity:{2:["Any","Any"]},nullable:!0},">":{fn:pa.gt,arity:{2:["Any","Any"]},nullable:!0},"<=":{fn:pa.lte,arity:{2:["Any","Any"]},nullable:!0},">=":{fn:pa.gte,arity:{2:["Any","Any"]},nullable:!0},containsOp:{fn:jD.contains,arity:{2:["Any","Any"]}},inOp:{fn:jD.in,arity:{2:["Any","Any"]}},isOp:{fn:ec.isFn,arity:{2:["Any","TypeSpecifier"]}},asOp:{fn:ec.asFn,arity:{2:["Any","TypeSpecifier"]}},"&":{fn:gi.amp,arity:{2:["String","String"]}},"+":{fn:gi.plus,arity:{2:["Any","Any"]},nullable:!0},"-":{fn:gi.minus,arity:{2:["Any","Any"]},nullable:!0},"*":{fn:gi.mul,arity:{2:["Any","Any"]},nullable:!0},"/":{fn:gi.div,arity:{2:["Any","Any"]},nullable:!0},mod:{fn:gi.mod,arity:{2:["Number","Number"]},nullable:!0},div:{fn:gi.intdiv,arity:{2:["Number","Number"]},nullable:!0},or:{fn:t0.orOp,arity:{2:[["Boolean"],["Boolean"]]}},and:{fn:t0.andOp,arity:{2:[["Boolean"],["Boolean"]]}},xor:{fn:t0.xorOp,arity:{2:[["Boolean"],["Boolean"]]}},implies:{fn:t0.impliesOp,arity:{2:[["Boolean"],["Boolean"]]}}};fe.InvocationExpression=function(n,t,e){return e.children.reduce(function(i,r){return fe.doEval(n,i,r)},t)};fe.TermExpression=function(n,t,e){return t&&(t=t.map(i=>i instanceof Object&&i.resourceType?As(i,null,null,null,null,n.model):i)),fe.doEval(n,t,e.children[0])};fe.PolarityExpression=function(n,t,e){var i=e.terminalNodeText[0],r=fe.doEval(n,t,e.children[0]);if(r.length!==1)throw new Error("Unary "+i+" can only be applied to an individual number or Quantity.");if(r[0]instanceof i0)i==="-"&&(r[0]=new i0(-r[0].value,r[0].unit));else if(typeof r[0]=="number"&&!isNaN(r[0]))i==="-"&&(r[0]=-r[0]);else throw new Error("Unary "+i+" can only be applied to a number or Quantity.");return r};fe.TypeSpecifier=function(n,t,e){let i,r,s=e.text.split(".").map(o=>o.replace(/(^`|`$)/g,""));switch(s.length){case 2:[i,r]=s;break;case 1:[r]=s;break;default:throw new Error("Expected TypeSpecifier node, got "+JSON.stringify(e))}let a=new QD({namespace:i,name:r});if(!a.isValid(n.model))throw new Error('"'+a+'" cannot be resolved to a valid type identifier');return a};fe.ExternalConstantTerm=function(n,t,e){let i,r=e.children[0];r.terminalNodeText.length===2?i=ZD(r.terminalNodeText[1]):i=XD(r.children[0].text);let s;if(i in n.vars&&!n.processedUserVarNames.has(i))s=n.vars[i],Array.isArray(s)?s=s.map(a=>a?.__path__?As(a,a.__path__.parentResNode,a.__path__.path,null,a.__path__.fhirNodeDataType,a.__path__.model):a?.resourceType?As(a,null,null,null,null,n.model):a):s=s?.__path__?As(s,s.__path__.parentResNode,s.__path__.path,null,s.__path__.fhirNodeDataType,s.__path__.model):s?.resourceType?As(s,null,null,null,null,n.model):s,n.processedVars[i]=s,n.processedUserVarNames.add(i);else if(i in n.processedVars)s=n.processedVars[i];else if(n.definedVars&&i in n.definedVars)s=n.definedVars[i];else throw new Error("Attempting to access an undefined environment variable: "+i);return s==null?[]:s instanceof Array?s:[s]};fe.LiteralTerm=function(n,t,e){var i=e.children[0];return i?fe.doEval(n,t,i):[e.text]};fe.StringLiteral=function(n,t,e){return[ZD(e.text)]};function ZD(n){return n.replace(/(^'|'$)/g,"").replace(/\\(u\d{4}|.)/g,function(t,e){switch(t){case"\\r":return"\r";case"\\n":return`
`;case"\\t":return"	";case"\\f":return"\f";default:return e.length>1?String.fromCharCode("0x"+e.slice(1)):e}})}fe.BooleanLiteral=function(n,t,e){return e.text==="true"?[!0]:[!1]};fe.QuantityLiteral=function(n,t,e){var i=e.children[0],r=Number(i.terminalNodeText[0]),s=i.children[0],a=s.terminalNodeText[0];return!a&&s.children&&(a=s.children[0].terminalNodeText[0]),[new i0(r,a)]};fe.DateTimeLiteral=function(n,t,e){var i=e.text.slice(1);return[new GD(i)]};fe.TimeLiteral=function(n,t,e){var i=e.text.slice(1);return[new KD(i)]};fe.NumberLiteral=function(n,t,e){return[Number(e.text)]};fe.Identifier=function(n,t,e){return[XD(e.text)]};function XD(n){return n.replace(/(^`|`$)/g,"")}fe.InvocationTerm=function(n,t,e){return fe.doEval(n,t,e.children[0])};fe.MemberInvocation=function(n,t,e){let i=fe.doEval(n,t,e.children[0])[0],r=n.model;return t?t.reduce(function(s,a){return a=As(a,null,a.__path__?.path,null,a.__path__?.fhirNodeDataType,r),a.data?.resourceType===i?s.push(a):oi.pushFn(s,oi.makeChildResNodes(a,i,r)),s},[]):[]};fe.IndexerExpression=function(n,t,e){let i=e.children[0],r=e.children[1];var s=fe.doEval(n,t,i),a=fe.doEval(n,t,r);if(oi.isEmpty(a))return[];var o=parseInt(a[0]);return s&&oi.isSome(o)&&s.length>o&&o>=0?[s[o]]:[]};fe.Functn=function(n,t,e){return e.children.map(function(i){return fe.doEval(n,t,i)})};fe.realizeParams=function(n,t,e){return e&&e[0]&&e[0].children?e[0].children.map(function(i){return fe.doEval(n,t,i)}):[]};function JD(n,t,e,i){if(e==="Expr")return function(s){let a=oi.arraify(s),o=Le(H({},n),{$this:a});return n.definedVars&&(o.definedVars=H({},n.definedVars)),fe.doEval(o,a,i)};if(e==="AnyAtRoot"){let s=n.$this||n.dataRoot,a=Le(H({},n),{$this:s});return n.definedVars&&(a.definedVars=H({},n.definedVars)),fe.doEval(a,s,i)}if(e==="Identifier"){if(i.type==="TermExpression")return i.text;throw new Error("Expected identifier node, got "+JSON.stringify(i))}if(e==="TypeSpecifier")return fe.TypeSpecifier(n,t,i);let r;if(e==="AnySingletonAtRoot"){let s=n.$this||n.dataRoot,a=Le(H({},n),{$this:s});n.definedVars&&(a.definedVars=H({},n.definedVars)),r=fe.doEval(a,s,i)}else{let s=H({},n);if(n.definedVars&&(s.definedVars=H({},n.definedVars)),r=fe.doEval(s,t,i),e==="Any")return r;if(Array.isArray(e)){if(r.length===0)return[];e=e[0]}}return r instanceof Promise?r.then(s=>vt.singleton(s,e)):vt.singleton(r,e)}function Q7(n,t,e,i){var r=n.userInvocationTable&&Object.prototype.hasOwnProperty.call(n.userInvocationTable,t)&&n.userInvocationTable?.[t]||fe.invocationTable[t]||e.length===1&&e[0]?.invocationTable?.[t],s;if(r)if(r.arity){var a=i?i.length:0,o=r.arity[a];if(o){for(var l=[],c=0;c<a;c++){var u=o[c],d=i[c];l.push(JD(n,e,u,d))}return l.unshift(e),r.nullable&&l.some(eR)?[]:l.some(h=>h instanceof Promise)?Promise.all(l).then(h=>(s=r.fn.apply(n,h),oi.resolveAndArraify(s))):(s=r.fn.apply(n,l),oi.resolveAndArraify(s))}else return console.log(t+" wrong arity: got "+a),[]}else{if(i)throw new Error(t+" expects no params");return s=r.fn.call(n,e),oi.resolveAndArraify(s)}else throw new Error("Not implemented: "+t)}function eR(n){return n==null||oi.isEmpty(n)}function V1(n,t,e,i){var r=fe.invocationTable[t];if(r&&r.fn){var s=i?i.length:0;if(s!==2)throw new Error("Infix invoke should have arity 2");var a=r.arity[s];if(a){for(var o=[],l=0;l<s;l++){var c=a[l],u=i[l];o.push(JD(n,e,c,u))}if(r.nullable&&o.some(eR))return[];if(o.some(h=>h instanceof Promise))return Promise.all(o).then(h=>{var m=r.fn.apply(n,h);return oi.arraify(m)});var d=r.fn.apply(n,o);return oi.arraify(d)}else return console.log(t+" wrong arity: got "+s),[]}else throw new Error("Not impl "+t)}fe.FunctionInvocation=function(n,t,e){var i=fe.doEval(n,t,e.children[0]);let r=i[0];i.shift();var s=i&&i[0]&&i[0].children;return Q7(n,r,t,s)};fe.ParamList=function(n,t,e){return e};fe.UnionExpression=function(n,t,e){return V1(n,"|",t,e.children)};fe.ThisInvocation=function(n){return n.$this};fe.TotalInvocation=function(n){return oi.arraify(n.$total)};fe.IndexInvocation=function(n){return oi.arraify(n.$index)};fe.OpExpression=function(n,t,e){var i=e.terminalNodeText[0];return V1(n,i,t,e.children)};fe.AliasOpExpression=function(n){return function(t,e,i){var r=i.terminalNodeText[0],s=n[r];if(!s)throw new Error("Do not know how to alias "+r+" by "+JSON.stringify(n));return V1(t,s,e,i.children)}};fe.NullLiteral=function(){return[]};fe.ParenthesizedTerm=function(n,t,e){return fe.doEval(n,t,e.children[0])};fe.evalTable={BooleanLiteral:fe.BooleanLiteral,EqualityExpression:fe.OpExpression,FunctionInvocation:fe.FunctionInvocation,Functn:fe.Functn,Identifier:fe.Identifier,IndexerExpression:fe.IndexerExpression,InequalityExpression:fe.OpExpression,InvocationExpression:fe.InvocationExpression,AdditiveExpression:fe.OpExpression,MultiplicativeExpression:fe.OpExpression,TypeExpression:fe.AliasOpExpression({is:"isOp",as:"asOp"}),MembershipExpression:fe.AliasOpExpression({contains:"containsOp",in:"inOp"}),NullLiteral:fe.NullLiteral,EntireExpression:fe.InvocationTerm,InvocationTerm:fe.InvocationTerm,LiteralTerm:fe.LiteralTerm,MemberInvocation:fe.MemberInvocation,NumberLiteral:fe.NumberLiteral,ParamList:fe.ParamList,ParenthesizedTerm:fe.ParenthesizedTerm,StringLiteral:fe.StringLiteral,TermExpression:fe.TermExpression,ThisInvocation:fe.ThisInvocation,TotalInvocation:fe.TotalInvocation,IndexInvocation:fe.IndexInvocation,UnionExpression:fe.UnionExpression,OrExpression:fe.OpExpression,ImpliesExpression:fe.OpExpression,AndExpression:fe.OpExpression,XorExpression:fe.OpExpression};fe.doEval=function(n,t,e){return t instanceof Promise?t.then(i=>fe.doEvalSync(n,i,e)):fe.doEvalSync(n,t,e)};fe.doEvalSync=function(n,t,e){let i=fe.evalTable[e.type]||fe[e.type];if(i)return i.call(fe,n,t,e);throw new Error("No "+e.type+" evaluator ")};function P1(n){return j7.parse(n)}function qD(n,t,e,i,r){W7.reset();let s=oi.arraify(n).map(l=>l?.__path__?As(l,l.__path__.parentResNode,l.__path__.path,null,l.__path__.fhirNodeDataType,i):l?.resourceType?As(l,null,null,null,null,i):l),a={dataRoot:s,processedVars:{ucum:"http://unitsofmeasure.org",context:s},processedUserVarNames:new Set,vars:e||{},model:i};if(r.traceFn&&(a.customTraceFn=r.traceFn),r.userInvocationTable&&(a.userInvocationTable=r.userInvocationTable),r.async&&(a.async=r.async),r.terminologyUrl&&(a.processedVars.terminologies=new K7(r.terminologyUrl)),a.processedVars.factory=Y7,r.signal){if(a.signal=r.signal,!a.async)throw new Error('The "signal" option is only supported for asynchronous functions.');if(a.signal.aborted)throw new Error("Evaluation of the expression was aborted before it started.")}let o=fe.doEval(a,s,t.children[0]);return o instanceof Promise?o.then(l=>a.signal?.aborted?Promise.reject(new DOMException("Evaluation of the expression was aborted.","AbortError")):F1(l,i,r)):r.async==="always"?Promise.resolve(F1(o,i,r)):F1(o,i,r)}function F1(n,t,e){return n.reduce((i,r)=>{let s,a,o;return r instanceof $1&&(s=r.path,a=r.fhirNodeDataType,o=r.parentResNode),r=oi.valData(r),r instanceof YD&&e.resolveInternalTypes&&(r=r.toString()),r!=null&&(s&&typeof r=="object"&&!r.__path__&&Object.defineProperty(r,"__path__",{value:{path:s,fhirNodeDataType:a,parentResNode:o,model:t}}),i.push(r)),i},[])}function U1(n){if(Array.isArray(n))for(let t=0,e=n.length;t<e;++t)n[t]=U1(n[t]);else if(n instanceof YD)n=n.toString();else if(typeof n=="object")for(let t of Object.keys(n))n[t]=U1(n[t]);return n}function Z7(n,t,e,i,r){return tR(t,i,r)(n,e)}function tR(n,t,e){e=H({resolveInternalTypes:!0},e);let i=e.userInvocationTable;if(i&&(e.userInvocationTable=Object.keys(i).reduce((r,s)=>(i[s].internalStructures?r[s]=i[s]:r[s]=Le(H({},i[s]),{fn:(...a)=>i[s].fn.apply(this,a.map(o=>Array.isArray(o)?o.map(l=>oi.valData(l)):o))}),r),{})),typeof n=="object"){let r=P1(n.expression);return function(s,a,o){if(n.base){let c=t.pathsDefinedElsewhere[n.base]||n.base,u=t&&t.path2Type[c];c=u==="BackboneElement"||u==="Element"?c:u||c,s=As(s,null,c,null,u,t)}let l=o?H(H({},e),o):e;return qD(s,r,a,t,l)}}else{let r=P1(n);return function(s,a,o){let l=o?H(H({},e),o):e;return qD(s,r,a,t,l)}}}function X7(n){return oi.arraify(n).map(t=>{let e=QD.fromValue(t?.__path__?new $1(t,t.__path__?.parentResNode,t.__path__?.path,null,t.__path__?.fhirNodeDataType,t.__path__.model):t);return`${e.namespace}.${e.name}`})}iR.exports={version:H7,parse:P1,compile:tR,evaluate:Z7,resolveInternalTypes:U1,types:X7,ucumUtils:Up().UcumLhcUtils.getInstance(),util:oi}});var RL=Q((_C,DL)=>{(function(n,t){typeof define=="function"&&define.amd?define([],t):typeof _C=="object"?DL.exports=t():n.untar=t()})(_C,function(){"use strict";function n(o){function l(m){for(var f=0,p=c.length;f<p;++f)c[f](m);u.push(m)}if(typeof Promise!="function")throw new Error("Promise implementation not available in this environment.");var c=[],u=[],d=new Promise(function(m,f){o(m,f,l)});d.progress=function(m){if(typeof m!="function")throw new Error("cb is not a function.");for(var f=0,p=u.length;f<p;++f)m(u[f]);return c.push(m),d};var h=d.then;return d.then=function(m,f,p){return h.call(d,m,f),p!==void 0&&d.progress(p),d},d}function t(o){if(!(o instanceof ArrayBuffer))throw new TypeError("arrayBuffer is not an instance of ArrayBuffer.");if(!r.Worker)throw new Error("Worker implementation is not available in this environment.");return new n(function(l,c,u){var d=new Worker(i),h=[];d.onerror=function(m){c(m)},d.onmessage=function(m){switch(m=m.data,m.type){case"log":console[m.data.level]("Worker: "+m.data.msg);break;case"extract":var f=e(m.data);h.push(f),u(f);break;case"complete":d.terminate(),l(h);break;case"error":d.terminate(),c(new Error(m.data.message));break;default:d.terminate(),c(new Error("Unknown message from worker: "+m.type))}},d.postMessage({type:"extract",buffer:o},[o])})}function e(o){return Object.defineProperties(o,a),o}var i,r=window||this,s=r.URL||r.webkitURL,a={blob:{get:function(){return this._blob||(this._blob=new Blob([this.buffer]))}},getBlobUrl:{value:function(){return this._blobUrl||(this._blobUrl=s.createObjectURL(this.blob))}},readAsString:{value:function(){for(var o=this.buffer,l=o.byteLength,c=1,u=new DataView(o),d=[],h=0;h<l;++h){var m=u.getUint8(h*c,!0);d.push(m)}return this._string=String.fromCharCode.apply(null,d)}},readAsJSON:{value:function(){return JSON.parse(this.readAsString())}}};return i=(window||this).URL.createObjectURL(new Blob(['"use strict";function UntarWorker(){}function decodeUTF8(e){for(var r="",t=0;t<e.length;){var a=e[t++];if(a>127){if(a>191&&a<224){if(t>=e.length)throw"UTF-8 decode: incomplete 2-byte sequence";a=(31&a)<<6|63&e[t]}else if(a>223&&a<240){if(t+1>=e.length)throw"UTF-8 decode: incomplete 3-byte sequence";a=(15&a)<<12|(63&e[t])<<6|63&e[++t]}else{if(!(a>239&&a<248))throw"UTF-8 decode: unknown multibyte start 0x"+a.toString(16)+" at index "+(t-1);if(t+2>=e.length)throw"UTF-8 decode: incomplete 4-byte sequence";a=(7&a)<<18|(63&e[t])<<12|(63&e[++t])<<6|63&e[++t]}++t}if(a<=65535)r+=String.fromCharCode(a);else{if(!(a<=1114111))throw"UTF-8 decode: code point 0x"+a.toString(16)+" exceeds UTF-16 reach";a-=65536,r+=String.fromCharCode(a>>10|55296),r+=String.fromCharCode(1023&a|56320)}}return r}function PaxHeader(e){this._fields=e}function TarFile(){}function UntarStream(e){this._bufferView=new DataView(e),this._position=0}function UntarFileStream(e){this._stream=new UntarStream(e),this._globalPaxHeader=null}if(UntarWorker.prototype={onmessage:function(e){try{if("extract"!==e.data.type)throw new Error("Unknown message type: "+e.data.type);this.untarBuffer(e.data.buffer)}catch(r){this.postError(r)}},postError:function(e){this.postMessage({type:"error",data:{message:e.message}})},postLog:function(e,r){this.postMessage({type:"log",data:{level:e,msg:r}})},untarBuffer:function(e){try{for(var r=new UntarFileStream(e);r.hasNext();){var t=r.next();this.postMessage({type:"extract",data:t},[t.buffer])}this.postMessage({type:"complete"})}catch(a){this.postError(a)}},postMessage:function(e,r){self.postMessage(e,r)}},"undefined"!=typeof self){var worker=new UntarWorker;self.onmessage=function(e){worker.onmessage(e)}}PaxHeader.parse=function(e){for(var r=new Uint8Array(e),t=[];r.length>0;){var a=parseInt(decodeUTF8(r.subarray(0,r.indexOf(32)))),n=decodeUTF8(r.subarray(0,a)),i=n.match(/^\\d+ ([^=]+)=(.*)\\n$/);if(null===i)throw new Error("Invalid PAX header data format.");var s=i[1],o=i[2];0===o.length?o=null:null!==o.match(/^\\d+$/)&&(o=parseInt(o));var f={name:s,value:o};t.push(f),r=r.subarray(a)}return new PaxHeader(t)},PaxHeader.prototype={applyHeader:function(e){this._fields.forEach(function(r){var t=r.name,a=r.value;"path"===t?(t="name",void 0!==e.prefix&&delete e.prefix):"linkpath"===t&&(t="linkname"),null===a?delete e[t]:e[t]=a})}},UntarStream.prototype={readString:function(e){for(var r=1,t=e*r,a=[],n=0;n<e;++n){var i=this._bufferView.getUint8(this.position()+n*r,!0);if(0===i)break;a.push(i)}return this.seek(t),String.fromCharCode.apply(null,a)},readBuffer:function(e){var r;if("function"==typeof ArrayBuffer.prototype.slice)r=this._bufferView.buffer.slice(this.position(),this.position()+e);else{r=new ArrayBuffer(e);var t=new Uint8Array(r),a=new Uint8Array(this._bufferView.buffer,this.position(),e);t.set(a)}return this.seek(e),r},seek:function(e){this._position+=e},peekUint32:function(){return this._bufferView.getUint32(this.position(),!0)},position:function(e){return void 0===e?this._position:void(this._position=e)},size:function(){return this._bufferView.byteLength}},UntarFileStream.prototype={hasNext:function(){return this._stream.position()+4<this._stream.size()&&0!==this._stream.peekUint32()},next:function(){return this._readNextFile()},_readNextFile:function(){var e=this._stream,r=new TarFile,t=!1,a=null,n=e.position(),i=n+512;switch(r.name=e.readString(100),r.mode=e.readString(8),r.uid=parseInt(e.readString(8)),r.gid=parseInt(e.readString(8)),r.size=parseInt(e.readString(12),8),r.mtime=parseInt(e.readString(12),8),r.checksum=parseInt(e.readString(8)),r.type=e.readString(1),r.linkname=e.readString(100),r.ustarFormat=e.readString(6),r.ustarFormat.indexOf("ustar")>-1&&(r.version=e.readString(2),r.uname=e.readString(32),r.gname=e.readString(32),r.devmajor=parseInt(e.readString(8)),r.devminor=parseInt(e.readString(8)),r.namePrefix=e.readString(155),r.namePrefix.length>0&&(r.name=r.namePrefix+"/"+r.name)),e.position(i),r.type){case"0":case"":r.buffer=e.readBuffer(r.size);break;case"1":break;case"2":break;case"3":break;case"4":break;case"5":break;case"6":break;case"7":break;case"g":t=!0,this._globalPaxHeader=PaxHeader.parse(e.readBuffer(r.size));break;case"x":t=!0,a=PaxHeader.parse(e.readBuffer(r.size))}void 0===r.buffer&&(r.buffer=new ArrayBuffer(0));var s=i+r.size;return r.size%512!==0&&(s+=512-r.size%512),e.position(s),t&&(r=this._readNextFile()),null!==this._globalPaxHeader&&this._globalPaxHeader.applyHeader(r),null!==a&&a.applyHeader(r),r}};'])),t})});var et="primary",$c=Symbol("RouteTitle"),bg=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Aa(n){return new bg(n)}function hx(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let a=i[s],o=n[s];if(a[0]===":")r[a.substring(1)]=o;else if(a!==o.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function mN(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Cr(n[e],t[e]))return!1;return!0}function Cr(n,t){let e=n?vg(n):void 0,i=t?vg(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!mx(n[r],t[r]))return!1;return!0}function vg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function mx(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}else return n===t}function fx(n){return n.length>0?n[n.length-1]:null}function Ks(n){return Ns(n)?n:fh(n)?si(Promise.resolve(n)):ge(n)}var fN={exact:gx,subset:_x},px={exact:pN,subset:gN,ignored:()=>!0};function sx(n,t,e){return fN[e.paths](n.root,t.root,e.matrixParams)&&px[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function pN(n,t){return Cr(n,t)}function gx(n,t,e){if(!Ta(n.segments,t.segments)||!Ch(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!gx(n.children[i],t.children[i],e))return!1;return!0}function gN(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>mx(n[e],t[e]))}function _x(n,t,e){return bx(n,t,t.segments,e)}function bx(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!Ta(r,e)||t.hasChildren()||!Ch(r,e,i))}else if(n.segments.length===e.length){if(!Ta(n.segments,e)||!Ch(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!_x(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!Ta(n.segments,r)||!Ch(n.segments,r,i)||!n.children[et]?!1:bx(n.children[et],t,s,i)}}function Ch(n,t,e){return t.every((i,r)=>px[e](n[r].parameters,i.parameters))}var xr=class{root;queryParams;fragment;_queryParamMap;constructor(t=new bt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Aa(this.queryParams),this._queryParamMap}toString(){return vN.serialize(this)}},bt=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wh(this)}},js=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Aa(this.parameters),this._parameterMap}toString(){return yx(this)}};function _N(n,t){return Ta(n,t)&&n.every((e,i)=>Cr(e.parameters,t[i].parameters))}function Ta(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function bN(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===et&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==et&&(e=e.concat(t(r,i)))}),e}var Ia=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:()=>new Ws,providedIn:"root"})}return n})(),Ws=class{parse(t){let e=new Cg(t);return new xr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Mc(t.root,!0)}`,i=wN(t.queryParams),r=typeof t.fragment=="string"?`#${yN(t.fragment)}`:"";return`${e}${i}${r}`}},vN=new Ws;function wh(n){return n.segments.map(t=>yx(t)).join("/")}function Mc(n,t){if(!n.hasChildren())return wh(n);if(t){let e=n.children[et]?Mc(n.children[et],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==et&&i.push(`${r}:${Mc(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=bN(n,(i,r)=>r===et?[Mc(n.children[et],!1)]:[`${r}:${Mc(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[et]!=null?`${wh(n)}/${e[0]}`:`${wh(n)}/(${e.join("//")})`}}function vx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vh(n){return vx(n).replace(/%3B/gi,";")}function yN(n){return encodeURI(n)}function yg(n){return vx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xh(n){return decodeURIComponent(n)}function ax(n){return xh(n.replace(/\+/g,"%20"))}function yx(n){return`${yg(n.path)}${CN(n.parameters)}`}function CN(n){return Object.entries(n).map(([t,e])=>`;${yg(t)}=${yg(e)}`).join("")}function wN(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${vh(e)}=${vh(r)}`).join("&"):`${vh(e)}=${vh(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var xN=/^[^\/()?;#]+/;function fg(n){let t=n.match(xN);return t?t[0]:""}var SN=/^[^\/()?;=#]+/;function kN(n){let t=n.match(SN);return t?t[0]:""}var MN=/^[^=?&#]+/;function TN(n){let t=n.match(MN);return t?t[0]:""}var EN=/^[^&#]+/;function AN(n){let t=n.match(EN);return t?t[0]:""}var Cg=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[et]=new bt(t,e)),i}parseSegment(){let t=fg(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Be(4009,!1);return this.capture(t),new js(xh(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=kN(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=fg(this.remaining);r&&(i=r,this.capture(i))}t[xh(e)]=xh(i)}parseQueryParam(t){let e=TN(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let a=AN(this.remaining);a&&(i=a,this.capture(i))}let r=ax(e),s=ax(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=fg(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Be(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=et);let a=this.parseChildren();e[s]=Object.keys(a).length===1?a[et]:new bt([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Be(4011,!1)}};function Cx(n){return n.segments.length>0?new bt([],{[et]:n}):n}function wx(n){let t={};for(let[i,r]of Object.entries(n.children)){let s=wx(r);if(i===et&&s.segments.length===0&&s.hasChildren())for(let[a,o]of Object.entries(s.children))t[a]=o;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}let e=new bt(n.segments,t);return IN(e)}function IN(n){if(n.numberOfChildren===1&&n.children[et]){let t=n.children[et];return new bt(n.segments.concat(t.segments),t.children)}return n}function qs(n){return n instanceof xr}function xx(n,t,e=null,i=null){let r=Sx(n);return kx(r,t,e,i)}function Sx(n){let t;function e(s){let a={};for(let l of s.children){let c=e(l);a[l.outlet]=c}let o=new bt(s.url,a);return s===n&&(t=o),o}let i=e(n.root),r=Cx(i);return t??r}function kx(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return pg(r,r,r,e,i);let s=DN(t);if(s.toRoot())return pg(r,r,new bt([],{}),e,i);let a=RN(s,r,n),o=a.processChildren?Ec(a.segmentGroup,a.index,s.commands):Tx(a.segmentGroup,a.index,s.commands);return pg(r,a.segmentGroup,o,e,i)}function kh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ic(n){return typeof n=="object"&&n!=null&&n.outlets}function pg(n,t,e,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let a;n===t?a=e:a=Mx(n,t,e);let o=Cx(wx(a));return new xr(o,s,r)}function Mx(n,t,e){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===t?i[r]=e:i[r]=Mx(s,t,e)}),new bt(n.segments,i)}var Mh=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&kh(i[0]))throw new Be(4003,!1);let r=i.find(Ic);if(r&&r!==fx(i))throw new Be(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DN(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Mh(!0,0,n);let t=0,e=!1,i=n.reduce((r,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let o={};return Object.entries(s.outlets).forEach(([l,c])=>{o[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:o}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:a===0?(s.split("/").forEach((o,l)=>{l==0&&o==="."||(l==0&&o===""?e=!0:o===".."?t++:o!=""&&r.push(o))}),r):[...r,s]},[]);return new Mh(e,t,i)}var $o=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function RN(n,t,e){if(n.isAbsolute)return new $o(t,!0,0);if(!e)return new $o(t,!1,NaN);if(e.parent===null)return new $o(e,!0,0);let i=kh(n.commands[0])?0:1,r=e.segments.length-1+i;return LN(e,r,n.numberOfDoubleDots)}function LN(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Be(4005,!1);r=i.segments.length}return new $o(i,!1,r-s)}function ON(n){return Ic(n[0])?n[0].outlets:{[et]:n}}function Tx(n,t,e){if(n??=new bt([],{}),n.segments.length===0&&n.hasChildren())return Ec(n,t,e);let i=NN(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new bt(n.segments.slice(0,i.pathIndex),{});return s.children[et]=new bt(n.segments.slice(i.pathIndex),n.children),Ec(s,0,r)}else return i.match&&r.length===0?new bt(n.segments,{}):i.match&&!n.hasChildren()?wg(n,t,e):i.match?Ec(n,0,r):wg(n,t,e)}function Ec(n,t,e){if(e.length===0)return new bt(n.segments,{});{let i=ON(e),r={};if(Object.keys(i).some(s=>s!==et)&&n.children[et]&&n.numberOfChildren===1&&n.children[et].segments.length===0){let s=Ec(n.children[et],t,e);return new bt(n.segments,s.children)}return Object.entries(i).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[s]=Tx(n.children[s],t,a))}),Object.entries(n.children).forEach(([s,a])=>{i[s]===void 0&&(r[s]=a)}),new bt(n.segments,r)}}function NN(n,t,e){let i=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;let a=n.segments[r],o=e[i];if(Ic(o))break;let l=`${o}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!lx(l,c,a))return s;i+=2}else{if(!lx(l,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function wg(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let s=e[r];if(Ic(s)){let l=FN(s.outlets);return new bt(i,l)}if(r===0&&kh(e[0])){let l=n.segments[t];i.push(new js(l.path,ox(e[0]))),r++;continue}let a=Ic(s)?s.outlets[et]:`${s}`,o=r<e.length-1?e[r+1]:null;a&&o&&kh(o)?(i.push(new js(a,ox(o))),r+=2):(i.push(new js(a,{})),r++)}return new bt(i,{})}function FN(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=wg(new bt([],{}),0,i))}),t}function ox(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function lx(n,t,e){return n==e.path&&Cr(t,e.parameters)}var Sh="imperative",ei=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ei||{}),hn=class{id;url;constructor(t,e){this.id=t,this.url=e}},Gs=class extends hn{type=ei.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},In=class extends hn{urlAfterRedirects;type=ei.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ki=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ki||{}),Bo=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Bo||{}),wr=class extends hn{reason;code;type=ei.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Sr=class extends hn{reason;code;type=ei.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},zo=class extends hn{error;target;type=ei.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Dc=class extends hn{urlAfterRedirects;state;type=ei.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Th=class extends hn{urlAfterRedirects;state;type=ei.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eh=class extends hn{urlAfterRedirects;state;shouldActivate;type=ei.GuardsCheckEnd;constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ah=class extends hn{urlAfterRedirects;state;type=ei.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ih=class extends hn{urlAfterRedirects;state;type=ei.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dh=class{route;type=ei.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rh=class{route;type=ei.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Lh=class{snapshot;type=ei.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oh=class{snapshot;type=ei.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nh=class{snapshot;type=ei.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fh=class{snapshot;type=ei.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ho=class{routerEvent;position;anchor;type=ei.Scroll;constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Rc=class{},jo=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function PN(n,t){return n.providers&&!n._injector&&(n._injector=hh(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Qn(n){return n.outlet||et}function UN(n,t){let e=n.filter(i=>Qn(i)===t);return e.push(...n.filter(i=>Qn(i)!==t)),e}function Vc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Ph=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Vc(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Da(this.rootInjector)}},Da=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Ph(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(Re(cn))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uh=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=xg(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=xg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Sg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Sg(t,this._root).map(e=>e.value)}};function xg(n,t){if(n===t.value)return t;for(let e of t.children){let i=xg(n,e);if(i)return i}return null}function Sg(n,t){if(n===t.value)return[t];for(let e of t.children){let i=Sg(n,e);if(i.length)return i.unshift(t),i}return[]}var dn=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Uo(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Lc=class extends Uh{snapshot;constructor(t,e){super(t),this.snapshot=e,Rg(this,t)}toString(){return this.snapshot.toString()}};function Ex(n){let t=$N(n),e=new ci([new js("",{})]),i=new ci({}),r=new ci({}),s=new ci({}),a=new ci(""),o=new ts(e,i,s,a,r,et,n,t.root);return o.snapshot=t.root,new Lc(new dn(o,[]),t)}function $N(n){let t={},e={},i={},r="",s=new Ea([],t,i,r,e,et,n,null,{});return new Oc("",new dn(s,[]))}var ts=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,s,a,o,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=a,this.component=o,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ne(c=>c[$c]))??ge(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ne(t=>Aa(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ne(t=>Aa(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $h(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:H(H({},t.params),n.params),data:H(H({},t.data),n.data),resolve:H(H(H(H({},n.data),t.data),r?.data),n._resolvedData)}:i={params:H({},n.params),data:H({},n.data),resolve:H(H({},n.data),n._resolvedData??{})},r&&Ix(r)&&(i.resolve[$c]=r.title),i}var Ea=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[$c]}constructor(t,e,i,r,s,a,o,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=o,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Aa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Aa(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Oc=class extends Uh{url;constructor(t,e){super(e),this.url=t,Rg(this,e)}toString(){return Ax(this._root)}};function Rg(n,t){t.value._routerState=n,t.children.forEach(e=>Rg(n,e))}function Ax(n){let t=n.children.length>0?` { ${n.children.map(Ax).join(", ")} } `:"";return`${n.value}${t}`}function gg(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Cr(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Cr(t.params,e.params)||n.paramsSubject.next(e.params),mN(t.url,e.url)||n.urlSubject.next(e.url),Cr(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function kg(n,t){let e=Cr(n.params,t.params)&&_N(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||kg(n.parent,t.parent))}function Ix(n){return typeof n.title=="string"||n.title===null}var Dx=new J(""),Bc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=et;activateEvents=new ce;deactivateEvents=new ce;attachEvents=new ce;detachEvents=new ce;routerOutletData=ww(void 0);parentContexts=R(Da);location=R(ui);changeDetector=R(Ge);inputBinder=R(zc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Be(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Be(4013,!1);this._activatedRoute=e;let r=this.location,a=e.snapshot.component,o=this.parentContexts.getOrCreateContext(this.name).children,l=new Mg(e,o,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mt]})}return n})(),Mg=class{route;childContexts;parent;outletData;constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===ts?this.route:t===Da?this.childContexts:t===Dx?this.outletData:this.parent.get(t,e)}},zc=new J(""),Lg=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=hr([i.queryParams,i.params,i.data]).pipe(Mt(([s,a,o],l)=>(o=H(H(H({},s),a),o),l===0?ge(o):Promise.resolve(o)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let a=Vw(i.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:o}of a.inputs)e.activatedComponentRef.setInput(o,s[o])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),Og=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&te(0,"router-outlet")},dependencies:[Bc],encapsulation:2})}return n})();function Ng(n){let t=n.children&&n.children.map(Ng),e=t?Le(H({},n),{children:t}):H({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==et&&(e.component=Og),e}function VN(n,t,e){let i=Nc(n,t._root,e?e._root:void 0);return new Lc(i,t)}function Nc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=BN(n,t,e);return new dn(i,r)}else{if(n.shouldAttach(t.value)){let s=n.retrieve(t.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(o=>Nc(n,o)),a}}let i=zN(t.value),r=t.children.map(s=>Nc(n,s));return new dn(i,r)}}function BN(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Nc(n,i,r);return Nc(n,i)})}function zN(n){return new ts(new ci(n.url),new ci(n.params),new ci(n.queryParams),new ci(n.fragment),new ci(n.data),n.outlet,n.component,n)}var Wo=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Rx="ngNavigationCancelingError";function Vh(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=qs(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Lx(!1,Ki.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function Lx(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Rx]=!0,e.cancellationCode=t,e}function HN(n){return Ox(n)&&qs(n.url)}function Ox(n){return!!n&&n[Rx]}var jN=(n,t,e,i)=>Ne(r=>(new Tg(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),Tg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),gg(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=Uo(e);t.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){let r=t.value,s=e?e.value:null;if(r===s)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Uo(t);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),o=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:o})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Uo(t);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=Uo(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Fh(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Oh(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,s=e?e.value:null;if(gg(r),r===s)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let o=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(o.contexts),a.attachRef=o.componentRef,a.route=o.route.value,a.outlet&&a.outlet.attach(o.componentRef,o.route.value),gg(o.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,i)}},Bh=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Vo=class{component;route;constructor(t,e){this.component=t,this.route=e}};function WN(n,t,e){let i=n._root,r=t?t._root:null;return Tc(i,r,e,[i.value])}function qN(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Go(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!bw(n)?n:t.get(n):i}function Tc(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Uo(t);return n.children.forEach(a=>{GN(a,s[a.value.outlet],e,i.concat([a.value]),r),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,o])=>Ac(o,e.getContext(a),r)),r}function GN(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,a=t?t.value:null,o=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let l=KN(a,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Bh(i)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?Tc(n,t,o?o.children:null,i,r):Tc(n,t,e,i,r),l&&o&&o.outlet&&o.outlet.isActivated&&r.canDeactivateChecks.push(new Vo(o.outlet.component,a))}else a&&Ac(t,o,r),r.canActivateChecks.push(new Bh(i)),s.component?Tc(n,null,o?o.children:null,i,r):Tc(n,null,e,i,r);return r}function KN(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Ta(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ta(n.url,t.url)||!Cr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kg(n,t)||!Cr(n.queryParams,t.queryParams);case"paramsChange":default:return!kg(n,t)}}function Ac(n,t,e){let i=Uo(n),r=n.value;Object.entries(i).forEach(([s,a])=>{r.component?t?Ac(a,t.children.getContext(s),e):Ac(a,null,e):Ac(a,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Vo(t.outlet.component,r)):e.canDeactivateChecks.push(new Vo(null,r)):e.canDeactivateChecks.push(new Vo(null,r))}function Hc(n){return typeof n=="function"}function YN(n){return typeof n=="boolean"}function QN(n){return n&&Hc(n.canLoad)}function ZN(n){return n&&Hc(n.canActivate)}function XN(n){return n&&Hc(n.canActivateChild)}function JN(n){return n&&Hc(n.canDeactivate)}function eF(n){return n&&Hc(n.canMatch)}function Nx(n){return n instanceof uw||n?.name==="EmptyError"}var yh=Symbol("INITIAL_VALUE");function qo(){return Mt(n=>hr(n.map(t=>t.pipe(Vt(1),Bt(yh)))).pipe(Ne(t=>{for(let e of t)if(e!==!0){if(e===yh)return yh;if(e===!1||tF(e))return e}return!0}),it(t=>t!==yh),Vt(1)))}function tF(n){return qs(n)||n instanceof Wo}function iF(n,t){return yi(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return a.length===0&&s.length===0?ge(Le(H({},e),{guardsResult:!0})):nF(a,i,r,n).pipe(yi(o=>o&&YN(o)?rF(i,s,n,t):ge(o)),Ne(o=>Le(H({},e),{guardsResult:o})))})}function nF(n,t,e,i){return si(n).pipe(yi(r=>cF(r.component,r.route,e,t,i)),ln(r=>r!==!0,!0))}function rF(n,t,e,i){return si(t).pipe(Zr(r=>xa(aF(r.route.parent,i),sF(r.route,i),lF(n,r.path,e),oF(n,r.route,e))),ln(r=>r!==!0,!0))}function sF(n,t){return n!==null&&t&&t(new Nh(n)),ge(!0)}function aF(n,t){return n!==null&&t&&t(new Lh(n)),ge(!0)}function oF(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return ge(!0);let r=i.map(s=>Fs(()=>{let a=Vc(t)??e,o=Go(s,a),l=ZN(o)?o.canActivate(t,n):fr(a,()=>o(t,n));return Ks(l).pipe(ln())}));return ge(r).pipe(qo())}function lF(n,t,e){let i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>qN(a)).filter(a=>a!==null).map(a=>Fs(()=>{let o=a.guards.map(l=>{let c=Vc(a.node)??e,u=Go(l,c),d=XN(u)?u.canActivateChild(i,n):fr(c,()=>u(i,n));return Ks(d).pipe(ln())});return ge(o).pipe(qo())}));return ge(s).pipe(qo())}function cF(n,t,e,i,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return ge(!0);let a=s.map(o=>{let l=Vc(t)??r,c=Go(o,l),u=JN(c)?c.canDeactivate(n,t,e,i):fr(l,()=>c(n,t,e,i));return Ks(u).pipe(ln())});return ge(a).pipe(qo())}function uF(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return ge(!0);let s=r.map(a=>{let o=Go(a,n),l=QN(o)?o.canLoad(t,e):fr(n,()=>o(t,e));return Ks(l)});return ge(s).pipe(qo(),Fx(i))}function Fx(n){return cw(kt(t=>{if(typeof t!="boolean")throw Vh(n,t)}),Ne(t=>t===!0))}function dF(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return ge(!0);let s=r.map(a=>{let o=Go(a,n),l=eF(o)?o.canMatch(t,e):fr(n,()=>o(t,e));return Ks(l)});return ge(s).pipe(qo(),Fx(i))}var Fc=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Pc=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Po(n){return qn(new Fc(n))}function hF(n){return qn(new Be(4e3,!1))}function mF(n){return qn(Lx(!1,Ki.GuardRejected))}var Eg=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ge(i);if(r.numberOfChildren>1||!r.children[et])return hF(`${t.redirectTo}`);r=r.children[et]}}applyRedirectCommands(t,e,i,r,s){if(typeof e!="string"){let o=e,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:m,data:f,title:p}=r,g=fr(s,()=>o({params:m,data:f,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:p}));if(g instanceof xr)throw new Pc(g);e=g}let a=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new Pc(a);return a}applyRedirectCreateUrlTree(t,e,i,r){let s=this.createSegmentGroup(t,e.root,i,r);return new xr(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let o=s.substring(1);i[r]=e[o]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){let s=this.createSegments(t,e.segments,i,r),a={};return Object.entries(e.children).forEach(([o,l])=>{a[o]=this.createSegmentGroup(t,l,i,r)}),new bt(s,a)}createSegments(t,e,i,r){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new Be(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}},Ag={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fF(n,t,e,i,r){let s=Px(n,t,e);return s.matched?(i=PN(t,i),dF(i,t,e,r).pipe(Ne(a=>a===!0?s:H({},Ag)))):ge(s)}function Px(n,t,e){if(t.path==="**")return pF(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?H({},Ag):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||hx)(e,n,t);if(!r)return H({},Ag);let s={};Object.entries(r.posParams??{}).forEach(([o,l])=>{s[o]=l.path});let a=r.consumed.length>0?H(H({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function pF(n){return{matched:!0,parameters:n.length>0?fx(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function cx(n,t,e,i){return e.length>0&&bF(n,e,i)?{segmentGroup:new bt(t,_F(i,new bt(e,n.children))),slicedSegments:[]}:e.length===0&&vF(n,e,i)?{segmentGroup:new bt(n.segments,gF(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new bt(n.segments,n.children),slicedSegments:e}}function gF(n,t,e,i){let r={};for(let s of e)if(Hh(n,t,s)&&!i[Qn(s)]){let a=new bt([],{});r[Qn(s)]=a}return H(H({},i),r)}function _F(n,t){let e={};e[et]=t;for(let i of n)if(i.path===""&&Qn(i)!==et){let r=new bt([],{});e[Qn(i)]=r}return e}function bF(n,t,e){return e.some(i=>Hh(n,t,i)&&Qn(i)!==et)}function vF(n,t,e){return e.some(i=>Hh(n,t,i))}function Hh(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function yF(n,t,e){return t.length===0&&!n.children[e]}var Ig=class{};function CF(n,t,e,i,r,s,a="emptyOnly"){return new Dg(n,t,e,i,r,a,s).recognize()}var wF=31,Dg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,s,a,o){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=o,this.applyRedirects=new Eg(this.urlSerializer,this.urlTree)}noMatchError(t){return new Be(4002,`'${t.segmentGroup}'`)}recognize(){let t=cx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Ne(({children:e,rootSnapshot:i})=>{let r=new dn(i,e),s=new Oc("",r),a=xx(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),{state:s,tree:a}}))}match(t){let e=new Ea([],Object.freeze({}),Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),et,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,et,e).pipe(Ne(i=>({children:i,rootSnapshot:e})),Ai(i=>{if(i instanceof Pc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Fc?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,s):this.processSegment(t,e,i,i.segments,r,!0,s).pipe(Ne(a=>a instanceof dn?[a]:[]))}processChildren(t,e,i,r){let s=[];for(let a of Object.keys(i.children))a==="primary"?s.unshift(a):s.push(a);return si(s).pipe(Zr(a=>{let o=i.children[a],l=UN(e,a);return this.processSegmentGroup(t,l,o,a,r)}),pw((a,o)=>(a.push(...o),a)),rg(null),fw(),yi(a=>{if(a===null)return Po(i);let o=Ux(a);return xF(o),ge(o)}))}processSegment(t,e,i,r,s,a,o){return si(e).pipe(Zr(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,r,s,a,o).pipe(Ai(c=>{if(c instanceof Fc)return ge(null);throw c}))),ln(l=>!!l),Ai(l=>{if(Nx(l))return yF(i,r,s)?ge(new Ig):Po(i);throw l}))}processSegmentAgainstRoute(t,e,i,r,s,a,o,l){return Qn(i)!==a&&(a===et||!Hh(r,s,i))?Po(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,s,a,l):this.allowRedirects&&o?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,a,l):Po(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a,o){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=Px(e,r,s);if(!l)return Po(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>wF&&(this.allowRedirects=!1));let m=new Ea(s,c,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,ux(r),Qn(r),r.component??r._loadedComponent??null,r,dx(r)),f=$h(m,o,this.paramsInheritanceStrategy);m.params=Object.freeze(f.params),m.data=Object.freeze(f.data);let p=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,m,t);return this.applyRedirects.lineralizeSegments(r,p).pipe(yi(g=>this.processSegment(t,i,e,g.concat(h),a,!1,o)))}matchSegmentAgainstRoute(t,e,i,r,s,a){let o=fF(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),o.pipe(Mt(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(Mt(({routes:c})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:m}=l,f=new Ea(h,d,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,ux(i),Qn(i),i.component??i._loadedComponent??null,i,dx(i)),p=$h(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:y}=cx(e,h,m,c);if(y.length===0&&g.hasChildren())return this.processChildren(u,c,g,f).pipe(Ne(k=>new dn(f,k)));if(c.length===0&&y.length===0)return ge(new dn(f,[]));let w=Qn(i)===s;return this.processSegment(u,c,g,y,w?et:s,!0,f).pipe(Ne(k=>new dn(f,k instanceof dn?[k]:[])))}))):Po(e)))}getChildConfig(t,e,i){return e.children?ge({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?ge({routes:e._loadedRoutes,injector:e._loadedInjector}):uF(t,e,i,this.urlSerializer).pipe(yi(r=>r?this.configLoader.loadChildren(t,e).pipe(kt(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):mF(e))):ge({routes:[],injector:t})}};function xF(n){n.sort((t,e)=>t.value.outlet===et?-1:e.value.outlet===et?1:t.value.outlet.localeCompare(e.value.outlet))}function SF(n){let t=n.value.routeConfig;return t&&t.path===""}function Ux(n){let t=[],e=new Set;for(let i of n){if(!SF(i)){t.push(i);continue}let r=t.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=Ux(i.children);t.push(new dn(i.value,r))}return t.filter(i=>!e.has(i))}function ux(n){return n.data||{}}function dx(n){return n.resolve||{}}function kF(n,t,e,i,r,s){return yi(a=>CF(n,t,e,i,a.extractedUrl,r,s).pipe(Ne(({state:o,tree:l})=>Le(H({},a),{targetSnapshot:o,urlAfterRedirects:l}))))}function MF(n,t){return yi(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ge(e);let s=new Set(r.map(l=>l.route)),a=new Set;for(let l of s)if(!a.has(l))for(let c of $x(l))a.add(c);let o=0;return si(a).pipe(Zr(l=>s.has(l)?TF(l,i,n,t):(l.data=$h(l,l.parent,n).resolve,ge(void 0))),kt(()=>o++),sg(1),yi(l=>o===a.size?ge(e):on))})}function $x(n){let t=n.children.map(e=>$x(e)).flat();return[n,...t]}function TF(n,t,e,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!Ix(r)&&(s[$c]=r.title),EF(s,n,t,i).pipe(Ne(a=>(n._resolvedData=a,n.data=$h(n,n.parent,e).resolve,null)))}function EF(n,t,e,i){let r=vg(n);if(r.length===0)return ge({});let s={};return si(r).pipe(yi(a=>AF(n[a],t,e,i).pipe(ln(),kt(o=>{if(o instanceof Wo)throw Vh(new Ws,o);s[a]=o}))),sg(1),Ne(()=>s),Ai(a=>Nx(a)?on:qn(a)))}function AF(n,t,e,i){let r=Vc(t)??i,s=Go(n,r),a=s.resolve?s.resolve(t,e):fr(r,()=>s(t,e));return Ks(a)}function _g(n){return Mt(t=>{let e=n(t);return e?si(e).pipe(Ne(()=>t)):ge(t)})}var Fg=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===et);return i}getResolvedTitleForRoute(e){return e.data[$c]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:()=>R(Vx),providedIn:"root"})}return n})(),Vx=(()=>{class n extends Fg{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(Re(ex))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ra=new J("",{providedIn:"root",factory:()=>({})}),Ko=new J(""),jh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=R(Uw);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ge(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=Ks(e.loadComponent()).pipe(Ne(zx),kt(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Eo(()=>{this.componentLoaders.delete(e)})),r=new ig(i,()=>new ue).pipe(tg());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ge({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=Bx(i,this.compiler,e,this.onLoadEndListener).pipe(Eo(()=>{this.childrenLoaders.delete(i)})),a=new ig(s,()=>new ue).pipe(tg());return this.childrenLoaders.set(i,a),a}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bx(n,t,e,i){return Ks(n.loadChildren()).pipe(Ne(zx),yi(r=>r instanceof Ew||Array.isArray(r)?ge(r):si(t.compileModuleAsync(r))),Ne(r=>{i&&i(n);let s,a,o=!1;return Array.isArray(r)?(a=r,o=!0):(s=r.create(e).injector,a=s.get(Ko,[],{optional:!0,self:!0}).flat()),{routes:a.map(Ng),injector:s}}))}function IF(n){return n&&typeof n=="object"&&"default"in n}function zx(n){return IF(n)?n.default:n}var Wh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:()=>R(DF),providedIn:"root"})}return n})(),DF=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pg=new J(""),Ug=new J("");function Hx(n,t,e){let i=n.get(Ug),r=n.get(Ze);return n.get(De).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,a=new Promise(c=>{s=c}),o=r.startViewTransition(()=>(s(),RF(n))),{onViewTransitionCreated:l}=i;return l&&fr(n,()=>l({transition:o,from:t,to:e})),a})}function RF(n){return new Promise(t=>{Yt({read:()=>setTimeout(t)},{injector:n})})}var $g=new J(""),qh=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ue;transitionAbortSubject=new ue;configLoader=R(jh);environmentInjector=R(cn);destroyRef=R(yw);urlSerializer=R(Ia);rootContexts=R(Da);location=R(Bs);inputBindingEnabled=R(zc,{optional:!0})!==null;titleStrategy=R(Fg);options=R(Ra,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=R(Wh);createViewTransition=R(Pg,{optional:!0});navigationErrorHandler=R($g,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ge(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Dh(r)),i=r=>this.events.next(new Rh(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(Le(H({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(e){return this.transitions=new ci(null),this.transitions.pipe(it(i=>i!==null),Mt(i=>{let r=!1,s=!1;return ge(i).pipe(Mt(a=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Ki.SupersededByNewNavigation),on;this.currentTransition=i,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Le(H({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let o=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=a.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!o&&l!=="reload"){let c="";return this.events.next(new Sr(a.id,this.urlSerializer.serialize(a.rawUrl),c,Bo.IgnoredSameUrlNavigation)),a.resolve(!1),on}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return ge(a).pipe(Mt(c=>(this.events.next(new Gs(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?on:Promise.resolve(c))),kF(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),kt(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=Le(H({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Dc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(o&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:h,extras:m}=a,f=new Gs(c,this.urlSerializer.serialize(u),d,h);this.events.next(f);let p=Ex(this.rootComponentType).snapshot;return this.currentTransition=i=Le(H({},a),{targetSnapshot:p,urlAfterRedirects:u,extras:Le(H({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,ge(i)}else{let c="";return this.events.next(new Sr(a.id,this.urlSerializer.serialize(a.extractedUrl),c,Bo.IgnoredByUrlHandlingStrategy)),a.resolve(!1),on}}),kt(a=>{let o=new Th(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(o)}),Ne(a=>(this.currentTransition=i=Le(H({},a),{guards:WN(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),i)),iF(this.environmentInjector,a=>this.events.next(a)),kt(a=>{if(i.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Vh(this.urlSerializer,a.guardsResult);let o=new Eh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(o)}),it(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Ki.GuardRejected),!1)),_g(a=>{if(a.guards.canActivateChecks.length!==0)return ge(a).pipe(kt(o=>{let l=new Ah(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(l)}),Mt(o=>{let l=!1;return ge(o).pipe(MF(this.paramsInheritanceStrategy,this.environmentInjector),kt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(o,"",Ki.NoDataFromResolver)}}))}),kt(o=>{let l=new Ih(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(l)}))}),_g(a=>{let o=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(kt(u=>{l.component=u}),Ne(()=>{})));for(let u of l.children)c.push(...o(u));return c};return hr(o(a.targetSnapshot.root)).pipe(rg(null),Vt(1))}),_g(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:a,targetSnapshot:o}=i,l=this.createViewTransition?.(this.environmentInjector,a.root,o.root);return l?si(l).pipe(Ne(()=>i)):ge(i)}),Ne(a=>{let o=VN(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=i=Le(H({},a),{targetRouterState:o}),this.currentNavigation.targetRouterState=o,i}),kt(()=>{this.events.next(new Rc)}),jN(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Vt(1),kt({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new In(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),Ye(this.transitionAbortSubject.pipe(kt(a=>{throw a}))),Eo(()=>{!r&&!s&&this.cancelNavigationTransition(i,"",Ki.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ai(a=>{if(this.destroyed)return i.resolve(!1),on;if(s=!0,Ox(a))this.events.next(new wr(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode)),HN(a)?this.events.next(new jo(a.url,a.navigationBehaviorOptions)):i.resolve(!1);else{let o=new zo(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);try{let l=fr(this.environmentInjector,()=>this.navigationErrorHandler?.(o));if(l instanceof Wo){let{message:c,cancellationCode:u}=Vh(this.urlSerializer,l);this.events.next(new wr(i.id,this.urlSerializer.serialize(i.extractedUrl),c,u)),this.events.next(new jo(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(o),a}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return on}))}))}cancelNavigationTransition(e,i,r){let s=new wr(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LF(n){return n!==Sh}var jx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:()=>R(OF),providedIn:"root"})}return n})(),zh=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},OF=(()=>{class n extends zh{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(n)))(r||n)}})();static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wx=(()=>{class n{urlSerializer=R(Ia);options=R(Ra,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=R(Bs);urlHandlingStrategy=R(Wh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new xr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let s=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,a=r??s;return a instanceof xr?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=Ex(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:()=>R(NF),providedIn:"root"})}return n})(),NF=(()=>{class n extends Wx{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof Gs?this.updateStateMemento():e instanceof Sr?this.commitTransition(i):e instanceof Dc?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Rc?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof wr&&(e.code===Ki.GuardRejected||e.code===Ki.NoDataFromResolver)?this.restoreHistory(i):e instanceof zo?this.restoreHistory(i,!0):e instanceof In&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:s,state:a}=i;if(this.location.isCurrentPathEqualTo(e)||s){let o=this.browserPageId,l=H(H({},a),this.generateNgRouterState(r,o));this.location.replaceState(e,"",l)}else{let o=H(H({},a),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",o)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===e.finalUrl&&s===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(n)))(r||n)}})();static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gh(n,t){n.events.pipe(it(e=>e instanceof In||e instanceof wr||e instanceof zo||e instanceof Sr),Ne(e=>e instanceof In||e instanceof Sr?0:(e instanceof wr?e.code===Ki.Redirect||e.code===Ki.SupersededByNewNavigation:!1)?2:1),it(e=>e!==2),Vt(1)).subscribe(()=>{t()})}var FF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},is=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=R(Aw);stateManager=R(Wx);options=R(Ra,{optional:!0})||{};pendingTasks=R(Cw);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=R(qh);urlSerializer=R(Ia);location=R(Bs);urlHandlingStrategy=R(Wh);_events=new ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=R(jx);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=R(Ko,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!R(zc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new St;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof wr&&i.code!==Ki.Redirect&&i.code!==Ki.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof In)this.navigated=!0;else if(i instanceof jo){let a=i.navigationBehaviorOptions,o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=H({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||LF(r.source)},a);this.scheduleNavigation(o,Sh,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}$F(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let s={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let l=H({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let o=this.parseUrl(e);this.scheduleNavigation(o,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Ng),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:o,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:a,u=null;switch(o??this.options.defaultQueryParamsHandling){case"merge":u=H(H({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=Sx(h)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return kx(d,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=qs(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Sh,null,i)}navigate(e,i={skipLocationChange:!1}){return UF(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=H({},FF):i===!1?r=H({},PF):r=i,qs(e))return sx(this.currentUrlTree,e,r);let s=this.parseUrl(e);return sx(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(e,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let o,l,c;a?(o=a.resolve,l=a.reject,c=a.promise):c=new Promise((d,h)=>{o=d,l=h});let u=this.pendingTasks.add();return Gh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:o,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UF(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new Be(4008,!1)}function $F(n){return!(n instanceof Rc)&&!(n instanceof jo)}var Yo=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ue;constructor(e,i,r,s,a,o){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.locationStrategy=o;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof In&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(qs(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,s,a){let o=this.urlTree;if(o===null||this.isAnchorElement&&(e!==0||i||r||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(o,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:kw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let r=this.renderer,s=this.el.nativeElement;i!==null?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:qs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(Ae(is),Ae(ts),vw("tabindex"),Ae(Rt),Ae(Te),Ae(Sc))};static \u0275dir=xe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&X("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Se("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",_e],skipLocationChange:[2,"skipLocationChange","skipLocationChange",_e],replaceUrl:[2,"replaceUrl","replaceUrl",_e],routerLink:"routerLink"},features:[mt]})}return n})();var jc=class{};var qx=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,r,s){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(it(e=>e instanceof In),Zr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let s of i){s.providers&&!s._injector&&(s._injector=hh(s.providers,e,`Route: ${s.path}`));let a=s._injector??e,o=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(o,s.children??s._loadedRoutes))}return si(r).pipe(ng())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=ge(null);let s=r.pipe(yi(a=>a===null?ge(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return si([s,a]).pipe(ng())}else return s})}static \u0275fac=function(i){return new(i||n)(Re(is),Re(cn),Re(jc),Re(jh))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gx=new J(""),VF=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,i,r,s,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Gs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof In?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Sr&&e.code===Bo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ho&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ho(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){dh()};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})();function BF(n){return n.routerState.root}function Wc(n,t){return{\u0275kind:n,\u0275providers:t}}function zF(){let n=R(ut);return t=>{let e=n.get(Gn);if(t!==e.components[0])return;let i=n.get(is),r=n.get(Kx);n.get(Bg)===1&&i.initialNavigation(),n.get(Zx,null,og.Optional)?.setUpPreloading(),n.get(Gx,null,og.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Kx=new J("",{factory:()=>new ue}),Bg=new J("",{providedIn:"root",factory:()=>1});function Yx(){let n=[{provide:Bg,useValue:0},ug(()=>{let t=R(ut);return t.get(Bw,Promise.resolve()).then(()=>new Promise(i=>{let r=t.get(is),s=t.get(Kx);Gh(r,()=>{i(!0)}),t.get(qh).afterPreactivation=()=>(i(!0),s.closed?ge(void 0):s),r.initialNavigation()}))})];return Wc(2,n)}function Qx(){let n=[ug(()=>{R(is).setUpLocationChangeListener()}),{provide:Bg,useValue:2}];return Wc(3,n)}var Zx=new J("");function Xx(n){return Wc(0,[{provide:Zx,useExisting:qx},{provide:jc,useExisting:n}])}function Jx(){return Wc(8,[Lg,{provide:zc,useExisting:Lg}])}function eS(n){lg("NgRouterViewTransitions");let t=[{provide:Pg,useValue:Hx},{provide:Ug,useValue:H({skipNextTransition:!!n?.skipInitialTransition},n)}];return Wc(9,t)}var tS=[Bs,{provide:Ia,useClass:Ws},is,Da,{provide:ts,useFactory:BF,deps:[is]},jh,[]],zg=(()=>{class n{constructor(){}static forRoot(e,i){return{ngModule:n,providers:[tS,[],{provide:Ko,multi:!0,useValue:e},[],i?.errorHandler?{provide:$g,useValue:i.errorHandler}:[],{provide:Ra,useValue:i||{}},i?.useHash?jF():WF(),HF(),i?.preloadingStrategy?Xx(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?qF(i):[],i?.bindToComponentInputs?Jx().\u0275providers:[],i?.enableViewTransitions?eS().\u0275providers:[],GF()]}}static forChild(e){return{ngModule:n,providers:[{provide:Ko,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({})}return n})();function HF(){return{provide:Gx,useFactory:()=>{let n=R(Kw),t=R(De),e=R(Ra),i=R(qh),r=R(Ia);return e.scrollOffset&&n.setOffset(e.scrollOffset),new VF(r,i,n,t,e)}}}function jF(){return{provide:Sc,useClass:jw}}function WF(){return{provide:Sc,useClass:Hw}}function qF(n){return[n.initialNavigation==="disabled"?Qx().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Yx().\u0275providers:[]]}var Vg=new J("");function GF(){return[{provide:Vg,useFactory:zF},{provide:Iw,multi:!0,useExisting:Vg}]}var ns=class{},Hg=(()=>{class n extends ns{getTranslation(e){return ge({})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(n)))(r||n)}})();static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),Qo=class{},jg=(()=>{class n{handle(e){return e.key}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})();function Oa(n){return typeof n<"u"&&n!==null}function Jh(n){return Kh(n)&&!Yg(n)&&n!==null}function Kh(n){return typeof n=="object"}function Yg(n){return Array.isArray(n)}function nS(n){return typeof n=="string"}function KF(n){return typeof n=="function"}function Wg(n,t){let e=Object.assign({},n);return Kh(n)?(Kh(n)&&Kh(t)&&Object.keys(t).forEach(i=>{Jh(t[i])?i in n?e[i]=Wg(n[i],t[i]):Object.assign(e,{[i]:t[i]}):Object.assign(e,{[i]:t[i]})}),e):Wg({},t)}function qg(n,t){let e=t.split(".");t="";do t+=e.shift(),Oa(n)&&Oa(n[t])&&(Jh(n[t])||Yg(n[t])||!e.length)?(n=n[t],t=""):e.length?t+=".":n=void 0;while(e.length);return n}function YF(n,t,e){let i=t.split("."),r=n;for(let s=0;s<i.length;s++){let a=i[s];s===i.length-1?r[a]=e:((!r[a]||!Jh(r[a]))&&(r[a]={}),r=r[a])}}var Na=class{},Gg=(()=>{class n extends Na{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,i){if(nS(e))return this.interpolateString(e,i);if(KF(e))return this.interpolateFunction(e,i)}interpolateFunction(e,i){return e(i)}interpolateString(e,i){return i?e.replace(this.templateMatcher,(r,s)=>{let a=qg(i,s);return Oa(a)?a:r}):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(n)))(r||n)}})();static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),Fa=class{},Kg=(()=>{class n extends Fa{compile(e,i){return e}compileTranslations(e,i){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(n)))(r||n)}})();static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),Zo=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new ce;onLangChange=new ce;onDefaultLangChange=new ce},Yh=new J("ISOLATE_TRANSLATE_SERVICE"),Qh=new J("USE_DEFAULT_LANG"),Zh=new J("DEFAULT_LANGUAGE"),Xh=new J("USE_EXTEND"),qc=n=>Ns(n)?n:ge(n),Gc=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(e){this.store.defaultLang=e}get currentLang(){return this.store.currentLang}set currentLang(e){this.store.currentLang=e}get langs(){return this.store.langs}set langs(e){this.store.langs=e}get translations(){return this.store.translations}set translations(e){this.store.translations=e}constructor(e,i,r,s,a,o=!0,l=!1,c=!1,u){this.store=e,this.currentLoader=i,this.compiler=r,this.parser=s,this.missingTranslationHandler=a,this.useDefaultLang=o,this.extend=c,l&&(this.store=new Zo),u&&this.setDefaultLang(u)}setDefaultLang(e){if(e===this.defaultLang)return;let i=this.retrieveTranslations(e);typeof i<"u"?(this.defaultLang==null&&(this.defaultLang=e),i.pipe(Vt(1)).subscribe(()=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(this.lastUseLanguage=e,e===this.currentLang)return ge(this.translations[e]);this.currentLang||(this.currentLang=e);let i=this.retrieveTranslations(e);return Ns(i)?(i.pipe(Vt(1)).subscribe(()=>{this.changeLang(e)}),i):(this.changeLang(e),ge(this.translations[e]))}changeLang(e){e===this.lastUseLanguage&&(this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e))}retrieveTranslations(e){if(typeof this.translations[e]>"u"||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}getTranslation(e){return this.loadAndCompileTranslations(e)}loadAndCompileTranslations(e){this.pending=!0;let i=this.currentLoader.getTranslation(e).pipe(Ps(1),Vt(1));return this.loadingTranslations=i.pipe(Ne(r=>this.compiler.compileTranslations(r,e)),Ps(1),Vt(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[e]=this.extend&&this.translations[e]?H(H({},r),this.translations[e]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(e,i,r=!1){let s=this.compiler.compileTranslations(i,e);(r||this.extend)&&this.translations[e]?this.translations[e]=Wg(this.translations[e],s):this.translations[e]=s,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){let i=e.filter(r=>!this.langs.includes(r));i.length>0&&(this.langs=[...this.langs,...i])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(e,i,r){let s;if(e&&(s=this.runInterpolation(qg(e,i),r)),s===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.runInterpolation(qg(this.translations[this.defaultLang],i),r)),s===void 0){let a={key:i,translateService:this};typeof r<"u"&&(a.interpolateParams=r),s=this.missingTranslationHandler.handle(a)}return s!==void 0?s:i}runInterpolation(e,i){if(Yg(e))return e.map(r=>this.runInterpolation(r,i));if(Jh(e)){let r={};for(let s in e){let a=this.runInterpolation(e[s],i);a!==void 0&&(r[s]=a)}return r}else return this.parser.interpolate(e,i)}getParsedResult(e,i,r){if(i instanceof Array){let s={},a=!1;for(let l of i)s[l]=this.getParsedResultForKey(e,l,r),a=a||Ns(s[l]);if(!a)return s;let o=i.map(l=>qc(s[l]));return Mo(o).pipe(Ne(l=>{let c={};return l.forEach((u,d)=>{c[i[d]]=u}),c}))}return this.getParsedResultForKey(e,i,r)}get(e,i){if(!Oa(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(Zr(r=>qc(this.getParsedResult(r,e,i)))):qc(this.getParsedResult(this.translations[this.currentLang],e,i))}getStreamOnTranslationChange(e,i){if(!Oa(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return xa(Fs(()=>this.get(e,i)),this.onTranslationChange.pipe(Mt(r=>{let s=this.getParsedResult(r.translations,e,i);return qc(s)})))}stream(e,i){if(!Oa(e)||!e.length)throw new Error('Parameter "key" required');return xa(Fs(()=>this.get(e,i)),this.onLangChange.pipe(Mt(r=>{let s=this.getParsedResult(r.translations,e,i);return qc(s)})))}instant(e,i){if(!Oa(e)||e.length===0)throw new Error('Parameter "key" is required and cannot be empty');let r=this.getParsedResult(this.translations[this.currentLang],e,i);return Ns(r)?Array.isArray(e)?e.reduce((s,a)=>(s[a]=a,s),{}):e:r}set(e,i,r=this.currentLang){YF(this.translations[r],e,nS(i)?this.compiler.compile(i,r):this.compiler.compileTranslations(i,r)),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],delete this.translations[e]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(i){return new(i||n)(Re(Zo),Re(ns),Re(Fa),Re(Na),Re(Qo),Re(Qh),Re(Yh),Re(Xh),Re(Zh))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rS=(n={})=>Sa([n.loader||{provide:ns,useClass:Hg},n.compiler||{provide:Fa,useClass:Kg},n.parser||{provide:Na,useClass:Gg},n.missingTranslationHandler||{provide:Qo,useClass:jg},Zo,{provide:Yh,useValue:n.isolate},{provide:Qh,useValue:n.useDefaultLang},{provide:Xh,useValue:n.extend},{provide:Zh,useValue:n.defaultLanguage},Gc]),Qg=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:ns,useClass:Hg},e.compiler||{provide:Fa,useClass:Kg},e.parser||{provide:Na,useClass:Gg},e.missingTranslationHandler||{provide:Qo,useClass:jg},Zo,{provide:Yh,useValue:e.isolate},{provide:Qh,useValue:e.useDefaultLang},{provide:Xh,useValue:e.extend},{provide:Zh,useValue:e.defaultLanguage},Gc]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:ns,useClass:Hg},e.compiler||{provide:Fa,useClass:Kg},e.parser||{provide:Na,useClass:Gg},e.missingTranslationHandler||{provide:Qo,useClass:jg},{provide:Yh,useValue:e.isolate},{provide:Qh,useValue:e.useDefaultLang},{provide:Xh,useValue:e.extend},{provide:Zh,useValue:e.defaultLanguage},Gc]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({})}return n})();var sS=(()=>{class n{http;prefix;suffix;constructor(e,i="/assets/i18n/",r=".json"){this.http=e,this.prefix=i,this.suffix=r}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}static \u0275fac=function(i){return new(i||n)(Re(yr),Re(String),Re(String))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})();var dk=Os(d_());var Dn=(()=>{class n{constructor(){}changeFhirMicroService(e){localStorage.setItem("fhirMicroServer",e)}getFhirMicroService(){return localStorage.getItem("fhirMicroServer")}getFhirClient(){return new dk.default({baseUrl:this.getFhirMicroService()})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var am=(()=>{class n{redirectHashUrl(){let e=window.location.href;window.location.replace(e.replace("#/",""))}isHashUrl(){return window.location.href.indexOf("#/")>-1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var om;function KP(){if(om===void 0&&(om=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(om=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return om}function Yc(n){return KP()?.createHTML(n)||n}function hk(n){return Error(`Unable to find icon with the name "${n}"`)}function YP(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function mk(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function fk(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var as=class{url;svgText;options;svgElement;constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}},gk=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new as(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){let a=this._sanitizer.sanitize(pr.HTML,r);if(!a)throw fk(r);let o=Yc(a);return this._addSvgIconConfig(e,i,new as("",o,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new as(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){let s=this._sanitizer.sanitize(pr.HTML,i);if(!s)throw fk(i);let a=Yc(s);return this._addSvgIconSetConfig(e,new as("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(pr.RESOURCE_URL,e);if(!i)throw mk(e);let r=this._cachedIconsByUrl.get(i);return r?ge(lm(r)):this._loadSvgIconFromConfig(new as(e,null)).pipe(kt(s=>this._cachedIconsByUrl.set(i,s)),Ne(s=>lm(s)))}getNamedSvgIcon(e,i=""){let r=pk(i,e),s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):qn(hk(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ge(lm(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Ne(i=>lm(i)))}_getSvgFromIconSetConfigs(e,i){let r=this._extractIconWithNameFromAnySet(e,i);if(r)return ge(r);let s=i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Ai(o=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(pr.RESOURCE_URL,a.url)} failed: ${o.message}`;return this._errorHandler.handleError(new Error(c)),ge(null)})));return Mo(s).pipe(Ne(()=>{let a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw hk(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){let s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){let a=this._svgElementFromConfig(s),o=this._extractSvgIconFromSet(a,e,s.options);if(o)return o}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(kt(i=>e.svgText=i),Ne(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ge(null):this._fetchIcon(e).pipe(kt(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){let s=e.querySelector(`[id="${i}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,r);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),r);let o=this._svgElementFromString(Yc("<svg></svg>"));return o.appendChild(a),this._setSvgAttributes(o,r)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let i=this._svgElementFromString(Yc("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){let{name:a,value:o}=r[s];a!=="id"&&i.setAttribute(a,o)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw YP();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let a=this._sanitizer.sanitize(pr.RESOURCE_URL,i);if(!a)throw mk(i);let o=this._inProgressUrlFetches.get(a);if(o)return o;let l=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(Ne(c=>Yc(c)),Eo(()=>this._inProgressUrlFetches.delete(a)),gw());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(pk(e,i),r),this}_addSvgIconSetConfig(e,i){let r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){let s=this._resolvers[r](i,e);if(s)return QP(s)?new as(s.url,null,s.options):new as(s,null)}}static \u0275fac=function(i){return new(i||n)(Re(yr,8),Re(Hs),Re(Ze,8),Re(Cc))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lm(n){return n.cloneNode(!0)}function pk(n,t){return n+":"+t}function QP(n){return!!(n.url&&n.options)}function nl(n){return n.buttons===0||n.detail===0}function rl(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var v_;function _k(){if(v_==null){let n=typeof document<"u"?document.head:null;v_=!!(n&&(n.createShadowRoot||n.attachShadow))}return v_}function y_(n){if(_k()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Qc(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Li(n){return n.composedPath?n.composedPath()[0]:n.target}function Ot(n,t,e,i,r){let s=parseInt(hg.major),a=parseInt(hg.minor);return s>19||s===19&&a>0||s===0&&a===0?n.listen(t,e,i,r):(t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)})}var C_;try{C_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{C_=!1}var st=(()=>{class n{_platformId=R(ch);isBrowser=this._platformId?es(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||C_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zc;function bk(){if(Zc==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zc=!0}))}finally{Zc=Zc||!1}return Zc}function Ys(n){return bk()?n:!!n.capture}function kr(n,t=0){return vk(n)?Number(n):arguments.length===2?t:0}function vk(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Oi(n){return n instanceof Te?n.nativeElement:n}var yk=new J("cdk-input-modality-detector-options"),Ck={ignoreKeys:[18,17,224,91,16]},wk=650,w_={passive:!0,capture:!0},xk=(()=>{class n{_platform=R(st);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new ci(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Li(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<wk||(this._modality.next(nl(e)?"keyboard":"mouse"),this._mostRecentTarget=Li(e))};_onTouchstart=e=>{if(rl(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Li(e)};constructor(){let e=R(De),i=R(Ze),r=R(yk,{optional:!0});if(this._options=H(H({},Ck),r),this.modalityDetected=this._modality.pipe(Ao(1)),this.modalityChanged=this.modalityDetected.pipe(mr()),this._platform.isBrowser){let s=R(Ri).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[Ot(s,i,"keydown",this._onKeydown,w_),Ot(s,i,"mousedown",this._onMousedown,w_),Ot(s,i,"touchstart",this._onTouchstart,w_)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xc=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Xc||{}),Sk=new J("cdk-focus-monitor-default-options"),cm=Ys({passive:!0,capture:!0}),mn=(()=>{class n{_ngZone=R(De);_platform=R(st);_inputModalityDetector=R(xk);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=R(Ze,{optional:!0});_stopInputModalityDetector=new ue;constructor(){let e=R(Sk,{optional:!0});this._detectionMode=e?.detectionMode||Xc.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let i=Li(e);for(let r=i;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,i=!1){let r=Oi(e);if(!this._platform.isBrowser||r.nodeType!==1)return ge();let s=y_(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;let o={checkChildren:i,subject:new ue,rootNode:s};return this._elementInfo.set(r,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){let i=Oi(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let s=Oi(e),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([o,l])=>this._originChanged(o,i,l)):(this._setOrigin(i),typeof s.focus=="function"&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Xc.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===Xc.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?wk:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),s=Li(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,cm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,cm)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ye(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let s=e.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jc=(()=>{class n{_elementRef=R(Te);_focusMonitor=R(mn);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new ce;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();var um=new WeakMap,pt=(()=>{class n{_appRef;_injector=R(ut);_environmentInjector=R(cn);load(e){let i=this._appRef=this._appRef||this._injector.get(Gn),r=um.get(i);r||(r={loaders:new Set,refs:[]},um.set(i,r),i.onDestroy(()=>{um.get(i)?.refs.forEach(s=>s.destroy()),um.delete(i)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(_h(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Mr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function sl(n){return Array.isArray(n)?n:[n]}var kk=new Set,Ua,ZP=(()=>{class n{_platform=R(st);_nonce=R(xw,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):JP}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&XP(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XP(n,t){if(!kk.has(n))try{Ua||(Ua=document.createElement("style"),t&&Ua.setAttribute("nonce",t),Ua.setAttribute("type","text/css"),document.head.appendChild(Ua)),Ua.sheet&&(Ua.sheet.insertRule(`@media ${n} {body{ }}`,0),kk.add(n))}catch(e){console.error(e)}}function JP(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Tk=(()=>{class n{_mediaMatcher=R(ZP);_zone=R(De);_queries=new Map;_destroySubject=new ue;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Mk(sl(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=Mk(sl(e)).map(a=>this._registerQuery(a).observable),s=hr(r);return s=xa(s.pipe(Vt(1)),s.pipe(Ao(1),Ii(0))),s.pipe(Ne(a=>{let o={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{o.matches=o.matches||l,o.breakpoints[c]=l}),o}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),s={observable:new dr(a=>{let o=l=>this._zone.run(()=>a.next(l));return i.addListener(o),()=>{i.removeListener(o)}}).pipe(Bt(i),Ne(({matches:a})=>({query:e,matches:a})),Ye(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mk(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function e3(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let t=0;t<n.addedNodes.length;t++)if(!(n.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<n.removedNodes.length;t++)if(!(n.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var Ek=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ak=(()=>{class n{_mutationObserverFactory=R(Ek);_observedElements=new Map;_ngZone=R(De);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){let i=Oi(e);return new dr(r=>{let a=this._observeElement(i).pipe(Ne(o=>o.filter(l=>!e3(l))),it(o=>!!o.length)).subscribe(o=>{this._ngZone.run(()=>{r.next(o)})});return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let i=new ue,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ik=(()=>{class n{_contentObserver=R(Ak);_elementRef=R(Te);event=new ce;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=kr(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(Ii(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",_e],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),dm=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({providers:[Ek]})}return n})();var t3=(()=>{class n{_platform=R(st);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return n3(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=i3(d3(e));if(i&&(Dk(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=Dk(e);return e.hasAttribute("contenteditable")?s!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!c3(e)?!1:r==="audio"?e.hasAttribute("controls")?s!==-1:!1:r==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return u3(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function i3(n){try{return n.frameElement}catch{return null}}function n3(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function r3(n){let t=n.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function s3(n){return o3(n)&&n.type=="hidden"}function a3(n){return l3(n)&&n.hasAttribute("href")}function o3(n){return n.nodeName.toLowerCase()=="input"}function l3(n){return n.nodeName.toLowerCase()=="a"}function Ok(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let t=n.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function Dk(n){if(!Ok(n))return null;let t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function c3(n){let t=n.nodeName.toLowerCase(),e=t==="input"&&n.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function u3(n){return s3(n)?!1:r3(n)||a3(n)||n.hasAttribute("contenteditable")||Ok(n)}function d3(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var S_=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,i,r,s=!1,a){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._injector=a,s||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?Yt(t,{injector:this._injector}):setTimeout(t)}},Nk=(()=>{class n{_checker=R(t3);_ngZone=R(De);_document=R(Ze);_injector=R(ut);constructor(){R(pt).load(Mr)}create(e,i=!1){return new S_(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),k_=(()=>{class n{_elementRef=R(Te);_focusTrapFactory=R(Nk);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){R(st).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Qc(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",_e],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",_e]},exportAs:["cdkTrapFocus"],features:[mt]})}return n})(),Fk=new J("liveAnnouncerElement",{providedIn:"root",factory:Pk});function Pk(){return null}var Uk=new J("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),h3=0,M_=(()=>{class n{_ngZone=R(De);_defaultOptions=R(Uk,{optional:!0});_liveElement;_document=R(Ze);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=R(Fk,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...i){let r=this._defaultOptions,s,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),a==null&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(o=>this._currentResolve=o)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${h3++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let s=i[r],a=s.getAttribute("aria-owns");a?a.indexOf(e)===-1&&s.setAttribute("aria-owns",a+" "+e):s.setAttribute("aria-owns",e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Qs=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Qs||{}),Rk="cdk-high-contrast-black-on-white",Lk="cdk-high-contrast-white-on-black",x_="cdk-high-contrast-active",hm=(()=>{class n{_platform=R(st);_hasCheckedHighContrastMode;_document=R(Ze);_breakpointSubscription;constructor(){this._breakpointSubscription=R(Tk).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Qs.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Qs.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Qs.BLACK_ON_WHITE}return Qs.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(x_,Rk,Lk),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Qs.BLACK_ON_WHITE?e.add(x_,Rk):i===Qs.WHITE_ON_BLACK&&e.add(x_,Lk)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eu=(()=>{class n{constructor(){R(hm)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[dm]})}return n})();var T_={},At=(()=>{class n{_appId=R(lh);getId(e){return this._appId!=="ng"&&(e+=this._appId),T_.hasOwnProperty(e)||(T_[e]=0),`${e}${T_[e]++}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var m3=200,mm=class{_letterKeyStream=new ue;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new ue;selectedItem=this._selectedItem;constructor(t,e){let i=typeof e?.debounceInterval=="number"?e.debounceInterval:m3;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(kt(e=>this._pressedLetters.push(e)),Ii(t),it(()=>this._pressedLetters.length>0),Ne(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,s=this._items[r];if(!this._skipPredicateFn?.(s)&&s.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(s);break}}this._pressedLetters=[]})}};function wi(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var al=class{_items;_activeItemIndex=-1;_activeItem=Di(null);_wrap=!1;_typeaheadSubscription=St.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof Do?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):ka(t)&&(this._effectRef=gh(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new ue;change=new ue;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new mm(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){let e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let s=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(s<a?s:a-1,-1);break}else return;default:(r||wi(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),i=typeof t=="number"?t:e.indexOf(t),r=e[i];this._activeItem.set(r??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let r=(this._activeItemIndex+t*i+e.length)%e.length,s=e[r];if(!this._skipPredicateFn(s)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=e,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return ka(this._items)?this._items():this._items instanceof Do?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let i=t.indexOf(e);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}};var tu=class extends al{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}};var cl=class extends al{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var Bk=" ";function I_(n,t,e){let i=vm(n,t);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(Bk)))}function ym(n,t,e){let i=vm(n,t);e=e.trim();let r=i.filter(s=>s!==e);r.length?n.setAttribute(t,r.join(Bk)):n.removeAttribute(t)}function vm(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}var zk="cdk-describedby-message",bm="cdk-describedby-host",A_=0,Hk=(()=>{class n{_platform=R(st);_document=R(Ze);_messageRegistry=new Map;_messagesContainer=null;_id=`${A_++}`;constructor(){R(pt).load(Mr),this._id=R(lh)+"-"+A_++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;let s=E_(i,r);typeof i!="string"?(Vk(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;let s=E_(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),typeof i=="string"){let a=this._messageRegistry.get(s);a&&a.referenceCount===0&&this._deleteMessageElement(s)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${bm}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(bm);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){let r=this._document.createElement("div");Vk(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(E_(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let i=vm(e,"aria-describedby").filter(r=>r.indexOf(zk)!=0);e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){let r=this._messageRegistry.get(i);I_(e,"aria-describedby",r.messageElement.id),e.setAttribute(bm,this._id),r.referenceCount++}_removeMessageReference(e,i){let r=this._messageRegistry.get(i);r.referenceCount--,ym(e,"aria-describedby",r.messageElement.id),e.removeAttribute(bm)}_isElementDescribedByMessage(e,i){let r=vm(e,"aria-describedby"),s=this._messageRegistry.get(i),a=s&&s.messageElement.id;return!!a&&r.indexOf(a)!=-1}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),s=e.getAttribute("aria-label");return r?!s||s.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function E_(n,t){return typeof n=="string"?`${t||""}/${n}`:n}function Vk(n,t){n.id||(n.id=`${zk}-${t}-${A_++}`)}var f3=new J("cdk-dir-doc",{providedIn:"root",factory:p3});function p3(){return R(Ze)}var g3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function jk(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?g3.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var ti=(()=>{class n{value="ltr";change=new ce;constructor(){let e=R(f3,{optional:!0});if(e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=jk(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zs=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({})}return n})();var Oe=(()=>{class n{constructor(){R(hm)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Zs,Zs]})}return n})();var _3=["*"],b3=new J("MAT_ICON_DEFAULT_OPTIONS"),v3=new J("mat-icon-location",{providedIn:"root",factory:y3});function y3(){let n=R(Ze),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var Wk=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],C3=Wk.map(n=>`[${n}]`).join(", "),w3=/^url\(['"]?#(.*?)['"]?\)$/,Rn=(()=>{class n{_elementRef=R(Te);_iconRegistry=R(gk);_location=R(v3);_errorHandler=R(Cc);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=St.EMPTY;constructor(){let e=R(new un("aria-hidden"),{optional:!0}),i=R(b3,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=e.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll(C3),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)Wk.forEach(a=>{let o=i[s],l=o.getAttribute(a),c=l?l.match(w3):null;if(c){let u=r.get(o);u||(u=[],r.set(o,u)),u.push({name:a,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Vt(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${i}:${r}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(Se("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),ft(r.color?"mat-"+r.color:""),ye("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",_e],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:_3,decls:1,vars:0,template:function(i,r){i&1&&(Qe(),Fe(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),iu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Oe,Oe]})}return n})();var qk=(()=>{class n{constructor(e,i,r){if(this.translateService=e,this.fhirConfigService=i,this.hashUrlRedirectionService=r,this.version=window.MATCHBOX_VERSION,r.isHashUrl()&&r.redirectHashUrl(),e.setDefaultLang("de"),e.use(e.getBrowserLang()),location.origin==="http://localhost:4200")console.log("note: using local dev mag system for "+location.origin),i.changeFhirMicroService("http://localhost:8080/matchboxv3/fhir");else{let a=window.MATCHBOX_BASE_PATH+"/fhir";i.changeFhirMicroService(a),console.log("fhir endpoint "+a)}}static{this.\u0275fac=function(i){return new(i||n)(Ae(Gc),Ae(Dn),Ae(am))}}static{this.\u0275cmp=le({type:n,selectors:[["app-root"]],standalone:!1,decls:43,vars:1,consts:[["routerLink","/",1,"logo-container"],["alt","Matchbox logo","height","40","src","assets/matchbox_logo_color.png","width","95"],[1,"version"],["routerLink","/"],["routerLink","/CapabilityStatement"],["routerLink","/igs"],["routerLink","/mappinglanguage"],["routerLink","/transform"],["routerLink","/validate"],["routerLink","/settings"],[1,"mat-typography"]],template:function(i,r){i&1&&(P(0,"header")(1,"div",0),te(2,"img",1),P(3,"span",2),B(4),U()(),P(5,"nav")(6,"div",3)(7,"mat-icon"),B(8,"home"),U(),P(9,"span"),B(10,"Home"),U()(),P(11,"div",4)(12,"mat-icon"),B(13,"info"),U(),P(14,"span"),B(15,"CapabilityStatement"),U()(),P(16,"div",5)(17,"mat-icon"),B(18,"info"),U(),P(19,"span"),B(20,"IGs"),U()(),P(21,"div",6)(22,"mat-icon"),B(23,"search"),U(),P(24,"span"),B(25,"FHIR Mapping"),U()(),P(26,"div",7)(27,"mat-icon"),B(28,"transform"),U(),P(29,"span"),B(30,"Transform"),U()(),P(31,"div",8)(32,"mat-icon"),B(33,"rule"),U(),P(34,"span"),B(35,"Validate"),U()(),P(36,"div",9)(37,"mat-icon"),B(38,"settings"),U(),P(39,"span"),B(40,"Settings"),U()()()(),P(41,"main",10),te(42,"router-outlet"),U()),i&2&&($(4),je("v",r.version,""))},dependencies:[Rn,Bc,Yo],styles:[".example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}mat-toolbar[_ngcontent-%COMP%]{padding-left:0}mat-toolbar[_ngcontent-%COMP%]   .home-link[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;cursor:pointer}mat-toolbar[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;height:100%;width:160px;justify-content:center;align-items:center}mat-toolbar[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100% - 1.2em)}header[_ngcontent-%COMP%]{background:#97d6ba;display:flex;flex-wrap:wrap;flex:0 1 auto;padding:10px 2em;justify-content:space-between}header[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:inline-block}header[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{color:#2e7d73;font-size:.9em;display:inline-block;margin:4px 0 0 10px;vertical-align:top}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;margin-top:10px}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;margin:0 1rem;cursor:pointer;color:#3d5c73}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;vertical-align:middle;color:#d2eade}main[_ngcontent-%COMP%]{width:100%;margin:0 auto}@media (max-width: 1140px){header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0 7px}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px;font-size:18px;width:18px;height:18px}}"]})}}return n})();var wM=Os(D_()),FX=Os(Yk()),PX=Os(Zk());var Ut=class n{constructor(t,e){this.operationOutcome=e,this.issues=t??[]}static fromOperationOutcome(t){let e=t.issue?.map(i=>Sm.fromOoIssue(i));return new n(e,t)}static fromMatchboxError(t){let e=new n;return e.issues.push(new Sm("fatal","matchbox",t,void 0,void 0,void 0,void 0)),e}},Sm=class n{constructor(t,e,i,r,s,a,o,l,c){this.sliceInfo=[],this.severity=t,this.code=e,this.text=i,this.expression=r,this.line=s,this.col=a,this.sliceInfo=o??[],this.markdown=l,this.details=c,l&&this.text.includes("```markdown")&&(this.text=this.text.substring(11,this.text.length-3))}static fromOoIssue(t){let e;t.expression&&t.expression.length?e=t.expression[0]:t.location&&t.location.length&&(e=t.location[0]);let i=t.diagnostics?.indexOf("Slice info: 1.)"),r,s=null;i>=0?(r=t.diagnostics.substring(0,i).trimEnd(),s=t.diagnostics.substring(i+15).trimStart().split(/\d+[.][)]/)):r=t.diagnostics;let a=n.getExtensionStringValue(t,"http://hl7.org/fhir/StructureDefinition/rendering-style")=="markdown",o=t.details?t.details.text:void 0;return new n(t.severity,t.code,r,e,n.getLineNo(t),n.getColNo(t),s,a,o)}static getLineNo(t){let e=n.getExtensionIntValue(t,"http://hl7.org/fhir/StructureDefinition/operationoutcome-issue-line");return e&&e>0?e:void 0}static getColNo(t){let e=n.getExtensionIntValue(t,"http://hl7.org/fhir/StructureDefinition/operationoutcome-issue-col");return e&&e>0?e:void 0}static getExtensionIntValue(t,e){if(t.extension){for(let i of t.extension)if(i.url===e)return i.valueInteger}}static getExtensionStringValue(t,e){if(t.extension){for(let i of t.extension)if(i.url===e)return i.valueString}}};var x3=["determinateSpinner"];function S3(n,t){if(n&1&&(Ht(),P(0,"svg",11),te(1,"circle",12),U()),n&2){let e=Y();Se("viewBox",e._viewBox()),$(),Jt("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),Se("r",e._circleRadius())}}var k3=new J("mat-progress-spinner-default-options",{providedIn:"root",factory:M3});function M3(){return{diameter:Xk}}var Xk=100,T3=10,Xs=(()=>{class n{_elementRef=R(Te);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=R(ot,{optional:!0}),i=R(k3);this._noopAnimations=e==="NoopAnimations"&&!!i&&!i._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",i&&(i.color&&(this.color=this._defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=Xk;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-T3)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(i&1&&Pe(x3,5),i&2){let s;ke(s=Me())&&(r._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,r){i&2&&(Se("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),ft("mat-"+r.color),Jt("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),ye("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Ft],diameter:[2,"diameter","diameter",Ft],strokeWidth:[2,"strokeWidth","strokeWidth",Ft]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(i&1&&(oe(0,S3,2,8,"ng-template",null,0,Ma),P(2,"div",2,1),Ht(),P(4,"svg",3),te(5,"circle",4),U()(),Xr(),P(6,"div",5)(7,"div",6)(8,"div",7),Ro(9,8),U(),P(10,"div",9),Ro(11,8),U(),P(12,"div",10),Ro(13,8),U()()()),i&2){let s=jt(1);$(4),Se("viewBox",r._viewBox()),$(),Jt("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Se("r",r._circleRadius()),$(4),j("ngTemplateOutlet",s),$(2),j("ngTemplateOutlet",s),$(2),j("ngTemplateOutlet",s)}},dependencies:[bh],styles:[`.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return n})();var nu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Oe]})}return n})();function N_(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var za=N_();function rM(n){za=n}var au={exec:()=>null};function wt(n,t=""){let e=typeof n=="string"?n:n.source,i={replace:(r,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(Ni.caret,"$1"),e=e.replace(r,a),i},getRegex:()=>new RegExp(e,t)};return i}var Ni={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},E3=/^(?:[ \t]*(?:\n|$))+/,A3=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,I3=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ou=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,D3=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,F_=/(?:[*+-]|\d{1,9}[.)])/,sM=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,aM=wt(sM).replace(/bull/g,F_).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),R3=wt(sM).replace(/bull/g,F_).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),P_=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,L3=/^[^\n]+/,U_=/(?!\s*\])(?:\\.|[^\[\]\\])+/,O3=wt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",U_).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),N3=wt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,F_).getRegex(),Im="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$_=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,F3=wt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",$_).replace("tag",Im).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),oM=wt(P_).replace("hr",ou).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Im).getRegex(),P3=wt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",oM).getRegex(),V_={blockquote:P3,code:A3,def:O3,fences:I3,heading:D3,hr:ou,html:F3,lheading:aM,list:N3,newline:E3,paragraph:oM,table:au,text:L3},Jk=wt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ou).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Im).getRegex(),U3=Le(H({},V_),{lheading:R3,table:Jk,paragraph:wt(P_).replace("hr",ou).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Jk).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Im).getRegex()}),$3=Le(H({},V_),{html:wt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$_).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:au,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:wt(P_).replace("hr",ou).replace("heading",` *#{1,6} *[^
]`).replace("lheading",aM).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),V3=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,B3=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,lM=/^( {2,}|\\)\n(?!\s*$)/,z3=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Dm=/[\p{P}\p{S}]/u,B_=/[\s\p{P}\p{S}]/u,cM=/[^\s\p{P}\p{S}]/u,H3=wt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,B_).getRegex(),uM=/(?!~)[\p{P}\p{S}]/u,j3=/(?!~)[\s\p{P}\p{S}]/u,W3=/(?:[^\s\p{P}\p{S}]|~)/u,q3=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,dM=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,G3=wt(dM,"u").replace(/punct/g,Dm).getRegex(),K3=wt(dM,"u").replace(/punct/g,uM).getRegex(),hM="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Y3=wt(hM,"gu").replace(/notPunctSpace/g,cM).replace(/punctSpace/g,B_).replace(/punct/g,Dm).getRegex(),Q3=wt(hM,"gu").replace(/notPunctSpace/g,W3).replace(/punctSpace/g,j3).replace(/punct/g,uM).getRegex(),Z3=wt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,cM).replace(/punctSpace/g,B_).replace(/punct/g,Dm).getRegex(),X3=wt(/\\(punct)/,"gu").replace(/punct/g,Dm).getRegex(),J3=wt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),eU=wt($_).replace("(?:-->|$)","-->").getRegex(),tU=wt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",eU).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Em=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,iU=wt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Em).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),mM=wt(/^!?\[(label)\]\[(ref)\]/).replace("label",Em).replace("ref",U_).getRegex(),fM=wt(/^!?\[(ref)\](?:\[\])?/).replace("ref",U_).getRegex(),nU=wt("reflink|nolink(?!\\()","g").replace("reflink",mM).replace("nolink",fM).getRegex(),z_={_backpedal:au,anyPunctuation:X3,autolink:J3,blockSkip:q3,br:lM,code:B3,del:au,emStrongLDelim:G3,emStrongRDelimAst:Y3,emStrongRDelimUnd:Z3,escape:V3,link:iU,nolink:fM,punctuation:H3,reflink:mM,reflinkSearch:nU,tag:tU,text:z3,url:au},rU=Le(H({},z_),{link:wt(/^!?\[(label)\]\((.*?)\)/).replace("label",Em).getRegex(),reflink:wt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Em).getRegex()}),R_=Le(H({},z_),{emStrongRDelimAst:Q3,emStrongLDelim:K3,url:wt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),sU=Le(H({},R_),{br:wt(lM).replace("{2,}","*").getRegex(),text:wt(R_.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),Mm={normal:V_,gfm:U3,pedantic:$3},ru={normal:z_,gfm:R_,breaks:sU,pedantic:rU},aU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eM=n=>aU[n];function Tr(n,t){if(t){if(Ni.escapeTest.test(n))return n.replace(Ni.escapeReplace,eM)}else if(Ni.escapeTestNoEncode.test(n))return n.replace(Ni.escapeReplaceNoEncode,eM);return n}function tM(n){try{n=encodeURI(n).replace(Ni.percentDecode,"%")}catch{return null}return n}function iM(n,t){let e=n.replace(Ni.findPipe,(s,a,o)=>{let l=!1,c=a;for(;--c>=0&&o[c]==="\\";)l=!l;return l?"|":" |"}),i=e.split(Ni.splitPipe),r=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(Ni.slashPipe,"|");return i}function su(n,t,e){let i=n.length;if(i===0)return"";let r=0;for(;r<i;){let s=n.charAt(i-r-1);if(s===t&&!e)r++;else if(s!==t&&e)r++;else break}return n.slice(0,i-r)}function oU(n,t){if(n.indexOf(t[1])===-1)return-1;let e=0;for(let i=0;i<n.length;i++)if(n[i]==="\\")i++;else if(n[i]===t[0])e++;else if(n[i]===t[1]&&(e--,e<0))return i;return e>0?-2:-1}function nM(n,t,e,i,r){let s=t.href,a=t.title||null,o=n[1].replace(r.other.outputLinkReplace,"$1");i.state.inLink=!0;let l={type:n[0].charAt(0)==="!"?"image":"link",raw:e,href:s,title:a,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,l}function lU(n,t,e){let i=n.match(e.other.indentCodeCompensation);if(i===null)return t;let r=i[1];return t.split(`
`).map(s=>{let a=s.match(e.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=r.length?s.slice(r.length):s}).join(`
`)}var Am=class{options;rules;lexer;constructor(n){this.options=n||za}space(n){let t=this.rules.block.newline.exec(n);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(n){let t=this.rules.block.code.exec(n);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:su(e,`
`)}}}fences(n){let t=this.rules.block.fences.exec(n);if(t){let e=t[0],i=lU(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(n){let t=this.rules.block.heading.exec(n);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let i=su(e,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(e=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(n){let t=this.rules.block.hr.exec(n);if(t)return{type:"hr",raw:su(t[0],`
`)}}blockquote(n){let t=this.rules.block.blockquote.exec(n);if(t){let e=su(t[0],`
`).split(`
`),i="",r="",s=[];for(;e.length>0;){let a=!1,o=[],l;for(l=0;l<e.length;l++)if(this.rules.other.blockquoteStart.test(e[l]))o.push(e[l]),a=!0;else if(!a)o.push(e[l]);else break;e=e.slice(l);let c=o.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${c}`:c,r=r?`${r}
${u}`:u;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,s,!0),this.lexer.state.top=d,e.length===0)break;let h=s.at(-1);if(h?.type==="code")break;if(h?.type==="blockquote"){let m=h,f=m.raw+`
`+e.join(`
`),p=this.blockquote(f);s[s.length-1]=p,i=i.substring(0,i.length-m.raw.length)+p.raw,r=r.substring(0,r.length-m.text.length)+p.text;break}else if(h?.type==="list"){let m=h,f=m.raw+`
`+e.join(`
`),p=this.list(f);s[s.length-1]=p,i=i.substring(0,i.length-h.raw.length)+p.raw,r=r.substring(0,r.length-m.raw.length)+p.raw,e=f.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:r}}}list(n){let t=this.rules.block.list.exec(n);if(t){let e=t[1].trim(),i=e.length>1,r={type:"list",raw:"",ordered:i,start:i?+e.slice(0,-1):"",loose:!1,items:[]};e=i?`\\d{1,9}\\${e.slice(-1)}`:`\\${e}`,this.options.pedantic&&(e=i?e:"[*+-]");let s=this.rules.other.listItemRegex(e),a=!1;for(;n;){let l=!1,c="",u="";if(!(t=s.exec(n))||this.rules.block.hr.test(n))break;c=t[0],n=n.substring(c.length);let d=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,y=>" ".repeat(3*y.length)),h=n.split(`
`,1)[0],m=!d.trim(),f=0;if(this.options.pedantic?(f=2,u=d.trimStart()):m?f=t[1].length+1:(f=t[2].search(this.rules.other.nonSpaceChar),f=f>4?1:f,u=d.slice(f),f+=t[1].length),m&&this.rules.other.blankLine.test(h)&&(c+=h+`
`,n=n.substring(h.length+1),l=!0),!l){let y=this.rules.other.nextBulletRegex(f),w=this.rules.other.hrRegex(f),k=this.rules.other.fencesBeginRegex(f),x=this.rules.other.headingBeginRegex(f),C=this.rules.other.htmlBeginRegex(f);for(;n;){let A=n.split(`
`,1)[0],T;if(h=A,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),T=h):T=h.replace(this.rules.other.tabCharGlobal,"    "),k.test(h)||x.test(h)||C.test(h)||y.test(h)||w.test(h))break;if(T.search(this.rules.other.nonSpaceChar)>=f||!h.trim())u+=`
`+T.slice(f);else{if(m||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(d)||x.test(d)||w.test(d))break;u+=`
`+h}!m&&!h.trim()&&(m=!0),c+=A+`
`,n=n.substring(A.length+1),d=T.slice(f)}}r.loose||(a?r.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(a=!0));let p=null,g;this.options.gfm&&(p=this.rules.other.listIsTask.exec(u),p&&(g=p[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:c,task:!!p,checked:g,loose:!1,text:u,tokens:[]}),r.raw+=c}let o=r.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;r.raw=r.raw.trimEnd();for(let l=0;l<r.items.length;l++)if(this.lexer.state.top=!1,r.items[l].tokens=this.lexer.blockTokens(r.items[l].text,[]),!r.loose){let c=r.items[l].tokens.filter(d=>d.type==="space"),u=c.length>0&&c.some(d=>this.rules.other.anyLine.test(d.raw));r.loose=u}if(r.loose)for(let l=0;l<r.items.length;l++)r.items[l].loose=!0;return r}}html(n){let t=this.rules.block.html.exec(n);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(n){let t=this.rules.block.def.exec(n);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:i,title:r}}}table(n){let t=this.rules.block.table.exec(n);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let e=iM(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(e.length===i.length){for(let a of i)this.rules.other.tableAlignRight.test(a)?s.align.push("right"):this.rules.other.tableAlignCenter.test(a)?s.align.push("center"):this.rules.other.tableAlignLeft.test(a)?s.align.push("left"):s.align.push(null);for(let a=0;a<e.length;a++)s.header.push({text:e[a],tokens:this.lexer.inline(e[a]),header:!0,align:s.align[a]});for(let a of r)s.rows.push(iM(a,s.header.length).map((o,l)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:s.align[l]})));return s}}lheading(n){let t=this.rules.block.lheading.exec(n);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(n){let t=this.rules.block.paragraph.exec(n);if(t){let e=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(n){let t=this.rules.block.text.exec(n);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(n){let t=this.rules.inline.escape.exec(n);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(n){let t=this.rules.inline.tag.exec(n);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(n){let t=this.rules.inline.link.exec(n);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let s=su(e.slice(0,-1),"\\");if((e.length-s.length)%2===0)return}else{let s=oU(t[2],"()");if(s===-2)return;if(s>-1){let o=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let i=t[2],r="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],r=s[3])}else r=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?i=i.slice(1):i=i.slice(1,-1)),nM(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(n,t){let e;if((e=this.rules.inline.reflink.exec(n))||(e=this.rules.inline.nolink.exec(n))){let i=(e[2]||e[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=t[i.toLowerCase()];if(!r){let s=e[0].charAt(0);return{type:"text",raw:s,text:s}}return nM(e,r,e[0],this.lexer,this.rules)}}emStrong(n,t,e=""){let i=this.rules.inline.emStrongLDelim.exec(n);if(!i||i[3]&&e.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!e||this.rules.inline.punctuation.exec(e)){let s=[...i[0]].length-1,a,o,l=s,c=0,u=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,t=t.slice(-1*n.length+s);(i=u.exec(t))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(o=[...a].length,i[3]||i[4]){l+=o;continue}else if((i[5]||i[6])&&s%3&&!((s+o)%3)){c+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+c);let d=[...i[0]][0].length,h=n.slice(0,s+i.index+d+o);if(Math.min(s,o)%2){let f=h.slice(1,-1);return{type:"em",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}let m=h.slice(2,-2);return{type:"strong",raw:h,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(n){let t=this.rules.inline.code.exec(n);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(e),r=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return i&&r&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(n){let t=this.rules.inline.br.exec(n);if(t)return{type:"br",raw:t[0]}}del(n){let t=this.rules.inline.del.exec(n);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(n){let t=this.rules.inline.autolink.exec(n);if(t){let e,i;return t[2]==="@"?(e=t[1],i="mailto:"+e):(e=t[1],i=e),{type:"link",raw:t[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}url(n){let t;if(t=this.rules.inline.url.exec(n)){let e,i;if(t[2]==="@")e=t[0],i="mailto:"+e;else{let r;do r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(r!==t[0]);e=t[0],t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(n){let t=this.rules.inline.text.exec(n);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},os=class L_{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||za,this.options.tokenizer=this.options.tokenizer||new Am,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let e={other:Ni,block:Mm.normal,inline:ru.normal};this.options.pedantic?(e.block=Mm.pedantic,e.inline=ru.pedantic):this.options.gfm&&(e.block=Mm.gfm,this.options.breaks?e.inline=ru.breaks:e.inline=ru.gfm),this.tokenizer.rules=e}static get rules(){return{block:Mm,inline:ru}}static lex(t,e){return new L_(e).lex(t)}static lexInline(t,e){return new L_(e).inlineTokens(t)}lex(t){t=t.replace(Ni.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let i=this.inlineQueue[e];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[],i=!1){for(this.options.pedantic&&(t=t.replace(Ni.tabCharGlobal,"    ").replace(Ni.spaceLine,""));t;){let r;if(this.options.extensions?.block?.some(a=>(r=a.call({lexer:this},t,e))?(t=t.substring(r.raw.length),e.push(r),!0):!1))continue;if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length);let a=e.at(-1);r.raw.length===1&&a!==void 0?a.raw+=`
`:e.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length);let a=e.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=`
`+r.raw,a.text+=`
`+r.text,this.inlineQueue.at(-1).src=a.text):e.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length);let a=e.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=`
`+r.raw,a.text+=`
`+r.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),e.push(r);continue}let s=t;if(this.options.extensions?.startBlock){let a=1/0,o=t.slice(1),l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},o),typeof l=="number"&&l>=0&&(a=Math.min(a,l))}),a<1/0&&a>=0&&(s=t.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){let a=e.at(-1);i&&a?.type==="paragraph"?(a.raw+=`
`+r.raw,a.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):e.push(r),i=s.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length);let a=e.at(-1);a?.type==="text"?(a.raw+=`
`+r.raw,a.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):e.push(r);continue}if(t){let a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let i=t,r=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)o.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,r.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(r=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,a="";for(;t;){s||(a=""),s=!1;let o;if(this.options.extensions?.inline?.some(c=>(o=c.call({lexer:this},t,e))?(t=t.substring(o.raw.length),e.push(o),!0):!1))continue;if(o=this.tokenizer.escape(t)){t=t.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.tag(t)){t=t.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.link(t)){t=t.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(o.raw.length);let c=e.at(-1);o.type==="text"&&c?.type==="text"?(c.raw+=o.raw,c.text+=o.text):e.push(o);continue}if(o=this.tokenizer.emStrong(t,i,a)){t=t.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.codespan(t)){t=t.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.br(t)){t=t.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.del(t)){t=t.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.autolink(t)){t=t.substring(o.raw.length),e.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(t))){t=t.substring(o.raw.length),e.push(o);continue}let l=t;if(this.options.extensions?.startInline){let c=1/0,u=t.slice(1),d;this.options.extensions.startInline.forEach(h=>{d=h.call({lexer:this},u),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(o=this.tokenizer.inlineText(l)){t=t.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(a=o.raw.slice(-1)),s=!0;let c=e.at(-1);c?.type==="text"?(c.raw+=o.raw,c.text+=o.text):e.push(o);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return e}},Js=class{options;parser;constructor(n){this.options=n||za}space(n){return""}code({text:n,lang:t,escaped:e}){let i=(t||"").match(Ni.notSpaceStart)?.[0],r=n.replace(Ni.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Tr(i)+'">'+(e?r:Tr(r,!0))+`</code></pre>
`:"<pre><code>"+(e?r:Tr(r,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}heading({tokens:n,depth:t}){return`<h${t}>${this.parser.parseInline(n)}</h${t}>
`}hr(n){return`<hr>
`}list(n){let t=n.ordered,e=n.start,i="";for(let a=0;a<n.items.length;a++){let o=n.items[a];i+=this.listitem(o)}let r=t?"ol":"ul",s=t&&e!==1?' start="'+e+'"':"";return"<"+r+s+`>
`+i+"</"+r+`>
`}listitem(n){let t="";if(n.task){let e=this.checkbox({checked:!!n.checked});n.loose?n.tokens[0]?.type==="paragraph"?(n.tokens[0].text=e+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&n.tokens[0].tokens[0].type==="text"&&(n.tokens[0].tokens[0].text=e+" "+Tr(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:e+" ",text:e+" ",escaped:!0}):t+=e+" "}return t+=this.parser.parse(n.tokens,!!n.loose),`<li>${t}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let t="",e="";for(let r=0;r<n.header.length;r++)e+=this.tablecell(n.header[r]);t+=this.tablerow({text:e});let i="";for(let r=0;r<n.rows.length;r++){let s=n.rows[r];e="";for(let a=0;a<s.length;a++)e+=this.tablecell(s[a]);i+=this.tablerow({text:e})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){let t=this.parser.parseInline(n.tokens),e=n.header?"th":"td";return(n.align?`<${e} align="${n.align}">`:`<${e}>`)+t+`</${e}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${Tr(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:t,tokens:e}){let i=this.parser.parseInline(e),r=tM(n);if(r===null)return i;n=r;let s='<a href="'+n+'"';return t&&(s+=' title="'+Tr(t)+'"'),s+=">"+i+"</a>",s}image({href:n,title:t,text:e,tokens:i}){i&&(e=this.parser.parseInline(i,this.parser.textRenderer));let r=tM(n);if(r===null)return Tr(e);n=r;let s=`<img src="${n}" alt="${e}"`;return t&&(s+=` title="${Tr(t)}"`),s+=">",s}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:Tr(n.text)}},H_=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}},ls=class O_{options;renderer;textRenderer;constructor(t){this.options=t||za,this.options.renderer=this.options.renderer||new Js,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new H_}static parse(t,e){return new O_(e).parse(t)}static parseInline(t,e){return new O_(e).parseInline(t)}parse(t,e=!0){let i="";for(let r=0;r<t.length;r++){let s=t[r];if(this.options.extensions?.renderers?.[s.type]){let o=s,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){i+=l||"";continue}}let a=s;switch(a.type){case"space":{i+=this.renderer.space(a);continue}case"hr":{i+=this.renderer.hr(a);continue}case"heading":{i+=this.renderer.heading(a);continue}case"code":{i+=this.renderer.code(a);continue}case"table":{i+=this.renderer.table(a);continue}case"blockquote":{i+=this.renderer.blockquote(a);continue}case"list":{i+=this.renderer.list(a);continue}case"html":{i+=this.renderer.html(a);continue}case"paragraph":{i+=this.renderer.paragraph(a);continue}case"text":{let o=a,l=this.renderer.text(o);for(;r+1<t.length&&t[r+1].type==="text";)o=t[++r],l+=`
`+this.renderer.text(o);e?i+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):i+=l;continue}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}parseInline(t,e=this.renderer){let i="";for(let r=0;r<t.length;r++){let s=t[r];if(this.options.extensions?.renderers?.[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){i+=o||"";continue}}let a=s;switch(a.type){case"escape":{i+=e.text(a);break}case"html":{i+=e.html(a);break}case"link":{i+=e.link(a);break}case"image":{i+=e.image(a);break}case"strong":{i+=e.strong(a);break}case"em":{i+=e.em(a);break}case"codespan":{i+=e.codespan(a);break}case"br":{i+=e.br(a);break}case"del":{i+=e.del(a);break}case"text":{i+=e.text(a);break}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}},Tm=class{options;block;constructor(t){this.options=t||za}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?os.lex:os.lexInline}provideParser(){return this.block?ls.parse:ls.parseInline}},cU=class{defaults=N_();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ls;Renderer=Js;TextRenderer=H_;Lexer=os;Tokenizer=Am;Hooks=Tm;constructor(...n){this.use(...n)}walkTokens(n,t){let e=[];for(let i of n)switch(e=e.concat(t.call(this,i)),i.type){case"table":{let r=i;for(let s of r.header)e=e.concat(this.walkTokens(s.tokens,t));for(let s of r.rows)for(let a of s)e=e.concat(this.walkTokens(a.tokens,t));break}case"list":{let r=i;e=e.concat(this.walkTokens(r.items,t));break}default:{let r=i;this.defaults.extensions?.childTokens?.[r.type]?this.defaults.extensions.childTokens[r.type].forEach(s=>{let a=r[s].flat(1/0);e=e.concat(this.walkTokens(a,t))}):r.tokens&&(e=e.concat(this.walkTokens(r.tokens,t)))}}return e}use(...n){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(e=>{let i=H({},e);if(i.async=this.defaults.async||i.async||!1,e.extensions&&(e.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){let s=t.renderers[r.name];s?t.renderers[r.name]=function(...a){let o=r.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:t.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[r.level];s?s.unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),i.extensions=t),e.renderer){let r=this.defaults.renderer||new Js(this.defaults);for(let s in e.renderer){if(!(s in r))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let a=s,o=e.renderer[a],l=r[a];r[a]=(...c)=>{let u=o.apply(r,c);return u===!1&&(u=l.apply(r,c)),u||""}}i.renderer=r}if(e.tokenizer){let r=this.defaults.tokenizer||new Am(this.defaults);for(let s in e.tokenizer){if(!(s in r))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,o=e.tokenizer[a],l=r[a];r[a]=(...c)=>{let u=o.apply(r,c);return u===!1&&(u=l.apply(r,c)),u}}i.tokenizer=r}if(e.hooks){let r=this.defaults.hooks||new Tm;for(let s in e.hooks){if(!(s in r))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let a=s,o=e.hooks[a],l=r[a];Tm.passThroughHooks.has(s)?r[a]=c=>{if(this.defaults.async)return Promise.resolve(o.call(r,c)).then(d=>l.call(r,d));let u=o.call(r,c);return l.call(r,u)}:r[a]=(...c)=>{let u=o.apply(r,c);return u===!1&&(u=l.apply(r,c)),u}}i.hooks=r}if(e.walkTokens){let r=this.defaults.walkTokens,s=e.walkTokens;i.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),r&&(o=o.concat(r.call(this,a))),o}}this.defaults=H(H({},this.defaults),i)}),this}setOptions(n){return this.defaults=H(H({},this.defaults),n),this}lexer(n,t){return os.lex(n,t??this.defaults)}parser(n,t){return ls.parse(n,t??this.defaults)}parseMarkdown(n){return(e,i)=>{let r=H({},i),s=H(H({},this.defaults),r),a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=n);let o=s.hooks?s.hooks.provideLexer():n?os.lex:os.lexInline,l=s.hooks?s.hooks.provideParser():n?ls.parse:ls.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(e):e).then(c=>o(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>l(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(a);try{s.hooks&&(e=s.hooks.preprocess(e));let c=o(e,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let u=l(c,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(c){return a(c)}}}onError(n,t){return e=>{if(e.message+=`
Please report this to https://github.com/markedjs/marked.`,n){let i="<p>An error occurred:</p><pre>"+Tr(e.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(e);throw e}}},Ba=new cU;function dt(n,t){return Ba.parse(n,t)}dt.options=dt.setOptions=function(n){return Ba.setOptions(n),dt.defaults=Ba.defaults,rM(dt.defaults),dt};dt.getDefaults=N_;dt.defaults=za;dt.use=function(...n){return Ba.use(...n),dt.defaults=Ba.defaults,rM(dt.defaults),dt};dt.walkTokens=function(n,t){return Ba.walkTokens(n,t)};dt.parseInline=Ba.parseInline;dt.Parser=ls;dt.parser=ls.parse;dt.Renderer=Js;dt.TextRenderer=H_;dt.Lexer=os;dt.lexer=os.lex;dt.Tokenizer=Am;dt.Hooks=Tm;dt.parse=dt;var XZ=dt.options,JZ=dt.setOptions,eX=dt.use,tX=dt.walkTokens,iX=dt.parseInline;var nX=ls.parse,rX=os.lex;var uU=["*"],dU="Copy",hU="Copied",mU=(()=>{class n{constructor(){this._buttonClick$=new ue,this.copied$=this._buttonClick$.pipe(Mt(()=>Kt(ge(!0),oh(3e3).pipe(mw(!1)))),mr(),Ps(1)),this.copiedText$=this.copied$.pipe(Bt(!1),Ne(e=>e?hU:dU))}onCopyToClipboardClick(){this._buttonClick$.next()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=le({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(i,r){i&1&&(P(0,"button",0),En(1,"async"),X("click",function(){return r.onCopyToClipboardClick()}),B(2),En(3,"async"),U()),i&2&&(ye("copied",Kn(1,3,r.copied$)),$(2),He(Kn(3,5,r.copiedText$)))},dependencies:[No],encapsulation:2,changeDetection:0})}}return n})(),fU=new J("CLIPBOARD_OPTIONS");var j_=function(n){return n.CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",n}(j_||{}),pM=new J("MARKED_EXTENSIONS"),pU=new J("MARKED_OPTIONS"),gU=new J("MERMAID_OPTIONS"),_U="[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information",bU="[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information",vU="[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information",yU="[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information",CU="[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function",wU="[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information",gM=new J("SECURITY_CONTEXT");var _M=(()=>{class n{get options(){return this._options}set options(e){this._options=H(H({},this.DEFAULT_MARKED_OPTIONS),e)}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}constructor(e,i,r,s,a,o,l,c){this.clipboardOptions=e,this.extensions=i,this.mermaidOptions=s,this.platform=a,this.securityContext=o,this.http=l,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new Js},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new ue,this.reload$=this._reload$.asObservable(),this.options=r}parse(e,i=this.DEFAULT_PARSE_OPTIONS){let{decodeHtml:r,inline:s,emoji:a,mermaid:o,disableSanitizer:l}=i,c=H(H({},this.options),i.markedOptions),u=c.renderer||this.renderer||new Js;this.extensions&&(this.renderer=this.extendsRendererForExtensions(u)),o&&(this.renderer=this.extendsRendererForMermaid(u));let d=this.trimIndentation(e),h=r?this.decodeHtml(d):d,m=a?this.parseEmoji(h):h,f=this.parseMarked(m,c,s);return(l?f:this.sanitizer.sanitize(this.securityContext,f))||""}render(e,i=this.DEFAULT_RENDER_OPTIONS,r){let{clipboard:s,clipboardOptions:a,katex:o,katexOptions:l,mermaid:c,mermaidOptions:u}=i;o&&this.renderKatex(e,H(H({},this.DEFAULT_KATEX_OPTIONS),l)),c&&this.renderMermaid(e,H(H(H({},this.DEFAULT_MERMAID_OPTIONS),this.mermaidOptions),u)),s&&this.renderClipboard(e,r,H(H(H({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),a)),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error(wU);return this.http.get(e,{responseType:"text"}).pipe(Ne(i=>this.handleExtension(e,i)))}highlight(e){if(!es(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);let i=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(i,r=>r.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!es(this.platform))return e;let i=document.createElement("textarea");return i.innerHTML=e,i.value}extendsRendererForExtensions(e){let i=e;return i.\u0275NgxMarkdownRendererExtendedForExtensions===!0||(this.extensions?.length>0&&dt.use(...this.extensions),i.\u0275NgxMarkdownRendererExtendedForExtensions=!0),e}extendsRendererForMermaid(e){let i=e;if(i.\u0275NgxMarkdownRendererExtendedForMermaid===!0)return e;let r=e.code;return e.code=s=>s.lang==="mermaid"?`<div class="mermaid">${s.text}</div>`:r(s),i.\u0275NgxMarkdownRendererExtendedForMermaid=!0,e}handleExtension(e,i){let r=e.lastIndexOf("://"),s=r>-1?e.substring(r+4):e,a=s.lastIndexOf("/"),o=a>-1?s.substring(a+1).split("?")[0]:"",l=o.lastIndexOf("."),c=l>-1?o.substring(l+1):"";return c&&c!=="md"?"```"+c+`
`+i+"\n```":i}parseMarked(e,i,r=!1){if(i.renderer){let s=H({},i.renderer);delete s.\u0275NgxMarkdownRendererExtendedForExtensions,delete s.\u0275NgxMarkdownRendererExtendedForMermaid,delete i.renderer,dt.use({renderer:s})}return r?dt.parseInline(e,i):dt.parse(e,i)}parseEmoji(e){if(!es(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error(_U);return joypixels.shortnameToUnicode(e)}renderKatex(e,i){if(es(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error(bU);renderMathInElement(e,i)}}renderClipboard(e,i,r){if(!es(this.platform))return;if(typeof ClipboardJS>"u")throw new Error(yU);if(!i)throw new Error(CU);let{buttonComponent:s,buttonTemplate:a}=r,o=e.querySelectorAll("pre");for(let l=0;l<o.length;l++){let c=o.item(l),u=document.createElement("div");u.style.position="relative",c.parentNode.insertBefore(u,c),u.appendChild(c);let d=document.createElement("div");d.classList.add("markdown-clipboard-toolbar"),d.style.position="absolute",d.style.top=".5em",d.style.right=".5em",d.style.zIndex="1",u.insertAdjacentElement("beforeend",d),u.onmouseenter=()=>d.classList.add("hover"),u.onmouseleave=()=>d.classList.remove("hover");let h;if(s){let f=i.createComponent(s);h=f.hostView,f.changeDetectorRef.markForCheck()}else if(a)h=i.createEmbeddedView(a);else{let f=i.createComponent(mU);h=f.hostView,f.changeDetectorRef.markForCheck()}let m;h.rootNodes.forEach(f=>{d.appendChild(f),m=new ClipboardJS(f,{text:()=>c.innerText})}),h.onDestroy(()=>m.destroy())}}renderMermaid(e,i=this.DEFAULT_MERMAID_OPTIONS){if(!es(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error(vU);let r=e.querySelectorAll(".mermaid");r.length!==0&&(mermaid.initialize(i),mermaid.run({nodes:r}))}trimIndentation(e){if(!e)return"";let i;return e.split(`
`).map(r=>{let s=i;return r.length>0&&(s=isNaN(s)?r.search(/\S|$/):Math.min(r.search(/\S|$/),s)),isNaN(i)&&(i=s),s?r.substring(s):r}).join(`
`)}static{this.\u0275fac=function(i){return new(i||n)(Re(fU,8),Re(pM,8),Re(pU,8),Re(gU,8),Re(ch),Re(gM),Re(yr,8),Re(Hs))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),bM=(()=>{class n{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(e){this._disableSanitizer=this.coerceBooleanProperty(e)}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}constructor(e,i,r){this.element=e,this.markdownService=i,this.viewContainerRef=r,this.error=new ce,this.load=new ce,this.ready=new ce,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new ue}ngOnChanges(){this.loadContent()}loadContent(){if(this.data!=null){this.handleData();return}if(this.src!=null){this.handleSrc();return}}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(Ye(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e,i=!1){return Lt(this,null,function*(){let r={decodeHtml:i,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,disableSanitizer:this.disableSanitizer},s={clipboard:this.clipboard,clipboardOptions:this.getClipboardOptions(),katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=yield this.markdownService.parse(e,r);this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()})}coerceBooleanProperty(e){return e!=null&&`${String(e)}`!="false"}getClipboardOptions(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e).then(()=>{this.load.emit(e)})},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,j_.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,j_.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,i){let r=e.querySelectorAll("pre");for(let s=0;s<r.length;s++){let a=i instanceof Array?i:[i];r.item(s).classList.add(...a)}}setPluginOptions(e,i){let r=e.querySelectorAll("pre");for(let s=0;s<r.length;s++)Object.keys(i).forEach(a=>{let o=i[a];if(o){let l=this.toLispCase(a);r.item(s).setAttribute(l,o.toString())}})}toLispCase(e){let i=e.match(/([A-Z])/g);if(!i)return e;let r=e.toString();for(let s=0,a=i.length;s<a;s++)r=r.replace(new RegExp(i[s]),"-"+i[s].toLowerCase());return r.slice(0,1)==="-"&&(r=r.slice(1)),r}static{this.\u0275fac=function(i){return new(i||n)(Ae(Te),Ae(_M),Ae(ui))}}static{this.\u0275cmp=le({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[mt],ngContentSelectors:uU,decls:1,vars:0,template:function(i,r){i&1&&(Qe(),Fe(0))},encapsulation:2})}}return n})();function xU(n){return[_M,n?.loader??[],n?.clipboardOptions??[],n?.markedOptions??[],n?.mermaidOptions??[],kU(n?.markedExtensions)??[],{provide:gM,useValue:n?.sanitize??pr.HTML}]}function SU(n){return n!=null&&n.provide!=null}function kU(n){if(n)return n.reduce((t,e)=>{let i=SU(e)?Le(H({},e),{multi:!0}):{provide:pM,useValue:e,multi:!0};return[...t,i]},[])}var vM=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[xU(e)]}}static forChild(){return{ngModule:n}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=he({type:n})}static{this.\u0275inj=de({imports:[Jr]})}}return n})();var TU=n=>({clickable:n});function EU(n,t){if(n&1&&(P(0,"span",9),B(1),U()),n&2){let e=Y().$implicit;$(),He(e.details)}}function AU(n,t){if(n&1&&(P(0,"p"),B(1),U()),n&2){let e=Y().$implicit;$(),He(e.text)}}function IU(n,t){if(n&1&&te(0,"markdown",10),n&2){let e=Y().$implicit;j("data",e.text)}}function DU(n,t){if(n&1&&(P(0,"li",12),B(1),U()),n&2){let e=t.$implicit;$(),je(" ",e," ")}}function RU(n,t){if(n&1&&(P(0,"ol"),oe(1,DU,2,1,"li",11),U()),n&2){let e=Y().$implicit;$(),j("ngForOf",e.sliceInfo)}}function LU(n,t){if(n&1){let e=ze();P(0,"li",3),X("click",function(){let r=re(e).$implicit,s=Y(2);return se(s.select.emit(r))}),P(1,"span",4),B(2),U(),te(3,"span",5)(4,"br"),oe(5,EU,2,1,"span",6)(6,AU,2,1,"p",7)(7,IU,1,1,"markdown",8)(8,RU,2,1,"ol",7),U()}if(n&2){let e=t.$implicit,i=Y(2);ph("issue ",e.severity,""),$(2),He(e.severity),$(),j("innerHtml",i.getTemplateHeaderLine(e),wc),$(2),j("ngIf",e.details),$(),j("ngIf",!e.markdown),$(),j("ngIf",e.markdown),$(),j("ngIf",e.sliceInfo.length)}}function OU(n,t){if(n&1&&(P(0,"ul",1),oe(1,LU,9,9,"li",2),U()),n&2){let e=Y();j("ngClass",Oo(2,TU,e.reactsToClick)),$(),j("ngForOf",e.result.issues)}}var yM=["fatal","error","warning","information"],dl=(()=>{class n{set operationResult(e){this.result=e,this.result&&this.result.issues.length&&this.result.issues.sort(n.sortIssues)}constructor(e){this.sanitized=e,this.select=new ce,this.reactsToClick=!1}ngOnInit(){this.reactsToClick=this.select.observed}static sortIssues(e,i){if(e.markdown)return-1;if(i.markdown)return 1;let r=yM.indexOf(e.severity)-yM.indexOf(i.severity);return r!==0?r:(e.line??0)-(i.line??0)}getTemplateHeaderLine(e){let i="";e.code&&(i+=`<span class="code"> [${e.code}]</span>`),i+=": ";let r=[];return e.line&&r.push(`line ${e.line}`),e.col&&r.push(`column ${e.col}`),e.expression&&r.push(`in <code>${e.expression}</code>`),r.length&&(i+=r.join(", ")+":"),this.sanitized.bypassSecurityTrustHtml(i)}static{this.\u0275fac=function(i){return new(i||n)(Ae(Hs))}}static{this.\u0275cmp=le({type:n,selectors:[["app-operation-result"]],inputs:{operationResult:"operationResult"},outputs:{select:"select"},standalone:!1,decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[1,"severity"],[3,"innerHtml"],["class","details",4,"ngIf"],[4,"ngIf"],[3,"data",4,"ngIf"],[1,"details"],[3,"data"],["class","slice",4,"ngFor","ngForOf"],[1,"slice"]],template:function(i,r){i&1&&oe(0,OU,2,4,"ul",0),i&2&&j("ngIf",r.result)},dependencies:[An,vr,di,bM],styles:[".card-maps[_ngcontent-%COMP%]{margin-bottom:10px}.app-ace-editor[_ngcontent-%COMP%]{border:2px solid #f8f9fa;box-shadow:0 .5rem 1rem #00000026}ul[_ngcontent-%COMP%]{list-style:none;padding:0}.clickable[_ngcontent-%COMP%]   .issue[_ngcontent-%COMP%]{cursor:pointer}.issue[_ngcontent-%COMP%]{border:1px solid #e1e1e1;background:#fbfbfb;border-radius:5px;padding:5px 8px;--color: #000;border-left:4px solid var(--color);margin-bottom:4px}.issue[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0 0}.issue[_ngcontent-%COMP%]   .severity[_ngcontent-%COMP%]{color:var(--color);font-weight:600}.issue.fatal[_ngcontent-%COMP%], .issue.error[_ngcontent-%COMP%]{--color: #d9534f}.issue.warning[_ngcontent-%COMP%]{--color: #f0ad4e}.issue.information[_ngcontent-%COMP%]{--color: #4ca8de}.issue[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-weight:700;font-size:large}[_nghost-%COMP%]     .issue .code{font-size:.9em;color:#636363}[_nghost-%COMP%]     .issue>span>code{background:#e1e1e1;border-radius:4px;padding:2px 4px;font-family:courier,monospace}  .ace-highlight-fatal{position:absolute;background:#c30;opacity:.4}  .ace-highlight-error{position:absolute;background:#f96;opacity:.4}  .ace-highlight-warning{position:absolute;background:#fc0;opacity:.4}  .ace-highlight-information{position:absolute;background:#9c3;opacity:.4}"]})}}return n})();function NU(n,t){n&1&&te(0,"mat-spinner")}function FU(n,t){if(n&1&&te(0,"app-operation-result",4),n&2){let e=Y();j("operationResult",e.operationResult)}}var CM=4,xM=(()=>{class n{constructor(e){this.data=e,this.capabilityStatement=null,this.operationResult=null,this.loading=!0,this.client=e.getFhirClient()}ngAfterViewInit(){this.client.capabilityStatement().then(e=>{this.loading=!1,this.operationResult=null,this.editor=wM.default.edit("code"),this.editor.setReadOnly(!0),this.editor.setValue(JSON.stringify(e,null,CM),-1),this.editor.getSession().setMode("ace/mode/json"),this.editor.setTheme("ace/theme/textmate"),this.editor.commands.removeCommand("find"),this.editor.setOptions({maxLines:1e4,tabSize:CM,wrap:!0,useWorker:!1}),this.editor.resize(!0)}).catch(e=>{console.error(e),this.loading=!1,this.capabilityStatement=null,this.editor&&(this.editor.destroy(),this.editor.container.remove()),this.editor=null,e.response?.data?this.operationResult=Ut.fromOperationOutcome(e.response.data):this.operationResult=Ut.fromMatchboxError(e.message)})}static{this.\u0275fac=function(i){return new(i||n)(Ae(Dn))}}static{this.\u0275cmp=le({type:n,selectors:[["app-capability-statement"]],standalone:!1,decls:10,vars:3,consts:[["id","capability-statement",1,"white-block"],[4,"ngIf"],["id","code"],[3,"operationResult",4,"ngIf"],[3,"operationResult"]],template:function(i,r){i&1&&(P(0,"div",0)(1,"h2"),B(2,"CapabilityStatement"),U(),P(3,"p"),B(4," CapabilityStatement of the server: "),P(5,"code"),B(6),U()(),oe(7,NU,1,0,"mat-spinner",1),te(8,"div",2),oe(9,FU,1,1,"app-operation-result",3),U()),i&2&&($(6),He(r.client.baseUrl),$(),j("ngIf",r.loading),$(2),j("ngIf",r.operationResult))},dependencies:[di,Xs,dl],encapsulation:2})}}return n})();var PU=["*"];var UU=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],$U=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],VU=new J("MAT_CARD_CONFIG"),hl=(()=>{class n{appearance;constructor(){let e=R(VU,{optional:!0});this.appearance=e?.appearance||"raised"}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){i&2&&ye("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:PU,decls:1,vars:0,template:function(i,r){i&1&&(Qe(),Fe(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return n})(),Rm=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})();var ml=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),SM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return n})(),Lm=(()=>{class n{align="start";static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){i&2&&ye("mat-mdc-card-actions-align-end",r.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),Om=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:$U,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){i&1&&(Qe(UU),Fe(0),P(1,"div",0),Fe(2,1),U(),Fe(3,2))},encapsulation:2,changeDetection:0})}return n})(),kM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return n})();var q_=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Oe,Oe]})}return n})();var xi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var Zn=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Zn||{}),Fm,Ha;function Pm(){if(Ha==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ha=!1,Ha;if("scrollBehavior"in document.documentElement.style)Ha=!0;else{let n=Element.prototype.scrollTo;n?Ha=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Ha=!1}}return Ha}function fl(){if(typeof document!="object"||!document)return Zn.NORMAL;if(Fm==null){let n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Fm=Zn.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,Fm=n.scrollLeft===0?Zn.NEGATED:Zn.INVERTED),n.remove()}return Fm}function G_(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var pl,MM=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function K_(){if(pl)return pl;if(typeof document!="object"||!document)return pl=new Set(MM),pl;let n=document.createElement("input");return pl=new Set(MM.filter(t=>(n.setAttribute("type",t),n.type===t))),pl}function fn(n){return n!=null&&`${n}`!="false"}function qt(n){return n==null?"":typeof n=="string"?n:`${n}px`}var Ln=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Ln||{}),Y_=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Ln.HIDDEN;constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},TM=Ys({passive:!0,capture:!0}),Q_=class{_events=new Map;addHandler(t,e,i,r){let s=this._events.get(e);if(s){let a=s.get(i);a?a.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,TM)})}removeHandler(t,e,i){let r=this._events.get(t);if(!r)return;let s=r.get(e);s&&(s.delete(i),s.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,TM)))}_delegateEventHandler=t=>{let e=Li(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}},lu={enterDuration:225,exitDuration:150},BU=800,EM=Ys({passive:!0,capture:!0}),AM=["mousedown","touchstart"],IM=["mouseup","mouseleave","touchend","touchcancel"],zU=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),cu=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Q_;constructor(t,e,i,r,s){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=Oi(i)),s&&s.get(pt).load(zU)}fadeInRipple(t,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=H(H({},lu),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let a=i.radius||HU(t,e,r),o=t-r.left,l=e-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${o-a}px`,u.style.top=`${l-a}px`,u.style.height=`${a*2}px`,u.style.width=`${a*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),h=d.transitionProperty,m=d.transitionDuration,f=h==="none"||m==="0s"||m==="0s, 0s"||r.width===0&&r.height===0,p=new Y_(this,u,i,f);u.style.transform="scale3d(1, 1, 1)",p.state=Ln.FADING_IN,i.persistent||(this._mostRecentTransientRipple=p);let g=null;return!f&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let y=()=>{g&&(g.fallbackTimer=null),clearTimeout(k),this._finishRippleTransition(p)},w=()=>this._destroyRipple(p),k=setTimeout(w,c+100);u.addEventListener("transitionend",y),u.addEventListener("transitioncancel",w),g={onTransitionEnd:y,onTransitionCancel:w,fallbackTimer:k}}),this._activeRipples.set(p,g),(f||!c)&&this._finishRippleTransition(p),p}fadeOutRipple(t){if(t.state===Ln.FADING_OUT||t.state===Ln.HIDDEN)return;let e=t.element,i=H(H({},lu),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=Ln.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Oi(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,AM.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{IM.forEach(e=>{this._triggerElement.addEventListener(e,this,EM)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Ln.FADING_IN?this._startFadeOutTransition(t):t.state===Ln.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Ln.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Ln.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=nl(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+BU;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!rl(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Ln.VISIBLE||t.config.terminateOnPointerUp&&t.state===Ln.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(AM.forEach(e=>n._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(IM.forEach(e=>t.removeEventListener(e,this,EM)),this._pointerUpEventsRegistered=!1))}};function HU(n,t,e){let i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}var Um=new J("mat-ripple-global-options"),pn=(()=>{class n{_elementRef=R(Te);_animationMode=R(ot,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=R(De),i=R(st),r=R(Um,{optional:!0}),s=R(ut);this._globalOptions=r||{},this._rippleRenderer=new cu(this,e,this._elementRef,i,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:H(H(H({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,H(H({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,H(H({},this.rippleConfig),e))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&ye("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var gl=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},ea=class extends gl{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.projectableNodes=s}},Er=class extends gl{templateRef;viewContainerRef;context;injector;constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},$m=class extends gl{element;constructor(t){super(),this.element=t instanceof Te?t.nativeElement:t}},uu=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof ea)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Er)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof $m)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var du=class extends uu{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,i,r,s){super(),this.outletElement=t,this._appRef=i,this._defaultInjector=r,this._document=s}attachComponentPortal(t){let e;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,r=i.get(cg,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let i=this._appRef,r=t.injector||this._defaultInjector||ut.NULL,s=r.get(cn,i.injector);e=_h(t.component,{elementInjector:r,environmentInjector:s,projectableNodes:t.projectableNodes||void 0}),i.attachView(e.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=t,i}attachDomPortal=t=>{let e=t.element;e.parentNode;let i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Z_=(()=>{class n extends Er{constructor(){let e=R(Mn),i=R(ui);super(e,i)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Tt]})}return n})();var ja=(()=>{class n extends uu{_moduleRef=R(cg,{optional:!0});_document=R(Ze);_viewContainerRef=R(ui);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new ce;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=i.createComponent(e.component,{index:i.length,injector:e.injector||i.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=e=>{let i=e.element;i.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Tt]})}return n})();var hu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({})}return n})();var jU=20,_l=(()=>{class n{_ngZone=R(De);_platform=R(st);_renderer=R(Ri).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ue;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=jU){return this._platform.isBrowser?new dr(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(vc(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):ge()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(it(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_scrollableContainsElement(e,i){let r=Oi(i),s=e.getElementRef().nativeElement;do if(r==s)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),X_=(()=>{class n{elementRef=R(Te);scrollDispatcher=R(_l);ngZone=R(De);dir=R(ti,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new ue;_renderer=R(Rt);_cleanupScroll;_elementScrolled=new ue;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let i=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&fl()!=Zn.NORMAL?(e.left!=null&&(e.right=i.scrollWidth-i.clientWidth-e.left),fl()==Zn.INVERTED?e.left=e.right:fl()==Zn.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let i=this.elementRef.nativeElement;Pm()?i.scrollTo(e):(e.top!=null&&(i.scrollTop=e.top),e.left!=null&&(i.scrollLeft=e.left))}measureScrollOffset(e){let i="left",r="right",s=this.elementRef.nativeElement;if(e=="top")return s.scrollTop;if(e=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let a=this.dir&&this.dir.value=="rtl";return e=="start"?e=a?r:i:e=="end"&&(e=a?i:r),a&&fl()==Zn.INVERTED?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&fl()==Zn.NEGATED?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),WU=20,On=(()=>{class n{_platform=R(st);_listeners;_viewportSize;_change=new ue;_document=R(Ze,{optional:!0});constructor(){let e=R(De),i=R(Ri).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=s=>this._change.next(s);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect(),a=-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,o=-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:a,left:o}}change(e=WU){return e>0?this._change.pipe(vc(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({})}return n})(),mu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Zs,gn,Zs,gn]})}return n})();var DM=Pm(),Vm=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=qt(-this._previousScrollPosition.left),t.style.top=qt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,r=e.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),DM&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),DM&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var Bm=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(it(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},fu=class{enable(){}disable(){}attach(){}};function J_(n,t){return t.some(e=>{let i=n.bottom<e.top,r=n.top>e.bottom,s=n.right<e.left,a=n.left>e.right;return i||r||s||a})}function RM(n,t){return t.some(e=>{let i=n.top<e.top,r=n.bottom>e.bottom,s=n.left<e.left,a=n.right>e.right;return i||r||s||a})}var zm=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();J_(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},UM=(()=>{class n{_scrollDispatcher=R(_l);_viewportRuler=R(On);_ngZone=R(De);_document=R(Ze);constructor(){}noop=()=>new fu;close=e=>new Bm(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new Vm(this._viewportRuler,this._document);reposition=e=>new zm(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ta=class{positionStrategy;scrollStrategy=new fu;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var Hm=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var $M=(()=>{class n{_attachedOverlays=[];_document=R(Ze);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VM=(()=>{class n extends $M{_ngZone=R(De);_renderer=R(Ri).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(n)))(r||n)}})();static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BM=(()=>{class n extends $M{_platform=R(st);_ngZone=R(De);_renderer=R(Ri).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let i=this._document.body,r={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[Ot(this._renderer,i,"pointerdown",this._pointerDownListener,r),Ot(this._renderer,i,"click",this._clickListener,r),Ot(this._renderer,i,"auxclick",this._clickListener,r),Ot(this._renderer,i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=Li(e)};_clickListener=e=>{let i=Li(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let s=this._attachedOverlays.slice();for(let a=s.length-1;a>-1;a--){let o=s[a];if(o._outsidePointerEvents.observers.length<1||!o.hasAttached())continue;if(LM(o.overlayElement,i)||LM(o.overlayElement,r))break;let l=o._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(n)))(r||n)}})();static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LM(n,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var zM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),HM=(()=>{class n{_platform=R(st);_containerElement;_document=R(Ze);_styleLoader=R(pt);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||G_()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}let i=this._document.createElement("div");i.classList.add(e),G_()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(zM)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eb=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,i,r){this._renderer=e,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},jm=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new ue;_attachments=new ue;_detachments=new ue;_positionStrategy;_scrollStrategy;_locationChanges=St.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new ue;_outsidePointerEvents=new ue;_renders=new ue;_afterRenderRef;_afterNextRenderRef;constructor(t,e,i,r,s,a,o,l,c,u=!1,d,h){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=o,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._injector=d,this._renderer=h,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=Yn(()=>uh(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Yt(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=H(H({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Le(H({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=qt(this._config.width),t.height=qt(this._config.height),t.minWidth=qt(this._config.minWidth),t.minHeight=qt(this._config.minHeight),t.maxWidth=qt(this._config.maxWidth),t.maxHeight=qt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new eb(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,i){let r=sl(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Ye(Kt(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},OM="cdk-overlay-connected-position-bounding-box",GU=/([A-Za-z%]+)$/,pu=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new ue;_resizeSubscription=St.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(OM),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[],a;for(let o of this._preferredPositions){let l=this._getOriginPoint(t,r,o),c=this._getOverlayPoint(l,e,o),u=this._getOverlayFit(c,e,i,o);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(o,l);return}if(this._canFitWithFlexibleDimensions(u,c,i)){s.push({position:o,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,o)});continue}(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:c,originPoint:l,position:o,overlayRect:e})}if(s.length){let o=null,l=-1;for(let c of s){let u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,o=c)}this._isPushed=!1,this._applyPosition(o.position,o.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Wa(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(OM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,o=this._isRtl()?t.left:t.right;r=i.originX=="start"?a:o}e.left<0&&(r-=e.left);let s;return i.originY=="center"?s=t.top+t.height/2:s=i.originY=="top"?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let s;return i.overlayY=="center"?s=-e.height/2:s=i.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){let s=FM(e),{x:a,y:o}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=l),c&&(o+=c);let u=0-a,d=a+s.width-i.width,h=0-o,m=o+s.height-i.height,f=this._subtractOverflows(s.width,u,d),p=this._subtractOverflows(s.height,h,m),g=f*p;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:p===s.height,fitsInViewportHorizontally:f==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,s=i.right-e.x,a=NM(this._overlayRef.getConfig().minHeight),o=NM(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||a!=null&&a<=r,c=t.fitsInViewportHorizontally||o!=null&&o<=s;return l&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=FM(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),o=Math.max(t.y+r.height-s.height,0),l=Math.max(s.top-i.top-t.y,0),c=Math.max(s.left-i.left-t.x,0),u=0,d=0;return r.width<=s.width?u=c||-a:u=t.x<this._viewportMargin?s.left-i.left-t.x:0,r.height<=s.height?d=l||-o:d=t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!KU(this._lastScrollVisibility,i)){let r=new Hm(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,r=this._isRtl(),s,a,o;if(e.overlayY==="top")a=t.y,s=i.height-a+this._viewportMargin;else if(e.overlayY==="bottom")o=i.height-t.y+this._viewportMargin*2,s=i.height-o+this._viewportMargin;else{let m=Math.min(i.bottom-t.y+i.top,t.y),f=this._lastBoundingBoxSize.height;s=m*2,a=t.y-m,s>f&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-f/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,u,d,h;if(c)h=i.width-t.x+this._viewportMargin*2,u=t.x-this._viewportMargin;else if(l)d=t.x,u=i.right-t.x;else{let m=Math.min(i.right-t.x+i.left,t.x),f=this._lastBoundingBoxSize.width;u=m*2,d=t.x-m,u>f&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-f/2)}return{top:a,left:d,bottom:o,right:h,width:u,height:s}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=qt(i.height),r.top=qt(i.top),r.bottom=qt(i.bottom),r.width=qt(i.width),r.left=qt(i.left),r.right=qt(i.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",s&&(r.maxHeight=qt(s)),a&&(r.maxWidth=qt(a))}this._lastBoundingBoxSize=i,Wa(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Wa(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Wa(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){let u=this._viewportRuler.getViewportScrollPosition();Wa(i,this._getExactOverlayY(e,t,u)),Wa(i,this._getExactOverlayX(e,t,u))}else i.position="static";let o="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(o+=`translateX(${l}px) `),c&&(o+=`translateY(${c}px)`),i.transform=o.trim(),a.maxHeight&&(r?i.maxHeight=qt(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=qt(a.maxWidth):s&&(i.maxWidth="")),Wa(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;r.bottom=`${a-(s.y+this._overlayRect.height)}px`}else r.top=qt(s.y);return r}_getExactOverlayX(t,e,i){let r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let o=this._document.documentElement.clientWidth;r.right=`${o-(s.x+this._overlayRect.width)}px`}else r.left=qt(s.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:RM(t,i),isOriginOutsideView:J_(t,i),isOverlayClipped:RM(e,i),isOverlayOutsideView:J_(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&sl(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Te)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function Wa(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function NM(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(GU);return!e||e==="px"?parseFloat(t):null}return n||null}function FM(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function KU(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var PM="cdk-global-overlay-wrapper",Wm=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(PM),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:o}=i,l=(r==="100%"||r==="100vw")&&(!a||a==="100%"||a==="100vw"),c=(s==="100%"||s==="100vh")&&(!o||o==="100%"||o==="100vh"),u=this._xPosition,d=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",m="",f="",p="";l?p="flex-start":u==="center"?(p="center",h?f=d:m=d):h?u==="left"||u==="end"?(p="flex-end",m=d):(u==="right"||u==="start")&&(p="flex-start",f=d):u==="left"||u==="start"?(p="flex-start",m=d):(u==="right"||u==="end")&&(p="flex-end",f=d),t.position=this._cssPosition,t.marginLeft=l?"0":m,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":f,e.justifyContent=p,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(PM),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},jM=(()=>{class n{_viewportRuler=R(On);_document=R(Ze);_platform=R(st);_overlayContainer=R(HM);constructor(){}global(){return new Wm}flexibleConnectedTo(e){return new pu(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gt=(()=>{class n{scrollStrategies=R(UM);_overlayContainer=R(HM);_positionBuilder=R(jM);_keyboardDispatcher=R(VM);_injector=R(ut);_ngZone=R(De);_document=R(Ze);_directionality=R(ti);_location=R(Bs);_outsideClickDispatcher=R(BM);_animationsModuleType=R(ot,{optional:!0});_idGenerator=R(At);_renderer=R(Ri).createRenderer(null,null);_appRef;_styleLoader=R(pt);constructor(){}create(e){this._styleLoader.load(zM);let i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new ta(e);return a.direction=a.direction||this._directionality.value,new jm(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(cn),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Gn)),new du(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YU=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],WM=new J("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=R(Gt);return()=>n.scrollStrategies.reposition()}}),bl=(()=>{class n{elementRef=R(Te);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return n})(),qm=(()=>{class n{_overlay=R(Gt);_dir=R(ti,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=St.EMPTY;_attachSubscription=St.EMPTY;_detachSubscription=St.EMPTY;_positionSubscription=St.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=R(WM);_disposeOnNavigation=!1;_ngZone=R(De);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new ce;positionChange=new ce;attach=new ce;detach=new ce;overlayKeydown=new ce;overlayOutsideClick=new ce;constructor(){let e=R(Mn),i=R(ui);this._templatePortal=new Er(e,i),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=YU);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!wi(i)&&(i.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let r=this._getOriginElement(),s=Li(i);(!r||r!==s&&!r.contains(s))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new ta({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){let i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof bl?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof bl?this.origin.elementRef.nativeElement:this.origin instanceof Te?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(_w(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",_e],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",_e],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",_e],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",_e],push:[2,"cdkConnectedOverlayPush","push",_e],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",_e]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[mt]})}return n})();function QU(n){return()=>n.scrollStrategies.reposition()}var ZU={provide:WM,deps:[Gt],useFactory:QU},Xn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({providers:[Gt,ZU],imports:[Zs,hu,mu,mu]})}return n})();var Ar=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Oe,Oe]})}return n})();var XU=["mat-menu-item",""],JU=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],e$=["mat-icon, [matMenuItemIcon]","*"];function t$(n,t){n&1&&(Ht(),P(0,"svg",2),te(1,"polygon",3),U())}var i$=new J("MAT_MENU_PANEL"),Gm=(()=>{class n{_elementRef=R(Te);_document=R(Ze);_focusMonitor=R(mn);_parentMenu=R(i$,{optional:!0});_changeDetectorRef=R(Ge);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new ue;_focused=new ue;_highlighted=!1;_triggersSubmenu=!1;constructor(){R(pt).load(xi),this._parentMenu?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(i,r){i&1&&X("click",function(a){return r._checkDisabled(a)})("mouseenter",function(){return r._handleMouseEnter()}),i&2&&(Se("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),ye("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",_e],disableRipple:[2,"disableRipple","disableRipple",_e]},exportAs:["matMenuItem"],attrs:XU,ngContentSelectors:e$,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){i&1&&(Qe(JU),Fe(0),P(1,"span",0),Fe(2,1),U(),te(3,"div",1),oe(4,t$,2,0,":svg:svg",2)),i&2&&($(3),j("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),$(),Je(r._triggersSubmenu?4:-1))},dependencies:[pn],encapsulation:2,changeDetection:0})}return n})();var n$=new J("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=R(Gt);return()=>n.scrollStrategies.reposition()}});function r$(n){return()=>n.scrollStrategies.reposition()}var s$={provide:n$,deps:[Gt],useFactory:r$};var tb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({providers:[s$],imports:[Ar,Oe,Xn,gn,Oe]})}return n})(),qM={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},dte=qM.fadeInItems,hte=qM.transformMenu;var KM=(()=>{class n{constructor(){this.version=window.MATCHBOX_VERSION}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=le({type:n,selectors:[["app-home"]],standalone:!1,decls:31,vars:1,consts:[[1,"primary"],["mat-menu-item","","routerLink","/validate"],["mat-menu-item","","routerLink","/igs"],["mat-menu-item","","routerLink","/settings"],["href","https://fhirpath-lab.com/fml","target","_blank"],["href","https://tx.fhir.org/tx-reg/","target","_blank"],["href","https://www.ahdis.ch","rel","external nofollow noopener","target","_blank"]],template:function(i,r){i&1&&(P(0,"mat-card",0)(1,"mat-card-content")(2,"button",1)(3,"mat-icon"),B(4,"rule"),U(),P(5,"span"),B(6,"Validate resource"),U()(),P(7,"button",2)(8,"mat-icon"),B(9,"info"),U(),P(10,"span"),B(11,"Installed IGs"),U()(),P(12,"button",3)(13,"mat-icon"),B(14,"settings"),U(),P(15,"span"),B(16,"Settings"),U()(),P(17,"p"),B(18,"Other tools:"),U(),P(19,"ul")(20,"li")(21,"a",4),B(22,"Select matchbox in Fhirpath Lab top right to use FML with our test instance"),U()(),P(23,"li")(24,"a",5),B(25,"FHIR Tx Server Registry"),U()()()(),P(26,"mat-card-footer")(27,"p"),B(28),P(29,"a",6),B(30," contact"),U()()()()),i&2&&($(28),je(" Matchbox version: ",r.version," | "))},dependencies:[hl,ml,kM,Rn,Gm,Yo],styles:["mat-card.primary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:20px}mat-card.primary[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;vertical-align:middle;color:#68c39a}mat-card.primary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:30px 0 15px}mat-card.primary[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem}"]})}}return n})();var tT=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(Ae(Rt),Ae(Te))};static \u0275dir=xe({type:n})}return n})(),o$=(()=>{class n extends tT{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(n)))(r||n)}})();static \u0275dir=xe({type:n,features:[Tt]})}return n})(),cs=new J("");var l$={provide:cs,useExisting:Ci(()=>Ir),multi:!0};function c$(){let n=mg()?mg().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var u$=new J(""),Ir=(()=>{class n extends tT{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!c$())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(Ae(Rt),Ae(Te),Ae(u$,8))};static \u0275dir=xe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&X("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},standalone:!1,features:[rt([l$]),Tt]})}return n})();function rb(n){return n==null||sb(n)===0}function sb(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var na=new J(""),af=new J(""),d$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_n=class{static min(t){return h$(t)}static max(t){return m$(t)}static required(t){return f$(t)}static requiredTrue(t){return p$(t)}static email(t){return g$(t)}static minLength(t){return _$(t)}static maxLength(t){return b$(t)}static pattern(t){return v$(t)}static nullValidator(t){return iT()}static compose(t){return lT(t)}static composeAsync(t){return cT(t)}};function h$(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function m$(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function f$(n){return rb(n.value)?{required:!0}:null}function p$(n){return n.value===!0?null:{required:!0}}function g$(n){return rb(n.value)||d$.test(n.value)?null:{email:!0}}function _$(n){return t=>{let e=t.value?.length??sb(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function b$(n){return t=>{let e=t.value?.length??sb(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function v$(n){if(!n)return iT;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(rb(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function iT(n){return null}function nT(n){return n!=null}function rT(n){return fh(n)?si(n):n}function sT(n){let t={};return n.forEach(e=>{t=e!=null?H(H({},t),e):t}),Object.keys(t).length===0?null:t}function aT(n,t){return t.map(e=>e(n))}function y$(n){return!n.validate}function oT(n){return n.map(t=>y$(t)?t:e=>t.validate(e))}function lT(n){if(!n)return null;let t=n.filter(nT);return t.length==0?null:function(e){return sT(aT(e,t))}}function ab(n){return n!=null?lT(oT(n)):null}function cT(n){if(!n)return null;let t=n.filter(nT);return t.length==0?null:function(e){let i=aT(e,t).map(rT);return Mo(i).pipe(Ne(sT))}}function ob(n){return n!=null?cT(oT(n)):null}function YM(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function uT(n){return n._rawValidators}function dT(n){return n._rawAsyncValidators}function ib(n){return n?Array.isArray(n)?n:[n]:[]}function Ym(n,t){return Array.isArray(n)?n.includes(t):n===t}function QM(n,t){let e=ib(t);return ib(n).forEach(r=>{Ym(e,r)||e.push(r)}),e}function ZM(n,t){return ib(t).filter(e=>!Ym(n,e))}var Qm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ab(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ob(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},qa=class extends Qm{name;get formDirective(){return null}get path(){return null}},Jn=class extends Qm{_parent=null;name=null;valueAccessor=null},nb=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},C$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ite=Le(H({},C$),{"[class.ng-submitted]":"isSubmitted"}),Dr=(()=>{class n extends nb{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(Ae(Jn,2))};static \u0275dir=xe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&ye("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Tt]})}return n})();var gu="VALID",Km="INVALID",yl="PENDING",_u="DISABLED",ia=class{},Zm=class extends ia{value;source;constructor(t,e){super(),this.value=t,this.source=e}},vu=class extends ia{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},yu=class extends ia{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Cl=class extends ia{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Xm=class extends ia{source;constructor(t){super(),this.source=t}},Jm=class extends ia{source;constructor(t){super(),this.source=t}};function hT(n){return(of(n)?n.validators:n)||null}function w$(n){return Array.isArray(n)?ab(n):n||null}function mT(n,t){return(of(t)?t.asyncValidators:n)||null}function x$(n){return Array.isArray(n)?ob(n):n||null}function of(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function S$(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new Be(1e3,"");if(!i[e])throw new Be(1001,"")}function k$(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new Be(1002,"")})}var ef=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Yn(this.statusReactive)}set status(t){Yn(()=>this.statusReactive.set(t))}_status=br(()=>this.statusReactive());statusReactive=Di(void 0);get valid(){return this.status===gu}get invalid(){return this.status===Km}get pending(){return this.status==yl}get disabled(){return this.status===_u}get enabled(){return this.status!==_u}errors;get pristine(){return Yn(this.pristineReactive)}set pristine(t){Yn(()=>this.pristineReactive.set(t))}_pristine=br(()=>this.pristineReactive());pristineReactive=Di(!0);get dirty(){return!this.pristine}get touched(){return Yn(this.touchedReactive)}set touched(t){Yn(()=>this.touchedReactive.set(t))}_touched=br(()=>this.touchedReactive());touchedReactive=Di(!1);get untouched(){return!this.touched}_events=new ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(QM(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(QM(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ZM(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ZM(t,this._rawAsyncValidators))}hasValidator(t){return Ym(this._rawValidators,t)}hasAsyncValidator(t){return Ym(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Le(H({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new yu(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new yu(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Le(H({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new vu(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new vu(!0,i))}markAsPending(t={}){this.status=yl;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Cl(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Le(H({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=_u,this.errors=null,this._forEachChild(r=>{r.disable(Le(H({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Zm(this.value,i)),this._events.next(new Cl(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Le(H({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=gu,this._forEachChild(i=>{i.enable(Le(H({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Le(H({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gu||this.status===yl)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Zm(this.value,e)),this._events.next(new Cl(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Le(H({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_u:gu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=yl,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=rT(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Cl(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new ce,this.statusChanges=new ce}_calculateStatus(){return this._allControlsDisabled()?_u:this.errors?Km:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yl)?yl:this._anyControlsHaveStatus(Km)?Km:gu}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new vu(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new yu(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){of(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=w$(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=x$(this._rawAsyncValidators)}},tf=class extends ef{constructor(t,e,i){super(hT(e),mT(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){k$(this,!0,t),Object.keys(t).forEach(i=>{S$(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var wl=new J("",{providedIn:"root",factory:()=>lf}),lf="always";function M$(n,t){return[...t.path,n]}function Cu(n,t,e=lf){lb(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),E$(n,t),I$(n,t),A$(n,t),T$(n,t)}function nf(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),sf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rf(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function T$(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function lb(n,t){let e=uT(n);t.validator!==null?n.setValidators(YM(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=dT(n);t.asyncValidator!==null?n.setAsyncValidators(YM(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();rf(t._rawValidators,r),rf(t._rawAsyncValidators,r)}function sf(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=uT(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(a=>a!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(t.asyncValidator!==null){let r=dT(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(a=>a!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}let i=()=>{};return rf(t._rawValidators,i),rf(t._rawAsyncValidators,i),e}function E$(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&fT(n,t)})}function A$(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&fT(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function fT(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function I$(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function pT(n,t){n==null,lb(n,t)}function D$(n,t){return sf(n,t)}function gT(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function R$(n){return Object.getPrototypeOf(n.constructor)===o$}function _T(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function bT(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(s=>{s.constructor===Ir?e=s:R$(s)?i=s:r=s}),r||i||e||null}function L$(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var O$={provide:qa,useExisting:Ci(()=>wu)},bu=Promise.resolve(),wu=(()=>{class n extends qa{callSetDisabledState;get submitted(){return Yn(this.submittedReactive)}_submitted=br(()=>this.submittedReactive());submittedReactive=Di(!1);_directives=new Set;form;ngSubmit=new ce;options;constructor(e,i,r){super(),this.callSetDisabledState=r,this.form=new tf({},ab(e),ob(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){bu.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Cu(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){bu.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){bu.then(()=>{let i=this._findContainer(e.path),r=new tf({});pT(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){bu.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){bu.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),_T(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Xm(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new Jm(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||n)(Ae(na,10),Ae(af,10),Ae(wl,8))};static \u0275dir=xe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&X("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[rt([O$]),Tt]})}return n})();function XM(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function JM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Rr=class extends ef{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(hT(e),mT(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),of(e)&&(e.nonNullable||e.initialValueIsDefault)&&(JM(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){XM(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){XM(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){JM(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},us=Rr,N$=n=>n instanceof Rr;var F$={provide:Jn,useExisting:Ci(()=>cb)},eT=Promise.resolve(),cb=(()=>{class n extends Jn{_changeDetectorRef;callSetDisabledState;control=new Rr;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ce;constructor(e,i,r,s,a,o){super(),this._changeDetectorRef=a,this.callSetDisabledState=o,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=bT(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),gT(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Cu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){eT.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&_e(i);eT.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?M$(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(Ae(qa,9),Ae(na,10),Ae(af,10),Ae(cs,10),Ae(Ge,8),Ae(wl,8))};static \u0275dir=xe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[rt([F$]),Tt,mt]})}return n})();var vT=new J(""),P$={provide:Jn,useExisting:Ci(()=>er)},er=(()=>{class n extends Jn{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new ce;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=bT(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){let i=e.form.previousValue;i&&nf(i,this,!1),Cu(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}gT(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&nf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||n)(Ae(na,10),Ae(af,10),Ae(cs,10),Ae(vT,8),Ae(wl,8))};static \u0275dir=xe({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[rt([P$]),Tt,mt]})}return n})(),U$={provide:qa,useExisting:Ci(()=>xu)},xu=(()=>{class n extends qa{callSetDisabledState;get submitted(){return Yn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=br(()=>this._submittedReactive());_submittedReactive=Di(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ce;constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return Cu(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){nf(e.control||null,e,!1),L$(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),_T(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Xm(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Jm(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(nf(i||null,e),N$(r)&&(Cu(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);pT(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&D$(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lb(this.form,this),this._oldForm&&sf(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(Ae(na,10),Ae(af,10),Ae(wl,8))};static \u0275dir=xe({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&X("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[rt([U$]),Tt,mt]})}return n})();var yT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({})}return n})();var ub=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:wl,useValue:e.callSetDisabledState??lf}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[yT]})}return n})(),Su=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:vT,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:wl,useValue:e.callSetDisabledState??lf}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[yT]})}return n})();var FT=Os(im());var db=class{_box;_destroyed=new ue;_resizeSubject=new ue;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new dr(e=>{let i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(it(e=>e.some(i=>i.target===t)),Ps({bufferSize:1,refCount:!0}),Ye(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},cf=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=R(De);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new db(r)),this._observers.get(r).observe(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $$=["notch"],V$=["matFormFieldNotchedOutline",""],B$=["*"],z$=["textField"],H$=["iconPrefixContainer"],j$=["textPrefixContainer"],W$=["iconSuffixContainer"],q$=["textSuffixContainer"],G$=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],K$=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Y$(n,t){n&1&&te(0,"span",20)}function Q$(n,t){if(n&1&&(P(0,"label",19),Fe(1,1),oe(2,Y$,1,0,"span",20),U()),n&2){let e=Y(2);j("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Se("for",e._control.disableAutomaticLabeling?null:e._control.id),$(2),Je(!e.hideRequiredMarker&&e._control.required?2:-1)}}function Z$(n,t){if(n&1&&oe(0,Q$,3,5,"label",19),n&2){let e=Y();Je(e._hasFloatingLabel()?0:-1)}}function X$(n,t){n&1&&te(0,"div",7)}function J$(n,t){}function eV(n,t){if(n&1&&oe(0,J$,0,0,"ng-template",13),n&2){Y(2);let e=jt(1);j("ngTemplateOutlet",e)}}function tV(n,t){if(n&1&&(P(0,"div",9),oe(1,eV,1,1,null,13),U()),n&2){let e=Y();j("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),$(),Je(e._forceDisplayInfixLabel()?-1:1)}}function iV(n,t){n&1&&(P(0,"div",10,2),Fe(2,2),U())}function nV(n,t){n&1&&(P(0,"div",11,3),Fe(2,3),U())}function rV(n,t){}function sV(n,t){if(n&1&&oe(0,rV,0,0,"ng-template",13),n&2){Y();let e=jt(1);j("ngTemplateOutlet",e)}}function aV(n,t){n&1&&(P(0,"div",14,4),Fe(2,4),U())}function oV(n,t){n&1&&(P(0,"div",15,5),Fe(2,5),U())}function lV(n,t){n&1&&te(0,"div",16)}function cV(n,t){n&1&&Fe(0,6)}function uV(n,t){if(n&1&&(P(0,"mat-hint",21),B(1),U()),n&2){let e=Y(2);j("id",e._hintLabelId),$(),He(e.hintLabel)}}function dV(n,t){if(n&1&&(oe(0,uV,2,2,"mat-hint",21),Fe(1,7),te(2,"div",22),Fe(3,8)),n&2){let e=Y();Je(e.hintLabel?0:-1)}}var ds=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["mat-label"]]})}return n})(),hb=new J("MatError"),Ka=(()=>{class n{id=R(At).getId("mat-mdc-error-");constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:[1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){i&2&&Tn("id",r.id)},inputs:{id:"id"},features:[rt([{provide:hb,useExisting:n}])]})}return n})(),Ga=(()=>{class n{align="start";id=R(At).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(Tn("id",r.id),Se("align",null),ye("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),TT=new J("MatPrefix");var ET=new J("MatSuffix");var AT=new J("FloatingLabelParent"),CT=(()=>{class n{_elementRef=R(Te);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=R(cf);_ngZone=R(De);_parent=R(AT);_resizeSubscription=new St;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return hV(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&ye("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function hV(n){let t=n;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let i=e.scrollWidth;return e.remove(),i}var wT="mdc-line-ripple--active",uf="mdc-line-ripple--deactivating",xT=(()=>{class n{_elementRef=R(Te);_cleanupTransitionEnd;constructor(){let e=R(De),i=R(Rt);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(uf),e.add(wT)}deactivate(){this._elementRef.nativeElement.classList.add(uf)}_handleTransitionEnd=e=>{let i=this._elementRef.nativeElement.classList,r=i.contains(uf);e.propertyName==="opacity"&&r&&i.remove(wT,uf)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),ST=(()=>{class n{_elementRef=R(Te);_ngZone=R(De);open=!1;_notch;constructor(){}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&Pe($$,5),i&2){let s;ke(s=Me())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&ye("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:V$,ngContentSelectors:B$,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(Qe(),te(0,"div",1),P(1,"div",2,0),Fe(3),U(),te(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),xl=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n})}return n})();var Sl=new J("MatFormField"),IT=new J("MAT_FORM_FIELD_DEFAULT_OPTIONS"),kT="fill",mV="auto",MT="fixed",fV="translateY(-50%)",bn=(()=>{class n{_elementRef=R(Te);_changeDetectorRef=R(Ge);_dir=R(ti);_platform=R(st);_idGenerator=R(At);_ngZone=R(De);_injector=R(ut);_defaults=R(IT,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=Tw(ds);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=fn(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||mV}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(e){let i=this._appearance,r=e||this._defaults?.appearance||kT;this._appearance=r,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=kT;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||MT}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||MT}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new ue;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled;constructor(){let e=this._defaults;e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),this._animationsDisabled=R(ot,{optional:!0})==="NoopAnimations"}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=br(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let i=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(Bt([void 0,void 0]),Ne(()=>[i.errorState,i.userAriaDescribedBy]),ag(),it(([[s,a],[o,l]])=>s!==o||a!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Ye(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Kt(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),uh(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Ye(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=br(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let i=this._control?this._control.ngControl:null;return i&&i[e]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let i=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,r=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=this._iconSuffixContainer?.nativeElement,a=this._textSuffixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,c=s?.getBoundingClientRect().width??0,u=a?.getBoundingClientRect().width??0,d=this._dir.value==="rtl"?"-1":"1",h=`${o+l}px`,f=`calc(${d} * (${h} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${fV} translateX(${f})
    )`;let p=o+l+c+u;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${p}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(i&1&&(Lw(s,r._labelChild,ds,5),Et(s,xl,5),Et(s,TT,5),Et(s,ET,5),Et(s,hb,5),Et(s,Ga,5)),i&2){Ow();let a;ke(a=Me())&&(r._formFieldControl=a.first),ke(a=Me())&&(r._prefixChildren=a),ke(a=Me())&&(r._suffixChildren=a),ke(a=Me())&&(r._errorChildren=a),ke(a=Me())&&(r._hintChildren=a)}},viewQuery:function(i,r){if(i&1&&(Pe(z$,5),Pe(H$,5),Pe(j$,5),Pe(W$,5),Pe(q$,5),Pe(CT,5),Pe(ST,5),Pe(xT,5)),i&2){let s;ke(s=Me())&&(r._textField=s.first),ke(s=Me())&&(r._iconPrefixContainer=s.first),ke(s=Me())&&(r._textPrefixContainer=s.first),ke(s=Me())&&(r._iconSuffixContainer=s.first),ke(s=Me())&&(r._textSuffixContainer=s.first),ke(s=Me())&&(r._floatingLabel=s.first),ke(s=Me())&&(r._notchedOutline=s.first),ke(s=Me())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(i,r){i&2&&ye("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[rt([{provide:Sl,useExisting:n},{provide:AT,useExisting:n}])],ngContentSelectors:K$,decls:20,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let s=ze();Qe(G$),oe(0,Z$,1,1,"ng-template",null,0,Ma),P(2,"div",6,1),X("click",function(o){return re(s),se(r._control.onContainerClick(o))}),oe(4,X$,1,0,"div",7),P(5,"div",8),oe(6,tV,2,2,"div",9)(7,iV,3,0,"div",10)(8,nV,3,0,"div",11),P(9,"div",12),oe(10,sV,1,1,null,13),Fe(11),U(),oe(12,aV,3,0,"div",14)(13,oV,3,0,"div",15),U(),oe(14,lV,1,0,"div",16),U(),P(15,"div",17),Nw(16),P(17,"div",18),oe(18,cV,1,0)(19,dV,4,1),U()()}if(i&2){let s;$(2),ye("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),$(2),Je(!r._hasOutline()&&!r._control.disabled?4:-1),$(2),Je(r._hasOutline()?6:-1),$(),Je(r._hasIconPrefix?7:-1),$(),Je(r._hasTextPrefix?8:-1),$(2),Je(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),$(2),Je(r._hasTextSuffix?12:-1),$(),Je(r._hasIconSuffix?13:-1),$(),Je(r._hasOutline()?-1:14),$(),ye("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let a=r._getSubscriptMessageType();$(2),ye("mat-mdc-form-field-error-wrapper",a==="error")("mat-mdc-form-field-hint-wrapper",a==="hint"),$(),Je((s=a)==="error"?18:s==="hint"?19:-1)}},dependencies:[CT,ST,bh,xT,Ga],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return n})();var hs=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Oe,dm,Oe]})}return n})();var DT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return n})(),pV={passive:!0},RT=(()=>{class n{_platform=R(st);_ngZone=R(De);_renderer=R(Ri).createRenderer(null,null);_styleLoader=R(pt);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return on;this._styleLoader.load(DT);let i=Oi(e),r=this._monitoredElements.get(i);if(r)return r.subject;let s=new ue,a="cdk-text-field-autofilled",o=c=>{c.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(a)?(i.classList.add(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),Ot(this._renderer,i,"animationstart",o,pV)));return this._monitoredElements.set(i,{subject:s,unlisten:l}),s}stopMonitoring(e){let i=Oi(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LT=(()=>{class n{_elementRef=R(Te);_platform=R(st);_ngZone=R(De);_renderer=R(Rt);_resizeEvents=new ue;_previousValue;_initialHeight;_destroyed=new ue;_listenerCleanups;_minRows;_maxRows;_enabled=!0;_previousMinRows=-1;_textareaElement;get minRows(){return this._minRows}set minRows(e){this._minRows=kr(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=kr(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,e?this._textareaElement.setAttribute("placeholder",e):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_cachedLineHeight;_cachedPlaceholderHeight;_cachedScrollTop;_document=R(Ze,{optional:!0});_hasFocus;_isViewInited=!1;constructor(){R(pt).load(DT),this._textareaElement=this._elementRef.nativeElement}_setMinHeight(){let e=this.minRows&&this._cachedLineHeight?`${this.minRows*this._cachedLineHeight}px`:null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){let e=this.maxRows&&this._cachedLineHeight?`${this.maxRows*this._cachedLineHeight}px`:null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{this._listenerCleanups=[this._renderer.listen("window","resize",()=>this._resizeEvents.next()),this._renderer.listen(this._textareaElement,"focus",this._handleFocusEvent),this._renderer.listen(this._textareaElement,"blur",this._handleFocusEvent)],this._resizeEvents.pipe(vc(16)).subscribe(()=>{this._cachedLineHeight=this._cachedPlaceholderHeight=void 0,this.resizeToFitContent(!0)})}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._listenerCleanups?.forEach(e=>e()),this._resizeEvents.complete(),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1),i=e.style;e.rows=1,i.position="absolute",i.visibility="hidden",i.border="none",i.padding="0",i.height="",i.minHeight="",i.maxHeight="",i.top=i.bottom=i.left=i.right="auto",i.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,e.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){let e=this._textareaElement,i=e.style.marginBottom||"",r=this._platform.FIREFOX,s=r&&this._hasFocus,a=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";s&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(a);let o=e.scrollHeight-4;return e.classList.remove(a),s&&(e.style.marginBottom=i),o}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||this._cachedPlaceholderHeight!=null)return;if(!this.placeholder){this._cachedPlaceholderHeight=0;return}let e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}_handleFocusEvent=e=>{this._hasFocus=e.type==="focus"};ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),this._cachedScrollTop=this._textareaElement.scrollTop,!this._cachedLineHeight))return;let i=this._elementRef.nativeElement,r=i.value;if(!e&&this._minRows===this._previousMinRows&&r===this._previousValue)return;let s=this._measureScrollHeight(),a=Math.max(s,this._cachedPlaceholderHeight||0);i.style.height=`${a}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){this._initialHeight!==void 0&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_scrollToCaretPosition(e){let{selectionStart:i,selectionEnd:r}=e;!this._destroyed.isStopped&&this._hasFocus&&(e.setSelectionRange(i,r),e.scrollTop=this._cachedScrollTop)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(i,r){i&1&&X("input",function(){return r._noopInputHandler()})},inputs:{minRows:[0,"cdkAutosizeMinRows","minRows"],maxRows:[0,"cdkAutosizeMaxRows","maxRows"],enabled:[2,"cdkTextareaAutosize","enabled",_e],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]})}return n})(),OT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({})}return n})();var NT=new J("MAT_INPUT_VALUE_ACCESSOR");var hf=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kl=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,e,i,r,s){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=s}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=i?.isErrorState(r,e)??!1;s!==t&&(this.errorState=s,this._stateChanges.next())}};var _V=["button","checkbox","file","hidden","image","radio","range","reset","submit"],bV=new J("MAT_INPUT_CONFIG"),Ml=(()=>{class n{_elementRef=R(Te);_platform=R(st);ngControl=R(Jn,{optional:!0,self:!0});_autofillMonitor=R(RT);_ngZone=R(De);_formField=R(Sl,{optional:!0});_renderer=R(Rt);_uid=R(At).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=R(bV,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new ue;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=fn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(_n.required)??!1}set required(e){this._required=fn(e)}_required;get type(){return this._type}set type(e){let i=this._type;this._type=e||"text",this._validateType(),!this._isTextarea&&K_().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==i&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=fn(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>K_().has(e));constructor(){let e=R(wu,{optional:!0}),i=R(xu,{optional:!0}),r=R(hf),s=R(NT,{optional:!0,self:!0}),a=this._elementRef.nativeElement,o=a.nodeName.toLowerCase();s?ka(s.value)?this._signalBasedValueAccessor=s:this._inputValueAccessor=s:this._inputValueAccessor=a,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(a,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new kl(r,this.ngControl,i,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=o==="select",this._isTextarea=o==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=a.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&gh(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){_V.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){let i=this._elementRef.nativeElement,r=i.getAttribute("aria-describedby"),s;if(r){let a=this._formFieldDescribedBy||e;s=e.concat(r.split(" ").filter(o=>o&&!a.includes(o)))}else s=e;this._formFieldDescribedBy=e,s.length?i.setAttribute("aria-describedby",s.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let i=e.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){i&1&&X("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(Tn("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Se("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),ye("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",_e]},exportAs:["matInput"],features:[rt([{provide:xl,useExisting:n}]),mt]})}return n})(),mb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Oe,hs,hs,OT,Oe]})}return n})();function vV(n,t){if(n&1&&(P(0,"li"),B(1),U()),n&2){let e=t.$implicit;$(),je(" ",e.diagnostics," ")}}function yV(n,t){if(n&1&&(P(0,"mat-error")(1,"ul"),oe(2,vV,2,1,"li",7),U()()),n&2){let e=Y();$(2),j("ngForOf",e.operationOutcome.issue)}}function CV(n,t){if(n&1&&(P(0,"mat-hint"),B(1),U()),n&2){let e=Y();$(),je("Successfully created on server: ",e.structureMap.url," ")}}function wV(n,t){if(n&1&&(P(0,"li"),B(1),U()),n&2){let e=t.$implicit;$(),je(" ",e.diagnostics," ")}}function xV(n,t){if(n&1&&(P(0,"mat-error")(1,"ul"),oe(2,wV,2,1,"li",7),U()()),n&2){let e=Y();$(2),j("ngForOf",e.operationOutcomeTransformed.issue)}}var mf=class n{static{this.log=(0,FT.default)("app:")}constructor(t,e){this.cd=t,this.data=e,this.client=e.getFhirClient(),this.source=new us,this.map=new us,this.structureMap=null,this.map.valueChanges.pipe(Ii(1e3),mr()).subscribe(i=>{n.log("create StructureMap"),this.client.create({resourceType:"StructureMap",body:i,headers:{accept:"application/fhir+json","content-type":"text/fhir-mapping"}}).then(r=>{this.operationOutcome=null,this.structureMap=r,this.transform()}).catch(r=>{this.structureMap=null,this.operationOutcome=r.response.data})}),this.source.valueChanges.pipe(Ii(1e3),mr()).subscribe(i=>this.transform())}transform(){n.log("transform Source");let t=JSON.parse(this.source.value);this.structureMap!=null&&this.client.operation({name:"transform?source="+encodeURIComponent(this.structureMap.url),resourceType:"StructureMap",input:t}).then(e=>{this.operationOutcomeTransformed=null,this.transformed=e}).catch(e=>{this.transformed=null,this.operationOutcomeTransformed=e.response.data})}ngOnInit(){}fileSource(t){let e=new FileReader;if(t.target.files&&t.target.files.length){let[i]=t.target.files;e.readAsText(i),e.onload=()=>{this.source.setValue(e.result),this.cd.markForCheck()}}}fileChange(t){let e=new FileReader;if(t.target.files&&t.target.files.length){let[i]=t.target.files;e.readAsText(i),e.onload=()=>{this.map.setValue(e.result),this.cd.markForCheck()}}}static{this.\u0275fac=function(e){return new(e||n)(Ae(Ge),Ae(Dn))}}static{this.\u0275cmp=le({type:n,selectors:[["app-mapping-language"]],standalone:!1,decls:31,vars:8,consts:[[1,"card-maps"],[1,"fixtextarea"],["accept",".json","placeholder","Upload source","type","file",3,"change"],["cols","400","matNativeControl","","rows","15",3,"formControl"],["accept",".map","placeholder","Upload map","type","file",3,"change"],["cols","400","matNativeControl","","rows","20",3,"formControl"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(e,i){e&1&&(P(0,"mat-card",0)(1,"mat-card-content")(2,"mat-card-header")(3,"mat-card-title"),B(4,"Source"),U()(),P(5,"mat-form-field",1)(6,"mat-card-actions")(7,"input",2),X("change",function(s){return i.fileSource(s)}),U()(),P(8,"textarea",3),B(9,"      "),U()()()(),P(10,"mat-card",0)(11,"mat-card-content")(12,"mat-card-header")(13,"mat-card-title"),B(14,"FHIR Mapping Language map"),U()(),P(15,"mat-form-field",1)(16,"mat-card-actions")(17,"input",4),X("change",function(s){return i.fileChange(s)}),U()(),P(18,"textarea",5),B(19,"      "),U()(),oe(20,yV,3,1,"mat-error",6)(21,CV,2,1,"mat-hint",6),U()(),P(22,"mat-card",0)(23,"mat-card-content")(24,"mat-card-header")(25,"mat-card-title"),B(26,"Transformed"),U()(),oe(27,xV,3,1,"mat-error",6),P(28,"pre"),B(29),En(30,"json"),U()()()),e&2&&($(8),j("formControl",i.source),$(10),j("formControl",i.map),$(2),j("ngIf",i.operationOutcome),$(),j("ngIf",i.structureMap),$(6),j("ngIf",i.operationOutcomeTransformed),$(2),He(Kn(30,6,i.transformed)))},dependencies:[vr,di,Ir,Dr,er,hl,Lm,ml,Om,Rm,bn,Ga,Ka,Ml,Gw],styles:[".fixtextarea[_ngcontent-%COMP%]{display:inline}.card-maps[_ngcontent-%COMP%]{margin-bottom:10px}"]})}};var PT=(()=>{class n{constructor(){this.version=window.MATCHBOX_VERSION}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=le({type:n,selectors:[["app-settings"]],standalone:!1,decls:12,vars:1,consts:[["id","settings",1,"white-block"],["href","https://github.com/ahdis/matchbox","rel","external nofollow noopener","target","_blank"]],template:function(i,r){i&1&&(P(0,"div",0)(1,"h2"),B(2,"Matchbox settings"),U(),P(3,"h5"),B(4),U(),P(5,"p")(6,"em"),B(7,"There are no configurable settings here right now"),U()(),P(8,"p"),B(9," Source code: "),P(10,"a",1),B(11,"github.com/ahdis/matchbox"),U()()()),i&2&&($(4),je("Version ",r.version,""))},encapsulation:2})}}return n})();var UT=(()=>{class n{_animationMode=R(ot,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){i&2&&ye("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return n})();var SV=["text"],kV=[[["mat-icon"]],"*"],MV=["mat-icon","*"];function TV(n,t){if(n&1&&te(0,"mat-pseudo-checkbox",1),n&2){let e=Y();j("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function EV(n,t){if(n&1&&te(0,"mat-pseudo-checkbox",3),n&2){let e=Y();j("disabled",e.disabled)}}function AV(n,t){if(n&1&&(P(0,"span",4),B(1),U()),n&2){let e=Y();$(),je("(",e.group.label,")")}}var Tu=new J("MAT_OPTION_PARENT_COMPONENT"),Eu=new J("MatOptgroup");var Mu=class{source;isUserInput;constructor(t,e=!1){this.source=t,this.isUserInput=e}},Nn=(()=>{class n{_element=R(Te);_changeDetectorRef=R(Ge);_parent=R(Tu,{optional:!0});group=R(Eu,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=R(At).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new ce;_text;_stateChanges=new ue;constructor(){let e=R(pt);e.load(xi),e.load(Mr),this._signalDisableRipple=!!this._parent&&ka(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!wi(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Mu(this,e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(i&1&&Pe(SV,7),i&2){let s;ke(s=Me())&&(r._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){i&1&&X("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),i&2&&(Tn("id",r.id),Se("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),ye("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",_e]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:MV,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){i&1&&(Qe(kV),oe(0,TV,1,2,"mat-pseudo-checkbox",1),Fe(1),P(2,"span",2,0),Fe(4,1),U(),oe(5,EV,1,1,"mat-pseudo-checkbox",3)(6,AV,2,1,"span",4),te(7,"div",5)),i&2&&(Je(r.multiple?0:-1),$(5),Je(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),$(),Je(r.group&&r.group._inert?6:-1),$(),j("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[UT,pn],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})();function ff(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[s]&&s++;return s}return 0}function pf(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}var $T=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Oe]})}return n})();var Tl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Ar,Oe,$T]})}return n})();var IV=new J("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let n=R(Gt);return()=>n.scrollStrategies.reposition()}});function DV(n){return()=>n.scrollStrategies.reposition()}var RV={provide:IV,deps:[Gt],useFactory:DV};var pb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({providers:[RV],imports:[Xn,Tl,Oe,gn,Tl,Oe]})}return n})();var LV={capture:!0},OV=["focus","mousedown","mouseenter","touchstart"],gb="mat-ripple-loader-uninitialized",_b="mat-ripple-loader-class-name",BT="mat-ripple-loader-centered",gf="mat-ripple-loader-disabled",zT=(()=>{class n{_document=R(Ze);_animationMode=R(ot,{optional:!0});_globalRippleOptions=R(Um,{optional:!0});_platform=R(st);_ngZone=R(De);_injector=R(ut);_eventCleanups;_hosts=new Map;constructor(){let e=R(Ri).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>OV.map(i=>Ot(e,this._document,i,this._onInteraction,LV)))}ngOnDestroy(){let e=this._hosts.keys();for(let i of e)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(e,i){e.setAttribute(gb,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(_b))&&e.setAttribute(_b,i.className||""),i.centered&&e.setAttribute(BT,""),i.disabled&&e.setAttribute(gf,"")}setDisabled(e,i){let r=this._hosts.get(e);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):i?e.setAttribute(gf,""):e.removeAttribute(gf)}_onInteraction=e=>{let i=Li(e);if(i instanceof HTMLElement){let r=i.closest(`[${gb}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(_b)),e.append(i);let r=this._animationMode==="NoopAnimations",s=this._globalRippleOptions,a=r?0:s?.animation?.enterDuration??lu.enterDuration,o=r?0:s?.animation?.exitDuration??lu.exitDuration,l={rippleDisabled:r||s?.disabled||e.hasAttribute(gf),rippleConfig:{centered:e.hasAttribute(BT),terminateOnPointerUp:s?.terminateOnPointerUp,animation:{enterDuration:a,exitDuration:o}}},c=new cu(l,this._ngZone,i,this._platform,this._injector),u=!l.rippleDisabled;u&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:u}),e.removeAttribute(gb)}destroyRipple(e){let i=this._hosts.get(e);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var NV=["mat-icon-button",""],FV=["*"];var PV=new J("MAT_BUTTON_CONFIG");var UV=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],bb=(()=>{class n{_elementRef=R(Te);_ngZone=R(De);_animationMode=R(ot,{optional:!0});_focusMonitor=R(mn);_rippleLoader=R(zT);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){R(pt).load(xi);let e=R(PV,{optional:!0}),i=this._elementRef.nativeElement,r=i.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(i,{className:"mat-mdc-button-ripple"});for(let{attribute:s,mdcClasses:a}of UV)i.hasAttribute(s)&&r.add(...a)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",_e],disabled:[2,"disabled","disabled",_e],ariaDisabled:[2,"aria-disabled","ariaDisabled",_e],disabledInteractive:[2,"disabledInteractive","disabledInteractive",_e]}})}return n})();var ra=(()=>{class n extends bb{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(Se("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),ft(r.color?"mat-"+r.color:""),ye("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Tt],attrs:NV,ngContentSelectors:FV,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(Qe(),te(0,"span",0),Fe(1),te(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var $V=["mat-button",""],VV=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],BV=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var ms=(()=>{class n extends bb{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(n)))(r||n)}})();static \u0275cmp=le({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(Se("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),ft(r.color?"mat-"+r.color:""),ye("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Tt],attrs:$V,ngContentSelectors:BV,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(Qe(VV),te(0,"span",0),Fe(1),P(2,"span",1),Fe(3,1),U(),Fe(4,2),te(5,"span",2)(6,"span",3)),i&2&&ye("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var fs=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Oe,Ar,Oe]})}return n})();var zV=["mat-internal-form-field",""],HV=["*"],El=(()=>{class n{labelPosition;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){i&2&&ye("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:zV,ngContentSelectors:HV,decls:1,vars:0,template:function(i,r){i&1&&(Qe(),Fe(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return n})();var WV=["input"],qV=["label"],GV=["*"],KV=new J("mat-checkbox-default-options",{providedIn:"root",factory:jT});function jT(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Si=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(Si||{}),YV={provide:cs,useExisting:Ci(()=>Al),multi:!0},vb=class{source;checked},HT=jT(),Al=(()=>{class n{_elementRef=R(Te);_changeDetectorRef=R(Ge);_ngZone=R(De);_animationMode=R(ot,{optional:!0});_options=R(KV,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let i=new vb;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new ce;indeterminateChange=new ce;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=Si.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){R(pt).load(xi);let e=R(new un("tabindex"),{optional:!0});this._options=this._options||HT,this.color=this._options.color||HT.color,this.tabIndex=e==null?0:parseInt(e)||0,this.id=this._uniqueId=R(At).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate}set indeterminate(e){let i=e!=this._indeterminate;this._indeterminate=e,i&&(this._indeterminate?this._transitionCheckState(Si.Indeterminate):this._transitionCheckState(this.checked?Si.Checked:Si.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_indeterminate=!1;_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(!(i===e||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Si.Checked:Si.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if(this._animationMode==="NoopAnimations")return"";switch(e){case Si.Init:if(i===Si.Checked)return this._animationClasses.uncheckedToChecked;if(i==Si.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Si.Unchecked:return i===Si.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Si.Checked:return i===Si.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Si.Indeterminate:return i===Si.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-checkbox"]],viewQuery:function(i,r){if(i&1&&(Pe(WV,5),Pe(qV,5)),i&2){let s;ke(s=Me())&&(r._inputElement=s.first),ke(s=Me())&&(r._labelElement=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(i,r){i&2&&(Tn("id",r.id),Se("tabindex",null)("aria-label",null)("aria-labelledby",null),ft(r.color?"mat-"+r.color:"mat-accent"),ye("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",_e],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",_e],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",_e],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:Ft(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",_e],checked:[2,"checked","checked",_e],disabled:[2,"disabled","disabled",_e],indeterminate:[2,"indeterminate","indeterminate",_e]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[rt([YV,{provide:na,useExisting:n,multi:!0}]),mt],ngContentSelectors:GV,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,r){if(i&1){let s=ze();Qe(),P(0,"div",3),X("click",function(o){return re(s),se(r._preventBubblingFromLabel(o))}),P(1,"div",4,0)(3,"div",5),X("click",function(){return re(s),se(r._onTouchTargetClick())}),U(),P(4,"input",6,1),X("blur",function(){return re(s),se(r._onBlur())})("click",function(){return re(s),se(r._onInputClick())})("change",function(o){return re(s),se(r._onInteractionEvent(o))}),U(),te(6,"div",7),P(7,"div",8),Ht(),P(8,"svg",9),te(9,"path",10),U(),Xr(),te(10,"div",11),U(),te(11,"div",12),U(),P(12,"label",13,2),Fe(14),U()()}if(i&2){let s=jt(2);j("labelPosition",r.labelPosition),$(4),ye("mdc-checkbox--selected",r.checked),j("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),Se("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-controls",r.ariaControls)("aria-disabled",r.disabled&&r.disabledInteractive?!0:null)("aria-expanded",r.ariaExpanded)("aria-owns",r.ariaOwns)("name",r.name)("value",r.value),$(7),j("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),$(),j("for",r.inputId)}},dependencies:[pn,El],styles:[`.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})();var Au=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Al,Oe,Oe]})}return n})();var yb=new J("MAT_DATE_LOCALE",{providedIn:"root",factory:QV});function QV(){return R($w)}var Il="Method not implemented",Xi=class{locale;_localeChanges=new ue;localeChanges=this._localeChanges;setTime(t,e,i,r){throw new Error(Il)}getHours(t){throw new Error(Il)}getMinutes(t){throw new Error(Il)}getSeconds(t){throw new Error(Il)}parseTime(t,e){throw new Error(Il)}addSeconds(t,e){throw new Error(Il)}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return t==null||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}compareTime(t,e){return this.getHours(t)-this.getHours(e)||this.getMinutes(t)-this.getMinutes(e)||this.getSeconds(t)-this.getSeconds(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}sameTime(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareTime(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}},Ya=new J("mat-date-formats");var ZV=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,XV=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function Cb(n,t){let e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}var JV=(()=>{class n extends Xi{useUtcForDisplay=!1;_matDateLocale=R(yb,{optional:!0});constructor(){super();let e=R(yb,{optional:!0});e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Cb(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Cb(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){let i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Cb(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){let i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let e=new Intl.Locale(this.locale),i=(e.getWeekInfo?.()||e.weekInfo)?.firstDay??0;return i===7?0:i}return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth()!=i,s}today(){return new Date}parse(e,i){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let r=new Intl.DateTimeFormat(this.locale,Le(H({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,i*12)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(ZV.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}setTime(e,i,r,s){let a=this.clone(e);return a.setHours(i,r,s,0),a}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}parseTime(e,i){if(typeof e!="string")return e instanceof Date?new Date(e.getTime()):null;let r=e.trim();if(r.length===0)return null;let s=this._parseTimeString(r);if(s===null){let a=r.replace(/[^0-9:(AM|PM)]/gi,"").trim();a.length>0&&(s=this._parseTimeString(a))}return s||this.invalid()}addSeconds(e,i){return new Date(e.getTime()+i*1e3)}_createDateWithOverflow(e,i,r){let s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){let r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}_parseTimeString(e){let i=e.toUpperCase().match(XV);if(i){let r=parseInt(i[1]),s=parseInt(i[2]),a=i[3]==null?void 0:parseInt(i[3]),o=i[4];if(r===12?r=o==="AM"?0:r:o==="PM"&&(r+=12),wb(r,0,23)&&wb(s,0,59)&&(a==null||wb(a,0,59)))return this.setTime(this.today(),r,s,a||0)}return null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})();function wb(n,t,e){return!isNaN(n)&&n>=t&&n<=e}var e4={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};var xb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({providers:[t4()]})}return n})();function t4(n=e4){return[{provide:Xi,useClass:JV},{provide:Ya,useValue:n}]}var i4=["mat-calendar-body",""];function n4(n,t){return this._trackRow(t)}var ZT=(n,t)=>t.id;function r4(n,t){if(n&1&&(P(0,"tr",0)(1,"td",3),B(2),U()()),n&2){let e=Y();$(),Jt("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Se("colspan",e.numCols),$(),je(" ",e.label," ")}}function s4(n,t){if(n&1&&(P(0,"td",3),B(1),U()),n&2){let e=Y(2);Jt("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Se("colspan",e._firstRowOffset),$(),je(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function a4(n,t){if(n&1){let e=ze();P(0,"td",6)(1,"button",7),X("click",function(r){let s=re(e).$implicit,a=Y(2);return se(a._cellClicked(s,r))})("focus",function(r){let s=re(e).$implicit,a=Y(2);return se(a._emitActiveDateChange(s,r))}),P(2,"span",8),B(3),U(),te(4,"span",9),U()()}if(n&2){let e=t.$implicit,i=t.$index,r=Y().$index,s=Y();Jt("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),Se("data-mat-row",r)("data-mat-col",i),$(),ye("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),j("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),Se("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null)("aria-describedby",s._getDescribedby(e.compareValue)),$(),ye("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),$(),je(" ",e.displayValue," ")}}function o4(n,t){if(n&1&&(P(0,"tr",1),oe(1,s4,2,6,"td",4),gr(2,a4,5,48,"td",5,ZT),U()),n&2){let e=t.$implicit,i=t.$index,r=Y();$(),Je(i===0&&r._firstRowOffset?1:-1),$(),_r(e)}}function l4(n,t){if(n&1&&(P(0,"th",2)(1,"span",6),B(2),U(),P(3,"span",3),B(4),U()()),n&2){let e=t.$implicit;$(2),He(e.long),$(2),He(e.narrow)}}var c4=["*"];function u4(n,t){}function d4(n,t){if(n&1){let e=ze();P(0,"mat-month-view",4),Vs("activeDateChange",function(r){re(e);let s=Y();return $s(s.activeDate,r)||(s.activeDate=r),se(r)}),X("_userSelection",function(r){re(e);let s=Y();return se(s._dateSelected(r))})("dragStarted",function(r){re(e);let s=Y();return se(s._dragStarted(r))})("dragEnded",function(r){re(e);let s=Y();return se(s._dragEnded(r))}),U()}if(n&2){let e=Y();Us("activeDate",e.activeDate),j("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function h4(n,t){if(n&1){let e=ze();P(0,"mat-year-view",5),Vs("activeDateChange",function(r){re(e);let s=Y();return $s(s.activeDate,r)||(s.activeDate=r),se(r)}),X("monthSelected",function(r){re(e);let s=Y();return se(s._monthSelectedInYearView(r))})("selectedChange",function(r){re(e);let s=Y();return se(s._goToDateInView(r,"month"))}),U()}if(n&2){let e=Y();Us("activeDate",e.activeDate),j("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function m4(n,t){if(n&1){let e=ze();P(0,"mat-multi-year-view",6),Vs("activeDateChange",function(r){re(e);let s=Y();return $s(s.activeDate,r)||(s.activeDate=r),se(r)}),X("yearSelected",function(r){re(e);let s=Y();return se(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){re(e);let s=Y();return se(s._goToDateInView(r,"year"))}),U()}if(n&2){let e=Y();Us("activeDate",e.activeDate),j("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function f4(n,t){}var p4=["button"],g4=[[["","matDatepickerToggleIcon",""]]],_4=["[matDatepickerToggleIcon]"];function b4(n,t){n&1&&(Ht(),P(0,"svg",2),te(1,"path",3),U())}var Rl=(()=>{class n{changes=new ue;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),v4=0,Du=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=v4++;constructor(t,e,i,r,s={},a=t,o){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=a,this.rawValue=o}},y4={passive:!1,capture:!0},bf={passive:!0,capture:!0},qT={passive:!0},Dl=(()=>{class n{_elementRef=R(Te);_ngZone=R(De);_platform=R(st);_intl=R(Rl);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new ce;previewChange=new ce;activeDateChange=new ce;dragStarted=new ce;dragEnded=new ce;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=R(ut);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=R(Rt),i=R(At);this._startDateLabelId=i.getId("mat-calendar-body-start-"),this._endDateLabelId=i.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=i.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=i.getId("mat-calendar-body-comparison-end-"),R(pt).load(xi),this._ngZone.runOutsideAngular(()=>{let r=this._elementRef.nativeElement,s=[Ot(e,r,"touchmove",this._touchmoveHandler,y4),Ot(e,r,"mouseenter",this._enterHandler,bf),Ot(e,r,"focus",this._enterHandler,bf),Ot(e,r,"mouseleave",this._leaveHandler,bf),Ot(e,r,"blur",this._leaveHandler,bf),Ot(e,r,"mousedown",this._mousedownHandler,qT),Ot(e,r,"touchstart",this._mousedownHandler,qT)];this._platform.isBrowser&&s.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=s})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/s}%`),(i||!this._cellWidth)&&(this._cellWidth=`${100/s}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){Yt(()=>{setTimeout(()=>{let i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Mb(e,this.startValue,this.endValue)}_isRangeEnd(e){return Tb(e,this.startValue,this.endValue)}_isInRange(e){return Eb(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Mb(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){let a=this.rows[i-1];s=a&&a[a.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){let a=this.rows[i+1];s=a&&a[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return Tb(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Eb(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Mb(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Tb(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Eb(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let i=this._getCellFromElement(e.target);i&&this._ngZone.run(()=>this.previewChange.emit({value:i.enabled?i:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let i=GT(e),r=i?this._getCellFromElement(i):null;i!==e.target&&(this._didDragSinceMouseDown=!0),kb(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:r?.enabled?r:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let i=e.target&&this._getCellFromElement(e.target);!i||!this._isInRange(i.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:i.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let i=kb(e.target);if(!i){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}i.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let r=this._getCellFromElement(i);this.dragEnded.emit({value:r?.rawValue??null,event:e})})};_touchendHandler=e=>{let i=GT(e);i&&this._mouseupHandler({target:i})};_getCellFromElement(e){let i=kb(e);if(i){let r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[mt],attrs:i4,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,r){i&1&&(oe(0,r4,3,6,"tr",0),gr(1,o4,4,1,"tr",1,n4,!0),P(3,"span",2),B(4),U(),P(5,"span",2),B(6),U(),P(7,"span",2),B(8),U(),P(9,"span",2),B(10),U()),i&2&&(Je(r._firstRowOffset<r.labelMinRequiredCells?0:-1),$(),_r(r.rows),$(2),j("id",r._startDateLabelId),$(),je(" ",r.startDateAccessibleName,`
`),$(),j("id",r._endDateLabelId),$(),je(" ",r.endDateAccessibleName,`
`),$(),j("id",r._comparisonStartDateLabelId),$(),Lo(" ",r.comparisonDateAccessibleName," ",r.startDateAccessibleName,`
`),$(),j("id",r._comparisonEndDateLabelId),$(),Lo(" ",r.comparisonDateAccessibleName," ",r.endDateAccessibleName,`
`))},dependencies:[An],styles:[`.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function Sb(n){return n?.nodeName==="TD"}function kb(n){let t;return Sb(n)?t=n:Sb(n.parentNode)?t=n.parentNode:Sb(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),t?.getAttribute("data-mat-row")!=null?t:null}function Mb(n,t,e){return e!==null&&t!==e&&n<e&&n===t}function Tb(n,t,e){return t!==null&&t!==e&&n>=t&&n===e}function Eb(n,t,e,i){return i&&t!==null&&e!==null&&t!==e&&n>=t&&n<=e}function GT(n){let t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}var Fn=class{start;end;_disableStructuralEquivalency;constructor(t,e){this.start=t,this.end=e}},vf=(()=>{class n{selection;_adapter;_selectionChanged=new ue;selectionChanged=this._selectionChanged;constructor(e,i){this.selection=e,this._adapter=i,this.selection=e}updateSelection(e,i){let r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(i){dh()};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),C4=(()=>{class n extends vf{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(i){return new(i||n)(Re(Xi))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})();function w4(n,t){return n||new C4(t)}var x4={provide:vf,deps:[[new Io,new yc,vf],Xi],useFactory:w4};var XT=new J("MAT_DATE_RANGE_SELECTION_STRATEGY");var Ab=7,S4=0,KT=(()=>{class n{_changeDetectorRef=R(Ge);_dateFormats=R(Ya,{optional:!0});_dateAdapter=R(Xi,{optional:!0});_dir=R(ti,{optional:!0});_rangeStrategy=R(XT,{optional:!0});_rerenderSubscription=St.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Fn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new ce;_userSelection=new ce;dragStarted=new ce;dragEnded=new ce;activeDateChange=new ce;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){R(pt).load(Mr),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Bt(null)).subscribe(()=>this._init())}ngOnChanges(e){let i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let i=e.value,r=this._getDateFromDayOfMonth(i),s,a;this._selected instanceof Fn?(s=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):s=a=this._getDateInCurrentMonth(this._selected),(s!==i||a!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!wi(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(Ab+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%Ab,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){let r=i?i.rawValue:null,s=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&r){let a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);a&&(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow"),s=this._dateAdapter.getDayOfWeekNames("long").map((a,o)=>({long:a,narrow:i[o],id:S4++}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){s==Ab&&(this._weeks.push([]),s=0);let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),o=this._shouldEnableDate(a),l=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new Du(r+1,i[r],l,o,c,this._getCellCompareValue(a),a))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!!(e&&i&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){let i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof Fn?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,r){if(i&1&&Pe(Dl,5),i&2){let s;ke(s=Me())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[mt],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(i,r){i&1&&(P(0,"table",0)(1,"thead",1)(2,"tr"),gr(3,l4,5,2,"th",2,ZT),U(),P(5,"tr",3),te(6,"th",4),U()(),P(7,"tbody",5),X("selectedValueChange",function(a){return r._dateSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("previewChange",function(a){return r._previewChanged(a)})("dragStarted",function(a){return r.dragStarted.emit(a)})("dragEnded",function(a){return r._dragEnded(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),U()()),i&2&&($(3),_r(r._weekdays),$(4),j("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Dl],encapsulation:2,changeDetection:0})}return n})(),Cn=24,Ib=4,YT=(()=>{class n{_changeDetectorRef=R(Ge);_dateAdapter=R(Xi,{optional:!0});_dir=R(ti,{optional:!0});_rerenderSubscription=St.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),JT(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Fn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new ce;yearSelected=new ce;activeDateChange=new ce;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Bt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let i=this._dateAdapter.getYear(this._activeDate)-Iu(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<Cn;r++)s.push(i+r),s.length==Ib&&(this._years.push(s.map(a=>this._createCellForYear(a))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromYear(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Ib);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ib);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Iu(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Cn-Iu(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-Cn*10:-Cn);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?Cn*10:Cn);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Iu(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){let i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Du(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(e,0,1);for(let r=i;this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Fn){let i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,r){if(i&1&&Pe(Dl,5),i&2){let s;ke(s=Me())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(i,r){i&1&&(P(0,"table",0)(1,"thead",1)(2,"tr"),te(3,"th",2),U()(),P(4,"tbody",3),X("selectedValueChange",function(a){return r._yearSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),U()()),i&2&&($(4),j("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Dl],encapsulation:2,changeDetection:0})}return n})();function JT(n,t,e,i,r){let s=n.getYear(t),a=n.getYear(e),o=eE(n,i,r);return Math.floor((s-o)/Cn)===Math.floor((a-o)/Cn)}function Iu(n,t,e,i){let r=n.getYear(t);return k4(r-eE(n,e,i),Cn)}function eE(n,t,e){let i=0;return e?i=n.getYear(e)-Cn+1:t&&(i=n.getYear(t)),i}function k4(n,t){return(n%t+t)%t}var QT=(()=>{class n{_changeDetectorRef=R(Ge);_dateFormats=R(Ya,{optional:!0});_dateAdapter=R(Xi,{optional:!0});_dir=R(ti,{optional:!0});_rerenderSubscription=St.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Fn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new ce;monthSelected=new ce;activeDateChange=new ce;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Bt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);let s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromMonth(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(r,"year"):void 0;return new Du(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),a)}_shouldEnableMonth(e){let i=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(i,e,1);for(let s=r;this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){let r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){let r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof Fn?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,r){if(i&1&&Pe(Dl,5),i&2){let s;ke(s=Me())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(i,r){i&1&&(P(0,"table",0)(1,"thead",1)(2,"tr"),te(3,"th",2),U()(),P(4,"tbody",3),X("selectedValueChange",function(a){return r._monthSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),U()()),i&2&&($(4),j("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Dl],encapsulation:2,changeDetection:0})}return n})(),tE=(()=>{class n{_intl=R(Rl);calendar=R(Db);_dateAdapter=R(Xi,{optional:!0});_dateFormats=R(Ya,{optional:!0});constructor(){R(pt).load(Mr);let e=R(Ge);this.calendar.stateChanges.subscribe(()=>e.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Cn)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Cn)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):JT(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let i=this._dateAdapter.getYear(this.calendar.activeDate)-Iu(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+Cn-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return[s,a]}_periodButtonLabelId=R(At).getId("mat-calendar-period-label-");static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:c4,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(i,r){i&1&&(Qe(),P(0,"div",0)(1,"div",1)(2,"span",2),B(3),U(),P(4,"button",3),X("click",function(){return r.currentPeriodClicked()}),P(5,"span",4),B(6),U(),Ht(),P(7,"svg",5),te(8,"polygon",6),U()(),Xr(),te(9,"div",7),Fe(10),P(11,"button",8),X("click",function(){return r.previousClicked()}),Ht(),P(12,"svg",9),te(13,"path",10),U()(),Xr(),P(14,"button",11),X("click",function(){return r.nextClicked()}),Ht(),P(15,"svg",9),te(16,"path",12),U()()()()),i&2&&($(2),j("id",r._periodButtonLabelId),$(),He(r.periodButtonDescription),$(),Se("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),$(2),He(r.periodButtonText),$(),ye("mat-calendar-invert",r.calendar.currentView!=="month"),$(4),j("disabled",!r.previousEnabled()),Se("aria-label",r.prevButtonLabel),$(3),j("disabled",!r.nextEnabled()),Se("aria-label",r.nextButtonLabel))},dependencies:[ms,ra],encapsulation:2,changeDetection:0})}return n})(),Db=(()=>{class n{_dateAdapter=R(Xi,{optional:!0});_dateFormats=R(Ya,{optional:!0});_changeDetectorRef=R(Ge);_elementRef=R(Te);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get selected(){return this._selected}set selected(e){e instanceof Fn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new ce;yearSelected=new ce;monthSelected=new ce;viewChanged=new ce(!0);_userSelection=new ce;_userDragDrop=new ce;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}_currentView;_activeDrag=null;stateChanges=new ue;constructor(){this._intlChanges=R(Rl).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new ea(this.headerComponent||tE),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){let a=this._getCurrentViewComponent();a&&(this._elementRef.nativeElement.contains(Qc())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let i=e.value;(this.selected instanceof Fn||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,r){if(i&1&&(Pe(KT,5),Pe(QT,5),Pe(YT,5)),i&2){let s;ke(s=Me())&&(r.monthView=s.first),ke(s=Me())&&(r.yearView=s.first),ke(s=Me())&&(r.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[rt([x4]),mt],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(i,r){if(i&1&&(oe(0,u4,0,0,"ng-template",0),P(1,"div",1),oe(2,d4,1,11,"mat-month-view",2)(3,h4,1,6,"mat-year-view",3)(4,m4,1,6,"mat-multi-year-view",3),U()),i&2){let s;j("cdkPortalOutlet",r._calendarHeaderPortal),$(2),Je((s=r.currentView)==="month"?2:s==="year"?3:s==="multi-year"?4:-1)}},dependencies:[ja,Jc,KT,QT,YT],styles:[`.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})(),M4=new J("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let n=R(Gt);return()=>n.scrollStrategies.reposition()}});function T4(n){return()=>n.scrollStrategies.reposition()}var E4={provide:M4,deps:[Gt],useFactory:T4},A4=(()=>{class n{_elementRef=R(Te);_animationsDisabled=R(ot,{optional:!0})==="NoopAnimations";_changeDetectorRef=R(Ge);_globalModel=R(vf);_dateAdapter=R(Xi);_ngZone=R(De);_rangeSelectionStrategy=R(XT,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new ue;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(R(pt).load(Mr),this._closeButtonText=R(Rl).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,i=R(Rt);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(e,"animationstart",this._handleAnimationEvent),i.listen(e,"animationend",this._handleAnimationEvent),i.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let i=this._model.selection,r=e.value,s=i instanceof Fn;if(s&&this._rangeSelectionStrategy){let a=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(a,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let i=this._elementRef.nativeElement;e.target!==i||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",i.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,r){if(i&1&&Pe(Db,5),i&2){let s;ke(s=Me())&&(r._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(i,r){i&2&&(ft(r.color?"mat-"+r.color:""),ye("mat-datepicker-content-touch",r.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!r._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(i,r){if(i&1&&(P(0,"div",0)(1,"mat-calendar",1),X("yearSelected",function(a){return r.datepicker._selectYear(a)})("monthSelected",function(a){return r.datepicker._selectMonth(a)})("viewChanged",function(a){return r.datepicker._viewChanged(a)})("_userSelection",function(a){return r._handleUserSelection(a)})("_userDragDrop",function(a){return r._handleUserDragDrop(a)}),U(),oe(2,f4,0,0,"ng-template",2),P(3,"button",3),X("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),B(4),U()()),i&2){let s;ye("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Se("aria-modal",!0)("aria-labelledby",(s=r._dialogLabelId)!==null&&s!==void 0?s:void 0),$(),ft(r.datepicker.panelClass),j("id",r.datepicker.id)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),$(),j("cdkPortalOutlet",r._actionsPortal),$(),ye("cdk-visually-hidden",!r._closeButtonFocused),j("color",r.color||"primary"),$(),He(r._closeButtonText)}},dependencies:[k_,Db,ja,ms],styles:[`@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}
`],encapsulation:2,changeDetection:0})}return n})();var I4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["","matDatepickerToggleIcon",""]]})}return n})(),D4=(()=>{class n{_intl=R(Rl);_changeDetectorRef=R(Ge);_stateChanges=St.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple;_customIcon;_button;constructor(){let e=R(new un("tabindex"),{optional:!0}),i=Number(e);this.tabIndex=i||i===0?i:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:ge(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:ge(),r=this.datepicker?Kt(this.datepicker.openedStream,this.datepicker.closedStream):ge();this._stateChanges.unsubscribe(),this._stateChanges=Kt(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,r,s){if(i&1&&Et(s,I4,5),i&2){let a;ke(a=Me())&&(r._customIcon=a.first)}},viewQuery:function(i,r){if(i&1&&Pe(p4,5),i&2){let s;ke(s=Me())&&(r._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,r){i&1&&X("click",function(a){return r._open(a)}),i&2&&(Se("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),ye("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&r.datepicker.color==="accent")("mat-warn",r.datepicker&&r.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",_e],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[mt],ngContentSelectors:_4,decls:4,vars:7,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,r){i&1&&(Qe(g4),P(0,"button",1,0),oe(2,b4,2,0,":svg:svg",2),Fe(3),U()),i&2&&(j("disabled",r.disabled)("disableRipple",r.disableRipple),Se("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex)("aria-expanded",r.datepicker?r.datepicker.opened:null),$(2),Je(r._customIcon?-1:2))},dependencies:[ra],styles:[`.mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return n})();var Rb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({providers:[Rl,E4],imports:[fs,Xn,eu,hu,Oe,A4,D4,tE,gn]})}return n})();var iE=(()=>{class n{get vertical(){return this._vertical}set vertical(e){this._vertical=fn(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=fn(e)}_inset=!1;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){i&2&&(Se("aria-orientation",r.vertical?"vertical":"horizontal"),ye("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return n})(),Ru=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Oe,Oe]})}return n})();var Lb=(()=>{class n{_listeners=[];notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Lu=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new ue;constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,i=new Set(t.map(s=>this._getConcreteValue(s)));t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(this._getConcreteValue(s,i))).forEach(s=>this._unmarkSelected(s));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}else return t}};var L4=["trigger"],O4=["panel"],N4=[[["mat-select-trigger"]],"*"],F4=["mat-select-trigger","*"];function P4(n,t){if(n&1&&(P(0,"span",4),B(1),U()),n&2){let e=Y();$(),He(e.placeholder)}}function U4(n,t){n&1&&Fe(0)}function $4(n,t){if(n&1&&(P(0,"span",11),B(1),U()),n&2){let e=Y(2);$(),He(e.triggerValue)}}function V4(n,t){if(n&1&&(P(0,"span",5),oe(1,U4,1,0)(2,$4,2,1,"span",11),U()),n&2){let e=Y();$(),Je(e.customTrigger?1:2)}}function B4(n,t){if(n&1){let e=ze();P(0,"div",12,1),X("keydown",function(r){re(e);let s=Y();return se(s._handleKeydown(r))}),Fe(2,1),U()}if(n&2){let e=Y();ph("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),ye("mat-select-panel-animations-enabled",!e._animationsDisabled),j("ngClass",e.panelClass),Se("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var Ob=new J("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=R(Gt);return()=>n.scrollStrategies.reposition()}});function nE(n){return()=>n.scrollStrategies.reposition()}var rE=new J("MAT_SELECT_CONFIG"),sE={provide:Ob,deps:[Gt],useFactory:nE},Nb=new J("MatSelectTrigger"),yf=class{source;value;constructor(t,e){this.source=t,this.value=e}},ps=(()=>{class n{_viewportRuler=R(On);_changeDetectorRef=R(Ge);_elementRef=R(Te);_dir=R(ti,{optional:!0});_idGenerator=R(At);_renderer=R(Rt);_parentFormField=R(Sl,{optional:!0});ngControl=R(Jn,{self:!0,optional:!0});_liveAnnouncer=R(M_);_defaultOptions=R(rE,{optional:!0});_animationsDisabled=R(ot,{optional:!0})==="NoopAnimations";_initialized=new ue;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let i=this.options.toArray()[e];if(i){let r=this.panel.nativeElement,s=ff(e,this.options,this.optionGroups),a=i._getHostElement();e===0&&s===1?r.scrollTop=0:r.scrollTop=pf(a.offsetTop,a.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new yf(this,e)}_scrollStrategyFactory=R(Ob);_panelOpen=!1;_compareWith=(e,i)=>e===i;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new ue;_errorStateTracker;stateChanges=new ue;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(_n.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Fs(()=>{let e=this.options;return e?e.changes.pipe(Bt(e),Mt(()=>Kt(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(Mt(()=>this.optionSelectionChanges))});openedChange=new ce;_openedStream=this.openedChange.pipe(it(e=>e),Ne(()=>{}));_closedStream=this.openedChange.pipe(it(e=>!e),Ne(()=>{}));selectionChange=new ce;valueChange=new ce;constructor(){let e=R(hf),i=R(wu,{optional:!0}),r=R(xu,{optional:!0}),s=R(new un("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new kl(e,this.ngControl,r,i,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=s==null?0:parseInt(s)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Lu(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Ye(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ye(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Bt(null),Ye(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(Vt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=`${this.id}-panel`;this._trackedModal&&ym(this._trackedModal,"aria-owns",i),I_(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;ym(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{i(),clearTimeout(r),this._cleanupDetach=void 0};let e=this.panel.nativeElement,i=this._renderer.listen(e,"animationend",s=>{s.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let i=e.keyCode,r=i===40||i===38||i===37||i===39,s=i===13||i===32,a=this._keyManager;if(!a.isTyping()&&s&&!wi(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let o=this.selected;a.onKeydown(e);let l=this.selected;l&&o!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let i=this._keyManager,r=e.keyCode,s=r===40||r===38,a=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(!a&&(r===13||r===32)&&i.activeItem&&!wi(e))e.preventDefault(),i.activeItem._selectViaInteraction();else if(!a&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let o=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(o?l.select():l.deselect())})}else{let o=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==o&&i.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!wi(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof bl?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new tu(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=Kt(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ye(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Kt(...this.options.map(i=>i._stateChanges)).pipe(Ye(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){let r=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;this.multiple?i=this.selected.map(r=>r.value):i=this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,s){if(i&1&&(Et(s,Nb,5),Et(s,Nn,5),Et(s,Eu,5)),i&2){let a;ke(a=Me())&&(r.customTrigger=a.first),ke(a=Me())&&(r.options=a),ke(a=Me())&&(r.optionGroups=a)}},viewQuery:function(i,r){if(i&1&&(Pe(L4,5),Pe(O4,5),Pe(qm,5)),i&2){let s;ke(s=Me())&&(r.trigger=s.first),ke(s=Me())&&(r.panel=s.first),ke(s=Me())&&(r._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){i&1&&X("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),i&2&&(Se("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),ye("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",_e],disableRipple:[2,"disableRipple","disableRipple",_e],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ft(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",_e],placeholder:"placeholder",required:[2,"required","required",_e],multiple:[2,"multiple","multiple",_e],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",_e],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Ft],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",_e]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[rt([{provide:xl,useExisting:n},{provide:Tu,useExisting:n}]),mt],ngContentSelectors:F4,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(i&1){let s=ze();Qe(N4),P(0,"div",2,0),X("click",function(){return re(s),se(r.open())}),P(3,"div",3),oe(4,P4,2,1,"span",4)(5,V4,3,1,"span",5),U(),P(6,"div",6)(7,"div",7),Ht(),P(8,"svg",8),te(9,"path",9),U()()()(),oe(10,B4,3,10,"ng-template",10),X("detach",function(){return re(s),se(r.close())})("backdropClick",function(){return re(s),se(r.close())})("overlayKeydown",function(o){return re(s),se(r._handleOverlayKeydown(o))})}if(i&2){let s=jt(1);$(3),Se("id",r._valueId),$(),Je(r.empty?4:5),$(6),j("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[bl,qm,An],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return n})(),Fb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["mat-select-trigger"]],features:[rt([{provide:Nb,useExisting:n}])]})}return n})(),Ll=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({providers:[sE],imports:[Xn,Tl,Oe,gn,hs,Tl,Oe]})}return n})();var z4=["tooltip"],Pb=20;var Ub=new J("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=R(Gt);return()=>n.scrollStrategies.reposition({scrollThrottle:Pb})}});function lE(n){return()=>n.scrollStrategies.reposition({scrollThrottle:Pb})}var cE={provide:Ub,deps:[Gt],useFactory:lE};function uE(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var dE=new J("mat-tooltip-default-options",{providedIn:"root",factory:uE});var aE="tooltip-panel",oE=Ys({passive:!0}),H4=8,j4=8,W4=24,q4=200,Ou=(()=>{class n{_elementRef=R(Te);_ngZone=R(De);_platform=R(st);_ariaDescriber=R(Hk);_focusMonitor=R(mn);_dir=R(ti);_injector=R(ut);_viewContainerRef=R(ui);_defaultOptions=R(dE,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=hE;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=fn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let i=fn(e);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=kr(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=kr(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let i=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new ue;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=H4}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ye(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,oE)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(i);this._detach(),this._portal=this._portal||new ea(this._tooltipComponent,this._viewContainerRef);let s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Ye(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(e)}hide(e=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&a._origin instanceof Te)return this._overlayRef;this._detach()}let i=this._injector.get(_l).getAncestorScrollContainers(this._elementRef),r=this._injector.get(Gt),s=r.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return s.positionChanges.pipe(Ye(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=r.create({direction:this._dir,positionStrategy:s,panelClass:`${this._cssClassPrefix}-${aE}`,scrollStrategy:this._injector.get(Ub)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ye(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ye(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ye(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&a.keyCode===27&&!wi(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Ye(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset(H(H({},r.main),s.main)),this._addOffset(H(H({},r.fallback),s.fallback))])}_addOffset(e){let i=j4,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-i:e.originY==="bottom"?e.offsetY=i:e.originX==="start"?e.offsetX=r?-i:i:e.originX==="end"&&(e.offsetX=r?i:-i),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"||i=="below"?r={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={originX:"start",originY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:s,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:a}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"?r={overlayX:"center",overlayY:"bottom"}:i=="below"?r={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:s,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Yt(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){let{overlayY:i,originX:r,originY:s}=e,a;if(i==="center"?this._dir&&this._dir.value==="rtl"?a=r==="end"?"left":"right":a=r==="start"?"left":"right":a=i==="bottom"&&s==="top"?"above":"below",a!==this._currentPosition){let o=this._overlayRef;if(o){let l=`${this._cssClassPrefix}-${aE}-`;o.removePanelClass(l+this._currentPosition),o.addPanelClass(l+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let i;e.x!==void 0&&e.y!==void 0&&(i=e),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let s=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??s)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{let r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,oE)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let i=this._injector.get(Ze).elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let i=this._elementRef.nativeElement,r=i.style;(e==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||Yt({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){i&2&&ye("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),hE=(()=>{class n{_changeDetectorRef=R(Ge);_elementRef=R(Te);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new ue;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let e=R(ot,{optional:!0});this._animationsDisabled=e==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>W4&&e.width>=q4}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(i);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(i&1&&Pe(z4,7),i&2){let s;ke(s=Me())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){i&1&&X("mouseleave",function(a){return r._handleMouseLeave(a)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(i&1){let s=ze();P(0,"div",1,0),X("animationend",function(o){return re(s),se(r._handleAnimationEnd(o))}),P(2,"div",2),B(3),U()()}i&2&&(ye("mdc-tooltip--multiline",r._isMultiline),j("ngClass",r.tooltipClass),$(3),He(r.message))},dependencies:[An],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})(),Nu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({providers:[cE],imports:[eu,Xn,Oe,Oe,gn]})}return n})();function G4(n,t){if(n&1&&(P(0,"mat-option",17),B(1),U()),n&2){let e=t.$implicit;j("value",e),$(),je(" ",e," ")}}function K4(n,t){if(n&1){let e=ze();P(0,"mat-form-field",14)(1,"mat-select",16,0),X("selectionChange",function(r){re(e);let s=Y(2);return se(s._changePageSize(r.value))}),gr(3,G4,2,2,"mat-option",17,xc),U(),P(5,"div",18),X("click",function(){re(e);let r=jt(2);return se(r.open())}),U()()}if(n&2){let e=Y(2);j("appearance",e._formFieldAppearance)("color",e.color),$(),j("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),$(2),_r(e._displayedPageSizeOptions)}}function Y4(n,t){if(n&1&&(P(0,"div",15),B(1),U()),n&2){let e=Y(2);$(),He(e.pageSize)}}function Q4(n,t){if(n&1&&(P(0,"div",3)(1,"div",13),B(2),U(),oe(3,K4,6,7,"mat-form-field",14)(4,Y4,2,1,"div",15),U()),n&2){let e=Y();$(),Se("id",e._pageSizeLabelId),$(),je(" ",e._intl.itemsPerPageLabel," "),$(),Je(e._displayedPageSizeOptions.length>1?3:-1),$(),Je(e._displayedPageSizeOptions.length<=1?4:-1)}}function Z4(n,t){if(n&1){let e=ze();P(0,"button",19),X("click",function(){re(e);let r=Y();return se(r._buttonClicked(0,r._previousButtonsDisabled()))}),Ht(),P(1,"svg",8),te(2,"path",20),U()()}if(n&2){let e=Y();j("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("disabled",e._previousButtonsDisabled())("tabindex",e._previousButtonsDisabled()?-1:null),Se("aria-label",e._intl.firstPageLabel)}}function X4(n,t){if(n&1){let e=ze();P(0,"button",21),X("click",function(){re(e);let r=Y();return se(r._buttonClicked(r.getNumberOfPages()-1,r._nextButtonsDisabled()))}),Ht(),P(1,"svg",8),te(2,"path",22),U()()}if(n&2){let e=Y();j("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("disabled",e._nextButtonsDisabled())("tabindex",e._nextButtonsDisabled()?-1:null),Se("aria-label",e._intl.lastPageLabel)}}var Cf=(()=>{class n{changes=new ue;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(e,i,r)=>{if(r==0||i==0)return`0 of ${r}`;r=Math.max(r,0);let s=e*i,a=s<r?Math.min(s+i,r):s+i;return`${s+1} \u2013 ${a} of ${r}`};static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function J4(n){return n||new Cf}var eB={provide:Cf,deps:[[new Io,new yc,Cf]],useFactory:J4},tB=50;var iB=new J("MAT_PAGINATOR_DEFAULT_OPTIONS"),nB=(()=>{class n{_intl=R(Cf);_changeDetectorRef=R(Ge);_formFieldAppearance;_pageSizeLabelId=R(At).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new ah(1);color;get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>Ft(i,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new ce;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let e=this._intl,i=R(iB,{optional:!0});if(this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),i){let{pageSize:r,pageSizeOptions:s,hidePageSize:a,showFirstLastButtons:o}=i;r!=null&&(this._pageSize=r),s!=null&&(this._pageSizeOptions=s),a!=null&&(this.hidePageSize=a),o!=null&&(this.showFirstLastButtons=o)}this._formFieldAppearance=i?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let i=this.pageIndex*this.pageSize,r=this.pageIndex;this.pageIndex=Math.floor(i/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:tB),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(e){let i=this.pageIndex;e!==i&&(this.pageIndex=e,this._emitPageEvent(i))}_buttonClicked(e,i){i||this._navigate(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",Ft],length:[2,"length","length",Ft],pageSize:[2,"pageSize","pageSize",Ft],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",_e],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",_e],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",_e]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(i,r){i&1&&(P(0,"div",1)(1,"div",2),oe(2,Q4,5,4,"div",3),P(3,"div",4)(4,"div",5),B(5),U(),oe(6,Z4,3,5,"button",6),P(7,"button",7),X("click",function(){return r._buttonClicked(r.pageIndex-1,r._previousButtonsDisabled())}),Ht(),P(8,"svg",8),te(9,"path",9),U()(),Xr(),P(10,"button",10),X("click",function(){return r._buttonClicked(r.pageIndex+1,r._nextButtonsDisabled())}),Ht(),P(11,"svg",8),te(12,"path",11),U()(),oe(13,X4,3,5,"button",12),U()()()),i&2&&($(2),Je(r.hidePageSize?-1:2),$(3),je(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),$(),Je(r.showFirstLastButtons?6:-1),$(),j("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("disabled",r._previousButtonsDisabled())("tabindex",r._previousButtonsDisabled()?-1:null),Se("aria-label",r._intl.previousPageLabel),$(3),j("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("disabled",r._nextButtonsDisabled())("tabindex",r._nextButtonsDisabled()?-1:null),Se("aria-label",r._intl.nextPageLabel),$(3),Je(r.showFirstLastButtons?13:-1))},dependencies:[bn,ps,Nn,ra,Ou],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return n})(),$b=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({providers:[eB],imports:[fs,Ll,Nu,nB]})}return n})();var rB=["input"],sB=["formField"],aB=["*"],Vb=class{source;value;constructor(t,e){this.source=t,this.value=e}};var oB=new J("MatRadioGroup"),lB=new J("mat-radio-default-options",{providedIn:"root",factory:cB});function cB(){return{color:"accent",disabledInteractive:!1}}var uB=(()=>{class n{_elementRef=R(Te);_changeDetector=R(Ge);_focusMonitor=R(mn);_radioDispatcher=R(Lb);_defaultOptions=R(lB,{optional:!0});_ngZone=R(De);_renderer=R(Rt);_uniqueId=R(At).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){e!==this._required&&this._changeDetector.markForCheck(),this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(e){this._color=e}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}_disabledInteractive;change=new ce;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations;_injector=R(ut);constructor(){R(pt).load(xi);let e=R(oB,{optional:!0}),i=R(ot,{optional:!0}),r=R(new un("tabindex"),{optional:!0});this.radioGroup=e,this._noopAnimations=i==="NoopAnimations",this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,r&&(this.tabIndex=Ft(r,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Vb(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_onInputClick=e=>{this.disabled&&this.disabledInteractive&&e.preventDefault()};_updateTabIndex(){let e=this.radioGroup,i;if(!e||!e.selected||this.disabled?i=this.tabIndex:i=e.selected===this?this.tabIndex:-1,i!==this._previousTabIndex){let r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i,Yt(()=>{queueMicrotask(()=>{e&&e.selected&&e.selected!==this&&document.activeElement===r&&(e.selected?._inputElement.nativeElement.focus(),document.activeElement===r&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(i&1&&(Pe(rB,5),Pe(sB,7,Te)),i&2){let s;ke(s=Me())&&(r._inputElement=s.first),ke(s=Me())&&(r._rippleTrigger=s.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(i,r){i&1&&X("focus",function(){return r._inputElement.nativeElement.focus()}),i&2&&(Se("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),ye("mat-primary",r.color==="primary")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("mat-mdc-radio-checked",r.checked)("mat-mdc-radio-disabled",r.disabled)("mat-mdc-radio-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",_e],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ft(e)],checked:[2,"checked","checked",_e],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",_e],required:[2,"required","required",_e],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",_e]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:aB,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio","aria-invalid","false",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(i&1){let s=ze();Qe(),P(0,"div",2,0)(2,"div",3)(3,"div",4),X("click",function(o){return re(s),se(r._onTouchTargetClick(o))}),U(),P(4,"input",5,1),X("change",function(o){return re(s),se(r._onInputInteraction(o))}),U(),P(6,"div",6),te(7,"div",7)(8,"div",8),U(),P(9,"div",9),te(10,"div",10),U()(),P(11,"label",11),Fe(12),U()()}i&2&&(j("labelPosition",r.labelPosition),$(2),ye("mdc-radio--disabled",r.disabled),$(2),j("id",r.inputId)("checked",r.checked)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Se("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),$(5),j("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),$(2),j("for",r.inputId))},dependencies:[pn,El],styles:[`.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px);top:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return n})(),Bb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Oe,Ar,uB,Oe]})}return n})();var dB=["switch"],hB=["*"];function mB(n,t){n&1&&(P(0,"span",10),Ht(),P(1,"svg",12),te(2,"path",13),U(),P(3,"svg",14),te(4,"path",15),U()())}var fB=new J("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),pB={provide:cs,useExisting:Ci(()=>fE),multi:!0},wf=class{source;checked;constructor(t,e){this.source=t,this.checked=e}},fE=(()=>{class n{_elementRef=R(Te);_focusMonitor=R(mn);_changeDetectorRef=R(Ge);defaults=R(fB);_onChange=e=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(e){return new wf(this,e)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations;_focused;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new ce;toggleChange=new ce;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){R(pt).load(xi);let e=R(new un("tabindex"),{optional:!0}),i=this.defaults,r=R(ot,{optional:!0});this.tabIndex=e==null?0:parseInt(e)||0,this.color=i.color||"accent",this._noopAnimations=r==="NoopAnimations",this.id=this._uniqueId=R(At).getId("mat-mdc-slide-toggle-"),this.hideIcon=i.hideIcon??!1,this.disabledInteractive=i.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new wf(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(i&1&&Pe(dB,5),i&2){let s;ke(s=Me())&&(r._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){i&2&&(Tn("id",r.id),Se("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),ft(r.color?"mat-"+r.color:""),ye("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",_e],color:"color",disabled:[2,"disabled","disabled",_e],disableRipple:[2,"disableRipple","disableRipple",_e],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ft(e)],checked:[2,"checked","checked",_e],hideIcon:[2,"hideIcon","hideIcon",_e],disabledInteractive:[2,"disabledInteractive","disabledInteractive",_e]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[rt([pB,{provide:na,useExisting:n,multi:!0}]),mt],ngContentSelectors:hB,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(i&1){let s=ze();Qe(),P(0,"div",1)(1,"button",2,0),X("click",function(){return re(s),se(r._handleClick())}),te(3,"span",3),P(4,"span",4)(5,"span",5)(6,"span",6),te(7,"span",7),U(),P(8,"span",8),te(9,"span",9),U(),oe(10,mB,5,0,"span",10),U()()(),P(11,"label",11),X("click",function(o){return re(s),se(o.stopPropagation())}),Fe(12),U()()}if(i&2){let s=jt(2);j("labelPosition",r.labelPosition),$(),ye("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled)("mat-mdc-slide-toggle-disabled-interactive",r.disabledInteractive),j("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("disabled",r.disabled&&!r.disabledInteractive),Se("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),$(8),j("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),$(),Je(r.hideIcon?-1:10),$(),j("for",r.buttonId),Se("id",r._labelId)}},dependencies:[pn,El],styles:[`.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height, 32px);border-radius:var(--mdc-switch-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width, 2px);border-color:var(--mat-switch-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width, 2px);border-color:var(--mat-switch-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size, 16px);height:var(--mat-switch-unselected-handle-size, 16px);margin:var(--mat-switch-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size, 24px);height:var(--mat-switch-selected-handle-size, 24px);margin:var(--mat-switch-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size, 24px);height:var(--mat-switch-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size, 28px);height:var(--mat-switch-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size, 40px);height:var(--mdc-switch-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1;transform:translateZ(0)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 16px);height:var(--mdc-switch-unselected-icon-size, 16px);fill:var(--mdc-switch-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 16px);height:var(--mdc-switch-selected-icon-size, 16px);fill:var(--mdc-switch-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}
`],encapsulation:2,changeDetection:0})}return n})();var zb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[fE,Oe,Oe]})}return n})();var Hb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Oe,Ar]})}return n})();var pE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[mu]})}return n})();var jb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Oe,pE,Oe]})}return n})();var Yb=["*"];function gB(n,t){n&1&&Fe(0)}var _B=["tabListContainer"],bB=["tabList"],vB=["tabListInner"],yB=["nextPaginator"],CB=["previousPaginator"],wB=["content"];function xB(n,t){}var SB=["tabBodyWrapper"],kB=["tabHeader"];function MB(n,t){}function TB(n,t){if(n&1&&oe(0,MB,0,0,"ng-template",12),n&2){let e=Y().$implicit;j("cdkPortalOutlet",e.templateLabel)}}function EB(n,t){if(n&1&&B(0),n&2){let e=Y().$implicit;He(e.textLabel)}}function AB(n,t){if(n&1){let e=ze();P(0,"div",7,2),X("click",function(){let r=re(e),s=r.$implicit,a=r.$index,o=Y(),l=jt(1);return se(o._handleClick(s,l,a))})("cdkFocusChange",function(r){let s=re(e).$index,a=Y();return se(a._tabFocusChanged(r,s))}),te(2,"span",8)(3,"div",9),P(4,"span",10)(5,"span",11),oe(6,TB,1,1,null,12)(7,EB,1,1),U()()()}if(n&2){let e=t.$implicit,i=t.$index,r=jt(1),s=Y();ft(e.labelClass),ye("mdc-tab--active",s.selectedIndex===i),j("id",s._getTabLabelId(e,i))("disabled",e.disabled)("fitInkBarToContent",s.fitInkBarToContent),Se("tabIndex",s._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(i))("aria-selected",s.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),$(3),j("matRippleTrigger",r)("matRippleDisabled",e.disabled||s.disableRipple),$(3),Je(e.templateLabel?6:7)}}function IB(n,t){n&1&&Fe(0)}function DB(n,t){if(n&1){let e=ze();P(0,"mat-tab-body",13),X("_onCentered",function(){re(e);let r=Y();return se(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){re(e);let s=Y();return se(s._setTabBodyWrapperHeight(r))})("_beforeCentering",function(r){re(e);let s=Y();return se(s._bodyCentered(r))}),U()}if(n&2){let e=t.$implicit,i=t.$index,r=Y();ft(e.bodyClass),j("id",r._getTabContentId(i))("content",e.content)("position",e.position)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Se("tabindex",r.contentTabIndex!=null&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(e,i))("aria-hidden",r.selectedIndex!==i)}}var RB=new J("MatTabContent"),LB=(()=>{class n{template=R(Mn);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["","matTabContent",""]],features:[rt([{provide:RB,useExisting:n}])]})}return n})(),OB=new J("MatTabLabel"),vE=new J("MAT_TAB"),NB=(()=>{class n extends Z_{_closestTab=R(vE,{optional:!0});static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(n)))(r||n)}})();static \u0275dir=xe({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[rt([{provide:OB,useExisting:n}]),Tt]})}return n})(),yE=new J("MAT_TAB_GROUP"),Qb=(()=>{class n{_viewContainerRef=R(ui);_closestTabGroup=R(yE,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new ue;position=null;origin=null;isActive=!1;constructor(){R(pt).load(xi)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Er(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-tab"]],contentQueries:function(i,r,s){if(i&1&&(Et(s,NB,5),Et(s,LB,7,Mn)),i&2){let a;ke(a=Me())&&(r.templateLabel=a.first),ke(a=Me())&&(r._explicitContent=a.first)}},viewQuery:function(i,r){if(i&1&&Pe(Mn,7),i&2){let s;ke(s=Me())&&(r._implicitContent=s.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(i,r){i&2&&Se("id",null)},inputs:{disabled:[2,"disabled","disabled",_e],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[rt([{provide:vE,useExisting:n}]),mt],ngContentSelectors:Yb,decls:1,vars:0,template:function(i,r){i&1&&(Qe(),oe(0,gB,1,0,"ng-template"))},encapsulation:2})}return n})(),Wb="mdc-tab-indicator--active",gE="mdc-tab-indicator--no-transition",qb=class{_items;_currentItem;constructor(t){this._items=t}hide(){this._items.forEach(t=>t.deactivateInkBar()),this._currentItem=void 0}alignToElement(t){let e=this._items.find(r=>r.elementRef.nativeElement===t),i=this._currentItem;if(e!==i&&(i?.deactivateInkBar(),e)){let r=i?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}},FB=(()=>{class n{_elementRef=R(Te);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let i=this._elementRef.nativeElement;if(!e||!i.getBoundingClientRect||!this._inkBarContentElement){i.classList.add(Wb);return}let r=i.getBoundingClientRect(),s=e.width/r.width,a=e.left-r.left;i.classList.add(gE),this._inkBarContentElement.style.setProperty("transform",`translateX(${a}px) scaleX(${s})`),i.getBoundingClientRect(),i.classList.remove(gE),i.classList.add(Wb),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Wb)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,i=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");i.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",i.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",_e]}})}return n})();var CE=(()=>{class n extends FB{elementRef=R(Te);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(n)))(r||n)}})();static \u0275dir=xe({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,r){i&2&&(Se("aria-disabled",!!r.disabled),ye("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",_e]},features:[Tt]})}return n})(),_E={passive:!0},PB=650,UB=100,$B=(()=>{class n{_elementRef=R(Te);_changeDetectorRef=R(Ge);_viewportRuler=R(On);_dir=R(ti,{optional:!0});_ngZone=R(De);_platform=R(st);_sharedResizeObserver=R(cf);_injector=R(ut);_renderer=R(Rt);_animationMode=R(ot,{optional:!0});_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new ue;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new ue;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let i=isNaN(e)?0:e;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}_selectedIndex=0;selectFocusedIndex=new ce;indexFocused=new ce;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(Ot(this._renderer,this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),_E),Ot(this._renderer,this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),_E))}ngAfterContentInit(){let e=this._dir?this._dir.change:ge("ltr"),i=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Ii(32),Ye(this._destroyed)),r=this._viewportRuler.change(150).pipe(Ye(this._destroyed)),s=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new cl(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),Yt(s,{injector:this._injector}),Kt(e,r,i,this._items.changes,this._itemsResized()).pipe(Ye(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),s()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}_itemsResized(){return typeof ResizeObserver!="function"?on:this._items.changes.pipe(Bt(this._items),Mt(e=>new dr(i=>this._ngZone.runOutsideAngular(()=>{let r=new ResizeObserver(s=>i.next(s));return e.forEach(s=>r.observe(s.elementRef.nativeElement)),()=>{r.disconnect()}}))),Ao(1),it(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!wi(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager?.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let i=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?i.scrollLeft=0:i.scrollLeft=i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,i=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let i=this._tabListContainer.nativeElement.offsetWidth,r=(e=="before"?-1:1)*i/3;return this._scrollTo(this._scrollDistance+r)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let i=this._items?this._items.toArray()[e]:null;if(!i)return;let r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:a}=i.elementRef.nativeElement,o,l;this._getLayoutDirection()=="ltr"?(o=s,l=o+a):(l=this._tabListInner.nativeElement.offsetWidth-s,o=l-a);let c=this.scrollDistance,u=this.scrollDistance+r;o<c?this.scrollDistance-=c-o:l>u&&(this.scrollDistance+=Math.min(l-u,o-c))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,i=this._elementRef.nativeElement.offsetWidth,r=e-i>=5;r||(this.scrollDistance=0),r!==this._showPaginationControls&&(this._showPaginationControls=r,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,i=this._tabListContainer.nativeElement.offsetWidth;return e-i||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&i.button!=null&&i.button!==0||(this._stopInterval(),oh(PB,UB).pipe(Ye(Kt(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:r,distance:s}=this._scrollHeader(e);(s===0||s>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,inputs:{disablePagination:[2,"disablePagination","disablePagination",_e],selectedIndex:[2,"selectedIndex","selectedIndex",Ft]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return n})(),VB=(()=>{class n extends $B{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new qb(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(n)))(r||n)}})();static \u0275cmp=le({type:n,selectors:[["mat-tab-header"]],contentQueries:function(i,r,s){if(i&1&&Et(s,CE,4),i&2){let a;ke(a=Me())&&(r._items=a)}},viewQuery:function(i,r){if(i&1&&(Pe(_B,7),Pe(bB,7),Pe(vB,7),Pe(yB,5),Pe(CB,5)),i&2){let s;ke(s=Me())&&(r._tabListContainer=s.first),ke(s=Me())&&(r._tabList=s.first),ke(s=Me())&&(r._tabListInner=s.first),ke(s=Me())&&(r._nextPaginator=s.first),ke(s=Me())&&(r._previousPaginator=s.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,r){i&2&&ye("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl",r._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",_e]},features:[Tt],ngContentSelectors:Yb,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(i,r){if(i&1){let s=ze();Qe(),P(0,"div",5,0),X("click",function(){return re(s),se(r._handlePaginatorClick("before"))})("mousedown",function(o){return re(s),se(r._handlePaginatorPress("before",o))})("touchend",function(){return re(s),se(r._stopInterval())}),te(2,"div",6),U(),P(3,"div",7,1),X("keydown",function(o){return re(s),se(r._handleKeydown(o))}),P(5,"div",8,2),X("cdkObserveContent",function(){return re(s),se(r._onContentChanges())}),P(7,"div",9,3),Fe(9),U()()(),P(10,"div",10,4),X("mousedown",function(o){return re(s),se(r._handlePaginatorPress("after",o))})("click",function(){return re(s),se(r._handlePaginatorClick("after"))})("touchend",function(){return re(s),se(r._stopInterval())}),te(12,"div",6),U()}i&2&&(ye("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),j("matRippleDisabled",r._disableScrollBefore||r.disableRipple),$(3),ye("_mat-animation-noopable",r._animationMode==="NoopAnimations"),$(2),Se("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null),$(5),ye("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),j("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},dependencies:[pn,Ik],styles:[`.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}
`],encapsulation:2})}return n})(),BB=new J("MAT_TABS_CONFIG"),bE=(()=>{class n extends ja{_host=R(Gb);_centeringSub=St.EMPTY;_leavingSub=St.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Bt(this._host._isCenterPosition())).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xe({type:n,selectors:[["","matTabBodyHost",""]],features:[Tt]})}return n})(),Gb=(()=>{class n{_elementRef=R(Te);_dir=R(ti,{optional:!0});_ngZone=R(De);_injector=R(ut);_renderer=R(Rt);_animationsModule=R(ot,{optional:!0});_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=St.EMPTY;_position;_previousPosition;_onCentering=new ce;_beforeCentering=new ce;_afterLeavingCenter=new ce;_onCentered=new ce(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=R(Ge);this._dirChangeSubscription=this._dir.change.subscribe(i=>{this._computePositionAnimationState(i),e.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),Yt(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(e=>e()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement,i=r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),r.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(e,"transitionstart",r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(e,"transitionend",i),this._renderer.listen(e,"transitioncancel",i)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let e=this._position==="center";this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(e){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",e)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(e=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),Yt(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._animationsModule==="NoopAnimations"||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-tab-body"]],viewQuery:function(i,r){if(i&1&&(Pe(bE,5),Pe(wB,5)),i&2){let s;ke(s=Me())&&(r._portalHost=s.first),ke(s=Me())&&(r._contentElement=s.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(i,r){i&2&&Se("inert",r._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(i,r){i&1&&(P(0,"div",1,0),oe(2,xB,0,0,"ng-template",2),U()),i&2&&ye("mat-tab-body-content-left",r._position==="left")("mat-tab-body-content-right",r._position==="right")("mat-tab-body-content-can-animate",r._position==="center"||r._previousPosition==="center")},dependencies:[bE,X_],styles:[`.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}
`],encapsulation:2})}return n})(),wE=(()=>{class n{_elementRef=R(Te);_changeDetectorRef=R(Ge);_ngZone=R(De);_tabsSubscription=St.EMPTY;_tabLabelSubscription=St.EMPTY;_tabBodySubscription=St.EMPTY;_diAnimationsDisabled=R(ot,{optional:!0})==="NoopAnimations";_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new Do;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let i=e+"";this._animationDuration=/^\d+$/.test(i)?e+"ms":i}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){let i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&i.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new ce;focusChange=new ce;animationDone=new ce;selectedTabChange=new ce(!0);_groupId;_isServer=!R(st).isBrowser;constructor(){let e=R(BB,{optional:!0});this._groupId=R(At).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let i=this._selectedIndex==null;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));let r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,this._selectedIndex!=null&&i.position==0&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let i=this._tabs.toArray(),r;for(let s=0;s<i.length;s++)if(i[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,r=i[s];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Bt(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let i=new Kb;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Kt(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e,i){return e.id||`${this._groupId}-label-${i}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=e;return}let i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(e,i,r){i.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){let i=this._lastFocusedTabIndex??this.selectedIndex;return e===i?0:-1}_tabFocusChanged(e,i){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=i)}_bodyCentered(e){e&&this._tabBodies?.forEach((i,r)=>i._setActiveClass(r===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0"||this.animationDuration==="0ms"}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=le({type:n,selectors:[["mat-tab-group"]],contentQueries:function(i,r,s){if(i&1&&Et(s,Qb,5),i&2){let a;ke(a=Me())&&(r._allTabs=a)}},viewQuery:function(i,r){if(i&1&&(Pe(SB,5),Pe(kB,5),Pe(Gb,5)),i&2){let s;ke(s=Me())&&(r._tabBodyWrapper=s.first),ke(s=Me())&&(r._tabHeader=s.first),ke(s=Me())&&(r._tabBodies=s)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(i,r){i&2&&(Se("mat-align-tabs",r.alignTabs),ft("mat-"+(r.color||"primary")),Jt("--mat-tab-animation-duration",r.animationDuration),ye("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header",r.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",_e],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",_e],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",_e],selectedIndex:[2,"selectedIndex","selectedIndex",Ft],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Ft],disablePagination:[2,"disablePagination","disablePagination",_e],disableRipple:[2,"disableRipple","disableRipple",_e],preserveContent:[2,"preserveContent","preserveContent",_e],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[rt([{provide:yE,useExisting:n}])],ngContentSelectors:Yb,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(i,r){if(i&1){let s=ze();Qe(),P(0,"mat-tab-header",3,0),X("indexFocused",function(o){return re(s),se(r._focusChanged(o))})("selectFocusedIndex",function(o){return re(s),se(r.selectedIndex=o)}),gr(2,AB,8,17,"div",4,xc),U(),oe(4,IB,1,0),P(5,"div",5,1),gr(7,DB,1,10,"mat-tab-body",6,xc),U()}i&2&&(j("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),$(2),_r(r._tabs),$(2),Je(r._isServer?4:-1),$(),ye("_mat-animation-noopable",r._animationsDisabled()),$(2),_r(r._tabs))},dependencies:[VB,CE,Jc,pn,ja,Gb],styles:[`.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}
`],encapsulation:2})}return n})(),Kb=class{index;tab};var Zb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Oe,Oe]})}return n})();var Xb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[Oe,Oe]})}return n})();var HB=[Jr,kc,ub,Su,Qg,pb,fs,q_,Au,Ru,hs,iu,mb,tb,$b,Ll,Hb,zb,jb,Xb,Zb,Rb,xb,Bb,nu];var xE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=he({type:n})}static{this.\u0275inj=de({imports:[HB,Jr,kc,ub,Su,Qg,pb,fs,q_,Au,Ru,hs,iu,mb,tb,$b,Ll,Hb,zb,jb,Xb,Zb,Rb,xb,Bb,nu]})}}return n})();var rR=Os(nR());var sR=(()=>{class n{evaluate(e,i){return(0,rR.evaluate)(e,i,null)}evaluateToString(e,i){let r=this.evaluate(e,i);return r&&r instanceof Array&&r.length===1?r[0]:null}getOauthUriToken(e){return this.evaluateToString(e,"rest.security.extension.where(url='http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris').extension.where(url='token').valueUri")}getOauthUriAuthorize(e){return this.evaluateToString(e,"rest.security.extension.where(url='http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris').extension.where(url='authorize').valueUri")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ej=()=>({"background-color":"lightyellow"}),tj=()=>({});function ij(n,t){if(n&1){let e=ze();P(0,"tr",9),X("click",function(){let r=re(e).$implicit,s=Y();return se(s.selectRow(r))}),P(1,"td"),B(2),U(),P(3,"td",10),B(4),U(),P(5,"td",10),B(6),U()()}if(n&2){let e=t.$implicit,i=Y();j("ngStyle",i.isCurrent(e)?dg(4,ej):dg(5,tj)),$(2),He(e.packageId),$(2),He(e.version),$(2),He(e.title)}}function nj(n,t){if(n&1){let e=ze();qi(0),B(1,"\xA0 "),P(2,"button",6),X("click",function(){re(e);let r=Y();return se(r.onUpdate())}),B(3,"Update"),U(),Gi()}}function rj(n,t){if(n&1){let e=ze();qi(0),B(1,"\xA0 "),P(2,"button",6),X("click",function(){re(e);let r=Y();return se(r.onDelete())}),B(3,"Delete"),U(),Gi()}}function sj(n,t){n&1&&(qi(0),te(1,"mat-progress-spinner",11),Gi())}function aj(n,t){if(n&1&&te(0,"app-operation-result",14),n&2){let e=Y(2);j("operationResult",e.operationResult)}}function oj(n,t){if(n&1&&(P(0,"div",12)(1,"h2"),B(2,"Result of the last operation"),U(),oe(3,aj,1,1,"app-operation-result",13),U()),n&2){let e=Y();$(3),j("ngIf",e.operationResult)}}var aR=(()=>{class n{constructor(e,i){this.data=e,this.fhirPathService=i,this.update=!1,this.operationResult=null,this.query={_sort:"title",_count:1e4},this.client=e.getFhirClient(),this.addPackageId=new us("",[_n.required,_n.minLength(1)]),this.addVersion=new us("current",[_n.required,_n.minLength(1)]),this.addUrl=new us("url"),this.search()}search(){this.client.search({resourceType:"ImplementationGuide",searchParams:this.query}).then(e=>{let i=e;this.igs=i.entry.map(r=>r.resource),this.selection=void 0,this.addPackageId.setValue(""),this.addVersion.setValue(""),this.addUrl.setValue("")}).catch(e=>{this.errorMessage="Error accessing FHIR server",e.response?.data?this.operationResult=Ut.fromOperationOutcome(e.response.data):this.operationResult=Ut.fromMatchboxError(e.message)}),this.update=!1}getPackageUrl(e){return this.fhirPathService.evaluateToString(e,"extension.where(url='http://ahdis.ch/fhir/extension/packageUrl').valueUri")}isCurrent(e){return this.fhirPathService.evaluateToString(e,"meta.tag.where(system='http://matchbox.health/fhir/CodeSystem/tag').code")==="current"}selectRow(e){this.selection=e,this.addPackageId.setValue(this.selection.packageId),this.addUrl.setValue(this.getPackageUrl(e));let i=this.selection.version;i&&i.endsWith(" (last)")&&(i=i.substring(0,i.length-7)),this.addVersion.setValue(i)}onSubmit(){if(this.errorMessage=null,this.addPackageId.invalid||this.addVersion.invalid){this.errorMessage="Please provide package name";return}let e=this.addPackageId.value.trim();e.indexOf("#")>0&&(e.substring(0,e.indexOf("#")-1),this.addVersion.setValue(e.substring(0,e.indexOf("#")+1))),this.addPackageId.setValue(e);let i=this.addVersion.value.trim();this.addVersion.setValue(i),this.update=!0,this.client.create({resourceType:"ImplementationGuide",body:{resourceType:"ImplementationGuide",name:e,version:i,packageId:e,url:this.addUrl.value},options:{headers:{Prefer:"return=OperationOutcome"}}}).then(r=>{this.errorMessage="Created Implementation Guide "+this.addPackageId.value,this.operationResult=Ut.fromOperationOutcome(r),this.search()}).catch(r=>{this.errorMessage="Error creating Implementation Guide "+this.addPackageId.value,r.response?.data?this.operationResult=Ut.fromOperationOutcome(r.response.data):this.operationResult=Ut.fromMatchboxError(r.message),this.update=!1})}onUpdate(){this.errorMessage=null,this.selection.name=this.addPackageId.value,this.selection.version=this.addVersion.value,this.selection.packageId=this.addPackageId.value,this.selection.url=this.addUrl.value,this.update=!0,this.client.update({resourceType:this.selection.resourceType,id:this.selection.id,body:this.selection,options:{headers:{Prefer:"return=OperationOutcome"}}}).then(e=>{this.errorMessage="Updated Implementation Guide "+this.selection.packageId,this.operationResult=Ut.fromOperationOutcome(e),this.search()}).catch(e=>{this.errorMessage="Error updating Implementation Guide "+this.selection.packageId,e.response?.data?this.operationResult=Ut.fromOperationOutcome(e.response.data):this.operationResult=Ut.fromMatchboxError(e.message),this.update=!1})}onDelete(){this.errorMessage=null,this.update=!0,this.client.delete({resourceType:this.selection.resourceType,id:this.selection.id,options:{headers:{Prefer:"return=OperationOutcome","X-Cascade":"delete"}}}).then(e=>{this.errorMessage="Deleted Implementation Guide Resource "+this.selection.packageId,this.operationResult=Ut.fromOperationOutcome(e),this.search()}).catch(e=>{this.errorMessage="Error deleting Implementation Guide "+this.selection.packageId,e.response?.data?this.operationResult=Ut.fromOperationOutcome(e.response.data):this.operationResult=Ut.fromMatchboxError(e.message),this.update=!1})}static{this.\u0275fac=function(i){return new(i||n)(Ae(Dn),Ae(sR))}}static{this.\u0275cmp=le({type:n,selectors:[["app-igs"]],standalone:!1,decls:40,vars:8,consts:[[1,"white-block","card-igs"],[3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"white-block","Search","card-igs"],["matInput","",3,"formControl"],[2,"width","50vw"],["href","https://packages.fhir.org"],["type","submit",3,"click"],[4,"ngIf"],["class","white-block logs",4,"ngIf"],[3,"click","ngStyle"],[1,"secondary"],["mode","indeterminate"],[1,"white-block","logs"],[3,"operationResult",4,"ngIf"],[3,"operationResult"]],template:function(i,r){i&1&&(P(0,"div",0)(1,"h2"),B(2,"ImplementationGuides installed on the server"),U(),P(3,"table")(4,"thead")(5,"tr")(6,"th"),B(7,"Package"),U(),P(8,"th"),B(9,"Version"),U(),P(10,"th"),B(11,"Title"),U()()(),P(12,"tbody"),oe(13,ij,7,6,"tr",1),U()()(),P(14,"div",2)(15,"h3"),B(16,"Install an ImplementationGuide"),U(),P(17,"mat-form-field")(18,"mat-label"),B(19,"PackageId"),U(),te(20,"input",3),U(),B(21," \xA0 "),P(22,"mat-form-field")(23,"mat-label"),B(24,"Version"),U(),te(25,"input",3),U(),B(26," \xA0 "),P(27,"mat-form-field",4)(28,"mat-label"),B(29,"Package url (optional, use only if not available through "),P(30,"a",5),B(31,"packages.fhir.org"),U(),B(32,") "),U(),te(33,"input",3),U(),P(34,"button",6),X("click",function(){return r.onSubmit()}),B(35,"Upload"),U(),oe(36,nj,4,0,"ng-container",7)(37,rj,4,0,"ng-container",7),U(),oe(38,sj,2,0,"ng-container",7)(39,oj,4,1,"div",8)),i&2&&($(13),j("ngForOf",r.igs),$(7),j("formControl",r.addPackageId),$(5),j("formControl",r.addVersion),$(8),j("formControl",r.addUrl),$(3),j("ngIf",r.selection),$(),j("ngIf",r.selection),$(),j("ngIf",r.update),$(),j("ngIf",r.errorMessage))},dependencies:[vr,di,Ww,Ir,Dr,er,bn,ds,Ml,Xs,dl],styles:[".secondary[_ngcontent-%COMP%]{color:#6b7280}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid rgb(209,213,219);padding-bottom:1rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid rgb(229,231,235);padding-top:1rem;padding-bottom:1rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{background:#eee}.mat-form-field.url[_ngcontent-%COMP%]{width:200px}.mat-table[_ngcontent-%COMP%]{margin:1rem}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{cursor:pointer}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.mat-table[_ngcontent-%COMP%]   .mat-cell.title[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%]   .mat-header-cell.title[_ngcontent-%COMP%]{flex:2;justify-content:flex-end}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child, .mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-child{padding-left:1rem}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child, .mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:last-child{padding-right:1rem}.card-igs[_ngcontent-%COMP%]{margin-bottom:10px}"]})}}return n})();var cj=["searchSelectInput"],uj=["innerSelectSearch"],dj=[[["",8,"mat-select-search-custom-header-content"]],[["","ngxMatSelectSearchClear",""]],[["","ngxMatSelectNoEntriesFound",""]]],hj=[".mat-select-search-custom-header-content","[ngxMatSelectSearchClear]","[ngxMatSelectNoEntriesFound]"],mj=(n,t)=>({"mat-select-search-inner-multiple":n,"mat-select-search-inner-toggle-all":t});function fj(n,t){if(n&1){let e=ze();P(0,"mat-checkbox",12),X("change",function(r){re(e);let s=Y();return se(s._emitSelectAllBooleanToParent(r.checked))}),U()}if(n&2){let e=Y();j("color",e.matFormField==null?null:e.matFormField.color)("checked",e.toggleAllCheckboxChecked)("indeterminate",e.toggleAllCheckboxIndeterminate)("matTooltip",e.toggleAllCheckboxTooltipMessage)("matTooltipPosition",e.toggleAllCheckboxTooltipPosition)}}function pj(n,t){n&1&&te(0,"mat-spinner",13)}function gj(n,t){n&1&&Fe(0,1,["*ngIf","clearIcon; else defaultIcon"])}function _j(n,t){if(n&1&&(P(0,"mat-icon",16),B(1),U()),n&2){let e=Y(2);j("svgIcon",e.closeSvgIcon),$(),je(" ",e.closeSvgIcon?null:e.closeIcon," ")}}function bj(n,t){if(n&1){let e=ze();P(0,"button",14),X("click",function(){re(e);let r=Y();return se(r._reset(!0))}),oe(1,gj,1,0,"ng-content",15)(2,_j,2,2,"ng-template",null,2,Ma),U()}if(n&2){let e=jt(3),i=Y();$(),j("ngIf",i.clearIcon)("ngIfElse",e)}}function vj(n,t){n&1&&Fe(0,2,["*ngIf","noEntriesFound; else defaultNoEntriesFound"])}function yj(n,t){if(n&1&&B(0),n&2){let e=Y(2);He(e.noEntriesFoundLabel)}}function Cj(n,t){if(n&1&&(P(0,"div",17),oe(1,vj,1,0,"ng-content",15)(2,yj,1,1,"ng-template",null,3,Ma),U()),n&2){let e=jt(3),i=Y();$(),j("ngIf",i.noEntriesFound)("ngIfElse",e)}}var wj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=xe({type:n,selectors:[["","ngxMatSelectSearchClear",""]],standalone:!1}),n})(),xj=["ariaLabel","clearSearchInput","closeIcon","closeSvgIcon","disableInitialFocus","disableScrollToActiveOnOptionsChanged","enableClearOnEscapePressed","hideClearSearchButton","noEntriesFoundLabel","placeholderLabel","preventHomeEndKeyPropagation","searching"],Sj=new J("mat-selectsearch-default-options"),kj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=xe({type:n,selectors:[["","ngxMatSelectNoEntriesFound",""]],standalone:!1}),n})(),n0=(()=>{class n{constructor(e,i,r,s,a,o){this.matSelect=e,this.changeDetectorRef=i,this._viewportRuler=r,this.matOption=s,this.matFormField=a,this.placeholderLabel="Suche",this.type="text",this.closeIcon="close",this.noEntriesFoundLabel="Keine Optionen gefunden",this.clearSearchInput=!0,this.searching=!1,this.disableInitialFocus=!1,this.enableClearOnEscapePressed=!1,this.preventHomeEndKeyPropagation=!1,this.disableScrollToActiveOnOptionsChanged=!1,this.ariaLabel="dropdown search",this.showToggleAllCheckbox=!1,this.toggleAllCheckboxChecked=!1,this.toggleAllCheckboxIndeterminate=!1,this.toggleAllCheckboxTooltipMessage="",this.toggleAllCheckboxTooltipPosition="below",this.hideClearSearchButton=!1,this.alwaysRestoreSelectedOptionsMulti=!1,this.recreateValuesArray=!1,this.toggleAll=new ce,this.onTouched=l=>{},this._options$=new ci(null),this.optionsList$=this._options$.pipe(Mt(l=>l?l.changes.pipe(Ne(c=>c.toArray()),Bt(l.toArray())):ge(null))),this.optionsLength$=this.optionsList$.pipe(Ne(l=>l?l.length:0)),this._formControl=new Rr("",{nonNullable:!0}),this._showNoEntriesFound$=hr([this._formControl.valueChanges,this.optionsLength$]).pipe(Ne(([l,c])=>!!(this.noEntriesFoundLabel&&l&&c===this.getOptionsLengthOffset()))),this._onDestroy=new ue,this.applyDefaultOptions(o)}get value(){return this._formControl.value}set _options(e){this._options$.next(e)}get _options(){return this._options$.getValue()}applyDefaultOptions(e){if(e)for(let i of xj)e.hasOwnProperty(i)&&(this[i]=e[i])}ngOnInit(){this.matOption?(this.matOption.disabled=!0,this.matOption._getHostElement().classList.add("contains-mat-select-search"),this.matOption._getHostElement().setAttribute("role","presentation")):console.error("<ngx-mat-select-search> must be placed inside a <mat-option> element"),this.matSelect.openedChange.pipe(To(1),Ye(this._onDestroy)).subscribe(e=>{e?(this.updateInputWidth(),this.disableInitialFocus||this._focus()):this.clearSearchInput&&this._reset()}),this.matSelect.openedChange.pipe(Vt(1),Mt(e=>{this._options=this.matSelect.options;let i=this._options.toArray()[this.getOptionsLengthOffset()];return this._options.changes.pipe(kt(()=>{setTimeout(()=>{let r=this._options.toArray(),s=r[this.getOptionsLengthOffset()],a=this.matSelect._keyManager;a&&this.matSelect.panelOpen&&s&&((!i||!this.matSelect.compareWith(i.value,s.value)||!a.activeItem||!r.find(l=>this.matSelect.compareWith(l.value,a.activeItem?.value)))&&a.setActiveItem(this.getOptionsLengthOffset()),setTimeout(()=>{this.updateInputWidth()})),i=s})}))})).pipe(Ye(this._onDestroy)).subscribe(),this._showNoEntriesFound$.pipe(Ye(this._onDestroy)).subscribe(e=>{this.matOption&&(e?this.matOption._getHostElement().classList.add("mat-select-search-no-entries-found"):this.matOption._getHostElement().classList.remove("mat-select-search-no-entries-found"))}),this._viewportRuler.change().pipe(Ye(this._onDestroy)).subscribe(()=>{this.matSelect.panelOpen&&this.updateInputWidth()}),this.initMultipleHandling(),this.optionsList$.pipe(Ye(this._onDestroy)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}_emitSelectAllBooleanToParent(e){this.toggleAll.emit(e)}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_isToggleAllCheckboxVisible(){return this.matSelect.multiple&&this.showToggleAllCheckbox}_handleKeydown(e){(e.key&&e.key.length===1||this.preventHomeEndKeyPropagation&&(e.key==="Home"||e.key==="End"))&&e.stopPropagation(),this.matSelect.multiple&&e.key&&e.key==="Enter"&&setTimeout(()=>this._focus()),this.enableClearOnEscapePressed&&e.key==="Escape"&&this.value&&(this._reset(!0),e.stopPropagation())}_handleKeyup(e){if(e.key==="ArrowUp"||e.key==="ArrowDown"){let i=this.matSelect._getAriaActiveDescendant(),r=this._options.toArray().findIndex(s=>s.id===i);r!==-1&&(this.unselectActiveDescendant(),this.activeDescendant=this._options.toArray()[r]._getHostElement(),this.activeDescendant.setAttribute("aria-selected","true"),this.searchSelectInput.nativeElement.setAttribute("aria-activedescendant",i))}}writeValue(e){this._lastExternalInputValue=e,this._formControl.setValue(e),this.changeDetectorRef.markForCheck()}onBlur(){this.unselectActiveDescendant(),this.onTouched()}registerOnChange(e){this._formControl.valueChanges.pipe(it(i=>i!==this._lastExternalInputValue),kt(()=>this._lastExternalInputValue=void 0),Ye(this._onDestroy)).subscribe(e)}registerOnTouched(e){this.onTouched=e}_focus(){if(!this.searchSelectInput||!this.matSelect.panel)return;let e=this.matSelect.panel.nativeElement,i=e.scrollTop;this.searchSelectInput.nativeElement.focus(),e.scrollTop=i}_reset(e){this._formControl.setValue(""),e&&this._focus()}initMultipleHandling(){if(!this.matSelect.ngControl){this.matSelect.multiple&&console.error("the mat-select containing ngx-mat-select-search must have a ngModel or formControl directive when multiple=true");return}this.previousSelectedValues=this.matSelect.ngControl.value,this.matSelect.ngControl.valueChanges&&this.matSelect.ngControl.valueChanges.pipe(Ye(this._onDestroy)).subscribe(e=>{let i=!1;if(this.matSelect.multiple&&(this.alwaysRestoreSelectedOptionsMulti||this._formControl.value&&this._formControl.value.length)&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){(!e||!Array.isArray(e))&&(e=[]);let r=this.matSelect.options.map(s=>s.value);this.previousSelectedValues.forEach(s=>{!e.some(a=>this.matSelect.compareWith(a,s))&&!r.some(a=>this.matSelect.compareWith(a,s))&&(this.recreateValuesArray?e=[...e,s]:e.push(s),i=!0)})}this.previousSelectedValues=e,i&&this.matSelect._onChange(e)})}updateInputWidth(){if(!this.innerSelectSearch||!this.innerSelectSearch.nativeElement)return;let e=this.innerSelectSearch.nativeElement,i=null;for(;e&&e.parentElement;)if(e=e.parentElement,e.classList.contains("mat-select-panel")){i=e;break}i&&(this.innerSelectSearch.nativeElement.style.width=i.clientWidth+"px")}getOptionsLengthOffset(){return this.matOption?1:0}unselectActiveDescendant(){this.activeDescendant?.removeAttribute("aria-selected"),this.searchSelectInput.nativeElement.removeAttribute("aria-activedescendant")}}return n.\u0275fac=function(e){return new(e||n)(Ae(ps),Ae(Ge),Ae(On),Ae(Nn,8),Ae(bn,8),Ae(Sj,8))},n.\u0275cmp=le({type:n,selectors:[["ngx-mat-select-search"]],contentQueries:function(e,i,r){if(e&1&&(Et(r,wj,5),Et(r,kj,5)),e&2){let s;ke(s=Me())&&(i.clearIcon=s.first),ke(s=Me())&&(i.noEntriesFound=s.first)}},viewQuery:function(e,i){if(e&1&&(Pe(cj,7,Te),Pe(uj,7,Te)),e&2){let r;ke(r=Me())&&(i.searchSelectInput=r.first),ke(r=Me())&&(i.innerSelectSearch=r.first)}},inputs:{placeholderLabel:"placeholderLabel",type:"type",closeIcon:"closeIcon",closeSvgIcon:"closeSvgIcon",noEntriesFoundLabel:"noEntriesFoundLabel",clearSearchInput:"clearSearchInput",searching:"searching",disableInitialFocus:"disableInitialFocus",enableClearOnEscapePressed:"enableClearOnEscapePressed",preventHomeEndKeyPropagation:"preventHomeEndKeyPropagation",disableScrollToActiveOnOptionsChanged:"disableScrollToActiveOnOptionsChanged",ariaLabel:"ariaLabel",showToggleAllCheckbox:"showToggleAllCheckbox",toggleAllCheckboxChecked:"toggleAllCheckboxChecked",toggleAllCheckboxIndeterminate:"toggleAllCheckboxIndeterminate",toggleAllCheckboxTooltipMessage:"toggleAllCheckboxTooltipMessage",toggleAllCheckboxTooltipPosition:"toggleAllCheckboxTooltipPosition",hideClearSearchButton:"hideClearSearchButton",alwaysRestoreSelectedOptionsMulti:"alwaysRestoreSelectedOptionsMulti",recreateValuesArray:"recreateValuesArray"},outputs:{toggleAll:"toggleAll"},standalone:!1,features:[rt([{provide:cs,useExisting:Ci(()=>n),multi:!0}])],ngContentSelectors:hj,decls:13,vars:14,consts:[["innerSelectSearch",""],["searchSelectInput",""],["defaultIcon",""],["defaultNoEntriesFound",""],["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner","mat-typography","mat-datepicker-content","mat-tab-header",3,"ngClass"],[1,"mat-select-search-inner-row"],["class","mat-select-search-toggle-all-checkbox","matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change",4,"ngIf"],["autocomplete","off",1,"mat-select-search-input",3,"keydown","keyup","blur","type","formControl","placeholder"],["class","mat-select-search-spinner","diameter","16",4,"ngIf"],["mat-icon-button","","aria-label","Clear","class","mat-select-search-clear",3,"click",4,"ngIf"],["class","mat-select-search-no-entries-found",4,"ngIf"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"change","color","checked","indeterminate","matTooltip","matTooltipPosition"],["diameter","16",1,"mat-select-search-spinner"],["mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[4,"ngIf","ngIfElse"],[3,"svgIcon"],[1,"mat-select-search-no-entries-found"]],template:function(e,i){if(e&1){let r=ze();Qe(dj),te(0,"input",4),P(1,"div",5,0)(3,"div",6),oe(4,fj,1,5,"mat-checkbox",7),P(5,"input",8,1),X("keydown",function(a){return re(r),se(i._handleKeydown(a))})("keyup",function(a){return re(r),se(i._handleKeyup(a))})("blur",function(){return re(r),se(i.onBlur())}),U(),oe(7,pj,1,0,"mat-spinner",9)(8,bj,4,2,"button",10),Fe(9),U(),te(10,"mat-divider"),U(),oe(11,Cj,4,2,"div",11),En(12,"async")}e&2&&($(),j("ngClass",Fw(11,mj,i.matSelect.multiple,i._isToggleAllCheckboxVisible())),$(3),j("ngIf",i._isToggleAllCheckboxVisible()),$(),j("type",i.type)("formControl",i._formControl)("placeholder",i.placeholderLabel),Se("aria-label",i.ariaLabel),$(2),j("ngIf",i.searching),$(),j("ngIf",!i.hideClearSearchButton&&i.value&&!i.searching),$(3),j("ngIf",Kn(12,9,i._showNoEntriesFound$)))},dependencies:[An,di,Ir,Dr,er,ra,Al,Rn,Xs,Ou,iE,No],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;z-index:100;font-size:inherit;box-shadow:none;background-color:var(--mat-select-panel-background-color)}.mat-select-search-inner.mat-select-search-inner-multiple.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]   .mat-select-search-inner-row[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-select-search-input[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;border:none;font-family:inherit;font-size:inherit;color:currentColor;outline:none;background-color:var(--mat-select-panel-background-color);padding:0 44px 0 16px;height:calc(3em - 1px);line-height:calc(3em - 1px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-right:16px;padding-left:44px}.mat-select-search-input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mat-select-search-input[_ngcontent-%COMP%]::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-left:5px}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding-top:8px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:4px;top:0}[dir=rtl][_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{right:auto;left:4px}.mat-select-search-spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%]{right:auto;left:16px}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search{position:sticky;top:-8px;z-index:1;opacity:1;margin-top:-8px;pointer-events:all}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search .mat-icon{margin-right:0;margin-left:0}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search mat-pseudo-checkbox{display:none}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search .mdc-list-item__primary-text{opacity:1}.mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:5px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:0;padding-right:5px}"],changeDetection:0}),n})();var oR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=he({type:n}),n.\u0275inj=de({imports:[Jr,Su,fs,Au,iu,nu,Nu,Ru]}),n})();var r0=(()=>{class n{constructor(){this.addFiles=new ce,this.dragCounter=0}checkStatus(e){if(!e.ok)throw new Error(`HTTP ${e.status} - ${e.statusText}`);return e}onDrop(e){e.preventDefault(),this.dragCounter=0;let i=e.target.files||e.dataTransfer.items;if(i)for(let s=0;s<i.length;s++){if(i[s].kind===void 0||i[s].kind==="file"){let a=i[s].getAsFile?i[s].getAsFile():i[s];this.addFiles.emit({name:a.name,contentType:"",blob:a})}if(i[s].kind==="string"||i[s].kind==="text/uri-list"){var r=e.dataTransfer.getData("URL");this.fetchData(r)}}}fetchData(e){return Lt(this,null,function*(){let i=yield fetch(e,{cache:"no-store"}),r=i.headers.get("Content-Type"),s=yield i.blob();this.addFiles.emit({name:e,contentType:r,blob:s})})}onDragOver(e){e.preventDefault()}onDragEnter(){this.dragCounter++}onDragLeave(){this.dragCounter--}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=le({type:n,selectors:[["app-upload"]],outputs:{addFiles:"addFiles"},standalone:!1,decls:12,vars:2,consts:[["fileInput",""],[1,"attachment-field"],[1,"drop-zone",3,"dragenter","dragleave","dragover","drop"],[3,"dragenter","dragleave","dragover"],[1,"bold-text",3,"dragenter","dragleave"],[1,"spacer"],["color","primary","mat-raised-button","","type","button",3,"click"],["hidden","","type","file",3,"input"]],template:function(i,r){if(i&1){let s=ze();P(0,"div",1)(1,"div",2),X("dragenter",function(){return re(s),se(r.onDragEnter())})("dragleave",function(){return re(s),se(r.onDragLeave())})("dragover",function(o){return re(s),se(r.onDragOver(o))})("drop",function(o){return re(s),se(r.onDrop(o))}),P(2,"mat-icon",3),X("dragenter",function(){return re(s),se(r.onDragEnter())})("dragleave",function(){return re(s),se(r.onDragLeave())})("dragover",function(o){return re(s),se(r.onDragOver(o))}),B(3,"cloud_upload"),U(),P(4,"div",4),X("dragenter",function(){return re(s),se(r.onDragEnter())})("dragleave",function(){return re(s),se(r.onDragLeave())}),B(5," Drop file here "),U(),P(6,"div",5),B(7,"or"),U(),P(8,"button",6),X("click",function(){re(s);let o=jt(11);return o.value=null,se(o.click())}),B(9," Add file "),U()()(),P(10,"input",7,0),X("input",function(o){return re(s),se(r.onDrop(o))}),U()}i&2&&($(),ye("file-over",r.dragCounter>0))},dependencies:[ms,Rn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.attachment-field[_ngcontent-%COMP%]{border-radius:5px;background:#f0f3f6}.attachment-field[_ngcontent-%COMP%]   .attachment-entry[_ngcontent-%COMP%]{border-bottom:1px solid #dedede;display:flex;align-items:center;height:40px}.attachment-field[_ngcontent-%COMP%]   .attachment-entry[_ngcontent-%COMP%]   .attachment-name[_ngcontent-%COMP%]{flex:1;padding:0 1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.attachment-field[_ngcontent-%COMP%]   .attachment-entry[_ngcontent-%COMP%]   .attachment-size[_ngcontent-%COMP%]:last-child{margin-right:1rem}.attachment-field[_ngcontent-%COMP%]   .attachment-entry[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;line-height:inherit}.attachment-field[_ngcontent-%COMP%]   .drop-zone[_ngcontent-%COMP%]{text-align:center;padding:2rem;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.attachment-field[_ngcontent-%COMP%]   .drop-zone[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px;border-top-right-radius:5px}.attachment-field[_ngcontent-%COMP%]   .drop-zone.file-over[_ngcontent-%COMP%]{background:#e1e7ed}.attachment-field[_ngcontent-%COMP%]   .drop-zone[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{line-height:3rem}.attachment-field[_ngcontent-%COMP%]   .drop-zone[_ngcontent-%COMP%]   .bold-text[_ngcontent-%COMP%]{font-weight:700}"],changeDetection:0})}}return n})();function Mj(n,t){if(n&1&&(P(0,"mat-option",12),B(1),U()),n&2){let e=t.$implicit;Rw("value",e.url),$(),je("",e.title?e.title:e.name," ")}}function Tj(n,t){if(n&1&&(P(0,"li"),B(1),U()),n&2){let e=t.$implicit;$(),je(" ",e.diagnostics," ")}}function Ej(n,t){if(n&1&&(P(0,"mat-error")(1,"ul"),oe(2,Tj,2,1,"li",14),U()()),n&2){let e=Y(2);$(2),j("ngForOf",e.operationOutcomeTransformed.issue)}}function Aj(n,t){if(n&1&&(P(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),B(3,"Transformed"),U()(),P(4,"mat-card-content"),oe(5,Ej,3,1,"mat-error",13),P(6,"pre"),te(7,"code",2),U()()()),n&2){let e=Y();$(5),j("ngIf",e.operationOutcomeTransformed),$(2),j("highlight",e.getMapped())}}var uR=(()=>{class n{constructor(e){this.allStructureMaps=[],this.filteredStructureMaps=new ah(1),this.structureMapFilterControl=new Rr(""),this.structureMapControl=new Rr(null),this.map=null,this.model=null,this.client=e.getFhirClient(),this.client.operation({name:"list",resourceType:"StructureMap",method:"GET"}).then(i=>{this.setMaps(i),this.filteredStructureMaps.next(this.allStructureMaps.slice())}),this.structureMapControl.valueChanges.pipe(Ii(400),mr()).subscribe(i=>{this.map={canonical:i}}),this.structureMapFilterControl.valueChanges.subscribe(()=>this.filterStructureMaps())}transform(){if(this.resource!=null&&this.map!=null){let e={resourceType:"Parameters",parameter:[{name:"resource",valueString:this.resource}]};"canonical"in this.map?e.parameter.push({name:"source",valueString:this.map.canonical}):e.parameter.push({name:"map",valueString:this.map.content}),this.model!=null&&e.parameter.push({name:"model",valueString:this.model}),this.client.operation({name:"transform",resourceType:"StructureMap",input:e,options:{headers:{"content-type":"application/fhir+json"}}}).then(i=>{this.operationOutcomeTransformed=null,this.transformed=i}).catch(i=>{this.transformed=null,this.operationOutcomeTransformed=i.response.data})}}getResource(){return this.resource}getMapped(){return JSON.stringify(this.transformed,null,2)}setMaps(e){this.allStructureMaps=e.entry.map(i=>i.resource)}setResource(e){this.transformed=null,(e.contentType==="application/json"||e.name.endsWith(".json"))&&(this.mimeType="application/fhir+json"),(e.contentType==="application/xml"||e.name.endsWith(".xml"))&&(this.mimeType="application/fhir+xml");let i=new FileReader;i.readAsText(e.blob),i.onload=()=>{this.resource=i.result}}setMapContent(e){let i=new FileReader;i.readAsText(e.blob),i.onload=()=>{this.map={content:i.result}}}setModelContent(e){let i=new FileReader;i.readAsText(e.blob),i.onload=()=>{this.model=i.result}}filterStructureMaps(){if(!this.allStructureMaps||this.allStructureMaps.length===0)return;let e=this.structureMapFilterControl.value;if(!e){this.filteredStructureMaps.next(this.allStructureMaps.slice());return}e=e.toLowerCase(),this.filteredStructureMaps.next(this.allStructureMaps.filter(i=>i.title.toLowerCase().indexOf(e)>-1))}static{this.\u0275fac=function(i){return new(i||n)(Ae(Dn))}}static{this.\u0275cmp=le({type:n,selectors:[["app-transform"]],standalone:!1,decls:46,vars:7,consts:[[1,"card-maps"],[3,"addFiles"],["lineNumbers","","language","json",3,"highlight"],["label","By reference"],[1,"tab-content","flex"],["appearance","fill"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["label","By uploading"],[1,"tab-content"],["mat-stroked-button","",3,"click"],["class","card-maps",4,"ngIf"],[3,"value"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(i,r){i&1&&(P(0,"h2"),B(1,"Transform a resource with the $transform operation"),U(),P(2,"mat-card",0)(3,"mat-card-header")(4,"mat-card-title"),B(5,"The resource"),U()(),P(6,"mat-card-content")(7,"app-upload",1),X("addFiles",function(a){return r.setResource(a)}),U(),P(8,"pre"),te(9,"code",2),U()()(),P(10,"mat-card",0)(11,"mat-card-header")(12,"mat-card-title"),B(13,"The map"),U(),P(14,"mat-card-subtitle"),B(15,"Choose a StructureMap to use for the transformation"),U()(),P(16,"mat-card-content")(17,"mat-tab-group")(18,"mat-tab",3)(19,"div",4)(20,"mat-form-field",5)(21,"mat-label"),B(22,"The map to use:"),U(),P(23,"mat-select",6)(24,"mat-option"),te(25,"ngx-mat-select-search",6),U(),oe(26,Mj,2,2,"mat-option",7),En(27,"async"),U()()()(),P(28,"mat-tab",8)(29,"div",9),B(30," Provide a StructureMap to use for the transformation (JSON or XML): "),P(31,"app-upload",1),X("addFiles",function(a){return r.setMapContent(a)}),U()()()()()(),P(32,"mat-card",0)(33,"mat-card-header")(34,"mat-card-title"),B(35,"The model(s)"),U()(),P(36,"mat-card-content"),B(37," Provide a StructureDefinition or Bundle of StructureDefinitions resource that are imported by the map (JSON or XML): "),P(38,"app-upload",1),X("addFiles",function(a){return r.setModelContent(a)}),U()()(),P(39,"mat-card",0)(40,"mat-card-content")(41,"button",10),X("click",function(){return r.transform()}),P(42,"mat-icon"),B(43,"transform"),U(),B(44," Transform "),U()()(),oe(45,Aj,8,2,"mat-card",11)),i&2&&($(9),j("highlight",r.getResource()),$(14),j("formControl",r.structureMapControl),$(2),j("formControl",r.structureMapFilterControl),$(),j("ngForOf",Kn(27,5,r.filteredStructureMaps)),$(19),j("ngIf",r.transformed||r.operationOutcomeTransformed))},dependencies:[vr,di,Dr,er,Nn,ms,hl,ml,Om,SM,Rm,bn,ds,Ka,Rn,ps,Qb,wE,ix,n0,rx,r0,No],styles:[".card-maps[_ngcontent-%COMP%]{margin-bottom:10px}.tab-content[_ngcontent-%COMP%]{padding:2em 1em 0}mat-select[_ngcontent-%COMP%]{width:100%}.tab-content.flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.tab-content.flex[_ngcontent-%COMP%]   .form-field-label[_ngcontent-%COMP%]{white-space:nowrap}.tab-content.flex[_ngcontent-%COMP%]   .form-field-label[_ngcontent-%COMP%] + mat-form-field[_ngcontent-%COMP%]{margin-left:10px}.tab-content.flex[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}}return n})();function ac(n){let t=n.length;for(;--t>=0;)n[t]=0}var Ij=0,YR=1,Dj=2,Rj=3,Lj=258,uC=29,Hd=256,Nd=Hd+1+uC,nc=30,dC=19,QR=2*Nd+1,lo=15,B1=16,Oj=7,hC=256,ZR=16,XR=17,JR=18,tC=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),u0=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Nj=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),eL=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fj=512,Ds=new Array((Nd+2)*2);ac(Ds);var Rd=new Array(nc*2);ac(Rd);var Fd=new Array(Fj);ac(Fd);var Pd=new Array(Lj-Rj+1);ac(Pd);var mC=new Array(uC);ac(mC);var d0=new Array(nc);ac(d0);function z1(n,t,e,i,r){this.static_tree=n,this.extra_bits=t,this.extra_base=e,this.elems=i,this.max_length=r,this.has_stree=n&&n.length}var tL,iL,nL;function H1(n,t){this.dyn_tree=n,this.max_code=0,this.stat_desc=t}var rL=n=>n<256?Fd[n]:Fd[256+(n>>>7)],Ud=(n,t)=>{n.pending_buf[n.pending++]=t&255,n.pending_buf[n.pending++]=t>>>8&255},nn=(n,t,e)=>{n.bi_valid>B1-e?(n.bi_buf|=t<<n.bi_valid&65535,Ud(n,n.bi_buf),n.bi_buf=t>>B1-n.bi_valid,n.bi_valid+=e-B1):(n.bi_buf|=t<<n.bi_valid&65535,n.bi_valid+=e)},Wr=(n,t,e)=>{nn(n,e[t*2],e[t*2+1])},sL=(n,t)=>{let e=0;do e|=n&1,n>>>=1,e<<=1;while(--t>0);return e>>>1},Pj=n=>{n.bi_valid===16?(Ud(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},Uj=(n,t)=>{let e=t.dyn_tree,i=t.max_code,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,u,d,h,m,f,p=0;for(h=0;h<=lo;h++)n.bl_count[h]=0;for(e[n.heap[n.heap_max]*2+1]=0,c=n.heap_max+1;c<QR;c++)u=n.heap[c],h=e[e[u*2+1]*2+1]+1,h>l&&(h=l,p++),e[u*2+1]=h,!(u>i)&&(n.bl_count[h]++,m=0,u>=o&&(m=a[u-o]),f=e[u*2],n.opt_len+=f*(h+m),s&&(n.static_len+=f*(r[u*2+1]+m)));if(p!==0){do{for(h=l-1;n.bl_count[h]===0;)h--;n.bl_count[h]--,n.bl_count[h+1]+=2,n.bl_count[l]--,p-=2}while(p>0);for(h=l;h!==0;h--)for(u=n.bl_count[h];u!==0;)d=n.heap[--c],!(d>i)&&(e[d*2+1]!==h&&(n.opt_len+=(h-e[d*2+1])*e[d*2],e[d*2+1]=h),u--)}},aL=(n,t,e)=>{let i=new Array(lo+1),r=0,s,a;for(s=1;s<=lo;s++)r=r+e[s-1]<<1,i[s]=r;for(a=0;a<=t;a++){let o=n[a*2+1];o!==0&&(n[a*2]=sL(i[o]++,o))}},$j=()=>{let n,t,e,i,r,s=new Array(lo+1);for(e=0,i=0;i<uC-1;i++)for(mC[i]=e,n=0;n<1<<tC[i];n++)Pd[e++]=i;for(Pd[e-1]=i,r=0,i=0;i<16;i++)for(d0[i]=r,n=0;n<1<<u0[i];n++)Fd[r++]=i;for(r>>=7;i<nc;i++)for(d0[i]=r<<7,n=0;n<1<<u0[i]-7;n++)Fd[256+r++]=i;for(t=0;t<=lo;t++)s[t]=0;for(n=0;n<=143;)Ds[n*2+1]=8,n++,s[8]++;for(;n<=255;)Ds[n*2+1]=9,n++,s[9]++;for(;n<=279;)Ds[n*2+1]=7,n++,s[7]++;for(;n<=287;)Ds[n*2+1]=8,n++,s[8]++;for(aL(Ds,Nd+1,s),n=0;n<nc;n++)Rd[n*2+1]=5,Rd[n*2]=sL(n,5);tL=new z1(Ds,tC,Hd+1,Nd,lo),iL=new z1(Rd,u0,0,nc,lo),nL=new z1(new Array(0),Nj,0,dC,Oj)},oL=n=>{let t;for(t=0;t<Nd;t++)n.dyn_ltree[t*2]=0;for(t=0;t<nc;t++)n.dyn_dtree[t*2]=0;for(t=0;t<dC;t++)n.bl_tree[t*2]=0;n.dyn_ltree[hC*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},lL=n=>{n.bi_valid>8?Ud(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},dR=(n,t,e,i)=>{let r=t*2,s=e*2;return n[r]<n[s]||n[r]===n[s]&&i[t]<=i[e]},j1=(n,t,e)=>{let i=n.heap[e],r=e<<1;for(;r<=n.heap_len&&(r<n.heap_len&&dR(t,n.heap[r+1],n.heap[r],n.depth)&&r++,!dR(t,i,n.heap[r],n.depth));)n.heap[e]=n.heap[r],e=r,r<<=1;n.heap[e]=i},hR=(n,t,e)=>{let i,r,s=0,a,o;if(n.sym_next!==0)do i=n.pending_buf[n.sym_buf+s++]&255,i+=(n.pending_buf[n.sym_buf+s++]&255)<<8,r=n.pending_buf[n.sym_buf+s++],i===0?Wr(n,r,t):(a=Pd[r],Wr(n,a+Hd+1,t),o=tC[a],o!==0&&(r-=mC[a],nn(n,r,o)),i--,a=rL(i),Wr(n,a,e),o=u0[a],o!==0&&(i-=d0[a],nn(n,i,o)));while(s<n.sym_next);Wr(n,hC,t)},iC=(n,t)=>{let e=t.dyn_tree,i=t.stat_desc.static_tree,r=t.stat_desc.has_stree,s=t.stat_desc.elems,a,o,l=-1,c;for(n.heap_len=0,n.heap_max=QR,a=0;a<s;a++)e[a*2]!==0?(n.heap[++n.heap_len]=l=a,n.depth[a]=0):e[a*2+1]=0;for(;n.heap_len<2;)c=n.heap[++n.heap_len]=l<2?++l:0,e[c*2]=1,n.depth[c]=0,n.opt_len--,r&&(n.static_len-=i[c*2+1]);for(t.max_code=l,a=n.heap_len>>1;a>=1;a--)j1(n,e,a);c=s;do a=n.heap[1],n.heap[1]=n.heap[n.heap_len--],j1(n,e,1),o=n.heap[1],n.heap[--n.heap_max]=a,n.heap[--n.heap_max]=o,e[c*2]=e[a*2]+e[o*2],n.depth[c]=(n.depth[a]>=n.depth[o]?n.depth[a]:n.depth[o])+1,e[a*2+1]=e[o*2+1]=c,n.heap[1]=c++,j1(n,e,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],Uj(n,t),aL(e,l,n.bl_count)},mR=(n,t,e)=>{let i,r=-1,s,a=t[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),t[(e+1)*2+1]=65535,i=0;i<=e;i++)s=a,a=t[(i+1)*2+1],!(++o<l&&s===a)&&(o<c?n.bl_tree[s*2]+=o:s!==0?(s!==r&&n.bl_tree[s*2]++,n.bl_tree[ZR*2]++):o<=10?n.bl_tree[XR*2]++:n.bl_tree[JR*2]++,o=0,r=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4))},fR=(n,t,e)=>{let i,r=-1,s,a=t[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),i=0;i<=e;i++)if(s=a,a=t[(i+1)*2+1],!(++o<l&&s===a)){if(o<c)do Wr(n,s,n.bl_tree);while(--o!==0);else s!==0?(s!==r&&(Wr(n,s,n.bl_tree),o--),Wr(n,ZR,n.bl_tree),nn(n,o-3,2)):o<=10?(Wr(n,XR,n.bl_tree),nn(n,o-3,3)):(Wr(n,JR,n.bl_tree),nn(n,o-11,7));o=0,r=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4)}},Vj=n=>{let t;for(mR(n,n.dyn_ltree,n.l_desc.max_code),mR(n,n.dyn_dtree,n.d_desc.max_code),iC(n,n.bl_desc),t=dC-1;t>=3&&n.bl_tree[eL[t]*2+1]===0;t--);return n.opt_len+=3*(t+1)+5+5+4,t},Bj=(n,t,e,i)=>{let r;for(nn(n,t-257,5),nn(n,e-1,5),nn(n,i-4,4),r=0;r<i;r++)nn(n,n.bl_tree[eL[r]*2+1],3);fR(n,n.dyn_ltree,t-1),fR(n,n.dyn_dtree,e-1)},zj=n=>{let t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&n.dyn_ltree[e*2]!==0)return 0;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return 1;for(e=32;e<Hd;e++)if(n.dyn_ltree[e*2]!==0)return 1;return 0},pR=!1,Hj=n=>{pR||($j(),pR=!0),n.l_desc=new H1(n.dyn_ltree,tL),n.d_desc=new H1(n.dyn_dtree,iL),n.bl_desc=new H1(n.bl_tree,nL),n.bi_buf=0,n.bi_valid=0,oL(n)},cL=(n,t,e,i)=>{nn(n,(Ij<<1)+(i?1:0),3),lL(n),Ud(n,e),Ud(n,~e),e&&n.pending_buf.set(n.window.subarray(t,t+e),n.pending),n.pending+=e},jj=n=>{nn(n,YR<<1,3),Wr(n,hC,Ds),Pj(n)},Wj=(n,t,e,i)=>{let r,s,a=0;n.level>0?(n.strm.data_type===2&&(n.strm.data_type=zj(n)),iC(n,n.l_desc),iC(n,n.d_desc),a=Vj(n),r=n.opt_len+3+7>>>3,s=n.static_len+3+7>>>3,s<=r&&(r=s)):r=s=e+5,e+4<=r&&t!==-1?cL(n,t,e,i):n.strategy===4||s===r?(nn(n,(YR<<1)+(i?1:0),3),hR(n,Ds,Rd)):(nn(n,(Dj<<1)+(i?1:0),3),Bj(n,n.l_desc.max_code+1,n.d_desc.max_code+1,a+1),hR(n,n.dyn_ltree,n.dyn_dtree)),oL(n),i&&lL(n)},qj=(n,t,e)=>(n.pending_buf[n.sym_buf+n.sym_next++]=t,n.pending_buf[n.sym_buf+n.sym_next++]=t>>8,n.pending_buf[n.sym_buf+n.sym_next++]=e,t===0?n.dyn_ltree[e*2]++:(n.matches++,t--,n.dyn_ltree[(Pd[e]+Hd+1)*2]++,n.dyn_dtree[rL(t)*2]++),n.sym_next===n.sym_end),Gj=Hj,Kj=cL,Yj=Wj,Qj=qj,Zj=jj,Xj={_tr_init:Gj,_tr_stored_block:Kj,_tr_flush_block:Yj,_tr_tally:Qj,_tr_align:Zj},Jj=(n,t,e,i)=>{let r=n&65535|0,s=n>>>16&65535|0,a=0;for(;e!==0;){a=e>2e3?2e3:e,e-=a;do r=r+t[i++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0},$d=Jj,e8=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},t8=new Uint32Array(e8()),i8=(n,t,e,i)=>{let r=t8,s=i+e;n^=-1;for(let a=i;a<s;a++)n=n>>>8^r[(n^t[a])&255];return n^-1},li=i8,ho={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},po={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:n8,_tr_stored_block:nC,_tr_flush_block:r8,_tr_tally:ba,_tr_align:s8}=Xj,{Z_NO_FLUSH:va,Z_PARTIAL_FLUSH:a8,Z_FULL_FLUSH:o8,Z_FINISH:zn,Z_BLOCK:gR,Z_OK:bi,Z_STREAM_END:_R,Z_STREAM_ERROR:qr,Z_DATA_ERROR:l8,Z_BUF_ERROR:W1,Z_DEFAULT_COMPRESSION:c8,Z_FILTERED:u8,Z_HUFFMAN_ONLY:s0,Z_RLE:d8,Z_FIXED:h8,Z_DEFAULT_STRATEGY:m8,Z_UNKNOWN:f8,Z_DEFLATED:f0}=po,p8=9,g8=15,_8=8,b8=29,v8=256,rC=v8+1+b8,y8=30,C8=19,w8=2*rC+1,x8=15,lt=3,_a=258,Gr=_a+lt+1,S8=32,rc=42,fC=57,sC=69,aC=73,oC=91,lC=103,co=113,Id=666,ji=1,oc=2,mo=3,lc=4,k8=3,uo=(n,t)=>(n.msg=ho[t],t),bR=n=>n*2-(n>4?9:0),ga=n=>{let t=n.length;for(;--t>=0;)n[t]=0},M8=n=>{let t,e,i,r=n.w_size;t=n.hash_size,i=t;do e=n.head[--i],n.head[i]=e>=r?e-r:0;while(--t);t=r,i=t;do e=n.prev[--i],n.prev[i]=e>=r?e-r:0;while(--t)},T8=(n,t,e)=>(t<<n.hash_shift^e)&n.hash_mask,ya=T8,Sn=n=>{let t=n.state,e=t.pending;e>n.avail_out&&(e=n.avail_out),e!==0&&(n.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),n.next_out),n.next_out+=e,t.pending_out+=e,n.total_out+=e,n.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},kn=(n,t)=>{r8(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,t),n.block_start=n.strstart,Sn(n.strm)},yt=(n,t)=>{n.pending_buf[n.pending++]=t},Ad=(n,t)=>{n.pending_buf[n.pending++]=t>>>8&255,n.pending_buf[n.pending++]=t&255},cC=(n,t,e,i)=>{let r=n.avail_in;return r>i&&(r=i),r===0?0:(n.avail_in-=r,t.set(n.input.subarray(n.next_in,n.next_in+r),e),n.state.wrap===1?n.adler=$d(n.adler,t,r,e):n.state.wrap===2&&(n.adler=li(n.adler,t,r,e)),n.next_in+=r,n.total_in+=r,r)},uL=(n,t)=>{let e=n.max_chain_length,i=n.strstart,r,s,a=n.prev_length,o=n.nice_match,l=n.strstart>n.w_size-Gr?n.strstart-(n.w_size-Gr):0,c=n.window,u=n.w_mask,d=n.prev,h=n.strstart+_a,m=c[i+a-1],f=c[i+a];n.prev_length>=n.good_match&&(e>>=2),o>n.lookahead&&(o=n.lookahead);do if(r=t,!(c[r+a]!==f||c[r+a-1]!==m||c[r]!==c[i]||c[++r]!==c[i+1])){i+=2,r++;do;while(c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&i<h);if(s=_a-(h-i),i=h-_a,s>a){if(n.match_start=t,a=s,s>=o)break;m=c[i+a-1],f=c[i+a]}}while((t=d[t&u])>l&&--e!==0);return a<=n.lookahead?a:n.lookahead},sc=n=>{let t=n.w_size,e,i,r;do{if(i=n.window_size-n.lookahead-n.strstart,n.strstart>=t+(t-Gr)&&(n.window.set(n.window.subarray(t,t+t-i),0),n.match_start-=t,n.strstart-=t,n.block_start-=t,n.insert>n.strstart&&(n.insert=n.strstart),M8(n),i+=t),n.strm.avail_in===0)break;if(e=cC(n.strm,n.window,n.strstart+n.lookahead,i),n.lookahead+=e,n.lookahead+n.insert>=lt)for(r=n.strstart-n.insert,n.ins_h=n.window[r],n.ins_h=ya(n,n.ins_h,n.window[r+1]);n.insert&&(n.ins_h=ya(n,n.ins_h,n.window[r+lt-1]),n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,n.insert--,!(n.lookahead+n.insert<lt)););}while(n.lookahead<Gr&&n.strm.avail_in!==0)},dL=(n,t)=>{let e=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,i,r,s,a=0,o=n.strm.avail_in;do{if(i=65535,s=n.bi_valid+42>>3,n.strm.avail_out<s||(s=n.strm.avail_out-s,r=n.strstart-n.block_start,i>r+n.strm.avail_in&&(i=r+n.strm.avail_in),i>s&&(i=s),i<e&&(i===0&&t!==zn||t===va||i!==r+n.strm.avail_in)))break;a=t===zn&&i===r+n.strm.avail_in?1:0,nC(n,0,0,a),n.pending_buf[n.pending-4]=i,n.pending_buf[n.pending-3]=i>>8,n.pending_buf[n.pending-2]=~i,n.pending_buf[n.pending-1]=~i>>8,Sn(n.strm),r&&(r>i&&(r=i),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+r),n.strm.next_out),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r,n.block_start+=r,i-=r),i&&(cC(n.strm,n.strm.output,n.strm.next_out,i),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i)}while(a===0);return o-=n.strm.avail_in,o&&(o>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=o&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-o,n.strm.next_in),n.strstart),n.strstart+=o,n.insert+=o>n.w_size-n.insert?n.w_size-n.insert:o),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),a?lc:t!==va&&t!==zn&&n.strm.avail_in===0&&n.strstart===n.block_start?oc:(s=n.window_size-n.strstart,n.strm.avail_in>s&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,s+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),s>n.strm.avail_in&&(s=n.strm.avail_in),s&&(cC(n.strm,n.window,n.strstart,s),n.strstart+=s,n.insert+=s>n.w_size-n.insert?n.w_size-n.insert:s),n.high_water<n.strstart&&(n.high_water=n.strstart),s=n.bi_valid+42>>3,s=n.pending_buf_size-s>65535?65535:n.pending_buf_size-s,e=s>n.w_size?n.w_size:s,r=n.strstart-n.block_start,(r>=e||(r||t===zn)&&t!==va&&n.strm.avail_in===0&&r<=s)&&(i=r>s?s:r,a=t===zn&&n.strm.avail_in===0&&i===r?1:0,nC(n,n.block_start,i,a),n.block_start+=i,Sn(n.strm)),a?mo:ji)},q1=(n,t)=>{let e,i;for(;;){if(n.lookahead<Gr){if(sc(n),n.lookahead<Gr&&t===va)return ji;if(n.lookahead===0)break}if(e=0,n.lookahead>=lt&&(n.ins_h=ya(n,n.ins_h,n.window[n.strstart+lt-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),e!==0&&n.strstart-e<=n.w_size-Gr&&(n.match_length=uL(n,e)),n.match_length>=lt)if(i=ba(n,n.strstart-n.match_start,n.match_length-lt),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=lt){n.match_length--;do n.strstart++,n.ins_h=ya(n,n.ins_h,n.window[n.strstart+lt-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=ya(n,n.ins_h,n.window[n.strstart+1]);else i=ba(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(i&&(kn(n,!1),n.strm.avail_out===0))return ji}return n.insert=n.strstart<lt-1?n.strstart:lt-1,t===zn?(kn(n,!0),n.strm.avail_out===0?mo:lc):n.sym_next&&(kn(n,!1),n.strm.avail_out===0)?ji:oc},tc=(n,t)=>{let e,i,r;for(;;){if(n.lookahead<Gr){if(sc(n),n.lookahead<Gr&&t===va)return ji;if(n.lookahead===0)break}if(e=0,n.lookahead>=lt&&(n.ins_h=ya(n,n.ins_h,n.window[n.strstart+lt-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=lt-1,e!==0&&n.prev_length<n.max_lazy_match&&n.strstart-e<=n.w_size-Gr&&(n.match_length=uL(n,e),n.match_length<=5&&(n.strategy===u8||n.match_length===lt&&n.strstart-n.match_start>4096)&&(n.match_length=lt-1)),n.prev_length>=lt&&n.match_length<=n.prev_length){r=n.strstart+n.lookahead-lt,i=ba(n,n.strstart-1-n.prev_match,n.prev_length-lt),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=r&&(n.ins_h=ya(n,n.ins_h,n.window[n.strstart+lt-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=lt-1,n.strstart++,i&&(kn(n,!1),n.strm.avail_out===0))return ji}else if(n.match_available){if(i=ba(n,0,n.window[n.strstart-1]),i&&kn(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return ji}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(i=ba(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<lt-1?n.strstart:lt-1,t===zn?(kn(n,!0),n.strm.avail_out===0?mo:lc):n.sym_next&&(kn(n,!1),n.strm.avail_out===0)?ji:oc},E8=(n,t)=>{let e,i,r,s,a=n.window;for(;;){if(n.lookahead<=_a){if(sc(n),n.lookahead<=_a&&t===va)return ji;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=lt&&n.strstart>0&&(r=n.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){s=n.strstart+_a;do;while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);n.match_length=_a-(s-r),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=lt?(e=ba(n,1,n.match_length-lt),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(e=ba(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),e&&(kn(n,!1),n.strm.avail_out===0))return ji}return n.insert=0,t===zn?(kn(n,!0),n.strm.avail_out===0?mo:lc):n.sym_next&&(kn(n,!1),n.strm.avail_out===0)?ji:oc},A8=(n,t)=>{let e;for(;;){if(n.lookahead===0&&(sc(n),n.lookahead===0)){if(t===va)return ji;break}if(n.match_length=0,e=ba(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,e&&(kn(n,!1),n.strm.avail_out===0))return ji}return n.insert=0,t===zn?(kn(n,!0),n.strm.avail_out===0?mo:lc):n.sym_next&&(kn(n,!1),n.strm.avail_out===0)?ji:oc};function jr(n,t,e,i,r){this.good_length=n,this.max_lazy=t,this.nice_length=e,this.max_chain=i,this.func=r}var Dd=[new jr(0,0,0,0,dL),new jr(4,4,8,4,q1),new jr(4,5,16,8,q1),new jr(4,6,32,32,q1),new jr(4,4,16,16,tc),new jr(8,16,32,32,tc),new jr(8,16,128,128,tc),new jr(8,32,128,256,tc),new jr(32,128,258,1024,tc),new jr(32,258,258,4096,tc)],I8=n=>{n.window_size=2*n.w_size,ga(n.head),n.max_lazy_match=Dd[n.level].max_lazy,n.good_match=Dd[n.level].good_length,n.nice_match=Dd[n.level].nice_length,n.max_chain_length=Dd[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=lt-1,n.match_available=0,n.ins_h=0};function D8(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(w8*2),this.dyn_dtree=new Uint16Array((2*y8+1)*2),this.bl_tree=new Uint16Array((2*C8+1)*2),ga(this.dyn_ltree),ga(this.dyn_dtree),ga(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(x8+1),this.heap=new Uint16Array(2*rC+1),ga(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*rC+1),ga(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var jd=n=>{if(!n)return 1;let t=n.state;return!t||t.strm!==n||t.status!==rc&&t.status!==fC&&t.status!==sC&&t.status!==aC&&t.status!==oC&&t.status!==lC&&t.status!==co&&t.status!==Id?1:0},hL=n=>{if(jd(n))return uo(n,qr);n.total_in=n.total_out=0,n.data_type=f8;let t=n.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?fC:t.wrap?rc:co,n.adler=t.wrap===2?0:1,t.last_flush=-2,n8(t),bi},mL=n=>{let t=hL(n);return t===bi&&I8(n.state),t},R8=(n,t)=>jd(n)||n.state.wrap!==2?qr:(n.state.gzhead=t,bi),fL=(n,t,e,i,r,s)=>{if(!n)return qr;let a=1;if(t===c8&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>p8||e!==f0||i<8||i>15||t<0||t>9||s<0||s>h8||i===8&&a!==1)return uo(n,qr);i===8&&(i=9);let o=new D8;return n.state=o,o.strm=n,o.status=rc,o.wrap=a,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+lt-1)/lt),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=s,o.method=e,mL(n)},L8=(n,t)=>fL(n,t,f0,g8,_8,m8),O8=(n,t)=>{if(jd(n)||t>gR||t<0)return n?uo(n,qr):qr;let e=n.state;if(!n.output||n.avail_in!==0&&!n.input||e.status===Id&&t!==zn)return uo(n,n.avail_out===0?W1:qr);let i=e.last_flush;if(e.last_flush=t,e.pending!==0){if(Sn(n),n.avail_out===0)return e.last_flush=-1,bi}else if(n.avail_in===0&&bR(t)<=bR(i)&&t!==zn)return uo(n,W1);if(e.status===Id&&n.avail_in!==0)return uo(n,W1);if(e.status===rc&&e.wrap===0&&(e.status=co),e.status===rc){let r=f0+(e.w_bits-8<<4)<<8,s=-1;if(e.strategy>=s0||e.level<2?s=0:e.level<6?s=1:e.level===6?s=2:s=3,r|=s<<6,e.strstart!==0&&(r|=S8),r+=31-r%31,Ad(e,r),e.strstart!==0&&(Ad(e,n.adler>>>16),Ad(e,n.adler&65535)),n.adler=1,e.status=co,Sn(n),e.pending!==0)return e.last_flush=-1,bi}if(e.status===fC){if(n.adler=0,yt(e,31),yt(e,139),yt(e,8),e.gzhead)yt(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),yt(e,e.gzhead.time&255),yt(e,e.gzhead.time>>8&255),yt(e,e.gzhead.time>>16&255),yt(e,e.gzhead.time>>24&255),yt(e,e.level===9?2:e.strategy>=s0||e.level<2?4:0),yt(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(yt(e,e.gzhead.extra.length&255),yt(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(n.adler=li(n.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=sC;else if(yt(e,0),yt(e,0),yt(e,0),yt(e,0),yt(e,0),yt(e,e.level===9?2:e.strategy>=s0||e.level<2?4:0),yt(e,k8),e.status=co,Sn(n),e.pending!==0)return e.last_flush=-1,bi}if(e.status===sC){if(e.gzhead.extra){let r=e.pending,s=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+s>e.pending_buf_size;){let o=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>r&&(n.adler=li(n.adler,e.pending_buf,e.pending-r,r)),e.gzindex+=o,Sn(n),e.pending!==0)return e.last_flush=-1,bi;r=0,s-=o}let a=new Uint8Array(e.gzhead.extra);e.pending_buf.set(a.subarray(e.gzindex,e.gzindex+s),e.pending),e.pending+=s,e.gzhead.hcrc&&e.pending>r&&(n.adler=li(n.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=aC}if(e.status===aC){if(e.gzhead.name){let r=e.pending,s;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(n.adler=li(n.adler,e.pending_buf,e.pending-r,r)),Sn(n),e.pending!==0)return e.last_flush=-1,bi;r=0}e.gzindex<e.gzhead.name.length?s=e.gzhead.name.charCodeAt(e.gzindex++)&255:s=0,yt(e,s)}while(s!==0);e.gzhead.hcrc&&e.pending>r&&(n.adler=li(n.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=oC}if(e.status===oC){if(e.gzhead.comment){let r=e.pending,s;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(n.adler=li(n.adler,e.pending_buf,e.pending-r,r)),Sn(n),e.pending!==0)return e.last_flush=-1,bi;r=0}e.gzindex<e.gzhead.comment.length?s=e.gzhead.comment.charCodeAt(e.gzindex++)&255:s=0,yt(e,s)}while(s!==0);e.gzhead.hcrc&&e.pending>r&&(n.adler=li(n.adler,e.pending_buf,e.pending-r,r))}e.status=lC}if(e.status===lC){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(Sn(n),e.pending!==0))return e.last_flush=-1,bi;yt(e,n.adler&255),yt(e,n.adler>>8&255),n.adler=0}if(e.status=co,Sn(n),e.pending!==0)return e.last_flush=-1,bi}if(n.avail_in!==0||e.lookahead!==0||t!==va&&e.status!==Id){let r=e.level===0?dL(e,t):e.strategy===s0?A8(e,t):e.strategy===d8?E8(e,t):Dd[e.level].func(e,t);if((r===mo||r===lc)&&(e.status=Id),r===ji||r===mo)return n.avail_out===0&&(e.last_flush=-1),bi;if(r===oc&&(t===a8?s8(e):t!==gR&&(nC(e,0,0,!1),t===o8&&(ga(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),Sn(n),n.avail_out===0))return e.last_flush=-1,bi}return t!==zn?bi:e.wrap<=0?_R:(e.wrap===2?(yt(e,n.adler&255),yt(e,n.adler>>8&255),yt(e,n.adler>>16&255),yt(e,n.adler>>24&255),yt(e,n.total_in&255),yt(e,n.total_in>>8&255),yt(e,n.total_in>>16&255),yt(e,n.total_in>>24&255)):(Ad(e,n.adler>>>16),Ad(e,n.adler&65535)),Sn(n),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?bi:_R)},N8=n=>{if(jd(n))return qr;let t=n.state.status;return n.state=null,t===co?uo(n,l8):bi},F8=(n,t)=>{let e=t.length;if(jd(n))return qr;let i=n.state,r=i.wrap;if(r===2||r===1&&i.status!==rc||i.lookahead)return qr;if(r===1&&(n.adler=$d(n.adler,t,e,0)),i.wrap=0,e>=i.w_size){r===0&&(ga(i.head),i.strstart=0,i.block_start=0,i.insert=0);let l=new Uint8Array(i.w_size);l.set(t.subarray(e-i.w_size,e),0),t=l,e=i.w_size}let s=n.avail_in,a=n.next_in,o=n.input;for(n.avail_in=e,n.next_in=0,n.input=t,sc(i);i.lookahead>=lt;){let l=i.strstart,c=i.lookahead-(lt-1);do i.ins_h=ya(i,i.ins_h,i.window[l+lt-1]),i.prev[l&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=l,l++;while(--c);i.strstart=l,i.lookahead=lt-1,sc(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=lt-1,i.match_available=0,n.next_in=a,n.input=o,n.avail_in=s,i.wrap=r,bi},P8=L8,U8=fL,$8=mL,V8=hL,B8=R8,z8=O8,H8=N8,j8=F8,W8="pako deflate (from Nodeca project)",Ld={deflateInit:P8,deflateInit2:U8,deflateReset:$8,deflateResetKeep:V8,deflateSetHeader:B8,deflate:z8,deflateEnd:H8,deflateSetDictionary:j8,deflateInfo:W8},q8=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),G8=function(n){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(let i in e)q8(e,i)&&(n[i]=e[i])}}return n},K8=n=>{let t=0;for(let i=0,r=n.length;i<r;i++)t+=n[i].length;let e=new Uint8Array(t);for(let i=0,r=0,s=n.length;i<s;i++){let a=n[i];e.set(a,r),r+=a.length}return e},p0={assign:G8,flattenChunks:K8},pL=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pL=!1}var Vd=new Uint8Array(256);for(let n=0;n<256;n++)Vd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Vd[254]=Vd[254]=1;var Y8=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,i,r,s,a=n.length,o=0;for(r=0;r<a;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<a&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),o+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(o),s=0,r=0;s<o;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<a&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),e<128?t[s++]=e:e<2048?(t[s++]=192|e>>>6,t[s++]=128|e&63):e<65536?(t[s++]=224|e>>>12,t[s++]=128|e>>>6&63,t[s++]=128|e&63):(t[s++]=240|e>>>18,t[s++]=128|e>>>12&63,t[s++]=128|e>>>6&63,t[s++]=128|e&63);return t},Q8=(n,t)=>{if(t<65534&&n.subarray&&pL)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let i=0;i<t;i++)e+=String.fromCharCode(n[i]);return e},Z8=(n,t)=>{let e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let i,r,s=new Array(e*2);for(r=0,i=0;i<e;){let a=n[i++];if(a<128){s[r++]=a;continue}let o=Vd[a];if(o>4){s[r++]=65533,i+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&i<e;)a=a<<6|n[i++]&63,o--;if(o>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return Q8(s,r)},X8=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+Vd[n[e]]>t?e:t},Bd={string2buf:Y8,buf2string:Z8,utf8border:X8};function J8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var gL=J8,_L=Object.prototype.toString,{Z_NO_FLUSH:e9,Z_SYNC_FLUSH:t9,Z_FULL_FLUSH:i9,Z_FINISH:n9,Z_OK:h0,Z_STREAM_END:r9,Z_DEFAULT_COMPRESSION:s9,Z_DEFAULT_STRATEGY:a9,Z_DEFLATED:o9}=po;function Wd(n){this.options=p0.assign({level:s9,method:o9,chunkSize:16384,windowBits:15,memLevel:8,strategy:a9},n||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gL,this.strm.avail_out=0;let e=Ld.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==h0)throw new Error(ho[e]);if(t.header&&Ld.deflateSetHeader(this.strm,t.header),t.dictionary){let i;if(typeof t.dictionary=="string"?i=Bd.string2buf(t.dictionary):_L.call(t.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(t.dictionary):i=t.dictionary,e=Ld.deflateSetDictionary(this.strm,i),e!==h0)throw new Error(ho[e]);this._dict_set=!0}}Wd.prototype.push=function(n,t){let e=this.strm,i=this.options.chunkSize,r,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?n9:e9,typeof n=="string"?e.input=Bd.string2buf(n):_L.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),(s===t9||s===i9)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(r=Ld.deflate(e,s),r===r9)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),r=Ld.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===h0;if(e.avail_out===0){this.onData(e.output);continue}if(s>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};Wd.prototype.onData=function(n){this.chunks.push(n)};Wd.prototype.onEnd=function(n){n===h0&&(this.result=p0.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function pC(n,t){let e=new Wd(t);if(e.push(n,!0),e.err)throw e.msg||ho[e.err];return e.result}function l9(n,t){return t=t||{},t.raw=!0,pC(n,t)}function c9(n,t){return t=t||{},t.gzip=!0,pC(n,t)}var u9=Wd,d9=pC,h9=l9,m9=c9,f9=po,p9={Deflate:u9,deflate:d9,deflateRaw:h9,gzip:m9,constants:f9},a0=16209,g9=16191,_9=function(t,e){let i,r,s,a,o,l,c,u,d,h,m,f,p,g,y,w,k,x,C,A,T,E,L,S,v=t.state;i=t.next_in,L=t.input,r=i+(t.avail_in-5),s=t.next_out,S=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),l=v.dmax,c=v.wsize,u=v.whave,d=v.wnext,h=v.window,m=v.hold,f=v.bits,p=v.lencode,g=v.distcode,y=(1<<v.lenbits)-1,w=(1<<v.distbits)-1;e:do{f<15&&(m+=L[i++]<<f,f+=8,m+=L[i++]<<f,f+=8),k=p[m&y];t:for(;;){if(x=k>>>24,m>>>=x,f-=x,x=k>>>16&255,x===0)S[s++]=k&65535;else if(x&16){C=k&65535,x&=15,x&&(f<x&&(m+=L[i++]<<f,f+=8),C+=m&(1<<x)-1,m>>>=x,f-=x),f<15&&(m+=L[i++]<<f,f+=8,m+=L[i++]<<f,f+=8),k=g[m&w];i:for(;;){if(x=k>>>24,m>>>=x,f-=x,x=k>>>16&255,x&16){if(A=k&65535,x&=15,f<x&&(m+=L[i++]<<f,f+=8,f<x&&(m+=L[i++]<<f,f+=8)),A+=m&(1<<x)-1,A>l){t.msg="invalid distance too far back",v.mode=a0;break e}if(m>>>=x,f-=x,x=s-a,A>x){if(x=A-x,x>u&&v.sane){t.msg="invalid distance too far back",v.mode=a0;break e}if(T=0,E=h,d===0){if(T+=c-x,x<C){C-=x;do S[s++]=h[T++];while(--x);T=s-A,E=S}}else if(d<x){if(T+=c+d-x,x-=d,x<C){C-=x;do S[s++]=h[T++];while(--x);if(T=0,d<C){x=d,C-=x;do S[s++]=h[T++];while(--x);T=s-A,E=S}}}else if(T+=d-x,x<C){C-=x;do S[s++]=h[T++];while(--x);T=s-A,E=S}for(;C>2;)S[s++]=E[T++],S[s++]=E[T++],S[s++]=E[T++],C-=3;C&&(S[s++]=E[T++],C>1&&(S[s++]=E[T++]))}else{T=s-A;do S[s++]=S[T++],S[s++]=S[T++],S[s++]=S[T++],C-=3;while(C>2);C&&(S[s++]=S[T++],C>1&&(S[s++]=S[T++]))}}else if((x&64)===0){k=g[(k&65535)+(m&(1<<x)-1)];continue i}else{t.msg="invalid distance code",v.mode=a0;break e}break}}else if((x&64)===0){k=p[(k&65535)+(m&(1<<x)-1)];continue t}else if(x&32){v.mode=g9;break e}else{t.msg="invalid literal/length code",v.mode=a0;break e}break}}while(i<r&&s<o);C=f>>3,i-=C,f-=C<<3,m&=(1<<f)-1,t.next_in=i,t.next_out=s,t.avail_in=i<r?5+(r-i):5-(i-r),t.avail_out=s<o?257+(o-s):257-(s-o),v.hold=m,v.bits=f},ic=15,vR=852,yR=592,CR=0,G1=1,wR=2,b9=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),v9=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),y9=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),C9=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),w9=(n,t,e,i,r,s,a,o)=>{let l=o.bits,c=0,u=0,d=0,h=0,m=0,f=0,p=0,g=0,y=0,w=0,k,x,C,A,T,E=null,L,S=new Uint16Array(ic+1),v=new Uint16Array(ic+1),_=null,b,M,I;for(c=0;c<=ic;c++)S[c]=0;for(u=0;u<i;u++)S[t[e+u]]++;for(m=l,h=ic;h>=1&&S[h]===0;h--);if(m>h&&(m=h),h===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<h&&S[d]===0;d++);for(m<d&&(m=d),g=1,c=1;c<=ic;c++)if(g<<=1,g-=S[c],g<0)return-1;if(g>0&&(n===CR||h!==1))return-1;for(v[1]=0,c=1;c<ic;c++)v[c+1]=v[c]+S[c];for(u=0;u<i;u++)t[e+u]!==0&&(a[v[t[e+u]]++]=u);if(n===CR?(E=_=a,L=20):n===G1?(E=b9,_=v9,L=257):(E=y9,_=C9,L=0),w=0,u=0,c=d,T=s,f=m,p=0,C=-1,y=1<<m,A=y-1,n===G1&&y>vR||n===wR&&y>yR)return 1;for(;;){b=c-p,a[u]+1<L?(M=0,I=a[u]):a[u]>=L?(M=_[a[u]-L],I=E[a[u]-L]):(M=96,I=0),k=1<<c-p,x=1<<f,d=x;do x-=k,r[T+(w>>p)+x]=b<<24|M<<16|I|0;while(x!==0);for(k=1<<c-1;w&k;)k>>=1;if(k!==0?(w&=k-1,w+=k):w=0,u++,--S[c]===0){if(c===h)break;c=t[e+a[u]]}if(c>m&&(w&A)!==C){for(p===0&&(p=m),T+=d,f=c-p,g=1<<f;f+p<h&&(g-=S[f+p],!(g<=0));)f++,g<<=1;if(y+=1<<f,n===G1&&y>vR||n===wR&&y>yR)return 1;C=w&A,r[C]=m<<24|f<<16|T-s|0}}return w!==0&&(r[T+w]=c-p<<24|64<<16|0),o.bits=m,0},Od=w9,x9=0,bL=1,vL=2,{Z_FINISH:xR,Z_BLOCK:S9,Z_TREES:o0,Z_OK:fo,Z_STREAM_END:k9,Z_NEED_DICT:M9,Z_STREAM_ERROR:Hn,Z_DATA_ERROR:yL,Z_MEM_ERROR:CL,Z_BUF_ERROR:T9,Z_DEFLATED:SR}=po,g0=16180,kR=16181,MR=16182,TR=16183,ER=16184,AR=16185,IR=16186,DR=16187,RR=16188,LR=16189,m0=16190,Is=16191,K1=16192,OR=16193,Y1=16194,NR=16195,FR=16196,PR=16197,UR=16198,l0=16199,c0=16200,$R=16201,VR=16202,BR=16203,zR=16204,HR=16205,Q1=16206,jR=16207,WR=16208,Pt=16209,wL=16210,xL=16211,E9=852,A9=592,I9=15,D9=I9,qR=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function R9(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var go=n=>{if(!n)return 1;let t=n.state;return!t||t.strm!==n||t.mode<g0||t.mode>xL?1:0},SL=n=>{if(go(n))return Hn;let t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=g0,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(E9),t.distcode=t.distdyn=new Int32Array(A9),t.sane=1,t.back=-1,fo},kL=n=>{if(go(n))return Hn;let t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,SL(n)},ML=(n,t)=>{let e;if(go(n))return Hn;let i=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Hn:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=e,i.wbits=t,kL(n))},TL=(n,t)=>{if(!n)return Hn;let e=new R9;n.state=e,e.strm=n,e.window=null,e.mode=g0;let i=ML(n,t);return i!==fo&&(n.state=null),i},L9=n=>TL(n,D9),GR=!0,Z1,X1,O9=n=>{if(GR){Z1=new Int32Array(512),X1=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Od(bL,n.lens,0,288,Z1,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Od(vL,n.lens,0,32,X1,0,n.work,{bits:5}),GR=!1}n.lencode=Z1,n.lenbits=9,n.distcode=X1,n.distbits=5},EL=(n,t,e,i)=>{let r,s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(t.subarray(e-s.wsize,e),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(t.subarray(e-i,e-i+r),s.wnext),i-=r,i?(s.window.set(t.subarray(e-i,e),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},N9=(n,t)=>{let e,i,r,s,a,o,l,c,u,d,h,m,f,p,g=0,y,w,k,x,C,A,T,E,L=new Uint8Array(4),S,v,_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(go(n)||!n.output||!n.input&&n.avail_in!==0)return Hn;e=n.state,e.mode===Is&&(e.mode=K1),a=n.next_out,r=n.output,l=n.avail_out,s=n.next_in,i=n.input,o=n.avail_in,c=e.hold,u=e.bits,d=o,h=l,E=fo;e:for(;;)switch(e.mode){case g0:if(e.wrap===0){e.mode=K1;break}for(;u<16;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(e.wrap&2&&c===35615){e.wbits===0&&(e.wbits=15),e.check=0,L[0]=c&255,L[1]=c>>>8&255,e.check=li(e.check,L,2,0),c=0,u=0,e.mode=kR;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",e.mode=Pt;break}if((c&15)!==SR){n.msg="unknown compression method",e.mode=Pt;break}if(c>>>=4,u-=4,T=(c&15)+8,e.wbits===0&&(e.wbits=T),T>15||T>e.wbits){n.msg="invalid window size",e.mode=Pt;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=c&512?LR:Is,c=0,u=0;break;case kR:for(;u<16;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(e.flags=c,(e.flags&255)!==SR){n.msg="unknown compression method",e.mode=Pt;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=Pt;break}e.head&&(e.head.text=c>>8&1),e.flags&512&&e.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,e.check=li(e.check,L,2,0)),c=0,u=0,e.mode=MR;case MR:for(;u<32;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}e.head&&(e.head.time=c),e.flags&512&&e.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,L[2]=c>>>16&255,L[3]=c>>>24&255,e.check=li(e.check,L,4,0)),c=0,u=0,e.mode=TR;case TR:for(;u<16;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}e.head&&(e.head.xflags=c&255,e.head.os=c>>8),e.flags&512&&e.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,e.check=li(e.check,L,2,0)),c=0,u=0,e.mode=ER;case ER:if(e.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}e.length=c,e.head&&(e.head.extra_len=c),e.flags&512&&e.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,e.check=li(e.check,L,2,0)),c=0,u=0}else e.head&&(e.head.extra=null);e.mode=AR;case AR:if(e.flags&1024&&(m=e.length,m>o&&(m=o),m&&(e.head&&(T=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(i.subarray(s,s+m),T)),e.flags&512&&e.wrap&4&&(e.check=li(e.check,i,m,s)),o-=m,s+=m,e.length-=m),e.length))break e;e.length=0,e.mode=IR;case IR:if(e.flags&2048){if(o===0)break e;m=0;do T=i[s+m++],e.head&&T&&e.length<65536&&(e.head.name+=String.fromCharCode(T));while(T&&m<o);if(e.flags&512&&e.wrap&4&&(e.check=li(e.check,i,m,s)),o-=m,s+=m,T)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=DR;case DR:if(e.flags&4096){if(o===0)break e;m=0;do T=i[s+m++],e.head&&T&&e.length<65536&&(e.head.comment+=String.fromCharCode(T));while(T&&m<o);if(e.flags&512&&e.wrap&4&&(e.check=li(e.check,i,m,s)),o-=m,s+=m,T)break e}else e.head&&(e.head.comment=null);e.mode=RR;case RR:if(e.flags&512){for(;u<16;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(e.wrap&4&&c!==(e.check&65535)){n.msg="header crc mismatch",e.mode=Pt;break}c=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Is;break;case LR:for(;u<32;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}n.adler=e.check=qR(c),c=0,u=0,e.mode=m0;case m0:if(e.havedict===0)return n.next_out=a,n.avail_out=l,n.next_in=s,n.avail_in=o,e.hold=c,e.bits=u,M9;n.adler=e.check=1,e.mode=Is;case Is:if(t===S9||t===o0)break e;case K1:if(e.last){c>>>=u&7,u-=u&7,e.mode=Q1;break}for(;u<3;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}switch(e.last=c&1,c>>>=1,u-=1,c&3){case 0:e.mode=OR;break;case 1:if(O9(e),e.mode=l0,t===o0){c>>>=2,u-=2;break e}break;case 2:e.mode=FR;break;case 3:n.msg="invalid block type",e.mode=Pt}c>>>=2,u-=2;break;case OR:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",e.mode=Pt;break}if(e.length=c&65535,c=0,u=0,e.mode=Y1,t===o0)break e;case Y1:e.mode=NR;case NR:if(m=e.length,m){if(m>o&&(m=o),m>l&&(m=l),m===0)break e;r.set(i.subarray(s,s+m),a),o-=m,s+=m,l-=m,a+=m,e.length-=m;break}e.mode=Is;break;case FR:for(;u<14;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(e.nlen=(c&31)+257,c>>>=5,u-=5,e.ndist=(c&31)+1,c>>>=5,u-=5,e.ncode=(c&15)+4,c>>>=4,u-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=Pt;break}e.have=0,e.mode=PR;case PR:for(;e.have<e.ncode;){for(;u<3;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}e.lens[_[e.have++]]=c&7,c>>>=3,u-=3}for(;e.have<19;)e.lens[_[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,S={bits:e.lenbits},E=Od(x9,e.lens,0,19,e.lencode,0,e.work,S),e.lenbits=S.bits,E){n.msg="invalid code lengths set",e.mode=Pt;break}e.have=0,e.mode=UR;case UR:for(;e.have<e.nlen+e.ndist;){for(;g=e.lencode[c&(1<<e.lenbits)-1],y=g>>>24,w=g>>>16&255,k=g&65535,!(y<=u);){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(k<16)c>>>=y,u-=y,e.lens[e.have++]=k;else{if(k===16){for(v=y+2;u<v;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(c>>>=y,u-=y,e.have===0){n.msg="invalid bit length repeat",e.mode=Pt;break}T=e.lens[e.have-1],m=3+(c&3),c>>>=2,u-=2}else if(k===17){for(v=y+3;u<v;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}c>>>=y,u-=y,T=0,m=3+(c&7),c>>>=3,u-=3}else{for(v=y+7;u<v;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}c>>>=y,u-=y,T=0,m=11+(c&127),c>>>=7,u-=7}if(e.have+m>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=Pt;break}for(;m--;)e.lens[e.have++]=T}}if(e.mode===Pt)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=Pt;break}if(e.lenbits=9,S={bits:e.lenbits},E=Od(bL,e.lens,0,e.nlen,e.lencode,0,e.work,S),e.lenbits=S.bits,E){n.msg="invalid literal/lengths set",e.mode=Pt;break}if(e.distbits=6,e.distcode=e.distdyn,S={bits:e.distbits},E=Od(vL,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,S),e.distbits=S.bits,E){n.msg="invalid distances set",e.mode=Pt;break}if(e.mode=l0,t===o0)break e;case l0:e.mode=c0;case c0:if(o>=6&&l>=258){n.next_out=a,n.avail_out=l,n.next_in=s,n.avail_in=o,e.hold=c,e.bits=u,_9(n,h),a=n.next_out,r=n.output,l=n.avail_out,s=n.next_in,i=n.input,o=n.avail_in,c=e.hold,u=e.bits,e.mode===Is&&(e.back=-1);break}for(e.back=0;g=e.lencode[c&(1<<e.lenbits)-1],y=g>>>24,w=g>>>16&255,k=g&65535,!(y<=u);){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(w&&(w&240)===0){for(x=y,C=w,A=k;g=e.lencode[A+((c&(1<<x+C)-1)>>x)],y=g>>>24,w=g>>>16&255,k=g&65535,!(x+y<=u);){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}c>>>=x,u-=x,e.back+=x}if(c>>>=y,u-=y,e.back+=y,e.length=k,w===0){e.mode=HR;break}if(w&32){e.back=-1,e.mode=Is;break}if(w&64){n.msg="invalid literal/length code",e.mode=Pt;break}e.extra=w&15,e.mode=$R;case $R:if(e.extra){for(v=e.extra;u<v;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}e.length+=c&(1<<e.extra)-1,c>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=VR;case VR:for(;g=e.distcode[c&(1<<e.distbits)-1],y=g>>>24,w=g>>>16&255,k=g&65535,!(y<=u);){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if((w&240)===0){for(x=y,C=w,A=k;g=e.distcode[A+((c&(1<<x+C)-1)>>x)],y=g>>>24,w=g>>>16&255,k=g&65535,!(x+y<=u);){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}c>>>=x,u-=x,e.back+=x}if(c>>>=y,u-=y,e.back+=y,w&64){n.msg="invalid distance code",e.mode=Pt;break}e.offset=k,e.extra=w&15,e.mode=BR;case BR:if(e.extra){for(v=e.extra;u<v;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}e.offset+=c&(1<<e.extra)-1,c>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=Pt;break}e.mode=zR;case zR:if(l===0)break e;if(m=h-l,e.offset>m){if(m=e.offset-m,m>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=Pt;break}m>e.wnext?(m-=e.wnext,f=e.wsize-m):f=e.wnext-m,m>e.length&&(m=e.length),p=e.window}else p=r,f=a-e.offset,m=e.length;m>l&&(m=l),l-=m,e.length-=m;do r[a++]=p[f++];while(--m);e.length===0&&(e.mode=c0);break;case HR:if(l===0)break e;r[a++]=e.length,l--,e.mode=c0;break;case Q1:if(e.wrap){for(;u<32;){if(o===0)break e;o--,c|=i[s++]<<u,u+=8}if(h-=l,n.total_out+=h,e.total+=h,e.wrap&4&&h&&(n.adler=e.check=e.flags?li(e.check,r,h,a-h):$d(e.check,r,h,a-h)),h=l,e.wrap&4&&(e.flags?c:qR(c))!==e.check){n.msg="incorrect data check",e.mode=Pt;break}c=0,u=0}e.mode=jR;case jR:if(e.wrap&&e.flags){for(;u<32;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(e.wrap&4&&c!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=Pt;break}c=0,u=0}e.mode=WR;case WR:E=k9;break e;case Pt:E=yL;break e;case wL:return CL;case xL:default:return Hn}return n.next_out=a,n.avail_out=l,n.next_in=s,n.avail_in=o,e.hold=c,e.bits=u,(e.wsize||h!==n.avail_out&&e.mode<Pt&&(e.mode<Q1||t!==xR))&&EL(n,n.output,n.next_out,h-n.avail_out),d-=n.avail_in,h-=n.avail_out,n.total_in+=d,n.total_out+=h,e.total+=h,e.wrap&4&&h&&(n.adler=e.check=e.flags?li(e.check,r,h,n.next_out-h):$d(e.check,r,h,n.next_out-h)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Is?128:0)+(e.mode===l0||e.mode===Y1?256:0),(d===0&&h===0||t===xR)&&E===fo&&(E=T9),E},F9=n=>{if(go(n))return Hn;let t=n.state;return t.window&&(t.window=null),n.state=null,fo},P9=(n,t)=>{if(go(n))return Hn;let e=n.state;return(e.wrap&2)===0?Hn:(e.head=t,t.done=!1,fo)},U9=(n,t)=>{let e=t.length,i,r,s;return go(n)||(i=n.state,i.wrap!==0&&i.mode!==m0)?Hn:i.mode===m0&&(r=1,r=$d(r,t,e,0),r!==i.check)?yL:(s=EL(n,t,e,e),s?(i.mode=wL,CL):(i.havedict=1,fo))},$9=kL,V9=ML,B9=SL,z9=L9,H9=TL,j9=N9,W9=F9,q9=P9,G9=U9,K9="pako inflate (from Nodeca project)",Rs={inflateReset:$9,inflateReset2:V9,inflateResetKeep:B9,inflateInit:z9,inflateInit2:H9,inflate:j9,inflateEnd:W9,inflateGetHeader:q9,inflateSetDictionary:G9,inflateInfo:K9};function Y9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Q9=Y9,AL=Object.prototype.toString,{Z_NO_FLUSH:Z9,Z_FINISH:X9,Z_OK:zd,Z_STREAM_END:J1,Z_NEED_DICT:eC,Z_STREAM_ERROR:J9,Z_DATA_ERROR:KR,Z_MEM_ERROR:eW}=po;function qd(n){this.options=p0.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gL,this.strm.avail_out=0;let e=Rs.inflateInit2(this.strm,t.windowBits);if(e!==zd)throw new Error(ho[e]);if(this.header=new Q9,Rs.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Bd.string2buf(t.dictionary):AL.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Rs.inflateSetDictionary(this.strm,t.dictionary),e!==zd)))throw new Error(ho[e])}qd.prototype.push=function(n,t){let e=this.strm,i=this.options.chunkSize,r=this.options.dictionary,s,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?X9:Z9,AL.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),s=Rs.inflate(e,a),s===eC&&r&&(s=Rs.inflateSetDictionary(e,r),s===zd?s=Rs.inflate(e,a):s===KR&&(s=eC));e.avail_in>0&&s===J1&&e.state.wrap>0&&n[e.next_in]!==0;)Rs.inflateReset(e),s=Rs.inflate(e,a);switch(s){case J9:case KR:case eC:case eW:return this.onEnd(s),this.ended=!0,!1}if(o=e.avail_out,e.next_out&&(e.avail_out===0||s===J1))if(this.options.to==="string"){let l=Bd.utf8border(e.output,e.next_out),c=e.next_out-l,u=Bd.buf2string(e.output,l);e.next_out=c,e.avail_out=i-c,c&&e.output.set(e.output.subarray(l,l+c),0),this.onData(u)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(s===zd&&o===0)){if(s===J1)return s=Rs.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};qd.prototype.onData=function(n){this.chunks.push(n)};qd.prototype.onEnd=function(n){n===zd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=p0.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function gC(n,t){let e=new qd(t);if(e.push(n),e.err)throw e.msg||ho[e.err];return e.result}function tW(n,t){return t=t||{},t.raw=!0,gC(n,t)}var iW=qd,nW=gC,rW=tW,sW=gC,aW=po,oW={Inflate:iW,inflate:nW,inflateRaw:rW,ungzip:sW,constants:aW},{Deflate:lW,deflate:cW,deflateRaw:uW,gzip:dW}=p9,{Inflate:hW,inflate:mW,inflateRaw:fW,ungzip:pW}=oW,gW=lW,_W=cW,bW=uW,vW=dW,yW=hW,CW=mW,wW=fW,xW=pW,SW=po,IL={Deflate:gW,deflate:_W,deflateRaw:bW,gzip:vW,Inflate:yW,inflate:CW,inflateRaw:wW,ungzip:xW,constants:SW};var rO=Os(RL()),sO=Os(D_());var _o=class{constructor(t,e,i,r=[],s=null){this.extractedProfiles=[],this.validationParameters=[],this.loading=!1,this.filename=t,this.resource=e,this.validationParameters=r,i?this.mimetype=i:t.endsWith(".json")?this.mimetype="application/fhir+json":this.mimetype="application/fhir+xml",this.date=new Date,this.validationProfile=s;try{this.mimetype==="application/fhir+json"?this.extractJsonInfo():this.extractXmlInfo()}catch(a){console.error("Error parsing resource to validate: ",a)}}getErrors(){if(this.result)return this.result.issues.filter(t=>t.severity==="error"||t.severity==="fatal").length}getWarnings(){if(this.result)return this.result.issues.filter(t=>t.severity==="warning").length}getInfos(){if(this.result)return this.result.issues.filter(t=>t.severity==="information").length}setOperationOutcome(t){this.result=Ut.fromOperationOutcome(t)}setAiRecommendation(t){this.aiRecommendation=t.text.div}extractJsonInfo(){let t=JSON.parse(this.resource);t?.resourceType&&(this.resourceType=t.resourceType,this.resourceId=t.id),t.meta?.profile&&this.extractedProfiles.push(...t.meta.profile)}extractXmlInfo(){let t=this.resource.indexOf("<?")+1,e=this.resource.indexOf("<",t),i=this.resource.indexOf(">",e);if(e<i){let r=this.resource.substring(e+1,i-1),s=r.indexOf(" xmlns");s>0&&(r=r.substring(0,s)),s=r.indexOf(":"),s>0&&(r=r.substring(s+1)),this.resourceType=r;let a=this.resource.indexOf("profile",i);if(a>0){let o=this.resource.indexOf('value="',a)+7,l=this.resource.indexOf('"',o);o<l&&this.extractedProfiles.push(this.resource.substring(o,l))}}}};var _0=class{constructor(t){if(this.param=t,this.formControl=new us,this.param.extension)if(this.param.type=="boolean")this.formControl.setValue(t.extension[0].valueBoolean);else if(this.param.max==="*"){let e=t.extension.filter(i=>i.valueString!==void 0).map(i=>i.valueString);this.formControl.setValue(e.join(`
`))}else this.formControl.setValue(t.extension[0].valueString)}},Gd=class{constructor(t,e){this.name=t,this.value=e}};var b0=class{};var Ke=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ke||{}),jn="*";function bC(n,t){return{type:Ke.Trigger,name:n,definitions:t,options:{}}}function v0(n,t=null){return{type:Ke.Animate,styles:t,timings:n}}function LL(n,t=null){return{type:Ke.Sequence,steps:n,options:t}}function Ca(n){return{type:Ke.Style,styles:n,offset:null}}function Kd(n,t,e){return{type:Ke.State,name:n,styles:t,options:e}}function y0(n,t,e=null){return{type:Ke.Transition,expr:n,animation:t,options:e}}var Kr=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},bo=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,o)=>Math.max(a,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},cc="!";var OL=["toast-component",""];function kW(n,t){if(n&1){let e=ze();P(0,"button",5),X("click",function(){re(e);let r=Y();return se(r.remove())}),P(1,"span",6),B(2,"\xD7"),U()()}}function MW(n,t){if(n&1&&(qi(0),B(1),Gi()),n&2){let e=Y(2);$(),je("[",e.duplicatesCount+1,"]")}}function TW(n,t){if(n&1&&(P(0,"div"),B(1),oe(2,MW,2,1,"ng-container",4),U()),n&2){let e=Y();ft(e.options.titleClass),Se("aria-label",e.title),$(),je(" ",e.title," "),$(),j("ngIf",e.duplicatesCount)}}function EW(n,t){if(n&1&&te(0,"div",7),n&2){let e=Y();ft(e.options.messageClass),j("innerHTML",e.message,wc)}}function AW(n,t){if(n&1&&(P(0,"div",8),B(1),U()),n&2){let e=Y();ft(e.options.messageClass),Se("aria-label",e.message),$(),je(" ",e.message," ")}}function IW(n,t){if(n&1&&(P(0,"div"),te(1,"div",9),U()),n&2){let e=Y();$(),Jt("width",e.width()+"%")}}function DW(n,t){if(n&1){let e=ze();P(0,"button",5),X("click",function(){re(e);let r=Y();return se(r.remove())}),P(1,"span",6),B(2,"\xD7"),U()()}}function RW(n,t){if(n&1&&(qi(0),B(1),Gi()),n&2){let e=Y(2);$(),je("[",e.duplicatesCount+1,"]")}}function LW(n,t){if(n&1&&(P(0,"div"),B(1),oe(2,RW,2,1,"ng-container",4),U()),n&2){let e=Y();ft(e.options.titleClass),Se("aria-label",e.title),$(),je(" ",e.title," "),$(),j("ngIf",e.duplicatesCount)}}function OW(n,t){if(n&1&&te(0,"div",7),n&2){let e=Y();ft(e.options.messageClass),j("innerHTML",e.message,wc)}}function NW(n,t){if(n&1&&(P(0,"div",8),B(1),U()),n&2){let e=Y();ft(e.options.messageClass),Se("aria-label",e.message),$(),je(" ",e.message," ")}}function FW(n,t){if(n&1&&(P(0,"div"),te(1,"div",9),U()),n&2){let e=Y();$(),Jt("width",e.width()+"%")}}var vC=class{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},yC=class{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},CC=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new ue;_activate=new ue;_manualClose=new ue;_resetTimeout=new ue;_countDuplicate=new ue;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},uc=class{toastId;config;message;title;toastType;toastRef;_onTap=new ue;_onAction=new ue;constructor(t,e,i,r,s,a){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=s,this.toastRef=a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},NL={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},FL=new J("ToastConfig"),wC=class extends yC{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){let i=this._componentFactoryResolver.resolveComponentFactory(t.component),r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},PW=(()=>{class n{_document=R(Ze);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xC=class{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}},UW=(()=>{class n{_overlayContainer=R(PW);_componentFactoryResolver=R(Mw);_appRef=R(Gn);_document=R(Ze);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new wC(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new xC(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),C0=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,r,s,a){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=a,this.toastrConfig=H(H({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=H(H({},e.default.iconClasses),e.config.iconClasses))}show(e,i,r={},s=""){return this._preBuildNotification(s,e,i,this.applyConfig(r))}success(e,i,r={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,e,i,this.applyConfig(r))}error(e,i,r={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,e,i,this.applyConfig(r))}info(e,i,r={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,e,i,this.applyConfig(r))}warning(e,i,r={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,e,i,this.applyConfig(r))}clear(e){for(let i of this.toasts)if(e!==void 0){if(i.toastId===e){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(e){let i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,s){let{includeTitleDuplicates:a}=this.toastrConfig;for(let o of this.toasts){let l=a&&o.title===e;if((!a||l)&&o.message===i)return o.toastRef.onDuplicate(r,s),o}return null}applyConfig(e={}){return H(H({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,s)):this._buildNotification(e,i,r,s)}_buildNotification(e,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");let a=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&a!==null)return a;this.previousToastMessage=i;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=i;i&&s.enableHtml&&(c=this.sanitizer.sanitize(pr.HTML,i));let u=new CC(l),d=new uc(this.index,s,c,r,e,u),h=[{provide:uc,useValue:d}],m=ut.create({providers:h,parent:this._injector}),f=new vC(s.toastComponent,m),p=l.attach(f,s.newestOnTop);u.componentInstance=p.instance;let g={toastId:this.index,title:r||"",message:i||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:p};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{g.toastRef.activate()})),this.toasts.push(g),g}static \u0275fac=function(i){return new(i||n)(Re(FL),Re(UW),Re(ut),Re(Hs),Re(De))};static \u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$W=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Di(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=Di({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>Le(H({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>Le(H({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>Le(H({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||n)(Ae(C0),Ae(uc),Ae(De))};static \u0275cmp=le({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&X("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Dw("@flyInOut",r._state),ft(r.toastClasses),Jt("display",r.displayStyle))},attrs:OL,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&oe(0,kW,3,0,"button",0)(1,TW,3,5,"div",1)(2,EW,1,3,"div",2)(3,AW,2,4,"div",3)(4,IW,2,2,"div",4),i&2&&(j("ngIf",r.options.closeButton),$(),j("ngIf",r.title),$(),j("ngIf",r.message&&r.options.enableHtml),$(),j("ngIf",r.message&&!r.options.enableHtml),$(),j("ngIf",r.options.progressBar))},dependencies:[di],encapsulation:2,data:{animation:[bC("flyInOut",[Kd("inactive",Ca({opacity:0})),Kd("active",Ca({opacity:1})),Kd("removed",Ca({opacity:0})),y0("inactive => active",v0("{{ easeTime }}ms {{ easing }}")),y0("active => removed",v0("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),VW=Le(H({},NL),{toastComponent:$W}),BW=(n={})=>Sa([{provide:FL,useValue:{default:VW,config:n}}]),PL=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[BW(e)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({})}return n})();var zW=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=Di(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=Di("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||n)(Ae(C0),Ae(uc),Ae(Gn))};static \u0275cmp=le({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&X("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(ft(r.toastClasses),Jt("display",r.displayStyle))},attrs:OL,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&oe(0,DW,3,0,"button",0)(1,LW,3,5,"div",1)(2,OW,1,3,"div",2)(3,NW,2,4,"div",3)(4,FW,2,2,"div",4),i&2&&(j("ngIf",r.options.closeButton),$(),j("ngIf",r.title),$(),j("ngIf",r.message&&r.options.enableHtml),$(),j("ngIf",r.message&&!r.options.enableHtml),$(),j("ngIf",r.options.progressBar))},dependencies:[di],encapsulation:2,changeDetection:0})}return n})(),Ehe=Le(H({},NL),{toastComponent:zW});var w0=class{constructor(t,e){this.editor=t,this.indentSpace=e,this.editor.setReadOnly(!0),this.editor.setTheme("ace/theme/textmate"),this.editor.commands.removeCommand("find"),this.editor.setOptions({tabSize:this.indentSpace,wrap:!0,useWorker:!1,useSvgGutterIcons:!1})}clearAnnotations(){this.editor.session.clearAnnotations()}setAnnotations(t){let e=t.filter(i=>i.line).map(i=>{let r;switch(i.severity){case"fatal":case"error":r="error";break;case"warning":r="warning";break;case"information":r="info";break}return{row:i.line-1,column:i.col,text:i.text,type:r}});this.editor.session.setAnnotations(e)}updateEditorIssues(t){this.clearAnnotations(),t?.result&&this.setAnnotations(t.result.issues)}scrollToIssueLocation(t){this.editor.gotoLine(t.line,t.col,!0),this.editor.scrollToLine(t.line,!1,!0,()=>{})}clearContent(){this.editor.setValue("",-1)}updateCodeEditorContent(t,e){if(!t){this.clearContent(),this.clearAnnotations();return}e==dc.RESOURCE_CONTENT?(this.editor.setValue(t.resource,-1),t.mimetype==="application/fhir+json"?this.editor.getSession().setMode("ace/mode/json"):t.mimetype==="application/fhir+xml"&&this.editor.getSession().setMode("ace/mode/xml"),this.updateEditorIssues(t)):(t.result!==void 0&&"operationOutcome"in t.result?(this.editor.setValue(JSON.stringify(t.result.operationOutcome,null,this.indentSpace),-1),this.editor.getSession().setMode("ace/mode/json")):this.clearContent(),this.clearAnnotations())}};var HL="3.7.8",jW=HL,mc=typeof Buffer=="function",UL=typeof TextDecoder=="function"?new TextDecoder:void 0,$L=typeof TextEncoder=="function"?new TextEncoder:void 0,WW="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Yd=Array.prototype.slice.call(WW),x0=(n=>{let t={};return n.forEach((e,i)=>t[e]=i),t})(Yd),qW=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,vi=String.fromCharCode.bind(String),VL=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):n=>new Uint8Array(Array.prototype.slice.call(n,0)),jL=n=>n.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),WL=n=>n.replace(/[^A-Za-z0-9\+\/]/g,""),qL=n=>{let t,e,i,r,s="",a=n.length%3;for(let o=0;o<n.length;){if((e=n.charCodeAt(o++))>255||(i=n.charCodeAt(o++))>255||(r=n.charCodeAt(o++))>255)throw new TypeError("invalid character found");t=e<<16|i<<8|r,s+=Yd[t>>18&63]+Yd[t>>12&63]+Yd[t>>6&63]+Yd[t&63]}return a?s.slice(0,a-3)+"===".substring(a):s},MC=typeof btoa=="function"?n=>btoa(n):mc?n=>Buffer.from(n,"binary").toString("base64"):qL,SC=mc?n=>Buffer.from(n).toString("base64"):n=>{let e=[];for(let i=0,r=n.length;i<r;i+=4096)e.push(vi.apply(null,n.subarray(i,i+4096)));return MC(e.join(""))},S0=(n,t=!1)=>t?jL(SC(n)):SC(n),GW=n=>{if(n.length<2){var t=n.charCodeAt(0);return t<128?n:t<2048?vi(192|t>>>6)+vi(128|t&63):vi(224|t>>>12&15)+vi(128|t>>>6&63)+vi(128|t&63)}else{var t=65536+(n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320);return vi(240|t>>>18&7)+vi(128|t>>>12&63)+vi(128|t>>>6&63)+vi(128|t&63)}},KW=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,GL=n=>n.replace(KW,GW),BL=mc?n=>Buffer.from(n,"utf8").toString("base64"):$L?n=>SC($L.encode(n)):n=>MC(GL(n)),hc=(n,t=!1)=>t?jL(BL(n)):BL(n),zL=n=>hc(n,!0),YW=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,QW=n=>{switch(n.length){case 4:var t=(7&n.charCodeAt(0))<<18|(63&n.charCodeAt(1))<<12|(63&n.charCodeAt(2))<<6|63&n.charCodeAt(3),e=t-65536;return vi((e>>>10)+55296)+vi((e&1023)+56320);case 3:return vi((15&n.charCodeAt(0))<<12|(63&n.charCodeAt(1))<<6|63&n.charCodeAt(2));default:return vi((31&n.charCodeAt(0))<<6|63&n.charCodeAt(1))}},KL=n=>n.replace(YW,QW),YL=n=>{if(n=n.replace(/\s+/g,""),!qW.test(n))throw new TypeError("malformed base64.");n+="==".slice(2-(n.length&3));let t,e,i,r=[];for(let s=0;s<n.length;)t=x0[n.charAt(s++)]<<18|x0[n.charAt(s++)]<<12|(e=x0[n.charAt(s++)])<<6|(i=x0[n.charAt(s++)]),e===64?r.push(vi(t>>16&255)):i===64?r.push(vi(t>>16&255,t>>8&255)):r.push(vi(t>>16&255,t>>8&255,t&255));return r.join("")},TC=typeof atob=="function"?n=>atob(WL(n)):mc?n=>Buffer.from(n,"base64").toString("binary"):YL,QL=mc?n=>VL(Buffer.from(n,"base64")):n=>VL(TC(n).split("").map(t=>t.charCodeAt(0))),ZL=n=>QL(XL(n)),ZW=mc?n=>Buffer.from(n,"base64").toString("utf8"):UL?n=>UL.decode(QL(n)):n=>KL(TC(n)),XL=n=>WL(n.replace(/[-_]/g,t=>t=="-"?"+":"/")),kC=n=>ZW(XL(n)),XW=n=>{if(typeof n!="string")return!1;let t=n.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},JL=n=>({value:n,enumerable:!1,writable:!0,configurable:!0}),eO=function(){let n=(t,e)=>Object.defineProperty(String.prototype,t,JL(e));n("fromBase64",function(){return kC(this)}),n("toBase64",function(t){return hc(this,t)}),n("toBase64URI",function(){return hc(this,!0)}),n("toBase64URL",function(){return hc(this,!0)}),n("toUint8Array",function(){return ZL(this)})},tO=function(){let n=(t,e)=>Object.defineProperty(Uint8Array.prototype,t,JL(e));n("toBase64",function(t){return S0(this,t)}),n("toBase64URI",function(){return S0(this,!0)}),n("toBase64URL",function(){return S0(this,!0)})},JW=()=>{eO(),tO()},EC={version:HL,VERSION:jW,atob:TC,atobPolyfill:YL,btoa:MC,btoaPolyfill:qL,fromBase64:kC,toBase64:hc,encode:hc,encodeURI:zL,encodeURL:zL,utob:GL,btou:KL,decode:kC,isValid:XW,fromUint8Array:S0,toUint8Array:ZL,extendString:eO,extendUint8Array:tO,extendBuiltins:JW};var iO=(()=>{class n{transform(e,...i){return e.sort((r,s)=>r.param.type==s.param.type?r.param.name.localeCompare(s.param.name):r.param.type.localeCompare(s.param.type)),console.log(e.map(r=>`${r.param.type}  ${r.param.name}`)),e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=mh({name:"sortSettings",type:n,pure:!0})}}return n})();var nO=n=>({active:n}),tq=n=>({selected:n});function iq(n,t){if(n&1&&(qi(0),P(1,"span"),B(2),U(),B(3," (from "),P(4,"em"),B(5),U(),B(6,") "),Gi()),n&2){let e=Y(2);$(2),He(e.currentResource.resourceType),$(3),He(e.currentResource.filename)}}function nq(n,t){n&1&&(P(0,"em"),B(1,"none"),U())}function rq(n,t){if(n&1&&(P(0,"mat-select-trigger")(1,"span",27)(2,"span",28),B(3),U(),P(4,"span",29),B(5),U()(),P(6,"span",30)(7,"span",31),B(8),U()()()),n&2){let e=t.ngIf;$(3),Lo("",e.igId,"#",e.igVersion,""),$(),j("title",e.title),$(),He(e.title),$(3),He(e.canonical)}}function sq(n,t){if(n&1&&(P(0,"mat-option",21)(1,"span",27)(2,"span",28),B(3),U(),P(4,"span",29),B(5),U()(),P(6,"span",30)(7,"span",31),B(8),U()()()),n&2){let e=t.$implicit;j("value",e.canonical),$(3),Lo("",e.igId,"#",e.igVersion,""),$(),j("title",e.title),$(),He(e.title),$(3),He(e.canonical)}}function aq(n,t){n&1&&(P(0,"mat-error"),B(1,"Please choose a profile"),U())}function oq(n,t){if(n&1&&(P(0,"mat-option",21),B(1),U()),n&2){let e=t.$implicit;j("value",e),$(),je(" ",e," ")}}function lq(n,t){if(n&1){let e=ze();P(0,"span",32)(1,"mat-icon",33),X("click",function(){re(e);let r=Y(2);return se(r.profileLocked=!r.profileLocked)}),B(2,"lock_open"),U(),P(3,"span",34),B(4,"profile unlocked"),U()()}}function cq(n,t){if(n&1){let e=ze();P(0,"span",35)(1,"mat-icon",36),X("click",function(){re(e);let r=Y(2);return se(r.profileLocked=!r.profileLocked)}),B(2,"lock_close"),U(),P(3,"span",37),B(4,"profile locked"),U()()}}function uq(n,t){if(n&1){let e=ze();P(0,"button",25),X("click",function(){re(e);let r=Y(2);return se(r.onAiAnalyzeButtonClick())}),B(1,"Analyze Operation Outcome with AI"),U()}}function dq(n,t){if(n&1){let e=ze();qi(0),P(1,"app-upload",14),X("addFiles",function(r){re(e);let s=Y();return se(s.onFileSelected(r))}),U(),P(2,"p",15),B(3," Current resource loaded: "),oe(4,iq,7,2,"ng-container",3)(5,nq,2,0,"em",3),U(),P(6,"div",16)(7,"mat-form-field")(8,"mat-label"),B(9,"Validation profile (required)"),U(),P(10,"mat-select",17),Vs("ngModelChange",function(r){re(e);let s=Y();return $s(s.selectedProfile,r)||(s.selectedProfile=r),se(r)}),oe(11,rq,9,5,"mat-select-trigger",3),P(12,"mat-option")(13,"ngx-mat-select-search",18),Vs("ngModelChange",function(r){re(e);let s=Y();return $s(s.profileFilter,r)||(s.profileFilter=r),se(r)}),X("ngModelChange",function(){re(e);let r=Y();return se(r.updateProfileFilter())}),U()(),oe(14,sq,9,6,"mat-option",19),U(),oe(15,aq,2,0,"mat-error",3),P(16,"mat-hint"),B(17,"A profile is required to validate against."),U()()(),P(18,"div",16)(19,"mat-form-field")(20,"mat-label"),B(21,"Validation IG"),U(),P(22,"mat-select",20),Vs("ngModelChange",function(r){re(e);let s=Y();return $s(s.selectedIg,r)||(s.selectedIg=r),se(r)}),P(23,"mat-option",21)(24,"em"),B(25,"Automatic selection"),U()(),oe(26,oq,2,2,"mat-option",19),U(),P(27,"mat-hint"),B(28,"A specific IG version may be specified."),U()()(),P(29,"div",22),oe(30,lq,5,0,"span",23)(31,cq,5,0,"span",24),P(32,"button",25),X("click",function(){re(e);let r=Y();return se(r.onValidationButtonClick())}),B(33,"Validate"),U(),oe(34,uq,2,0,"button",26),U(),Gi()}if(n&2){let e=Y();$(4),j("ngIf",e.currentResource),$(),j("ngIf",!e.currentResource),$(5),Us("ngModel",e.selectedProfile),$(),j("ngIf",e.supportedProfiles.get(e.selectedProfile)),$(2),Us("ngModel",e.profileFilter),$(),j("ngForOf",e.filteredProfiles),$(),j("ngIf",e.profileControl.hasError("required")),$(7),Us("ngModel",e.selectedIg),$(),j("value",e.AUTO_IG_SELECTION),$(3),j("ngForOf",e.installedIgs),$(4),j("ngIf",!e.profileLocked),$(),j("ngIf",e.profileLocked),$(3),j("ngIf",e.showAIAnalyzeButton)}}function hq(n,t){if(n&1&&(P(0,"mat-form-field",41)(1,"mat-label"),B(2),U(),te(3,"input",42),U()),n&2){let e=Y().$implicit;$(2),He(e.param.name),$(),j("formControl",e.formControl)}}function mq(n,t){if(n&1&&(P(0,"mat-form-field",41)(1,"mat-label"),B(2),U(),te(3,"textarea",43),U()),n&2){let e=Y().$implicit;$(2),He(e.param.name),$(),j("formControl",e.formControl)}}function fq(n,t){if(n&1&&(P(0,"mat-checkbox",44),B(1),U()),n&2){let e=Y().$implicit;j("formControl",e.formControl),$(),je(" ",e.param.name," ")}}function pq(n,t){if(n&1&&(P(0,"div",16),oe(1,hq,4,2,"mat-form-field",39)(2,mq,4,2,"mat-form-field",39)(3,fq,2,2,"mat-checkbox",40),U()),n&2){let e=t.$implicit;$(),j("ngIf",e.param.type==="string"&&e.param.max==="1"),$(),j("ngIf",e.param.type==="string"&&e.param.max==="*"),$(),j("ngIf",e.param.type==="boolean")}}function gq(n,t){if(n&1&&(qi(0),oe(1,pq,4,3,"div",38),En(2,"sortSettings"),Gi()),n&2){let e=Y();$(),j("ngForOf",Kn(2,1,e.Array.from(e.validatorSettings.values())))}}function _q(n,t){n&1&&te(0,"mat-spinner",52)}function bq(n,t){if(n&1&&(qi(0),P(1,"mat-icon",53),B(2,"error"),U(),B(3),te(4,"br"),P(5,"mat-icon",54),B(6,"warning"),U(),B(7),te(8,"br"),P(9,"mat-icon",55),B(10,"info"),U(),B(11),Gi()),n&2){let e=Y().$implicit;$(3),je(" ",e.result?e.getErrors():"-",""),$(4),je(" ",e.result?e.getWarnings():"-",""),$(4),je(" ",e.result?e.getInfos():"-"," ")}}function vq(n,t){if(n&1){let e=ze();P(0,"tr",45),X("click",function(){let r=re(e).$implicit,s=Y();return se(s.show(r))}),P(1,"td",46),B(2),te(3,"br"),P(4,"time"),B(5),En(6,"date"),U(),te(7,"at"),U(),P(8,"td",46),B(9),te(10,"br"),B(11),U(),P(12,"td",47),oe(13,_q,1,0,"mat-spinner",11)(14,bq,12,3,"ng-container",3),U(),P(15,"td",48)(16,"mat-icon",49),X("click",function(){let r=re(e).$implicit,s=Y();return se(s.removeEntryFromHistory(r))}),B(17,"delete"),U(),P(18,"a",50),X("click",function(r){let s=re(e).$implicit,a=Y();return se(a.copyDirectLink(r,s))}),P(19,"mat-icon",51),B(20,"content_copy"),U()()()()}if(n&2){let e=t.$implicit,i=Y();j("ngClass",Oo(11,tq,e===i.selectedEntry)),$(2),je(" ",e.filename,""),$(3),He(Pw(6,8,e.date,"HH:mm:ss")),$(4),je(" ",e.validationProfile,""),$(2),je(" ",e.ig," "),$(2),j("ngIf",e.loading),$(),j("ngIf",!e.loading),$(4),j("href",i.getDirectLink(e),Sw)}}function yq(n,t){if(n&1&&(P(0,"dl")(1,"dt"),B(2,"Filename"),U(),P(3,"dd"),B(4),U(),P(5,"dt"),B(6,"Profile"),U(),P(7,"dd"),B(8),U(),P(9,"dt"),B(10,"IG"),U(),P(11,"dd"),B(12),U()()),n&2){let e=Y();$(4),He(e.selectedEntry.filename),$(4),He(e.selectedEntry.validationProfile),$(4),He(e.selectedEntry.ig)}}function Cq(n,t){if(n&1){let e=ze();P(0,"app-operation-result",56),X("select",function(r){re(e);let s=Y();return se(s.scrollToIssueLocation(r))}),U()}if(n&2){let e=Y();j("operationResult",e.selectedEntry.result)}}function wq(n,t){n&1&&te(0,"mat-spinner",52)}var xq=2,aO=(()=>{class n{constructor(e,i,r){this.cd=i,this.toastr=r,this.AUTO_IG_SELECTION="AUTOMATIC",this.CodeEditorContent=dc,this.Array=Array,this.validationEntries=[],this.selectedEntry=null,this.installedIgs=new Set,this.supportedProfiles=new Map,this.validatorSettings=new Map,this.filteredProfiles=new Set,this.profileFilter="",this.selectedIg=this.AUTO_IG_SELECTION,this.profileControl=new Rr(null,_n.required),this.profileLocked=!1,this.editorContent=dc.RESOURCE_CONTENT,this.showSettings=!1,this.currentResource=null,this.showAIAnalyzeButton=!1,this.client=e.getFhirClient();let s=this.client.read({resourceType:"OperationDefinition",id:"-s-validate"}),a=this.client.search({resourceType:"ImplementationGuide",searchParams:{_sort:"title",_count:1e3}});Promise.all([s,a]).then(o=>{this.analyzeValidateOperationDefinition(o[0]),o[1].entry?.map(l=>l.resource).map(l=>`${l.packageId}#${l.version}`).sort().forEach(l=>this.installedIgs.add(l))}).catch(o=>{this.showErrorToast("Network error",o.message),console.error(o)})}ngAfterViewInit(){this.editor=new w0(sO.default.edit("editor"),xq),this.analyzeUrlForValidation().then()}onFileSelected(e){if(e.name.endsWith(".tgz")){try{this.validateExamplesInPackage(e.blob)}catch(i){this.showErrorToast("Unexpected error",i.message),console.error(i)}return}try{this.selectedIg=this.AUTO_IG_SELECTION;let i=new FileReader;i.readAsText(e.blob),i.onload=()=>{this.cd.markForCheck(),this.validateResource(e.blob.name,i.result,e.contentType,!this.profileLocked)}}catch(i){this.showErrorToast("Unexpected error",i.message),console.error(i)}}validateResource(e,i,r,s){let a;try{if(a=new _o(e,i,r,this.getCurrentValidationSettings()),this.currentResource=new k0(e,r,i,a.resourceType),s){var o=!1;for(let l of a.extractedProfiles)if(this.supportedProfiles.has(l)){this.selectedProfile=l,o=!0;break}o||(this.selectedProfile="http://hl7.org/fhir/StructureDefinition/"+a.resourceType)}a.validationProfile=this.selectedProfile,a.validationProfile?(this.validationEntries.unshift(a),this.show(a),this.runValidation(a)):this.showWarnToast("No profile selected","Please select a profile for validation")}catch(l){this.showErrorToast("Error parsing the file",l.message),console.error(l),a&&(a.result=Ut.fromMatchboxError("Error while processing the resource for validation: "+l.message));return}}validateExamplesInPackage(e){this.selectedProfile=null,this.selectedIg=this.AUTO_IG_SELECTION;let i=new FileReader;i.readAsArrayBuffer(e),i.onload=()=>{if(this.package=i.result,this.cd.markForCheck(),this.package!=null){let r=IL.inflate(new Uint8Array(this.package)),s=new Array,a=this;(0,rO.default)(r.buffer).then(o=>{s.forEach(l=>{a.validationEntries.unshift(l),a.runValidation(l)})},o=>{this.showErrorToast("Unexpected error",o),console.error(o)},o=>{if(o.name?.indexOf("package.json")>=0,o.name?.indexOf("example")>=0&&o.name?.indexOf(".index.json")==-1){let l=o.name;l.startsWith("package/example/")&&(l=l.substring(16)),l.startsWith("example/")&&(l=l.substring(8));let c=new TextDecoder("utf-8"),u=new _o(l,c.decode(o.buffer),"application/fhir+json",this.getCurrentValidationSettings());s.push(u)}})}}}clearAllEntries(){this.selectedProfile=null,this.selectedIg=this.AUTO_IG_SELECTION,this.show(void 0),this.validationEntries.splice(0,this.validationEntries.length)}runValidation(e){if(this.selectedProfile!=null&&!this.profileLocked&&(e.extractedProfiles.includes(this.selectedProfile)||e.extractedProfiles.push(this.selectedProfile),e.validationProfile=this.selectedProfile),this.selectedIg!=this.AUTO_IG_SELECTION&&(this.selectedIg.endsWith(" (last)")?e.ig=this.selectedIg.substring(0,this.selectedIg.length-7):e.ig=this.selectedIg),!e.validationProfile){this.showErrorToast("Validation failed","No profile was selected"),console.error("No profile selected, won't run validation");return}let i=new URLSearchParams;i.set("profile",e.validationProfile),e.ig&&i.set("ig",e.ig);for(let r of e.validationParameters)i.append(r.name,r.value);e.loading=!0,this.client.operation({name:"validate?"+i.toString(),resourceType:void 0,input:e.resource,options:{headers:{accept:"application/fhir+json","content-type":e.mimetype}}}).then(r=>{e.loading=!1,e.setOperationOutcome(r),e===this.selectedEntry&&this.editor.updateCodeEditorContent(this.selectedEntry,this.editorContent)}).catch(r=>{console.error(r),e.loading=!1,r?.response?.data?.resourceType==="OperationOutcome"?(e.setOperationOutcome(r?.response?.data),e===this.selectedEntry&&this.editor.updateCodeEditorContent(this.selectedEntry,this.editorContent)):"message"in r?(this.showErrorToast("Unexpected error",r.message),e.result=Ut.fromMatchboxError("Error while sending the validation request: "+r.message),console.error(r)):(this.showErrorToast("Unknown error","Unknown error while sending the validation request"),e.result=Ut.fromMatchboxError("Unknown error while sending the validation request"),console.error(r))})}show(e){this.selectedEntry=e,this.editor.updateCodeEditorContent(this.selectedEntry,this.editorContent),e!=null&&(this.currentResource=new k0(e.filename,e.mimetype,e.resource,e.resourceType))}removeEntryFromHistory(e){e===this.selectedEntry&&this.show(null);let i=this.validationEntries.indexOf(e);this.validationEntries.splice(i,1)}onValidationButtonClick(){let e=new _o(this.currentResource.filename,this.currentResource.content,this.currentResource.contentType,this.getCurrentValidationSettings(),this.selectedProfile);this.selectedIg!=this.AUTO_IG_SELECTION&&(e.ig=this.selectedIg),this.validationEntries.unshift(e),this.show(e),this.runValidation(e)}onAiAnalyzeButtonClick(){let e={name:"analyzeOutcomeWithAI",value:"true"},i=this.getCurrentValidationSettings();i.push(e);let r=new _o(this.currentResource.filename,this.currentResource.content,this.currentResource.contentType,i,this.selectedProfile);this.selectedIg!=this.AUTO_IG_SELECTION&&(r.ig=this.selectedIg),this.validationEntries.unshift(r),this.show(r),this.runValidation(r)}toggleSettings(){this.showSettings=!this.showSettings}scrollToIssueLocation(e){e.line&&this.editorContent==dc.RESOURCE_CONTENT&&this.editor.scrollToIssueLocation(e)}updateProfileFilter(){let e=this.profileFilter.toLowerCase();this.filteredProfiles=new Set([...this.supportedProfiles.values()].filter(i=>i.title.toLocaleLowerCase().includes(e)||i.canonical.toLocaleLowerCase().includes(e)).values())}getDirectLink(e){let i=new URL(document.location.href);i.searchParams.forEach(s=>{i.searchParams.delete(s)});let r=new URLSearchParams;r.set("resource",EC.encodeURI(e.resource)),r.set("profile",e.validationProfile),e.ig&&r.set("ig",e.ig);for(let s of e.validationParameters)r.set(s.name,s.value);return i.hash=r.toString(),i.toString()}copyDirectLink(e,i){if("clipboard"in navigator){e.preventDefault();let r=this.getDirectLink(i);navigator.clipboard.writeText(r).then(()=>{})}}getExtensionStringValue(e,i){return this.getExtension(e,i)?.valueString??""}getExtensionBoolValue(e,i){return this.getExtension(e,i)?.valueBoolean??!1}getExtension(e,i){for(let r=0;r<e.extension.length;r++)if(e.extension[r].url===i)return e.extension[r];return null}changeCodeEditorContent(e){this.editorContent!==e&&(this.editorContent=e,this.editor.updateCodeEditorContent(this.selectedEntry,this.editorContent))}getCurrentValidationSettings(){let e=[];for(let[i,r]of this.validatorSettings)if(r.formControl.value!=null&&r.formControl.value.toString().length>0)if(r.param.type==="string"&&r.param.max==="*"){let o=r.formControl.value.toString().split(`
`).filter(l=>l.trim().length>0);for(let l of o)e.push(new Gd(r.param.name,l.trim()))}else e.push(new Gd(r.param.name,r.formControl.value.toString()));return e}showErrorToast(e,i){this.toastr.error(i,e,{closeButton:!0,timeOut:5e3})}showWarnToast(e,i){this.toastr.warning(i,e,{closeButton:!0,timeOut:5e3})}analyzeValidateOperationDefinition(e){e.parameter?.forEach(i=>{i.name=="profile"&&(i._targetProfile?.forEach(r=>{let s=new b0;s.canonical=this.getExtensionStringValue(r,"sd-canonical"),s.title=this.getExtensionStringValue(r,"sd-title"),s.igId=this.getExtensionStringValue(r,"ig-id"),s.igVersion=this.getExtensionStringValue(r,"ig-version"),s.isCurrent=!1,this.getExtensionBoolValue(r,"ig-current")?s.isCurrent=!0:s.canonical+=`|${s.igVersion}`,this.supportedProfiles.set(s.canonical,s)}),this.updateProfileFilter()),i.name=="llmProvider"&&i.extension&&(this.showAIAnalyzeButton=!0)}),e.parameter.filter(i=>i.use=="in"&&i.name!="resource"&&i.name!="profile"&&i.name!="ig"&&i.name!="llmProvider").forEach(i=>{this.validatorSettings.set(i.name,new _0(i))})}analyzeUrlForValidation(){return Lt(this,null,function*(){if(!window.location.hash)return;let e=new URLSearchParams(window.location.hash.substring(1));if(e.has("resource")){let i=!1;e.has("profile")&&(this.selectedProfile=e.get("profile"),i=!0);let r=EC.decode(e.get("resource")),s="application/fhir+json";r.startsWith("<")&&(s="application/fhir+xml");let a;e.has("filename")?a=e.get("filename"):a=`provided.${s.split("+")[1]}`;for(let[o,l]of e)o==="resource"||o==="profile"||o==="filename"||this.validatorSettings.has(o)&&this.validatorSettings.get(o).formControl.setValue(l);this.validateResource(a,r,s,!i&&!this.profileLocked),this.toastr.info("Validation","The validation of your resource has started",{closeButton:!0,timeOut:3e3})}})}static{this.\u0275fac=function(i){return new(i||n)(Ae(Dn),Ae(Ge),Ae(C0))}}static{this.\u0275cmp=le({type:n,selectors:[["app-validate"]],standalone:!1,decls:39,vars:12,consts:[[1,"row"],[1,"card-maps","white-block"],["mat-menu-item","","title","Edit validation parameters",1,"setting",3,"click"],[4,"ngIf"],[1,"mat-table"],[1,"mat-header-row"],[1,"mat-header-cell"],["class","mat-row",3,"ngClass","click",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit",3,"click"],[1,"row","row-full-height"],[3,"operationResult","select",4,"ngIf"],["diameter","30",4,"ngIf"],[1,"editor-content-selector",3,"click","ngClass"],["id","editor"],[3,"addFiles"],[1,"current"],[1,"form-field-group"],["id","select-profile","name","selectProfile","placeholder","Validate against specific Profile",3,"ngModelChange","ngModel"],["placeholderLabel","Find a profile\u2026","noEntriesFoundLabel","'no matching profile found'",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","selectIg","placeholder","Validate against specific Implementation Guide",3,"ngModelChange","ngModel"],[3,"value"],[1,"buttons"],["class","profile-lock unlocked",4,"ngIf"],["class","profile-lock locked",4,"ngIf"],["color","primary","mat-raised-button","",3,"click"],["color","primary","mat-raised-button","",3,"click",4,"ngIf"],[1,"profile-select-option-line1"],[1,"ig"],[1,"title",3,"title"],[1,"profile-select-option-line2"],[1,"canonical"],[1,"profile-lock","unlocked"],["title","Lock the profile",3,"click"],["title","The profile will be updated automatically when validating a new resource"],[1,"profile-lock","locked"],["title","Unlock the profile",3,"click"],["title","The profile won't be updated when validating a new resource"],["class","form-field-group",4,"ngFor","ngForOf"],["class","column50",4,"ngIf"],[3,"formControl",4,"ngIf"],[1,"column50"],["matInput","",3,"formControl"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","3","cdkAutosizeMaxRows","10",3,"formControl"],[3,"formControl"],[1,"mat-row",3,"click","ngClass"],[1,"mat-cell"],[1,"issues","mat-cell"],[1,"actions","mat-cell"],["aria-label","Remove","title","Remove from history",1,"delete",3,"click"],["target","_blank","title","Copy a direct link to this validation",3,"click","href"],["aria-label","Copy",1,"copy"],["diameter","30"],["inline","",1,"error"],["inline","",1,"warning"],["inline","",1,"info"],[3,"select","operationResult"]],template:function(i,r){i&1&&(P(0,"div",0)(1,"div",1)(2,"button",2),X("click",function(){return r.toggleSettings()}),P(3,"mat-icon"),B(4,"settings"),U()(),P(5,"h2"),B(6,"Validate FHIR Resource"),U(),oe(7,dq,35,13,"ng-container",3)(8,gq,3,3,"ng-container",3),U(),P(9,"div",1)(10,"h2"),B(11,"Validation history"),U(),P(12,"table",4)(13,"tr",5)(14,"th",6),B(15,"Resource"),U(),P(16,"th",6),B(17,"Profile/IG"),U(),P(18,"th",6),B(19,"Issues"),U(),P(20,"th",6),B(21,"Actions"),U()(),oe(22,vq,21,13,"tr",7),U(),P(23,"mat-card-actions")(24,"button",8),X("click",function(){return r.clearAllEntries()}),B(25,"Clear history"),U()()()(),P(26,"div",9)(27,"div",1)(28,"h2"),B(29,"Result of the validation"),U(),oe(30,yq,13,3,"dl",3)(31,Cq,1,1,"app-operation-result",10)(32,wq,1,0,"mat-spinner",11),U(),P(33,"div",1)(34,"span",12),X("click",function(){return r.changeCodeEditorContent(r.CodeEditorContent.RESOURCE_CONTENT)}),B(35,"Validated resource"),U(),P(36,"span",12),X("click",function(){return r.changeCodeEditorContent(r.CodeEditorContent.OPERATION_OUTCOME)}),B(37,"Operation outcome"),U(),te(38,"div",13),U()()),i&2&&($(7),j("ngIf",!r.showSettings),$(),j("ngIf",r.showSettings),$(14),j("ngForOf",r.validationEntries),$(8),j("ngIf",r.selectedEntry),$(),j("ngIf",r.selectedEntry&&r.selectedEntry.result),$(),j("ngIf",r.selectedEntry&&r.selectedEntry.loading),$(2),j("ngClass",Oo(8,nO,r.editorContent==r.CodeEditorContent.RESOURCE_CONTENT)),$(2),j("ngClass",Oo(10,nO,r.editorContent==r.CodeEditorContent.OPERATION_OUTCOME)))},dependencies:[An,vr,di,Ir,Dr,cb,er,Nn,ms,Lm,Al,bn,ds,Ga,Ka,Rn,Ml,LT,Gm,ps,Fb,Xs,n0,dl,r0,qw,iO],styles:["[_nghost-%COMP%]{margin:0 auto;min-width:1400px;width:100%}button.setting[_ngcontent-%COMP%]{float:right}button.setting[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}p.current[_ngcontent-%COMP%]{margin:10px 0}p.current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}mat-hint[_ngcontent-%COMP%]{color:#7db99e}p.error[_ngcontent-%COMP%]{color:#d9534f;margin-top:20px}p.error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-self:stretch;margin:1em auto;min-width:1400px;width:100%;justify-content:space-evenly}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:46%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background:#d8f1e6}table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]   td.issues[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#818181}table[_ngcontent-%COMP%]   td.issues[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:12px;height:12px;margin-right:2px;vertical-align:bottom}table[_ngcontent-%COMP%]   td.issues[_ngcontent-%COMP%]   mat-icon.error[_ngcontent-%COMP%]{color:#d9534f}table[_ngcontent-%COMP%]   td.issues[_ngcontent-%COMP%]   mat-icon.warning[_ngcontent-%COMP%]{color:#f0ad4e}table[_ngcontent-%COMP%]   td.issues[_ngcontent-%COMP%]   mat-icon.info[_ngcontent-%COMP%]{color:#4ca8de}table[_ngcontent-%COMP%]   td.actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}table[_ngcontent-%COMP%]   td.actions[_ngcontent-%COMP%]   mat-icon.delete[_ngcontent-%COMP%]{color:#d9534f;margin-right:.2em}table[_ngcontent-%COMP%]   td.actions[_ngcontent-%COMP%]   mat-icon.copy[_ngcontent-%COMP%]{color:#4ab183}.form-field-group[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;display:flex;flex-direction:row}.form-field-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.button-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem}.card-maps[_ngcontent-%COMP%]{padding:8px 16px}.row-full-height[_ngcontent-%COMP%]   .card-maps[_ngcontent-%COMP%]{height:96vh;max-height:96vh;overflow-y:auto}#editor[_ngcontent-%COMP%]{height:calc(100% - 50px)}.column50[_ngcontent-%COMP%]{width:40%}.profile-select-option-line1[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap;width:100%}.profile-select-option-line1[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;width:auto;text-overflow:ellipsis;padding-right:6px;overflow:hidden}.profile-select-option-line1[_ngcontent-%COMP%]   .ig[_ngcontent-%COMP%]{display:block;float:right;width:max-content;color:#7bc7a5}.profile-select-option-line2[_ngcontent-%COMP%]{clear:right;display:inline-block;white-space:nowrap;width:100%;font-size:.8rem;line-height:.8rem}.profile-select-option-line2[_ngcontent-%COMP%]   .canonical[_ngcontent-%COMP%]{font-family:monospace,serif;color:#778d9d;letter-spacing:0px}mat-option[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}mat-option[_ngcontent-%COMP%]{padding:4px 8px;border-bottom:1px solid rgba(0,0,0,.05);line-height:normal}  .mdc-list-item__primary-text{width:100%}.editor-content-selector[_ngcontent-%COMP%]{display:inline-block;font-size:1.4em;margin:.3em 1em .6em 0;border-bottom:3px solid #d2eade;cursor:pointer;color:#5a5f5c;padding-bottom:2px}.editor-content-selector.active[_ngcontent-%COMP%]{border-bottom:3px solid #97d6ba;cursor:default;color:#000}.buttons[_ngcontent-%COMP%]{margin:20px 0 10px 10px}.profile-lock[_ngcontent-%COMP%]{float:right;display:block;width:150px;line-height:3em}.profile-lock[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;vertical-align:middle;margin-right:5px;color:#7099bd}.profile-lock[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:help;text-decoration:underline dashed}.profile-lock.locked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#d9534f}.profile-lock.unlocked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6eb394}"]})}}return n})(),k0=class{constructor(t,e,i,r){this.filename=t,this.contentType=e,this.content=i,this.resourceType=r}},dc=function(n){return n[n.RESOURCE_CONTENT=0]="RESOURCE_CONTENT",n[n.OPERATION_OUTCOME=1]="OPERATION_OUTCOME",n}(dc||{});var M0=class{validateSignature(t){return Promise.resolve(null)}validateAtHash(t){return Promise.resolve(!0)}},T0=class{};var Qd=class{},Sq=(()=>{class n extends Qd{now(){return Date.now()}new(){return new Date}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(n)))(r||n)}})()}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})();var E0=class{},A0=class{},kq=(()=>{class n{constructor(){this.data=new Map}getItem(e){return this.data.get(e)}removeItem(e){this.data.delete(e)}setItem(e,i){this.data.set(e,i)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})();var Zd=class{constructor(t){this.type=t}},Wi=class extends Zd{constructor(t,e=null){super(t),this.info=e}},or=class extends Zd{constructor(t,e=null){super(t),this.info=e}},$t=class extends Zd{constructor(t,e,i=null){super(t),this.reason=e,this.params=i}};function oO(n){let t=n.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function lO(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var fc=class{constructor(t){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=e=>{location.href=e},t&&Object.assign(this,t)}},vo=class{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}},I0=class{};var cO=(()=>{class n{getHashFragmentParams(e){let i=e||window.location.hash;if(i=decodeURIComponent(i),i.indexOf("#")!==0)return{};let r=i.indexOf("?");return r>-1?i=i.substr(r+1):i=i.substr(1),this.parseQueryString(i)}parseQueryString(e){let i={},r,s,a,o,l,c;if(e===null)return i;let u=e.split("&");for(let d=0;d<u.length;d++)r=u[d],s=r.indexOf("="),s===-1?(a=r,o=null):(a=r.substr(0,s),o=r.substr(s+1)),l=decodeURIComponent(a),c=decodeURIComponent(o),l.substr(0,1)==="/"&&(l=l.substr(1)),i[l]=c;return i}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),uO=32,Mq=64,Tq=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function AC(n,t,e,i,r){let s,a,o,l,c,u,d,h,m,f,p,g,y;for(;r>=64;){for(s=t[0],a=t[1],o=t[2],l=t[3],c=t[4],u=t[5],d=t[6],h=t[7],f=0;f<16;f++)p=i+f*4,n[f]=(e[p]&255)<<24|(e[p+1]&255)<<16|(e[p+2]&255)<<8|e[p+3]&255;for(f=16;f<64;f++)m=n[f-2],g=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10,m=n[f-15],y=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3,n[f]=(g+n[f-7]|0)+(y+n[f-16]|0);for(f=0;f<64;f++)g=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&d)|0)+(h+(Tq[f]+n[f]|0)|0)|0,y=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&a^s&o^a&o)|0,h=d,d=u,u=c,c=l+g|0,l=o,o=a,a=s,s=g+y|0;t[0]+=s,t[1]+=a,t[2]+=o,t[3]+=l,t[4]+=c,t[5]+=u,t[6]+=d,t[7]+=h,i+=64,r-=64}return i}var IC=class{constructor(){this.digestLength=uO,this.blockSize=Mq,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(let t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()}update(t,e=t.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let i=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[i++],e--;this.bufferLength===64&&(AC(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(e>=64&&(i=AC(this.temp,this.state,t,i,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[i++],e--;return this}finish(t){if(!this.finished){let e=this.bytesHashed,i=this.bufferLength,r=e/536870912|0,s=e<<3,a=e%64<56?64:128;this.buffer[i]=128;for(let o=i+1;o<a-8;o++)this.buffer[o]=0;this.buffer[a-8]=r>>>24&255,this.buffer[a-7]=r>>>16&255,this.buffer[a-6]=r>>>8&255,this.buffer[a-5]=r>>>0&255,this.buffer[a-4]=s>>>24&255,this.buffer[a-3]=s>>>16&255,this.buffer[a-2]=s>>>8&255,this.buffer[a-1]=s>>>0&255,AC(this.temp,this.state,this.buffer,0,a),this.finished=!0}for(let e=0;e<8;e++)t[e*4+0]=this.state[e]>>>24&255,t[e*4+1]=this.state[e]>>>16&255,t[e*4+2]=this.state[e]>>>8&255,t[e*4+3]=this.state[e]>>>0&255;return this}digest(){let t=new Uint8Array(this.digestLength);return this.finish(t),t}_saveState(t){for(let e=0;e<this.state.length;e++)t[e]=this.state[e]}_restoreState(t,e){for(let i=0;i<this.state.length;i++)this.state[i]=t[i];this.bytesHashed=e,this.finished=!1,this.bufferLength=0}};function Eq(n){let t=new IC().update(n),e=t.digest();return t.clean(),e}var eme=new Uint8Array(uO);var D0=class{};function Aq(n){if(typeof n!="string")throw new TypeError("expected string");let t=n,e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}function Iq(n){let t=[];for(let e=0;e<n.length;e++)t.push(String.fromCharCode(n[e]));return t.join("")}var Dq=(()=>{class n{calcHash(e,i){return Lt(this,null,function*(){return Iq(Eq(Aq(e)))})}toHashString2(e){let i="";for(let r of e)i+=String.fromCharCode(r);return i}toHashString(e){let i=new Uint8Array(e),r="";for(let s of i)r+=String.fromCharCode(s);return r}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),dO=(()=>{class n extends fc{constructor(e,i,r,s,a,o,l,c,u,d){super(),this.ngZone=e,this.http=i,this.config=a,this.urlHelper=o,this.logger=l,this.crypto=c,this.dateTimeService=d,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new ue,this.discoveryDocumentLoadedSubject=new ue,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=u,a||(a={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),s&&(this.tokenValidationHandler=s),a&&this.configure(a);try{r?this.setStorage(r):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(h){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",h)}if(this.checkLocalStorageAccessable()){let h=window?.navigator?.userAgent;(h?.includes("MSIE ")||h?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let e="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(e,e),localStorage.removeItem(e),!0)}catch{return!1}}configure(e){Object.assign(this,new fc,e),this.config=Object.assign({},new fc,e),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(it(e=>e.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(e={},i,r=!0){let s=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(kt(a=>{a.type==="token_received"?s=!0:a.type==="logout"&&(s=!1)}),it(a=>a.type==="token_expires"&&(i==null||i==="any"||a.info===i)),Ii(1e3)).subscribe(()=>{s&&this.refreshInternal(e,r).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(e,i){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(e,i)}loadDiscoveryDocumentAndTryLogin(e=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(e))}loadDiscoveryDocumentAndLogin(e=null){return e=e||{},this.loadDiscoveryDocumentAndTryLogin(e).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let i=typeof e.state=="string"?e.state:"";return this.initLoginFlow(i),!1}else return!0})}debug(...e){this.showDebugInformation&&this.logger.debug(...e)}validateUrlFromDiscoveryDocument(e){let i=[],r=this.validateUrlForHttps(e),s=this.validateUrlAgainstIssuer(e);return r||i.push("https for all urls required. Also for urls received by discovery."),s||i.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),i}validateUrlForHttps(e){if(!e)return!0;let i=e.toLowerCase();return this.requireHttps===!1||(i.match(/^http:\/\/localhost($|[:/])/)||i.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:i.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(e,i){if(!e)throw new Error(`'${i}' should not be null`);if(!this.validateUrlForHttps(e))throw new Error(`'${i}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(e){return!this.strictDiscoveryDocumentValidation||!e?!0:e.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(it(e=>e.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let e=this.getAccessTokenExpiration(),i=this.getAccessTokenStoredAt(),r=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=ge(new or("token_expires","access_token")).pipe(To(r)).subscribe(s=>{this.ngZone.run(()=>{this.eventsSubject.next(s)})})})}setupIdTokenTimer(){let e=this.getIdTokenExpiration(),i=this.getIdTokenStoredAt(),r=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=ge(new or("token_expires","id_token")).pipe(To(r)).subscribe(s=>{this.ngZone.run(()=>{this.eventsSubject.next(s)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(e,i){let r=this.dateTimeService.now(),s=(i-e)*this.timeoutFactor-(r-e),a=Math.max(0,s),o=2147483647;return a>o?o:a}setStorage(e){this._storage=e,this.configChanged()}loadDiscoveryDocument(e=null){return new Promise((i,r)=>{if(e||(e=this.issuer||"",e.endsWith("/")||(e+="/"),e+=".well-known/openid-configuration"),!this.validateUrlForHttps(e)){r("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(e).subscribe(s=>{if(!this.validateDiscoveryDocument(s)){this.eventsSubject.next(new $t("discovery_document_validation_error",null)),r("discovery_document_validation_error");return}this.loginUrl=s.authorization_endpoint,this.logoutUrl=s.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=s.grant_types_supported,this.issuer=s.issuer,this.tokenEndpoint=s.token_endpoint,this.userinfoEndpoint=s.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=s.jwks_uri,this.sessionCheckIFrameUrl=s.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(s),this.revocationEndpoint=s.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(a=>{let o={discoveryDocument:s,jwks:a},l=new Wi("discovery_document_loaded",o);this.eventsSubject.next(l),i(l)}).catch(a=>{this.eventsSubject.next(new $t("discovery_document_load_error",a)),r(a)})},s=>{this.logger.error("error loading discovery document",s),this.eventsSubject.next(new $t("discovery_document_load_error",s)),r(s)})})}loadJwks(){return new Promise((e,i)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(r=>{this.jwks=r,e(r)},r=>{this.logger.error("error loading jwks",r),this.eventsSubject.next(new $t("jwks_load_error",r)),i(r)}):e(null)})}validateDiscoveryDocument(e){let i;return!this.skipIssuerCheck&&e.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+e.issuer),!1):(i=this.validateUrlFromDiscoveryDocument(e.authorization_endpoint),i.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.end_session_endpoint),i.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.token_endpoint),i.length>0&&this.logger.error("error validating token_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.revocation_endpoint),i.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.userinfo_endpoint),i.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.jwks_uri),i.length>0?(this.logger.error("error validating jwks_uri in discovery document",i),!1):(this.sessionChecksEnabled&&!e.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(e,i,r=new zs){return this.fetchTokenUsingPasswordFlow(e,i,r).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((e,i)=>{let r=new zs().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:r,observe:"response",responseType:"text"}).subscribe(s=>{if(this.debug("userinfo received",JSON.stringify(s)),s.headers.get("content-type").startsWith("application/json")){let a=JSON.parse(s.body),o=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!o.sub||a.sub!==o.sub)){i(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}a=Object.assign({},o,a),this._storage.setItem("id_token_claims_obj",JSON.stringify(a)),this.eventsSubject.next(new Wi("user_profile_loaded")),e({info:a})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new Wi("user_profile_loaded")),e(JSON.parse(s.body))},s=>{this.logger.error("error loading user info",s),this.eventsSubject.next(new $t("user_profile_load_error",s)),i(s)})})}fetchTokenUsingPasswordFlow(e,i,r=new zs){let s={username:e,password:i};return this.fetchTokenUsingGrant("password",s,r)}fetchTokenUsingGrant(e,i,r=new zs){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let s=new Fo({encoder:new vo}).set("grant_type",e).set("scope",this.scope);if(this.useHttpBasicAuth){let a=btoa(`${this.clientId}:${this.dummyClientSecret}`);r=r.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(s=s.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(s=s.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))s=s.set(a,this.customQueryParams[a]);for(let a of Object.keys(i))s=s.set(a,i[a]);return r=r.set("Content-Type","application/x-www-form-urlencoded"),new Promise((a,o)=>{this.http.post(this.tokenEndpoint,s,{headers:r}).subscribe(l=>{this.debug("tokenResponse",l),this.storeAccessTokenResponse(l.access_token,l.refresh_token,l.expires_in||this.fallbackAccessTokenExpirationTimeInSec,l.scope,this.extractRecognizedCustomParameters(l)),this.oidc&&l.id_token&&this.processIdToken(l.id_token,l.access_token).then(c=>{this.storeIdToken(c),a(l)}),this.eventsSubject.next(new Wi("token_received")),a(l)},l=>{this.logger.error("Error performing ${grantType} flow",l),this.eventsSubject.next(new $t("token_error",l)),o(l)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((e,i)=>{let r=new Fo({encoder:new vo}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),s=new zs().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let a=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(r=r.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(r=r.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))r=r.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,r,{headers:s}).pipe(Mt(a=>this.oidc&&a.id_token?si(this.processIdToken(a.id_token,a.access_token,!0)).pipe(kt(o=>this.storeIdToken(o)),Ne(()=>a)):ge(a))).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.eventsSubject.next(new Wi("token_received")),this.eventsSubject.next(new Wi("token_refreshed")),e(a)},a=>{this.logger.error("Error refreshing token",a),this.eventsSubject.next(new $t("token_refresh_error",a)),i(a)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=e=>{let i=this.processMessageEventMessage(e);this.checkOrigin&&e.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:i,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(r=>this.debug("tryLogin during silent refresh failed",r))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(e={},i=!0){let r=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(e.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let s=this.document.getElementById(this.silentRefreshIFrameName);s&&this.document.body.removeChild(s),this.silentRefreshSubject=r.sub;let a=this.document.createElement("iframe");a.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let o=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,o,i,e).then(d=>{a.setAttribute("src",d),this.silentRefreshShowIFrame||(a.style.display="none"),this.document.body.appendChild(a)});let l=this.events.pipe(it(d=>d instanceof $t),ln()),c=this.events.pipe(it(d=>d.type==="token_received"),ln()),u=ge(new $t("silent_refresh_timeout",null)).pipe(To(this.silentRefreshTimeout));return hw([l,c,u]).pipe(Ne(d=>{if(d instanceof $t)throw d.type==="silent_refresh_timeout"?this.eventsSubject.next(d):(d=new $t("silent_refresh_error",d),this.eventsSubject.next(d)),d;return d.type==="token_received"&&(d=new Wi("silently_refreshed"),this.eventsSubject.next(d)),d})).toPromise()}initImplicitFlowInPopup(e){return this.initLoginFlowInPopup(e)}initLoginFlowInPopup(e){return e=e||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(i=>new Promise((r,s)=>{let o=null;e.windowRef?e.windowRef&&!e.windowRef.closed&&(o=e.windowRef,o.location.href=i):o=window.open(i,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(e));let l,c=f=>{this.tryLogin({customHashFragment:f,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{d(),r(!0)},p=>{d(),s(p)})},u=()=>{(!o||o.closed)&&(d(),s(new $t("popup_closed",{})))};o?l=window.setInterval(u,500):s(new $t("popup_blocked",{}));let d=()=>{window.clearInterval(l),window.removeEventListener("storage",m),window.removeEventListener("message",h),o!==null&&o.close(),o=null},h=f=>{let p=this.processMessageEventMessage(f);p&&p!==null?(window.removeEventListener("storage",m),c(p)):console.log("false event firing")},m=f=>{f.key==="auth_hash"&&(window.removeEventListener("message",h),c(f.newValue))};window.addEventListener("message",h),window.addEventListener("storage",m)}))}calculatePopupFeatures(e){let i=e.height||470,r=e.width||500,s=window.screenLeft+(window.outerWidth-r)/2,a=window.screenTop+(window.outerHeight-i)/2;return`location=no,toolbar=no,width=${r},height=${i},top=${a},left=${s}`}processMessageEventMessage(e){let i="#";if(this.silentRefreshMessagePrefix&&(i+=this.silentRefreshMessagePrefix),!e||!e.data||typeof e.data!="string")return;let r=e.data;if(r.startsWith(i))return"#"+r.substr(i.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=e=>{let i=e.origin.toLowerCase(),r=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!r.startsWith(i)){this.debug("sessionCheckEventListener","wrong origin",i,"expected",r,"event",e);return}switch(e.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",e)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new or("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new or("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new or("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new or("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(it(e=>e.type==="silently_refreshed"||e.type==="silent_refresh_timeout"||e.type==="silent_refresh_error"),ln()).subscribe(e=>{e.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new or("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new or("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let e=this.document.getElementById(this.sessionCheckIFrameName);e&&this.document.body.removeChild(e);let i=this.document.createElement("iframe");i.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let r=this.sessionCheckIFrameUrl;i.setAttribute("src",r),i.style.display="none",this.document.body.appendChild(i),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let e=this.document.getElementById(this.sessionCheckIFrameName);e||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let i=this.getSessionState();i||this.stopSessionCheckTimer();let r=this.clientId+" "+i;e.contentWindow.postMessage(r,this.issuer)}createLoginUrl(){return Lt(this,arguments,function*(e="",i="",r="",s=!1,a={}){let o=this,l;r?l=r:l=this.redirectUri;let c=yield this.createAndSaveNonce();if(e?e=c+this.config.nonceStateSeparator+encodeURIComponent(e):e=c,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let u=o.loginUrl.indexOf("?")>-1?"&":"?",d=o.scope;this.oidc&&!d.match(/(^|\s)openid($|\s)/)&&(d="openid "+d);let h=o.loginUrl+u+"response_type="+encodeURIComponent(o.responseType)+"&client_id="+encodeURIComponent(o.clientId)+"&state="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(l)+"&scope="+encodeURIComponent(d);if(this.responseType.includes("code")&&!this.disablePKCE){let[m,f]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",f):this._storage.setItem("PKCE_verifier",f),h+="&code_challenge="+m,h+="&code_challenge_method=S256"}i&&(h+="&login_hint="+encodeURIComponent(i)),o.resource&&(h+="&resource="+encodeURIComponent(o.resource)),o.oidc&&(h+="&nonce="+encodeURIComponent(c)),s&&(h+="&prompt=none");for(let m of Object.keys(a))h+="&"+encodeURIComponent(m)+"="+encodeURIComponent(a[m]);if(this.customQueryParams)for(let m of Object.getOwnPropertyNames(this.customQueryParams))h+="&"+m+"="+encodeURIComponent(this.customQueryParams[m]);return h})}initImplicitFlowInternal(e="",i=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let r={},s=null;typeof i=="string"?s=i:typeof i=="object"&&(r=i),this.createLoginUrl(e,s,null,!1,r).then(this.config.openUri).catch(a=>{console.error("Error in initImplicitFlow",a),this.inImplicitFlow=!1})}initImplicitFlow(e="",i=""){this.loginUrl!==""?this.initImplicitFlowInternal(e,i):this.events.pipe(it(r=>r.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(e,i))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(e){let i=this;if(e.onTokenReceived){let r={idClaims:i.getIdentityClaims(),idToken:i.getIdToken(),accessToken:i.getAccessToken(),state:i.state};e.onTokenReceived(r)}}storeAccessTokenResponse(e,i,r,s,a){if(this._storage.setItem("access_token",e),s&&!Array.isArray(s)?this._storage.setItem("granted_scopes",JSON.stringify(s.split(" "))):s&&Array.isArray(s)&&this._storage.setItem("granted_scopes",JSON.stringify(s)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),r){let o=r*1e3,c=this.dateTimeService.new().getTime()+o;this._storage.setItem("expires_at",""+c)}i&&this._storage.setItem("refresh_token",i),a&&a.forEach((o,l)=>{this._storage.setItem(l,o)})}tryLogin(e=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(e).then(()=>!0):this.tryLoginImplicitFlow(e)}parseQueryString(e){return!e||e.length===0?{}:(e.charAt(0)==="?"&&(e=e.substr(1)),this.urlHelper.parseQueryString(e))}tryLoginCodeFlow(e=null){return Lt(this,null,function*(){e=e||{};let i=e.customHashFragment?e.customHashFragment.substring(1):window.location.search,r=this.getCodePartsFromUrl(i),s=r.code,a=r.state,o=r.session_state;if(!e.preventClearHashAfterLogin){let u=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,u)}let[l,c]=this.parseState(a);if(this.state=c,r.error){this.debug("error trying to login"),this.handleLoginError(e,r);let u=new $t("code_error",{},r);return this.eventsSubject.next(u),Promise.reject(u)}if(!e.disableNonceCheck){if(!l)return this.saveRequestedRoute(),Promise.resolve();if(!e.disableOAuth2StateCheck&&!this.validateNonce(l)){let d=new $t("invalid_nonce_in_state",null);return this.eventsSubject.next(d),Promise.reject(d)}}return this.storeSessionState(o),s&&(yield this.getTokenFromCode(s,e),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let e=this._storage.getItem("requested_route");e&&history.replaceState(null,"",window.location.origin+e)}getCodePartsFromUrl(e){return!e||e.length===0?this.urlHelper.getHashFragmentParams():(e.charAt(0)==="?"&&(e=e.substr(1)),this.urlHelper.parseQueryString(e))}getTokenFromCode(e,i){let r=new Fo({encoder:new vo}).set("grant_type","authorization_code").set("code",e).set("redirect_uri",i.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let s;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?s=localStorage.getItem("PKCE_verifier"):s=this._storage.getItem("PKCE_verifier"),s?r=r.set("code_verifier",s):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(r,i)}fetchAndProcessToken(e,i){i=i||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let r=new zs().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let s=btoa(`${this.clientId}:${this.dummyClientSecret}`);r=r.set("Authorization","Basic "+s)}return this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),new Promise((s,a)=>{if(this.customQueryParams)for(let o of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(o,this.customQueryParams[o]);this.http.post(this.tokenEndpoint,e,{headers:r}).subscribe(o=>{this.debug("refresh tokenResponse",o),this.storeAccessTokenResponse(o.access_token,o.refresh_token,o.expires_in||this.fallbackAccessTokenExpirationTimeInSec,o.scope,this.extractRecognizedCustomParameters(o)),this.oidc&&o.id_token?this.processIdToken(o.id_token,o.access_token,i.disableNonceCheck).then(l=>{this.storeIdToken(l),this.eventsSubject.next(new Wi("token_received")),this.eventsSubject.next(new Wi("token_refreshed")),s(o)}).catch(l=>{this.eventsSubject.next(new $t("token_validation_error",l)),console.error("Error validating tokens"),console.error(l),a(l)}):(this.eventsSubject.next(new Wi("token_received")),this.eventsSubject.next(new Wi("token_refreshed")),s(o))},o=>{console.error("Error getting token",o),this.eventsSubject.next(new $t("token_refresh_error",o)),a(o)})})}tryLoginImplicitFlow(e=null){e=e||{};let i;e.customHashFragment?i=this.urlHelper.getHashFragmentParams(e.customHashFragment):i=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",i);let r=i.state,[s,a]=this.parseState(r);if(this.state=a,i.error){this.debug("error trying to login"),this.handleLoginError(e,i);let d=new $t("token_error",{},i);return this.eventsSubject.next(d),Promise.reject(d)}let o=i.access_token,l=i.id_token,c=i.session_state,u=i.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!o||this.requestAccessToken&&!e.disableOAuth2StateCheck&&!r||this.oidc&&!l)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!c&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!e.disableNonceCheck&&!this.validateNonce(s)){let h=new $t("invalid_nonce_in_state",null);return this.eventsSubject.next(h),Promise.reject(h)}return this.requestAccessToken&&this.storeAccessTokenResponse(o,null,i.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u),this.oidc?this.processIdToken(l,o,e.disableNonceCheck).then(d=>e.validationHandler?e.validationHandler({accessToken:o,idClaims:d.idTokenClaims,idToken:d.idToken,state:r}).then(()=>d):d).then(d=>(this.storeIdToken(d),this.storeSessionState(c),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new Wi("token_received")),this.callOnTokenReceivedIfExists(e),this.inImplicitFlow=!1,!0)).catch(d=>(this.eventsSubject.next(new $t("token_validation_error",d)),this.logger.error("Error validating tokens"),this.logger.error(d),Promise.reject(d))):(this.eventsSubject.next(new Wi("token_received")),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(e),Promise.resolve(!0))}parseState(e){let i=e,r="";if(e){let s=e.indexOf(this.config.nonceStateSeparator);s>-1&&(i=e.substr(0,s),r=e.substr(s+this.config.nonceStateSeparator.length))}return[i,r]}validateNonce(e){let i;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?i=localStorage.getItem("nonce"):i=this._storage.getItem("nonce"),i!==e?(console.error("Validating access_token failed, wrong state/nonce.",i,e),!1):!0}storeIdToken(e){this._storage.setItem("id_token",e.idToken),this._storage.setItem("id_token_claims_obj",e.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+e.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(e){this._storage.setItem("session_state",e)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(e,i){e.onLoginError&&e.onLoginError(i),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(e=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?e:this.clockSkewInSec*1e3}processIdToken(e,i,r=!1){let s=e.split("."),a=this.padBase64(s[0]),o=oO(a),l=JSON.parse(o),c=this.padBase64(s[1]),u=oO(c),d=JSON.parse(u),h;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?h=localStorage.getItem("nonce"):h=this._storage.getItem("nonce"),Array.isArray(d.aud)){if(d.aud.every(w=>w!==this.clientId)){let w="Wrong audience: "+d.aud.join(",");return this.logger.warn(w),Promise.reject(w)}}else if(d.aud!==this.clientId){let w="Wrong audience: "+d.aud;return this.logger.warn(w),Promise.reject(w)}if(!d.sub){let w="No sub claim in id_token";return this.logger.warn(w),Promise.reject(w)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==d.sub){let w=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${d.sub}`;return this.logger.warn(w),Promise.reject(w)}if(!d.iat){let w="No iat claim in id_token";return this.logger.warn(w),Promise.reject(w)}if(!this.skipIssuerCheck&&d.iss!==this.issuer){let w="Wrong issuer: "+d.iss;return this.logger.warn(w),Promise.reject(w)}if(!r&&d.nonce!==h){let w="Wrong nonce: "+d.nonce;return this.logger.warn(w),Promise.reject(w)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!d.at_hash){let w="An at_hash is needed!";return this.logger.warn(w),Promise.reject(w)}let m=this.dateTimeService.now(),f=d.iat*1e3,p=d.exp*1e3,g=this.getClockSkewInMsec();if(f-g>=m||p+g-this.decreaseExpirationBySec<=m){let w="Token has expired";return console.error(w),console.error({now:m,issuedAtMSec:f,expiresAtMSec:p}),Promise.reject(w)}let y={accessToken:i,idToken:e,jwks:this.jwks,idTokenClaims:d,idTokenHeader:l,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(y).then(()=>({idToken:e,idTokenClaims:d,idTokenClaimsJson:u,idTokenHeader:l,idTokenHeaderJson:o,idTokenExpiresAt:p})):this.checkAtHash(y).then(w=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!w){let k="Wrong at_hash";return this.logger.warn(k),Promise.reject(k)}return this.checkSignature(y).then(()=>{let k=!this.disableAtHashCheck,x={idToken:e,idTokenClaims:d,idTokenClaimsJson:u,idTokenHeader:l,idTokenHeaderJson:o,idTokenExpiresAt:p};return k?this.checkAtHash(y).then(C=>{if(this.requestAccessToken&&!C){let A="Wrong at_hash";return this.logger.warn(A),Promise.reject(A)}else return x}):x})})}getIdentityClaims(){let e=this._storage.getItem("id_token_claims_obj");return e?JSON.parse(e):null}getGrantedScopes(){let e=this._storage.getItem("granted_scopes");return e?JSON.parse(e):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(e){for(;e.length%4!==0;)e+="=";return e}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let e=this._storage.getItem("expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let e=this._storage.getItem("id_token_expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(e){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(e)>=0&&this._storage.getItem(e)!==null?JSON.parse(this._storage.getItem(e)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(e={},i=""){let r=!1;typeof e=="boolean"&&(r=e,e={});let s=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(o=>this._storage.removeItem(o)),this.silentRefreshSubject=null,this.eventsSubject.next(new or("logout")),!this.logoutUrl||r)return;let a;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)a=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(s)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let o=new Fo({encoder:new vo});s&&(o=o.set("id_token_hint",s));let l=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";l&&(o=o.set("post_logout_redirect_uri",l),i&&(o=o.set("state",i)));for(let c in e)o=o.set(c,e[c]);a=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+o.toString()}this.config.openUri(a)}createAndSaveNonce(){let e=this;return this.createNonce().then(function(i){return e.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",i):e._storage.setItem("nonce",i),i})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let e=this.document.getElementById(this.silentRefreshIFrameName);e&&e.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let i=this.document.getElementById(this.sessionCheckIFrameName);i&&i.remove()}createNonce(){return new Promise(e=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=45,s="",a=typeof self>"u"?null:self.crypto||self.msCrypto;if(a){let o=new Uint8Array(r);a.getRandomValues(o),o.map||(o.map=Array.prototype.map),o=o.map(l=>i.charCodeAt(l%i.length)),s=String.fromCharCode.apply(null,o)}else for(;0<r--;)s+=i[Math.random()*i.length|0];e(lO(s))})}checkAtHash(e){return Lt(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(e){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(e="",i={}){return this.responseType==="code"?this.initCodeFlow(e,i):this.initImplicitFlow(e,i)}initCodeFlow(e="",i={}){this.loginUrl!==""?this.initCodeFlowInternal(e,i):this.events.pipe(it(r=>r.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(e,i))}initCodeFlowInternal(e="",i={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let r={},s=null;typeof i=="string"?s=i:typeof i=="object"&&(r=i),this.createLoginUrl(e,s,null,!1,r).then(this.config.openUri).catch(a=>{console.error("Error in initAuthorizationCodeFlow"),console.error(a)})}createChallangeVerifierPairForPKCE(){return Lt(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let e=yield this.createNonce(),i=yield this.crypto.calcHash(e,"sha-256");return[lO(i),e]})}extractRecognizedCustomParameters(e){let i=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(r=>{e[r]&&i.set(r,JSON.stringify(e[r]))}),i}revokeTokenAndLogout(e={},i=!1){let r=this.revocationEndpoint,s=this.getAccessToken(),a=this.getRefreshToken();if(!s)return Promise.resolve();let o=new Fo({encoder:new vo}),l=new zs().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let c=btoa(`${this.clientId}:${this.dummyClientSecret}`);l=l.set("Authorization","Basic "+c)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let c of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(c,this.customQueryParams[c]);return new Promise((c,u)=>{let d,h;if(s){let m=o.set("token",s).set("token_type_hint","access_token");d=this.http.post(r,m,{headers:l})}else d=ge(null);if(a){let m=o.set("token",a).set("token_type_hint","refresh_token");h=this.http.post(r,m,{headers:l})}else h=ge(null);i&&(d=d.pipe(Ai(m=>m.status===0?ge(null):qn(m))),h=h.pipe(Ai(m=>m.status===0?ge(null):qn(m)))),hr([d,h]).subscribe(m=>{this.logOut(e),c(m),this.logger.info("Token successfully revoked")},m=>{this.logger.error("Error revoking token",m),this.eventsSubject.next(new $t("token_revoke_error",m)),u(m)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}static{this.\u0275fac=function(i){return new(i||n)(Re(De),Re(yr),Re(A0,8),Re(I0,8),Re(fc,8),Re(cO),Re(E0),Re(D0,8),Re(Ze),Re(Qd))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),R0=class{},DC=class{handleError(t){return qn(t)}},Rq=(()=>{class n{constructor(e,i,r){this.oAuthService=e,this.errorHandler=i,this.moduleConfig=r}checkUrl(e){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(e):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(i=>e.toLowerCase().startsWith(i.toLowerCase())):!0}intercept(e,i){let r=e.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(r)?i.handle(e):this.moduleConfig.resourceServer.sendAccessToken?Kt(ge(this.oAuthService.getAccessToken()).pipe(it(a=>!!a)),this.oAuthService.events.pipe(it(a=>a.type==="token_received"),dw(this.oAuthService.waitForTokenInMsec||0),Ai(()=>ge(null)),Ne(()=>this.oAuthService.getAccessToken()))).pipe(Vt(1),yi(a=>{if(a){let o="Bearer "+a,l=e.headers.set("Authorization",o);e=e.clone({headers:l})}return i.handle(e).pipe(Ai(o=>this.errorHandler.handleError(o)))})):i.handle(e).pipe(Ai(a=>this.errorHandler.handleError(a)))}static{this.\u0275fac=function(i){return new(i||n)(Re(dO),Re(R0),Re(T0,8))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})();function Lq(){return console}function Oq(){return typeof sessionStorage<"u"?sessionStorage:new kq}function Nq(n=null,t=M0){return Sa([dO,cO,{provide:E0,useFactory:Lq},{provide:A0,useFactory:Oq},{provide:I0,useClass:t},{provide:D0,useClass:Dq},{provide:R0,useClass:DC},{provide:T0,useValue:n},{provide:Zw,useClass:Rq,multi:!0},{provide:Qd,useClass:Sq}])}var hO=(()=>{class n{static forRoot(e=null,i=M0){return{ngModule:n,providers:[Nq(e,i)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=he({type:n})}static{this.\u0275inj=de({imports:[Jr]})}}return n})();var tme=new J("AUTH_CONFIG");function mO(n){return new Be(3e3,!1)}function Fq(){return new Be(3100,!1)}function Pq(){return new Be(3101,!1)}function Uq(n){return new Be(3001,!1)}function $q(n){return new Be(3003,!1)}function Vq(n){return new Be(3004,!1)}function pO(n,t){return new Be(3005,!1)}function gO(){return new Be(3006,!1)}function _O(){return new Be(3007,!1)}function bO(n,t){return new Be(3008,!1)}function vO(n){return new Be(3002,!1)}function yO(n,t,e,i,r){return new Be(3010,!1)}function CO(){return new Be(3011,!1)}function wO(){return new Be(3012,!1)}function xO(){return new Be(3200,!1)}function SO(){return new Be(3202,!1)}function kO(){return new Be(3013,!1)}function MO(n){return new Be(3014,!1)}function TO(n){return new Be(3015,!1)}function EO(n){return new Be(3016,!1)}function AO(n,t){return new Be(3404,!1)}function Bq(n){return new Be(3502,!1)}function IO(n){return new Be(3503,!1)}function DO(){return new Be(3300,!1)}function RO(n){return new Be(3504,!1)}function LO(n){return new Be(3301,!1)}function OO(n,t){return new Be(3302,!1)}function NO(n){return new Be(3303,!1)}function FO(n,t){return new Be(3400,!1)}function PO(n){return new Be(3401,!1)}function UO(n){return new Be(3402,!1)}function $O(n,t){return new Be(3505,!1)}function Ls(n){switch(n.length){case 0:return new Kr;case 1:return n[0];default:return new bo(n)}}function NC(n,t,e=new Map,i=new Map){let r=[],s=[],a=-1,o=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==a,d=u&&o||new Map;l.forEach((h,m)=>{let f=m,p=h;if(m!=="offset")switch(f=n.normalizePropertyName(f,r),p){case cc:p=e.get(m);break;case jn:p=i.get(m);break;default:p=n.normalizeStyleValue(m,f,p,r);break}d.set(f,p)}),u||s.push(d),o=d,a=c}),r.length)throw Bq(r);return s}function L0(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&RC(e,"start",n)));break;case"done":n.onDone(()=>i(e&&RC(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&RC(e,"destroy",n)));break}}function RC(n,t,e){let i=e.totalTime,r=!!e.disabled,s=O0(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),a=n._data;return a!=null&&(s._data=a),s}function O0(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function rn(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function FC(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var zq=typeof document>"u"?null:document.documentElement;function N0(n){let t=n.parentNode||n.host||null;return t===zq?null:t}function Hq(n){return n.substring(1,6)=="ebkit"}var yo=null,fO=!1;function VO(n){yo||(yo=jq()||{},fO=yo.style?"WebkitAppearance"in yo.style:!1);let t=!0;return yo.style&&!Hq(n)&&(t=n in yo.style,!t&&fO&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in yo.style)),t}function jq(){return typeof document<"u"?document.body:null}function PC(n,t){for(;t;){if(t===n)return!0;t=N0(t)}return!1}function UC(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var Wq=1e3,$C="{{",qq="}}",VC="ng-enter",F0="ng-leave",Xd="ng-trigger",Jd=".ng-trigger",BC="ng-animating",P0=".ng-animating";function Yr(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:LC(parseFloat(t[1]),t[2])}function LC(n,t){switch(t){case"s":return n*Wq;default:return n}}function eh(n,t,e){return n.hasOwnProperty("duration")?n:Gq(n,t,e)}function Gq(n,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,a="";if(typeof n=="string"){let o=n.match(i);if(o===null)return t.push(mO(n)),{duration:0,delay:0,easing:""};r=LC(parseFloat(o[1]),o[2]);let l=o[3];l!=null&&(s=LC(parseFloat(l),o[4]));let c=o[5];c&&(a=c)}else r=n;if(!e){let o=!1,l=t.length;r<0&&(t.push(Fq()),o=!0),s<0&&(t.push(Pq()),o=!0),o&&t.splice(l,0,mO(n))}return{duration:r,delay:s,easing:a}}function BO(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function lr(n,t,e){t.forEach((i,r)=>{let s=U0(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function wa(n,t){t.forEach((e,i)=>{let r=U0(i);n.style[r]=""})}function pc(n){return Array.isArray(n)?n.length==1?n[0]:LL(n):n}function zO(n,t,e){let i=t.params||{},r=zC(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(Uq(s))})}var OC=new RegExp(`${$C}\\s*(.+?)\\s*${qq}`,"g");function zC(n){let t=[];if(typeof n=="string"){let e;for(;e=OC.exec(n);)t.push(e[1]);OC.lastIndex=0}return t}function gc(n,t,e){let i=`${n}`,r=i.replace(OC,(s,a)=>{let o=t[a];return o==null&&(e.push($q(a)),o=""),o.toString()});return r==i?n:r}var Kq=/-+([a-z0-9])/g;function U0(n){return n.replace(Kq,(...t)=>t[1].toUpperCase())}function HO(n,t){return n===0||t===0}function jO(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<t.length;s++){let a=t[s];r.forEach(o=>a.set(o,$0(n,o)))}}return t}function sn(n,t,e){switch(t.type){case Ke.Trigger:return n.visitTrigger(t,e);case Ke.State:return n.visitState(t,e);case Ke.Transition:return n.visitTransition(t,e);case Ke.Sequence:return n.visitSequence(t,e);case Ke.Group:return n.visitGroup(t,e);case Ke.Animate:return n.visitAnimate(t,e);case Ke.Keyframes:return n.visitKeyframes(t,e);case Ke.Style:return n.visitStyle(t,e);case Ke.Reference:return n.visitReference(t,e);case Ke.AnimateChild:return n.visitAnimateChild(t,e);case Ke.AnimateRef:return n.visitAnimateRef(t,e);case Ke.Query:return n.visitQuery(t,e);case Ke.Stagger:return n.visitStagger(t,e);default:throw Vq(t.type)}}function $0(n,t){return window.getComputedStyle(n)[t]}var sw=(()=>{class n{validateStyleProperty(e){return VO(e)}containsElement(e,i){return PC(e,i)}getParentElement(e){return N0(e)}query(e,i,r){return UC(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,o=[],l){return new Kr(r,s)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})(),wo=class{static NOOP=new sw},xo=class{};var Yq=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),j0=class extends xo{normalizePropertyName(t,e){return U0(t)}normalizeStyleValue(t,e,i,r){let s="",a=i.toString().trim();if(Yq.has(e)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let o=i.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&o[1].length==0&&r.push(pO(t,i))}return a+s}};var W0="*";function Qq(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>Zq(i,e,t)):e.push(n),e}function Zq(n,t,e){if(n[0]==":"){let l=Xq(n,e);if(typeof l=="function"){t.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(TO(n)),t;let r=i[1],s=i[2],a=i[3];t.push(WO(r,a));let o=r==W0&&a==W0;s[0]=="<"&&!o&&t.push(WO(a,r))}function Xq(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(EO(n)),"* => *"}}var V0=new Set(["true","1"]),B0=new Set(["false","0"]);function WO(n,t){let e=V0.has(n)||B0.has(n),i=V0.has(t)||B0.has(t);return(r,s)=>{let a=n==W0||n==r,o=t==W0||t==s;return!a&&e&&typeof r=="boolean"&&(a=r?V0.has(n):B0.has(n)),!o&&i&&typeof s=="boolean"&&(o=s?V0.has(t):B0.has(t)),a&&o}}var tN=":self",Jq=new RegExp(`s*${tN}s*,?`,"g");function iN(n,t,e,i){return new KC(n).build(t,e,i)}var qO="",KC=class{_driver;constructor(t){this._driver=t}build(t,e,i){let r=new YC(e);return this._resetContextStyleTimingState(r),sn(this,pc(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=qO,t.collectedStyles=new Map,t.collectedStyles.set(qO,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,s=[],a=[];return t.name.charAt(0)=="@"&&e.errors.push(gO()),t.definitions.forEach(o=>{if(this._resetContextStyleTimingState(e),o.type==Ke.State){let l=o,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(o.type==Ke.Transition){let l=this.visitTransition(o,e);i+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push(_O())}),{type:Ke.Trigger,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let s=new Set,a=r||{};i.styles.forEach(o=>{o instanceof Map&&o.forEach(l=>{zC(l).forEach(c=>{a.hasOwnProperty(c)||s.add(c)})})}),s.size&&e.errors.push(bO(t.name,[...s.values()]))}return{type:Ke.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=sn(this,pc(t.animation),e),r=Qq(t.expr,e.errors);return{type:Ke.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Co(t.options)}}visitSequence(t,e){return{type:Ke.Sequence,steps:t.steps.map(i=>sn(this,i,e)),options:Co(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,s=t.steps.map(a=>{e.currentTime=i;let o=sn(this,a,e);return r=Math.max(r,e.currentTime),o});return e.currentTime=r,{type:Ke.Group,steps:s,options:Co(t.options)}}visitAnimate(t,e){let i=nG(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Ca({});if(s.type==Ke.Keyframes)r=this.visitKeyframes(s,e);else{let a=t.styles,o=!1;if(!a){o=!0;let c={};i.easing&&(c.easing=i.easing),a=Ca(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(a,e);l.isEmptyStep=o,r=l}return e.currentAnimateTimings=null,{type:Ke.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let o of r)typeof o=="string"?o===jn?i.push(o):e.errors.push(vO(o)):i.push(new Map(Object.entries(o)));let s=!1,a=null;return i.forEach(o=>{if(o instanceof Map&&(o.has("easing")&&(a=o.get("easing"),o.delete("easing")),!s)){for(let l of o.values())if(l.toString().indexOf($C)>=0){s=!0;break}}}),{type:Ke.Style,styles:i,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{typeof a!="string"&&a.forEach((o,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(yO(l,u.startTime,u.endTime,s,r)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&zO(o,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:Ke.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(CO()),i;let r=1,s=0,a=[],o=!1,l=!1,c=0,u=t.steps.map(y=>{let w=this._makeStyleAst(y,e),k=w.offset!=null?w.offset:iG(w.styles),x=0;return k!=null&&(s++,x=w.offset=k),l=l||x<0||x>1,o=o||x<c,c=x,a.push(x),w});l&&e.errors.push(wO()),o&&e.errors.push(xO());let d=t.steps.length,h=0;s>0&&s<d?e.errors.push(SO()):s==0&&(h=r/(d-1));let m=d-1,f=e.currentTime,p=e.currentAnimateTimings,g=p.duration;return u.forEach((y,w)=>{let k=h>0?w==m?1:h*w:a[w],x=k*g;e.currentTime=f+p.delay+x,p.duration=x,this._validateStyleAst(y,e),y.offset=k,i.styles.push(y)}),i}visitReference(t,e){return{type:Ke.Reference,animation:sn(this,pc(t.animation),e),options:Co(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:Ke.AnimateChild,options:Co(t.options)}}visitAnimateRef(t,e){return{type:Ke.AnimateRef,animation:this.visitReference(t.animation,e),options:Co(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[s,a]=eG(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,rn(e.collectedStyles,e.currentQuerySelector,new Map);let o=sn(this,pc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Ke.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:o,originalSelector:t.selector,options:Co(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(kO());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:eh(t.timings,e.errors,!0);return{type:Ke.Stagger,animation:sn(this,pc(t.animation),e),timings:i,options:null}}};function eG(n){let t=!!n.split(/\s*,\s*/).find(e=>e==tN);return t&&(n=n.replace(Jq,"")),n=n.replace(/@\*/g,Jd).replace(/@\w+/g,e=>Jd+"-"+e.slice(1)).replace(/:animating/g,P0),[n,t]}function tG(n){return n?H({},n):null}var YC=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function iG(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function nG(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=eh(n,t).duration;return HC(s,0,"")}let e=n;if(e.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=HC(0,0,"");return s.dynamic=!0,s.strValue=e,s}let r=eh(e,t);return HC(r.duration,r.delay,r.easing)}function Co(n){return n?(n=H({},n),n.params&&(n.params=tG(n.params))):n={},n}function HC(n,t,e){return{duration:n,delay:t,easing:e}}function aw(n,t,e,i,r,s,a=null,o=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:o}}var ih=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},rG=1,sG=":enter",aG=new RegExp(sG,"g"),oG=":leave",lG=new RegExp(oG,"g");function nN(n,t,e,i,r,s=new Map,a=new Map,o,l,c=[]){return new QC().buildKeyframes(n,t,e,i,r,s,a,o,l,c)}var QC=class{buildKeyframes(t,e,i,r,s,a,o,l,c,u=[]){c=c||new ih;let d=new ZC(t,e,c,r,s,u,[]);d.options=l;let h=l.delay?Yr(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([a],null,d.errors,l),sn(this,i,d);let m=d.timelines.filter(f=>f.containsAnimation());if(m.length&&o.size){let f;for(let p=m.length-1;p>=0;p--){let g=m[p];if(g.element===e){f=g;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([o],null,d.errors,l)}return m.length?m.map(f=>f.buildKeyframes()):[aw(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let s=r?.delay;if(s){let a=typeof s=="number"?s:Yr(gc(s,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime,a=i.duration!=null?Yr(i.duration):null,o=i.delay!=null?Yr(i.delay):null;return a!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,a,o);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),sn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==Ke.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=q0);let a=Yr(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>sn(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,s=t.options&&t.options.delay?Yr(t.options.delay):0;t.steps.forEach(a=>{let o=e.createSubContext(t.options);s&&o.delayNextStep(s),sn(this,a,o),r=Math.max(r,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?gc(i,e.params,e.errors):i;return eh(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let s=t.style;s.type==Ke.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,o=e.createSubContext().currentTimeline;o.easing=i.easing,t.styles.forEach(l=>{let c=l.offset||0;o.forwardTime(c*s),o.setStyles(l.styles,l.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Yr(r.delay):0;s&&(e.previousNode.type===Ke.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=q0);let a=i,o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let l=null;o.forEach((c,u)=>{e.currentQueryIndex=u;let d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),sn(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;a=Math.max(a,h)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),o=a*(e.currentQueryTotal-1),l=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=o-l;break;case"full":l=i.currentStaggerTime;break}let u=e.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;sn(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}},q0={},ZC=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=q0;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,r,s,a,o,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=o,this.currentTimeline=l||new G0(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=Yr(i.duration)),i.delay!=null&&(r.delay=Yr(i.delay));let s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(o=>{(!e||!a.hasOwnProperty(o))&&(a[o]=gc(s[o],a,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=q0,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new XC(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let o=[];if(r&&o.push(this.element),t.length>0){t=t.replace(aG,"."+this._enterClassName),t=t.replace(lG,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,t,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),o.push(...c)}return!s&&o.length==0&&a.push(MO(e)),o}},G0=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=rG,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||jn),this._currentKeyframe.set(e,jn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let s=r&&r.params||{},a=cG(t,this._globalTimelineStyles);for(let[o,l]of a){let c=gc(l,s,i);this._pendingStyles.set(o,c),this._localTimelineStyles.has(o)||this._backFill.set(o,this._globalTimelineStyles.get(o)??jn),this._updateStyle(o,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((o,l)=>{let c=new Map([...this._backFill,...o]);c.forEach((u,d)=>{u===cc?t.add(d):u===jn&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...t.values()],a=[...e.values()];if(i){let o=r[0],l=new Map(o);o.set("offset",0),l.set("offset",1),r=[o,l]}return aw(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}},XC=class extends G0{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,r,s,a,o=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let s=[],a=i+e,o=e/a,l=new Map(t[0]);l.set("offset",0),s.push(l);let c=new Map(t[0]);c.set("offset",GO(o)),s.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let h=new Map(t[d]),m=h.get("offset"),f=e+m*i;h.set("offset",GO(f/a)),s.push(h)}i=a,e=0,r="",t=s}return aw(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function GO(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function cG(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let s of i)e.set(s,jn)}else for(let[s,a]of r)e.set(s,a)}),e}function KO(n,t,e,i,r,s,a,o,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:o,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var jC={},K0=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return uG(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,a,o,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||jC,m=o&&o.params||jC,f=this.buildStyles(i,m,d),p=l&&l.params||jC,g=this.buildStyles(r,p,d),y=new Set,w=new Map,k=new Map,x=r==="void",C={params:rN(p,h),delay:this.ast.options?.delay},A=u?[]:nN(t,e,this.ast.animation,s,a,f,g,C,c,d),T=0;return A.forEach(E=>{T=Math.max(E.duration+E.delay,T)}),d.length?KO(e,this._triggerName,i,r,x,f,g,[],[],w,k,T,d):(A.forEach(E=>{let L=E.element,S=rn(w,L,new Set);E.preStyleProps.forEach(_=>S.add(_));let v=rn(k,L,new Set);E.postStyleProps.forEach(_=>v.add(_)),L!==e&&y.add(L)}),KO(e,this._triggerName,i,r,x,f,g,A,[...y.values()],w,k,T))}};function uG(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}function rN(n,t){let e=H({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var JC=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=rN(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,o)=>{a&&(a=gc(a,r,e));let l=this.normalizer.normalizePropertyName(o,e);a=this.normalizer.normalizeStyleValue(o,l,a,e),i.set(o,a)})}),i}};function dG(n,t,e){return new ew(n,t,e)}var ew=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new JC(r.style,s,i))}),YO(this.states,"true","1"),YO(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new K0(t,r,this.states))}),this.fallbackTransition=hG(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function hG(n,t,e){let i=[(a,o)=>!0],r={type:Ke.Sequence,steps:[],options:null},s={type:Ke.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new K0(n,s,t)}function YO(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var mG=new ih,tw=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],r=[],s=iN(this._driver,e,i,r);if(i.length)throw IO(i);this._animations.set(t,s)}_buildPlayer(t,e,i){let r=t.element,s=NC(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],s=this._animations.get(t),a,o=new Map;if(s?(a=nN(this._driver,e,s,VC,F0,new Map,new Map,i,mG,r),a.forEach(u=>{let d=rn(o,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(DO()),a=[]),r.length)throw RO(r);o.forEach((u,d)=>{u.forEach((h,m)=>{u.set(m,this._driver.computeStyle(d,m,jn))})});let l=a.map(u=>{let d=o.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Ls(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw LO(t);return e}listen(t,e,i,r){let s=O0(e,"","","");return L0(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(t,e,a);return}let s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},QO="ng-animate-queued",fG=".ng-animate-queued",WC="ng-animate-disabled",pG=".ng-animate-disabled",gG="ng-star-inserted",_G=".ng-star-inserted",bG=[],sN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cr="__ng_removed",nh=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=CG(r),i){let s=t,{value:a}=s,o=lw(s,["value"]);this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},th="void",qC=new nh(th),iw=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,Wn(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw OO(i,e);if(i==null||i.length==0)throw NO(e);if(!wG(i))throw FO(i,e);let s=rn(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);let o=rn(this._engine.statesByElement,t,new Map);return o.has(e)||(Wn(t,Xd),Wn(t,Xd+"-"+e),o.set(e,qC)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(a);l>=0&&s.splice(l,1),this._triggers.has(e)||o.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw PO(t);return e}trigger(t,e,i,r=!0){let s=this._getTrigger(e),a=new rh(this.id,e,t),o=this._engine.statesByElement.get(t);o||(Wn(t,Xd),Wn(t,Xd+"-"+e),this._engine.statesByElement.set(t,o=new Map));let l=o.get(e),c=new nh(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),o.set(e,c),l||(l=qC),!(c.value===th)&&l.value===c.value){if(!kG(l.params,c.params)){let p=[],g=s.matchStyles(l.value,l.params,p),y=s.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(()=>{wa(t,g),lr(t,y)})}return}let h=rn(this._engine.playersByElement,t,[]);h.forEach(p=>{p.namespaceId==this.id&&p.triggerName==e&&p.queued&&p.destroy()});let m=s.matchTransition(l.value,c.value,t,c.params),f=!1;if(!m){if(!r)return;m=s.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:m,fromState:l,toState:c,player:a,isFallbackTransition:f}),f||(Wn(t,QO),a.onStart(()=>{_c(t,QO)})),a.onDone(()=>{let p=this.players.indexOf(a);p>=0&&this.players.splice(p,1);let g=this._engine.playersByElement.get(t);if(g){let y=g.indexOf(a);y>=0&&g.splice(y,1)}}),this.players.push(a),h.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,Jd,!0);i.forEach(r=>{if(r[cr])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let s=this._engine.statesByElement.get(t),a=new Map;if(s){let o=[];if(s.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,th,r);u&&o.push(u)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&Ls(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(s=>{let a=s.name;if(r.has(a))return;r.add(a);let l=this._triggers.get(a).fallbackTransition,c=i.get(a)||qC,u=new nh(th),d=new rh(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let s=t[cr];(!s||s===sN)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Wn(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,a=this._elementListeners.get(s);a&&a.forEach(o=>{if(o.name==i.triggerName){let l=O0(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,L0(i.player,o.phase,l,o.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let s=i.transition.ast.depCount,a=r.transition.ast.depCount;return s==0||a==0?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},nw=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new iw(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,o=this.driver.getParentElement(e);for(;o;){let l=r.get(o);if(l){let c=i.indexOf(l);i.splice(c+1,0,t),a=!0;break}o=this.driver.getParentElement(o)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}}return e}trigger(t,e,i,r){if(z0(e)){let s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!z0(e))return;let s=e[cr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){let a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Wn(t,WC)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),_c(t,WC))}removeNode(t,e,i){if(z0(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[cr]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return z0(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Jd,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,P0,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ls(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[cr];if(e&&e.setForRemoval){if(t[cr]=sN,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(WC)&&this.markElementAsDisabled(t,!1),this.driver.query(t,pG,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Wn(r,gG)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ls(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw UO(t)}_flushAnimations(t,e){let i=new ih,r=[],s=new Map,a=[],o=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(D=>{u.add(D);let O=this.driver.query(D,fG,!0);for(let N=0;N<O.length;N++)u.add(O[N])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),m=JO(h,this.collectedEnterElements),f=new Map,p=0;m.forEach((D,O)=>{let N=VC+p++;f.set(O,N),D.forEach(F=>Wn(F,N))});let g=[],y=new Set,w=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){let O=this.collectedLeaveElements[D],N=O[cr];N&&N.setForRemoval&&(g.push(O),y.add(O),N.hasAnimation?this.driver.query(O,_G,!0).forEach(F=>y.add(F)):w.add(O))}let k=new Map,x=JO(h,Array.from(y));x.forEach((D,O)=>{let N=F0+p++;k.set(O,N),D.forEach(F=>Wn(F,N))}),t.push(()=>{m.forEach((D,O)=>{let N=f.get(O);D.forEach(F=>_c(F,N))}),x.forEach((D,O)=>{let N=k.get(O);D.forEach(F=>_c(F,N))}),g.forEach(D=>{this.processLeaveNode(D)})});let C=[],A=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(e).forEach(N=>{let F=N.player,z=N.element;if(C.push(F),this.collectedEnterElements.length){let ie=z[cr];if(ie&&ie.setForMove){if(ie.previousTriggersValues&&ie.previousTriggersValues.has(N.triggerName)){let ne=ie.previousTriggersValues.get(N.triggerName),Ee=this.statesByElement.get(N.element);if(Ee&&Ee.has(N.triggerName)){let we=Ee.get(N.triggerName);we.value=ne,Ee.set(N.triggerName,we)}}F.destroy();return}}let V=!d||!this.driver.containsElement(d,z),K=k.get(z),W=f.get(z),q=this._buildInstruction(N,i,W,K,V);if(q.errors&&q.errors.length){A.push(q);return}if(V){F.onStart(()=>wa(z,q.fromStyles)),F.onDestroy(()=>lr(z,q.toStyles)),r.push(F);return}if(N.isFallbackTransition){F.onStart(()=>wa(z,q.fromStyles)),F.onDestroy(()=>lr(z,q.toStyles)),r.push(F);return}let ae=[];q.timelines.forEach(ie=>{ie.stretchStartingKeyframe=!0,this.disabledNodes.has(ie.element)||ae.push(ie)}),q.timelines=ae,i.append(z,q.timelines);let pe={instruction:q,player:F,element:z};a.push(pe),q.queriedElements.forEach(ie=>rn(o,ie,[]).push(F)),q.preStyleProps.forEach((ie,ne)=>{if(ie.size){let Ee=l.get(ne);Ee||l.set(ne,Ee=new Set),ie.forEach((we,qe)=>Ee.add(qe))}}),q.postStyleProps.forEach((ie,ne)=>{let Ee=c.get(ne);Ee||c.set(ne,Ee=new Set),ie.forEach((we,qe)=>Ee.add(qe))})});if(A.length){let D=[];A.forEach(O=>{D.push($O(O.triggerName,O.errors))}),C.forEach(O=>O.destroy()),this.reportError(D)}let T=new Map,E=new Map;a.forEach(D=>{let O=D.element;i.has(O)&&(E.set(O,O),this._beforeAnimationBuild(D.player.namespaceId,D.instruction,T))}),r.forEach(D=>{let O=D.element;this._getPreviousPlayers(O,!1,D.namespaceId,D.triggerName,null).forEach(F=>{rn(T,O,[]).push(F),F.destroy()})});let L=g.filter(D=>eN(D,l,c)),S=new Map;XO(S,this.driver,w,c,jn).forEach(D=>{eN(D,l,c)&&L.push(D)});let _=new Map;m.forEach((D,O)=>{XO(_,this.driver,new Set(D),l,cc)}),L.forEach(D=>{let O=S.get(D),N=_.get(D);S.set(D,new Map([...O?.entries()??[],...N?.entries()??[]]))});let b=[],M=[],I={};a.forEach(D=>{let{element:O,player:N,instruction:F}=D;if(i.has(O)){if(u.has(O)){N.onDestroy(()=>lr(O,F.toStyles)),N.disabled=!0,N.overrideTotalTime(F.totalTime),r.push(N);return}let z=I;if(E.size>1){let K=O,W=[];for(;K=K.parentNode;){let q=E.get(K);if(q){z=q;break}W.push(K)}W.forEach(q=>E.set(q,z))}let V=this._buildAnimation(N.namespaceId,F,T,s,_,S);if(N.setRealPlayer(V),z===I)b.push(N);else{let K=this.playersByElement.get(z);K&&K.length&&(N.parentPlayer=Ls(K)),r.push(N)}}else wa(O,F.fromStyles),N.onDestroy(()=>lr(O,F.toStyles)),M.push(N),u.has(O)&&r.push(N)}),M.forEach(D=>{let O=s.get(D.element);if(O&&O.length){let N=Ls(O);D.setRealPlayer(N)}}),r.forEach(D=>{D.parentPlayer?D.syncPlayerEvents(D.parentPlayer):D.destroy()});for(let D=0;D<g.length;D++){let O=g[D],N=O[cr];if(_c(O,F0),N&&N.hasAnimation)continue;let F=[];if(o.size){let V=o.get(O);V&&V.length&&F.push(...V);let K=this.driver.query(O,P0,!0);for(let W=0;W<K.length;W++){let q=o.get(K[W]);q&&q.length&&F.push(...q)}}let z=F.filter(V=>!V.destroyed);z.length?xG(this,O,z):this.processLeaveNode(O)}return g.length=0,b.forEach(D=>{this.players.push(D),D.onDone(()=>{D.destroy();let O=this.players.indexOf(D);this.players.splice(O,1)}),D.play()}),b}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){let o=this.playersByQueriedElement.get(t);o&&(a=o)}else{let o=this.playersByElement.get(t);if(o){let l=!s||s==th;o.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(i||r)&&(a=a.filter(o=>!(i&&i!=o.namespaceId||r&&r!=o.triggerName))),a}_beforeAnimationBuild(t,e,i){let r=e.triggerName,s=e.element,a=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,u=c!==s,d=rn(i,c,[]);this._getPreviousPlayers(c,u,a,o,e.toState).forEach(m=>{let f=m.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),m.destroy(),d.push(m)})}wa(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){let o=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(f=>{let p=f.element;u.add(p);let g=p[cr];if(g&&g.removedBeforeQueried)return new Kr(f.duration,f.delay);let y=p!==l,w=SG((i.get(p)||bG).map(T=>T.getRealPlayer())).filter(T=>{let E=T;return E.element?E.element===p:!1}),k=s.get(p),x=a.get(p),C=NC(this._normalizer,f.keyframes,k,x),A=this._buildPlayer(f,C,w);if(f.subTimeline&&r&&d.add(p),y){let T=new rh(t,o,p);T.setRealPlayer(A),c.push(T)}return A});c.forEach(f=>{rn(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>yG(this.playersByQueriedElement,f.element,f))}),u.forEach(f=>Wn(f,BC));let m=Ls(h);return m.onDestroy(()=>{u.forEach(f=>_c(f,BC)),lr(l,e.toStyles)}),d.forEach(f=>{rn(r,f,[]).push(m)}),m}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Kr(t.duration,t.delay)}},rh=class{namespaceId;triggerName;element;_player=new Kr;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>L0(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){rn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function yG(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function CG(n){return n??null}function z0(n){return n&&n.nodeType===1}function wG(n){return n=="start"||n=="done"}function ZO(n,t){let e=n.style.display;return n.style.display=t??"none",e}function XO(n,t,e,i,r){let s=[];e.forEach(l=>s.push(ZO(l)));let a=[];i.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=t.computeStyle(c,d,r);u.set(d,h),(!h||h.length==0)&&(c[cr]=vG,a.push(c))}),n.set(c,u)});let o=0;return e.forEach(l=>ZO(l,s[o++])),a}function JO(n,t){let e=new Map;if(n.forEach(o=>e.set(o,[])),t.length==0)return e;let i=1,r=new Set(t),s=new Map;function a(o){if(!o)return i;let l=s.get(o);if(l)return l;let c=o.parentNode;return e.has(c)?l=c:r.has(c)?l=i:l=a(c),s.set(o,l),l}return t.forEach(o=>{let l=a(o);l!==i&&e.get(l).push(o)}),e}function Wn(n,t){n.classList?.add(t)}function _c(n,t){n.classList?.remove(t)}function xG(n,t,e){Ls(e).onDone(()=>n.processLeaveNode(t))}function SG(n){let t=[];return aN(n,t),t}function aN(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof bo?aN(i.players,t):t.push(i)}}function kG(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}function eN(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}var bc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new nw(t.body,e,i),this._timelineEngine=new tw(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){let a=t+"-"+r,o=this._triggerCache[a];if(!o){let l=[],c=[],u=iN(this._driver,s,l,c);if(l.length)throw AO(r,l);o=dG(r,u,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[s,a]=FC(i),o=r;this._timelineEngine.command(s,e,a,o)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if(i.charAt(0)=="@"){let[a,o]=FC(i);return this._timelineEngine.listen(a,e,o,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function MG(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=GC(t[0]),t.length>1&&(i=GC(t[t.length-1]))):t instanceof Map&&(e=GC(t)),e||i?new TG(n,e,i):null}var TG=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&lr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lr(this._element,this._initialStyles),this._endStyles&&(lr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(wa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wa(this._element,this._endStyles),this._endStyles=null),lr(this._element,this._initialStyles),this._state=3)}}return n})();function GC(n){let t=null;return n.forEach((e,i)=>{EG(i)&&(t=t||new Map,t.set(i,e))}),t}function EG(n){return n==="display"||n==="position"}var Y0=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:$0(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Q0=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return PC(t,e)}getParentElement(t){return N0(t)}query(t,e,i){return UC(t,e,i)}computeStyle(t,e,i){return $0(t,e)}animate(t,e,i,r,s,a=[]){let o=r==0?"both":"forwards",l={duration:i,delay:r,fill:o};s&&(l.easing=s);let c=new Map,u=a.filter(m=>m instanceof Y0);HO(i,r)&&u.forEach(m=>{m.currentSnapshot.forEach((f,p)=>c.set(p,f))});let d=BO(e).map(m=>new Map(m));d=jO(t,d,c);let h=MG(t,d);return new Y0(t,d,l,h)}};var H0="@",oN="@.disabled",Z0=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==H0&&e==oN?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,r){return this.delegate.listen(t,e,i,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},rw=class extends Z0{factory;constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==H0?e.charAt(1)=="."&&e==oN?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,r){if(e.charAt(0)==H0){let s=AG(t),a=e.slice(1),o="";return a.charAt(0)!=H0&&([a,o]=IG(a)),this.engine.listen(this.namespaceId,s,a,o,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,i,l)})}return this.delegate.listen(t,e,i,r)}};function AG(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function IG(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var X0=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(t,e){let i="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new Z0(i,r,this.engine,d),c.set(r,u)}return u}let s=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);let o=c=>{Array.isArray(c)?c.forEach(o):this.engine.registerTrigger(s,a,t,c.name,c)};return e.data.animation.forEach(o),new rw(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[a,o]=s;a(o)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var RG=(()=>{class n extends bc{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(Re(Ze),Re(wo),Re(xo))};static \u0275prov=ee({token:n,factory:n.\u0275fac})}return n})();function LG(){return new j0}function OG(n,t,e){return new X0(n,t,e)}var cN=[{provide:xo,useFactory:LG},{provide:bc,useClass:RG},{provide:Ri,useFactory:OG,deps:[Yw,bc,De]}],NG=[{provide:wo,useClass:sw},{provide:ot,useValue:"NoopAnimations"},...cN],lN=[{provide:wo,useFactory:()=>new Q0},{provide:ot,useFactory:()=>"BrowserAnimations"},...cN],uN=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?NG:lN}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({providers:lN,imports:[kc]})}return n})();var FG=[{path:"",component:KM},{path:"mappinglanguage",component:mf},{path:"CapabilityStatement",component:xM},{path:"igs",component:aR},{path:"settings",component:PT},{path:"transform",component:uR},{path:"validate",component:aO}];function PG(n){return new sS(n,"./assets/i18n/",".json")}var dN=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=he({type:n,bootstrap:[qk]})}static{this.\u0275inj=de({providers:[rS({loader:{provide:ns,useFactory:PG,deps:[yr]}}),{provide:tx,useValue:{coreLibraryLoader:()=>import("./chunk-DOW4KWQY.js"),lineNumbersLoader:()=>import("./chunk-DEDHGZJT.js"),languages:{json:()=>import("./chunk-SQRREDYF.js"),xml:()=>import("./chunk-DY3RCVMQ.js")}}},Xw(Jw()),am,{provide:zw,useValue:window.MATCHBOX_BASE_PATH}],imports:[xE,nx,zg.forRoot(FG,{useHash:!1}),hO.forRoot(),oR,uN,PL.forRoot(),vM.forRoot()]})}}return n})();var hN={production:!0};hN.production&&void 0;Qw().bootstrapModule(dN).catch(n=>console.log(n));
